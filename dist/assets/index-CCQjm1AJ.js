function iN(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Ug(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ad={exports:{}},kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function oN(){if(zx)return kr;zx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:h,ref:d!==void 0?d:null,props:f}}return kr.Fragment=r,kr.jsx=i,kr.jsxs=i,kr}var Ux;function cN(){return Ux||(Ux=1,Ad.exports=oN()),Ad.exports}var a=cN(),Ed={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function uN(){if(qx)return Le;qx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function P(D,W,ie){this.props=D,this.context=W,this.refs=w,this.updater=ie||E}P.prototype.isReactComponent={},P.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},P.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=P.prototype;function T(D,W,ie){this.props=D,this.context=W,this.refs=w,this.updater=ie||E}var _=T.prototype=new R;_.constructor=T,S(_,P.prototype),_.isPureReactComponent=!0;var A=Array.isArray;function k(){}var U={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function se(D,W,ie){var fe=ie.ref;return{$$typeof:s,type:D,key:W,ref:fe!==void 0?fe:null,props:ie}}function H(D,W){return se(D.type,W,D.props)}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function ee(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return W[ie]})}var Y=/\/+/g;function B(D,W){return typeof D=="object"&&D!==null&&D.key!=null?ee(""+D.key):W.toString(36)}function z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,W,ie,fe,V){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var re=!1;if(D===null)re=!0;else switch(me){case"bigint":case"string":case"number":re=!0;break;case"object":switch(D.$$typeof){case s:case r:re=!0;break;case x:return re=D._init,M(re(D._payload),W,ie,fe,V)}}if(re)return V=V(D),re=fe===""?"."+B(D,0):fe,A(V)?(ie="",re!=null&&(ie=re.replace(Y,"$&/")+"/"),M(V,W,ie,"",function(xe){return xe})):V!=null&&(F(V)&&(V=H(V,ie+(V.key==null||D&&D.key===V.key?"":(""+V.key).replace(Y,"$&/")+"/")+re)),W.push(V)),1;re=0;var Me=fe===""?".":fe+":";if(A(D))for(var X=0;X<D.length;X++)fe=D[X],me=Me+B(fe,X),re+=M(fe,W,ie,me,V);else if(X=N(D),typeof X=="function")for(D=X.call(D),X=0;!(fe=D.next()).done;)fe=fe.value,me=Me+B(fe,X++),re+=M(fe,W,ie,me,V);else if(me==="object"){if(typeof D.then=="function")return M(z(D),W,ie,fe,V);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return re}function I(D,W,ie){if(D==null)return D;var fe=[],V=0;return M(D,fe,"","",function(me){return W.call(ie,me,V++)}),fe}function O(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var Q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ue={map:I,forEach:function(D,W,ie){I(D,function(){W.apply(this,arguments)},ie)},count:function(D){var W=0;return I(D,function(){W++}),W},toArray:function(D){return I(D,function(W){return W})||[]},only:function(D){if(!F(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Le.Activity=v,Le.Children=ue,Le.Component=P,Le.Fragment=i,Le.Profiler=d,Le.PureComponent=T,Le.StrictMode=o,Le.Suspense=g,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Le.__COMPILER_RUNTIME={__proto__:null,c:function(D){return U.H.useMemoCache(D)}},Le.cache=function(D){return function(){return D.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(D,W,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var fe=S({},D.props),V=D.key;if(W!=null)for(me in W.key!==void 0&&(V=""+W.key),W)!G.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(fe[me]=W[me]);var me=arguments.length-2;if(me===1)fe.children=ie;else if(1<me){for(var re=Array(me),Me=0;Me<me;Me++)re[Me]=arguments[Me+2];fe.children=re}return se(D.type,V,fe)},Le.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Le.createElement=function(D,W,ie){var fe,V={},me=null;if(W!=null)for(fe in W.key!==void 0&&(me=""+W.key),W)G.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(V[fe]=W[fe]);var re=arguments.length-2;if(re===1)V.children=ie;else if(1<re){for(var Me=Array(re),X=0;X<re;X++)Me[X]=arguments[X+2];V.children=Me}if(D&&D.defaultProps)for(fe in re=D.defaultProps,re)V[fe]===void 0&&(V[fe]=re[fe]);return se(D,me,V)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:p,render:D}},Le.isValidElement=F,Le.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:O}},Le.memo=function(D,W){return{$$typeof:m,type:D,compare:W===void 0?null:W}},Le.startTransition=function(D){var W=U.T,ie={};U.T=ie;try{var fe=D(),V=U.S;V!==null&&V(ie,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(k,Q)}catch(me){Q(me)}finally{W!==null&&ie.types!==null&&(W.types=ie.types),U.T=W}},Le.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Le.use=function(D){return U.H.use(D)},Le.useActionState=function(D,W,ie){return U.H.useActionState(D,W,ie)},Le.useCallback=function(D,W){return U.H.useCallback(D,W)},Le.useContext=function(D){return U.H.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D,W){return U.H.useDeferredValue(D,W)},Le.useEffect=function(D,W){return U.H.useEffect(D,W)},Le.useEffectEvent=function(D){return U.H.useEffectEvent(D)},Le.useId=function(){return U.H.useId()},Le.useImperativeHandle=function(D,W,ie){return U.H.useImperativeHandle(D,W,ie)},Le.useInsertionEffect=function(D,W){return U.H.useInsertionEffect(D,W)},Le.useLayoutEffect=function(D,W){return U.H.useLayoutEffect(D,W)},Le.useMemo=function(D,W){return U.H.useMemo(D,W)},Le.useOptimistic=function(D,W){return U.H.useOptimistic(D,W)},Le.useReducer=function(D,W,ie){return U.H.useReducer(D,W,ie)},Le.useRef=function(D){return U.H.useRef(D)},Le.useState=function(D){return U.H.useState(D)},Le.useSyncExternalStore=function(D,W,ie){return U.H.useSyncExternalStore(D,W,ie)},Le.useTransition=function(){return U.H.useTransition()},Le.version="19.2.3",Le}var Bx;function of(){return Bx||(Bx=1,Ed.exports=uN()),Ed.exports}var j=of();const Da=Ug(j),cf=iN({__proto__:null,default:Da},[j]);var Td={exports:{}},Pr={},Md={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function dN(){return Hx||(Hx=1,(function(s){function r(M,I){var O=M.length;M.push(I);e:for(;0<O;){var Q=O-1>>>1,ue=M[Q];if(0<d(ue,I))M[Q]=I,M[O]=ue,O=Q;else break e}}function i(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var I=M[0],O=M.pop();if(O!==I){M[0]=O;e:for(var Q=0,ue=M.length,D=ue>>>1;Q<D;){var W=2*(Q+1)-1,ie=M[W],fe=W+1,V=M[fe];if(0>d(ie,O))fe<ue&&0>d(V,ie)?(M[Q]=V,M[fe]=O,Q=fe):(M[Q]=ie,M[W]=O,Q=W);else if(fe<ue&&0>d(V,O))M[Q]=V,M[fe]=O,Q=fe;else break e}}return I}function d(M,I){var O=M.sortIndex-I.sortIndex;return O!==0?O:M.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,v=null,b=3,N=!1,E=!1,S=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(M){for(var I=i(m);I!==null;){if(I.callback===null)o(m);else if(I.startTime<=M)o(m),I.sortIndex=I.expirationTime,r(g,I);else break;I=i(m)}}function A(M){if(S=!1,_(M),!E)if(i(g)!==null)E=!0,k||(k=!0,ee());else{var I=i(m);I!==null&&z(A,I.startTime-M)}}var k=!1,U=-1,G=5,se=-1;function H(){return w?!0:!(s.unstable_now()-se<G)}function F(){if(w=!1,k){var M=s.unstable_now();se=M;var I=!0;try{e:{E=!1,S&&(S=!1,R(U),U=-1),N=!0;var O=b;try{t:{for(_(M),v=i(g);v!==null&&!(v.expirationTime>M&&H());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,b=v.priorityLevel;var ue=Q(v.expirationTime<=M);if(M=s.unstable_now(),typeof ue=="function"){v.callback=ue,_(M),I=!0;break t}v===i(g)&&o(g),_(M)}else o(g);v=i(g)}if(v!==null)I=!0;else{var D=i(m);D!==null&&z(A,D.startTime-M),I=!1}}break e}finally{v=null,b=O,N=!1}I=void 0}}finally{I?ee():k=!1}}}var ee;if(typeof T=="function")ee=function(){T(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,B=Y.port2;Y.port1.onmessage=F,ee=function(){B.postMessage(null)}}else ee=function(){P(F,0)};function z(M,I){U=P(function(){M(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(M){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var O=b;b=I;try{return M()}finally{b=O}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=b;b=M;try{return I()}finally{b=O}},s.unstable_scheduleCallback=function(M,I,O){var Q=s.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,M){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=O+ue,M={id:x++,callback:I,priorityLevel:M,startTime:O,expirationTime:ue,sortIndex:-1},O>Q?(M.sortIndex=O,r(m,M),i(g)===null&&M===i(m)&&(S?(R(U),U=-1):S=!0,z(A,O-Q))):(M.sortIndex=ue,r(g,M),E||N||(E=!0,k||(k=!0,ee()))),M},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(M){var I=b;return function(){var O=b;b=I;try{return M.apply(this,arguments)}finally{b=O}}}})(Dd)),Dd}var Fx;function fN(){return Fx||(Fx=1,Md.exports=dN()),Md.exports}var Od={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function mN(){if(Vx)return Ht;Vx=1;var s=of();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ht.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,x)},Ht.flushSync=function(g){var m=h.T,x=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=m,o.p=x,o.d.f()}},Ht.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},Ht.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Ht.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:N}):x==="script"&&o.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ht.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},Ht.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin);o.d.L(g,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ht.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},Ht.requestFormReset=function(g){o.d.r(g)},Ht.unstable_batchedUpdates=function(g,m){return g(m)},Ht.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},Ht.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var Gx;function qg(){if(Gx)return Od.exports;Gx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Od.exports=mN(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function hN(){if(Yx)return Pr;Yx=1;var s=fN(),r=of(),i=qg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return g(c),e;if(u===l)return g(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=u;else{for(var y=!1,C=c.child;C;){if(C===n){y=!0,n=c,l=u;break}if(C===l){y=!0,l=c,n=u;break}C=C.sibling}if(!y){for(C=u.child;C;){if(C===n){y=!0,n=u,l=c;break}if(C===l){y=!0,l=u,n=c;break}C=C.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function B(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case P:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case T:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:B(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return B(e(t))}catch{}}return null}var z=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},Q=[],ue=-1;function D(e){return{current:e}}function W(e){0>ue||(e.current=Q[ue],Q[ue]=null,ue--)}function ie(e,t){ue++,Q[ue]=e.current,e.current=t}var fe=D(null),V=D(null),me=D(null),re=D(null);function Me(e,t){switch(ie(me,t),ie(V,e),ie(fe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ix(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ix(t),e=ox(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(fe),ie(fe,e)}function X(){W(fe),W(V),W(me)}function xe(e){e.memoizedState!==null&&ie(re,e);var t=fe.current,n=ox(t,e.type);t!==n&&(ie(V,e),ie(fe,n))}function ve(e){V.current===e&&(W(fe),W(V)),re.current===e&&(W(re),Dr._currentValue=O)}var Te,ft;function We(e){if(Te===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||"",ft=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+e+ft}var pt=!1;function wt(e,t){if(!e||pt)return"";pt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ae){var J=ae}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(ae){J=ae}e.call(oe.prototype)}}else{try{throw Error()}catch(ae){J=ae}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ae){if(ae&&J&&typeof ae.stack=="string")return[ae.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),y=u[0],C=u[1];if(y&&C){var L=y.split(`
`),Z=C.split(`
`);for(c=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(l===L.length||c===Z.length)for(l=L.length-1,c=Z.length-1;1<=l&&0<=c&&L[l]!==Z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(L[l]!==Z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||L[l]!==Z[c]){var ne=`
`+L[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=c);break}}}finally{pt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?We(n):""}function bt(e,t){switch(e.tag){case 26:case 27:case 5:return We(e.type);case 16:return We("Lazy");case 13:return e.child!==t&&t!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return wt(e.type,!1);case 11:return wt(e.type.render,!1);case 1:return wt(e.type,!0);case 31:return We("Activity");default:return""}}function Ba(e){try{var t="",n=null;do t+=bt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Mt=Object.prototype.hasOwnProperty,Us=s.unstable_scheduleCallback,et=s.unstable_cancelCallback,nn=s.unstable_shouldYield,Wt=s.unstable_requestPaint,Xt=s.unstable_now,mc=s.unstable_getCurrentPriorityLevel,Zr=s.unstable_ImmediatePriority,Wr=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,H0=s.unstable_LowPriority,Bf=s.unstable_IdlePriority,F0=s.log,V0=s.unstable_setDisableYieldValue,Hl=null,oa=null;function Tn(e){if(typeof F0=="function"&&V0(e),oa&&typeof oa.setStrictMode=="function")try{oa.setStrictMode(Hl,e)}catch{}}var ca=Math.clz32?Math.clz32:$0,G0=Math.log,Y0=Math.LN2;function $0(e){return e>>>=0,e===0?32:31-(G0(e)/Y0|0)|0}var Jr=256,ei=262144,ti=4194304;function cs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~u,l!==0?c=cs(l):(y&=C,y!==0?c=cs(y):n||(n=C&~e,n!==0&&(c=cs(n))))):(C=l&~u,C!==0?c=cs(C):y!==0?c=cs(y):n||(n=l&~e,n!==0&&(c=cs(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Q0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function hc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function X0(e,t,n,l,c,u){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,Z=e.hiddenUpdates;for(n=y&~n;0<n;){var ne=31-ca(n),oe=1<<ne;C[ne]=0,L[ne]=-1;var J=Z[ne];if(J!==null)for(Z[ne]=null,ne=0;ne<J.length;ne++){var ae=J[ne];ae!==null&&(ae.lane&=-536870913)}n&=~oe}l!==0&&Ff(e,l,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~t))}function Ff(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ca(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Vf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ca(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function Gf(e,t){var n=t&-t;return n=(n&42)!==0?1:pc(n),(n&(e.suspendedLanes|t))!==0?0:n}function pc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yf(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Ox(e.type))}function $f(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Mn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Mn,Jt="__reactProps$"+Mn,qs="__reactContainer$"+Mn,gc="__reactEvents$"+Mn,K0="__reactListeners$"+Mn,Z0="__reactHandles$"+Mn,Qf="__reactResources$"+Mn,Gl="__reactMarker$"+Mn;function yc(e){delete e[kt],delete e[Jt],delete e[gc],delete e[K0],delete e[Z0]}function Bs(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qs]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=px(e);e!==null;){if(n=e[kt])return n;e=px(e)}return t}e=n,n=e.parentNode}return null}function Hs(e){if(e=e[kt]||e[qs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Fs(e){var t=e[Qf];return t||(t=e[Qf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Rt(e){e[Gl]=!0}var Xf=new Set,Kf={};function us(e,t){Vs(e,t),Vs(e+"Capture",t)}function Vs(e,t){for(Kf[e]=t,e=0;e<t.length;e++)Xf.add(t[e])}var W0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},Wf={};function J0(e){return Mt.call(Wf,e)?!0:Mt.call(Zf,e)?!1:W0.test(e)?Wf[e]=!0:(Zf[e]=!0,!1)}function ni(e,t,n){if(J0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function si(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function va(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ej(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,u.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vc(e){if(!e._valueTracker){var t=Jf(e)?"checked":"value";e._valueTracker=ej(e,t,""+e[t])}}function em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Jf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tj=/[\n"\\]/g;function ja(e){return e.replace(tj,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jc(e,t,n,l,c,u,y,C){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+va(t)):e.value!==""+va(t)&&(e.value=""+va(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?bc(e,y,va(t)):n!=null?bc(e,y,va(n)):l!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+va(C):e.removeAttribute("name")}function tm(e,t,n,l,c,u,y,C){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){vc(e);return}n=n!=null?""+va(n):"",t=t!=null?""+va(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),vc(e)}function bc(e,t,n){t==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Gs(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+va(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function am(e,t,n){if(t!=null&&(t=""+va(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+va(n):""}function nm(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(z(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=va(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),vc(e)}function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sm(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||aj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function lm(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&sm(e,c,l)}else for(var u in t)t.hasOwnProperty(u)&&sm(e,u,t[u])}function Nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(e){return sj.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var Sc=null;function wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $s=null,Qs=null;function rm(e){var t=Hs(e);if(t&&(e=t.stateNode)){var n=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(jc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ja(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Jt]||null;if(!c)throw Error(o(90));jc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&em(l)}break e;case"textarea":am(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}}}var Cc=!1;function im(e,t,n){if(Cc)return e(t,n);Cc=!0;try{var l=e(t);return l}finally{if(Cc=!1,($s!==null||Qs!==null)&&($i(),$s&&(t=$s,e=Qs,Qs=$s=null,rm(t),e)))for(t=0;t<e.length;t++)rm(e[t])}}function $l(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Jt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=!1;if(rn)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Ac=!1}var Dn=null,Ec=null,ii=null;function om(){if(ii)return ii;var e,t=Ec,n=t.length,l,c="value"in Dn?Dn.value:Dn.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[u-l];l++);return ii=c.slice(e,1<l?1-l:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function cm(){return!1}function ea(e){function t(n,l,c,u,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ci:cm,this.isPropagationStopped=cm,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=ea(ds),Xl=v({},ds,{view:0,detail:0}),lj=ea(Xl),Tc,Mc,Kl,di=v({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Tc=e.screenX-Kl.screenX,Mc=e.screenY-Kl.screenY):Mc=Tc=0,Kl=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Mc}}),um=ea(di),rj=v({},di,{dataTransfer:0}),ij=ea(rj),oj=v({},Xl,{relatedTarget:0}),Dc=ea(oj),cj=v({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),uj=ea(cj),dj=v({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fj=ea(dj),mj=v({},ds,{data:0}),dm=ea(mj),hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xj[e])?!!t[e]:!1}function Oc(){return gj}var yj=v({},Xl,{key:function(e){if(e.key){var t=hj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vj=ea(yj),jj=v({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=ea(jj),bj=v({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Nj=ea(bj),Sj=v({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),wj=ea(Sj),Cj=v({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aj=ea(Cj),Ej=v({},ds,{newState:0,oldState:0}),Tj=ea(Ej),Mj=[9,13,27,32],Rc=rn&&"CompositionEvent"in window,Zl=null;rn&&"documentMode"in document&&(Zl=document.documentMode);var Dj=rn&&"TextEvent"in window&&!Zl,mm=rn&&(!Rc||Zl&&8<Zl&&11>=Zl),hm=" ",pm=!1;function xm(e,t){switch(e){case"keyup":return Mj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function Oj(e,t){switch(e){case"compositionend":return gm(t);case"keypress":return t.which!==32?null:(pm=!0,hm);case"textInput":return e=t.data,e===hm&&pm?null:e;default:return null}}function Rj(e,t){if(Xs)return e==="compositionend"||!Rc&&xm(e,t)?(e=om(),ii=Ec=Dn=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mm&&t.locale!=="ko"?null:t.data;default:return null}}var _j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_j[e.type]:t==="textarea"}function vm(e,t,n,l){$s?Qs?Qs.push(l):Qs=[l]:$s=l,t=eo(t,"onChange"),0<t.length&&(n=new ui("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Wl=null,Jl=null;function kj(e){tx(e,0)}function fi(e){var t=Yl(e);if(em(t))return e}function jm(e,t){if(e==="change")return t}var bm=!1;if(rn){var _c;if(rn){var kc="oninput"in document;if(!kc){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),kc=typeof Nm.oninput=="function"}_c=kc}else _c=!1;bm=_c&&(!document.documentMode||9<document.documentMode)}function Sm(){Wl&&(Wl.detachEvent("onpropertychange",wm),Jl=Wl=null)}function wm(e){if(e.propertyName==="value"&&fi(Jl)){var t=[];vm(t,Jl,e,wc(e)),im(kj,t)}}function Pj(e,t,n){e==="focusin"?(Sm(),Wl=t,Jl=n,Wl.attachEvent("onpropertychange",wm)):e==="focusout"&&Sm()}function Lj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(Jl)}function Ij(e,t){if(e==="click")return fi(t)}function zj(e,t){if(e==="input"||e==="change")return fi(t)}function Uj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:Uj;function er(e,t){if(ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Mt.call(t,c)||!ua(e[c],t[c]))return!1}return!0}function Cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,t){var n=Cm(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cm(n)}}function Em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=li(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=li(e.document)}return t}function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qj=rn&&"documentMode"in document&&11>=document.documentMode,Ks=null,Lc=null,tr=null,Ic=!1;function Mm(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Ks==null||Ks!==li(l)||(l=Ks,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tr&&er(tr,l)||(tr=l,l=eo(Lc,"onSelect"),0<l.length&&(t=new ui("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ks)))}function fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zs={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},zc={},Dm={};rn&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ms(e){if(zc[e])return zc[e];if(!Zs[e])return e;var t=Zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dm)return zc[e]=t[n];return e}var Om=ms("animationend"),Rm=ms("animationiteration"),_m=ms("animationstart"),Bj=ms("transitionrun"),Hj=ms("transitionstart"),Fj=ms("transitioncancel"),km=ms("transitionend"),Pm=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function _a(e,t){Pm.set(e,t),us(t,[e])}var mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ba=[],Ws=0,qc=0;function hi(){for(var e=Ws,t=qc=Ws=0;t<e;){var n=ba[t];ba[t++]=null;var l=ba[t];ba[t++]=null;var c=ba[t];ba[t++]=null;var u=ba[t];if(ba[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}u!==0&&Lm(n,c,u)}}function pi(e,t,n,l){ba[Ws++]=e,ba[Ws++]=t,ba[Ws++]=n,ba[Ws++]=l,qc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bc(e,t,n,l){return pi(e,t,n,l),xi(e)}function hs(e,t){return pi(e,null,null,t),xi(e)}function Lm(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-ca(n),e=u.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),u):null}function xi(e){if(50<Sr)throw Sr=0,Ku=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Js={};function Vj(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(e,t,n,l){return new Vj(e,t,n,l)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var n=e.alternate;return n===null?(n=da(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Im(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gi(e,t,n,l,c,u){var y=0;if(l=e,typeof e=="function")Hc(e)&&(y=1);else if(typeof e=="string")y=Xb(e,n,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=da(31,n,t,c),e.elementType=se,e.lanes=u,e;case S:return ps(n.children,c,u,t);case w:y=8,c|=24;break;case P:return e=da(12,n,t,c|2),e.elementType=P,e.lanes=u,e;case A:return e=da(13,n,t,c),e.elementType=A,e.lanes=u,e;case k:return e=da(19,n,t,c),e.elementType=k,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:y=10;break e;case R:y=9;break e;case _:y=11;break e;case U:y=14;break e;case G:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=da(y,n,t,c),t.elementType=e,t.type=l,t.lanes=u,t}function ps(e,t,n,l){return e=da(7,e,l,t),e.lanes=n,e}function Fc(e,t,n){return e=da(6,e,null,t),e.lanes=n,e}function zm(e){var t=da(18,null,null,0);return t.stateNode=e,t}function Vc(e,t,n){return t=da(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Um=new WeakMap;function Na(e,t){if(typeof e=="object"&&e!==null){var n=Um.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ba(t)},Um.set(e,t),t)}return{value:e,source:t,stack:Ba(t)}}var el=[],tl=0,yi=null,ar=0,Sa=[],wa=0,On=null,Ha=1,Fa="";function cn(e,t){el[tl++]=ar,el[tl++]=yi,yi=e,ar=t}function qm(e,t,n){Sa[wa++]=Ha,Sa[wa++]=Fa,Sa[wa++]=On,On=e;var l=Ha;e=Fa;var c=32-ca(l)-1;l&=~(1<<c),n+=1;var u=32-ca(t)+c;if(30<u){var y=c-c%5;u=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ha=1<<32-ca(t)+c|n<<c|l,Fa=u+e}else Ha=1<<u|n<<c|l,Fa=e}function Gc(e){e.return!==null&&(cn(e,1),qm(e,1,0))}function Yc(e){for(;e===yi;)yi=el[--tl],el[tl]=null,ar=el[--tl],el[tl]=null;for(;e===On;)On=Sa[--wa],Sa[wa]=null,Fa=Sa[--wa],Sa[wa]=null,Ha=Sa[--wa],Sa[wa]=null}function Bm(e,t){Sa[wa++]=Ha,Sa[wa++]=Fa,Sa[wa++]=On,Ha=t.id,Fa=t.overflow,On=e}var Pt=null,mt=null,$e=!1,Rn=null,Ca=!1,$c=Error(o(519));function _n(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nr(Na(t,e)),$c}function Hm(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[kt]=e,t[Jt]=l,n){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(n=0;n<Cr.length;n++)Ve(Cr[n],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),tm(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),nm(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||lx(t.textContent,n)?(l.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),l.onScroll!=null&&Ve("scroll",t),l.onScrollEnd!=null&&Ve("scrollend",t),l.onClick!=null&&(t.onclick=ln),t=!0):t=!1,t||_n(e,!0)}function Fm(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Pt=Pt.return}}function al(e){if(e!==Pt)return!1;if(!$e)return Fm(e),$e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||dd(e.type,e.memoizedProps)),n=!n),n&&mt&&_n(e),Fm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=hx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));mt=hx(e)}else t===27?(t=mt,$n(e.type)?(e=xd,xd=null,mt=e):mt=t):mt=Pt?Ea(e.stateNode.nextSibling):null;return!0}function xs(){mt=Pt=null,$e=!1}function Qc(){var e=Rn;return e!==null&&(sa===null?sa=e:sa.push.apply(sa,e),Rn=null),e}function nr(e){Rn===null?Rn=[e]:Rn.push(e)}var Xc=D(null),gs=null,un=null;function kn(e,t,n){ie(Xc,t._currentValue),t._currentValue=n}function dn(e){e._currentValue=Xc.current,W(Xc)}function Kc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Zc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var C=u;u=c;for(var L=0;L<t.length;L++)if(C.context===t[L]){u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),Kc(u.return,n,e),l||(y=null);break e}u=C.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,u=y.alternate,u!==null&&(u.lanes|=n),Kc(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(e,t,n,l){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var C=c.type;ua(c.pendingProps.value,y.value)||(e!==null?e.push(C):e=[C])}}else if(c===re.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Dr):e=[Dr])}c=c.return}e!==null&&Zc(t,e,n,l),t.flags|=262144}function vi(e){for(e=e.firstContext;e!==null;){if(!ua(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){gs=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return Vm(gs,e)}function ji(e,t){return gs===null&&ys(e),Vm(e,t)}function Vm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},un===null){if(e===null)throw Error(o(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return n}var Gj=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Yj=s.unstable_scheduleCallback,$j=s.unstable_NormalPriority,Ct={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new Gj,data:new Map,refCount:0}}function sr(e){e.refCount--,e.refCount===0&&Yj($j,function(){e.controller.abort()})}var lr=null,Jc=0,sl=0,ll=null;function Qj(e,t){if(lr===null){var n=lr=[];Jc=0,sl=ad(),ll={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Jc++,t.then(Gm,Gm),t}function Gm(){if(--Jc===0&&lr!==null){ll!==null&&(ll.status="fulfilled");var e=lr;lr=null,sl=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xj(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Ym=M.S;M.S=function(e,t){Mp=Xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qj(e,t),Ym!==null&&Ym(e,t)};var vs=D(null);function eu(){var e=vs.current;return e!==null?e:dt.pooledCache}function bi(e,t){t===null?ie(vs,vs.current):ie(vs,t.pool)}function $m(){var e=eu();return e===null?null:{parent:Ct._currentValue,pool:e}}var rl=Error(o(460)),tu=Error(o(474)),Ni=Error(o(542)),Si={then:function(){}};function Qm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ln,ln),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zm(e),e;default:if(typeof t.status=="string")t.then(ln,ln);else{if(e=dt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zm(e),e}throw bs=t,rl}}function js(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bs=n,rl):n}}var bs=null;function Km(){if(bs===null)throw Error(o(459));var e=bs;return bs=null,e}function Zm(e){if(e===rl||e===Ni)throw Error(o(483))}var il=null,rr=0;function wi(e){var t=rr;return rr+=1,il===null&&(il=[]),Xm(il,e,t)}function ir(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ci(e,t){throw t.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wm(e){function t($,q){if(e){var K=$.deletions;K===null?($.deletions=[q],$.flags|=16):K.push(q)}}function n($,q){if(!e)return null;for(;q!==null;)t($,q),q=q.sibling;return null}function l($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function c($,q){return $=on($,q),$.index=0,$.sibling=null,$}function u($,q,K){return $.index=K,e?(K=$.alternate,K!==null?(K=K.index,K<q?($.flags|=67108866,q):K):($.flags|=67108866,q)):($.flags|=1048576,q)}function y($){return e&&$.alternate===null&&($.flags|=67108866),$}function C($,q,K,le){return q===null||q.tag!==6?(q=Fc(K,$.mode,le),q.return=$,q):(q=c(q,K),q.return=$,q)}function L($,q,K,le){var De=K.type;return De===S?ne($,q,K.props.children,le,K.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===G&&js(De)===q.type)?(q=c(q,K.props),ir(q,K),q.return=$,q):(q=gi(K.type,K.key,K.props,null,$.mode,le),ir(q,K),q.return=$,q)}function Z($,q,K,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Vc(K,$.mode,le),q.return=$,q):(q=c(q,K.children||[]),q.return=$,q)}function ne($,q,K,le,De){return q===null||q.tag!==7?(q=ps(K,$.mode,le,De),q.return=$,q):(q=c(q,K),q.return=$,q)}function oe($,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Fc(""+q,$.mode,K),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return K=gi(q.type,q.key,q.props,null,$.mode,K),ir(K,q),K.return=$,K;case E:return q=Vc(q,$.mode,K),q.return=$,q;case G:return q=js(q),oe($,q,K)}if(z(q)||ee(q))return q=ps(q,$.mode,K,null),q.return=$,q;if(typeof q.then=="function")return oe($,wi(q),K);if(q.$$typeof===T)return oe($,ji($,q),K);Ci($,q)}return null}function J($,q,K,le){var De=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return De!==null?null:C($,q,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return K.key===De?L($,q,K,le):null;case E:return K.key===De?Z($,q,K,le):null;case G:return K=js(K),J($,q,K,le)}if(z(K)||ee(K))return De!==null?null:ne($,q,K,le,null);if(typeof K.then=="function")return J($,q,wi(K),le);if(K.$$typeof===T)return J($,q,ji($,K),le);Ci($,K)}return null}function ae($,q,K,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(K)||null,C(q,$,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return $=$.get(le.key===null?K:le.key)||null,L(q,$,le,De);case E:return $=$.get(le.key===null?K:le.key)||null,Z(q,$,le,De);case G:return le=js(le),ae($,q,K,le,De)}if(z(le)||ee(le))return $=$.get(K)||null,ne(q,$,le,De,null);if(typeof le.then=="function")return ae($,q,K,wi(le),De);if(le.$$typeof===T)return ae($,q,K,ji(q,le),De);Ci(q,le)}return null}function Se($,q,K,le){for(var De=null,Ke=null,Ae=q,Ue=q=0,Ye=null;Ae!==null&&Ue<K.length;Ue++){Ae.index>Ue?(Ye=Ae,Ae=null):Ye=Ae.sibling;var Ze=J($,Ae,K[Ue],le);if(Ze===null){Ae===null&&(Ae=Ye);break}e&&Ae&&Ze.alternate===null&&t($,Ae),q=u(Ze,q,Ue),Ke===null?De=Ze:Ke.sibling=Ze,Ke=Ze,Ae=Ye}if(Ue===K.length)return n($,Ae),$e&&cn($,Ue),De;if(Ae===null){for(;Ue<K.length;Ue++)Ae=oe($,K[Ue],le),Ae!==null&&(q=u(Ae,q,Ue),Ke===null?De=Ae:Ke.sibling=Ae,Ke=Ae);return $e&&cn($,Ue),De}for(Ae=l(Ae);Ue<K.length;Ue++)Ye=ae(Ae,$,Ue,K[Ue],le),Ye!==null&&(e&&Ye.alternate!==null&&Ae.delete(Ye.key===null?Ue:Ye.key),q=u(Ye,q,Ue),Ke===null?De=Ye:Ke.sibling=Ye,Ke=Ye);return e&&Ae.forEach(function(Wn){return t($,Wn)}),$e&&cn($,Ue),De}function Oe($,q,K,le){if(K==null)throw Error(o(151));for(var De=null,Ke=null,Ae=q,Ue=q=0,Ye=null,Ze=K.next();Ae!==null&&!Ze.done;Ue++,Ze=K.next()){Ae.index>Ue?(Ye=Ae,Ae=null):Ye=Ae.sibling;var Wn=J($,Ae,Ze.value,le);if(Wn===null){Ae===null&&(Ae=Ye);break}e&&Ae&&Wn.alternate===null&&t($,Ae),q=u(Wn,q,Ue),Ke===null?De=Wn:Ke.sibling=Wn,Ke=Wn,Ae=Ye}if(Ze.done)return n($,Ae),$e&&cn($,Ue),De;if(Ae===null){for(;!Ze.done;Ue++,Ze=K.next())Ze=oe($,Ze.value,le),Ze!==null&&(q=u(Ze,q,Ue),Ke===null?De=Ze:Ke.sibling=Ze,Ke=Ze);return $e&&cn($,Ue),De}for(Ae=l(Ae);!Ze.done;Ue++,Ze=K.next())Ze=ae(Ae,$,Ue,Ze.value,le),Ze!==null&&(e&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Ue:Ze.key),q=u(Ze,q,Ue),Ke===null?De=Ze:Ke.sibling=Ze,Ke=Ze);return e&&Ae.forEach(function(rN){return t($,rN)}),$e&&cn($,Ue),De}function ut($,q,K,le){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case N:e:{for(var De=K.key;q!==null;){if(q.key===De){if(De=K.type,De===S){if(q.tag===7){n($,q.sibling),le=c(q,K.props.children),le.return=$,$=le;break e}}else if(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===G&&js(De)===q.type){n($,q.sibling),le=c(q,K.props),ir(le,K),le.return=$,$=le;break e}n($,q);break}else t($,q);q=q.sibling}K.type===S?(le=ps(K.props.children,$.mode,le,K.key),le.return=$,$=le):(le=gi(K.type,K.key,K.props,null,$.mode,le),ir(le,K),le.return=$,$=le)}return y($);case E:e:{for(De=K.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){n($,q.sibling),le=c(q,K.children||[]),le.return=$,$=le;break e}else{n($,q);break}else t($,q);q=q.sibling}le=Vc(K,$.mode,le),le.return=$,$=le}return y($);case G:return K=js(K),ut($,q,K,le)}if(z(K))return Se($,q,K,le);if(ee(K)){if(De=ee(K),typeof De!="function")throw Error(o(150));return K=De.call(K),Oe($,q,K,le)}if(typeof K.then=="function")return ut($,q,wi(K),le);if(K.$$typeof===T)return ut($,q,ji($,K),le);Ci($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(n($,q.sibling),le=c(q,K),le.return=$,$=le):(n($,q),le=Fc(K,$.mode,le),le.return=$,$=le),y($)):n($,q)}return function($,q,K,le){try{rr=0;var De=ut($,q,K,le);return il=null,De}catch(Ae){if(Ae===rl||Ae===Ni)throw Ae;var Ke=da(29,Ae,null,$.mode);return Ke.lanes=le,Ke.return=$,Ke}finally{}}}var Ns=Wm(!0),Jm=Wm(!1),Pn=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=xi(e),Lm(e,null,n),t}return pi(e,l,t,n),xi(e)}function or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Vf(e,n)}}function su(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lu=!1;function cr(){if(lu){var e=ll;if(e!==null)throw e}}function ur(e,t,n,l){lu=!1;var c=e.updateQueue;Pn=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var L=C,Z=L.next;L.next=null,y===null?u=Z:y.next=Z,y=L;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==y&&(C===null?ne.firstBaseUpdate=Z:C.next=Z,ne.lastBaseUpdate=L))}if(u!==null){var oe=c.baseState;y=0,ne=Z=L=null,C=u;do{var J=C.lane&-536870913,ae=J!==C.lane;if(ae?(Ge&J)===J:(l&J)===J){J!==0&&J===sl&&(lu=!0),ne!==null&&(ne=ne.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=e,Oe=C;J=t;var ut=n;switch(Oe.tag){case 1:if(Se=Oe.payload,typeof Se=="function"){oe=Se.call(ut,oe,J);break e}oe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Oe.payload,J=typeof Se=="function"?Se.call(ut,oe,J):Se,J==null)break e;oe=v({},oe,J);break e;case 2:Pn=!0}}J=C.callback,J!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[J]:ae.push(J))}else ae={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(Z=ne=ae,L=oe):ne=ne.next=ae,y|=J;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;ae=C,C=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ne===null&&(L=oe),c.baseState=L,c.firstBaseUpdate=Z,c.lastBaseUpdate=ne,u===null&&(c.shared.lanes=0),Hn|=y,e.lanes=y,e.memoizedState=oe}}function eh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function th(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eh(n[e],t)}var ol=D(null),Ai=D(0);function ah(e,t){e=jn,ie(Ai,e),ie(ol,t),jn=e|t.baseLanes}function ru(){ie(Ai,jn),ie(ol,ol.current)}function iu(){jn=Ai.current,W(ol),W(Ai)}var fa=D(null),Aa=null;function zn(e){var t=e.alternate;ie(Nt,Nt.current&1),ie(fa,e),Aa===null&&(t===null||ol.current!==null||t.memoizedState!==null)&&(Aa=e)}function ou(e){ie(Nt,Nt.current),ie(fa,e),Aa===null&&(Aa=e)}function nh(e){e.tag===22?(ie(Nt,Nt.current),ie(fa,e),Aa===null&&(Aa=e)):Un()}function Un(){ie(Nt,Nt.current),ie(fa,fa.current)}function ma(e){W(fa),Aa===e&&(Aa=null),W(Nt)}var Nt=D(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hd(n)||pd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fn=0,ze=null,ot=null,At=null,Ti=!1,cl=!1,Ss=!1,Mi=0,dr=0,ul=null,Kj=0;function vt(){throw Error(o(321))}function cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ua(e[n],t[n]))return!1;return!0}function uu(e,t,n,l,c,u){return fn=u,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?qh:Cu,Ss=!1,u=n(l,c),Ss=!1,cl&&(u=lh(t,n,l,c)),sh(e),u}function sh(e){M.H=hr;var t=ot!==null&&ot.next!==null;if(fn=0,At=ot=ze=null,Ti=!1,dr=0,ul=null,t)throw Error(o(300));e===null||Et||(e=e.dependencies,e!==null&&vi(e)&&(Et=!0))}function lh(e,t,n,l){ze=e;var c=0;do{if(cl&&(ul=null),dr=0,cl=!1,25<=c)throw Error(o(301));if(c+=1,At=ot=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}M.H=Bh,u=t(n,l)}while(cl);return u}function Zj(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?fr(t):t,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(ze.flags|=1024),t}function du(){var e=Mi!==0;return Mi=0,e}function fu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mu(e){if(Ti){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ti=!1}fn=0,At=ot=ze=null,cl=!1,dr=Mi=0,ul=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ze.memoizedState=At=e:At=At.next=e,At}function St(){if(ot===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=At===null?ze.memoizedState:At.next;if(t!==null)At=t,ot=e;else{if(e===null)throw ze.alternate===null?Error(o(467)):Error(o(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},At===null?ze.memoizedState=At=e:At=At.next=e}return At}function Di(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fr(e){var t=dr;return dr+=1,ul===null&&(ul=[]),e=Xm(ul,e,t),t=ze,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?qh:Cu),e}function Oi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fr(e);if(e.$$typeof===T)return Lt(e)}throw Error(o(438,String(e)))}function hu(e){var t=null,n=ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Di(),ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=H;return t.index++,n}function mn(e,t){return typeof t=="function"?t(e):t}function Ri(e){var t=St();return pu(t,ot,e)}function pu(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,u=l.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}t.baseQueue=c=u,l.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var C=y=null,L=null,Z=t,ne=!1;do{var oe=Z.lane&-536870913;if(oe!==Z.lane?(Ge&oe)===oe:(fn&oe)===oe){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),oe===sl&&(ne=!0);else if((fn&J)===J){Z=Z.next,J===sl&&(ne=!0);continue}else oe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(C=L=oe,y=u):L=L.next=oe,ze.lanes|=J,Hn|=J;oe=Z.action,Ss&&n(u,oe),u=Z.hasEagerState?Z.eagerState:n(u,oe)}else J={lane:oe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(C=L=J,y=u):L=L.next=J,ze.lanes|=oe,Hn|=oe;Z=Z.next}while(Z!==null&&Z!==t);if(L===null?y=u:L.next=C,!ua(u,e.memoizedState)&&(Et=!0,ne&&(n=ll,n!==null)))throw n;e.memoizedState=u,e.baseState=y,e.baseQueue=L,l.lastRenderedState=u}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xu(e){var t=St(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);ua(u,t.memoizedState)||(Et=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function rh(e,t,n){var l=ze,c=St(),u=$e;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!ua((ot||c).memoizedState,n);if(y&&(c.memoizedState=n,Et=!0),c=c.queue,vu(ch.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,dl(9,{destroy:void 0},oh.bind(null,l,c,n,t),null),dt===null)throw Error(o(349));u||(fn&127)!==0||ih(l,t,n)}return n}function ih(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t=Di(),ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oh(e,t,n,l){t.value=n,t.getSnapshot=l,uh(t)&&dh(e)}function ch(e,t,n){return n(function(){uh(t)&&dh(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ua(e,n)}catch{return!0}}function dh(e){var t=hs(e,2);t!==null&&la(t,e,2)}function gu(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),Ss){Tn(!0);try{n()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function fh(e,t,n,l){return e.baseState=n,pu(e,ot,typeof l=="function"?l:mn)}function Wj(e,t,n,l,c){if(Pi(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};M.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,mh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function mh(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var u=M.T,y={};M.T=y;try{var C=n(c,l),L=M.S;L!==null&&L(y,C),hh(e,t,C)}catch(Z){yu(e,t,Z)}finally{u!==null&&y.types!==null&&(u.types=y.types),M.T=u}}else try{u=n(c,l),hh(e,t,u)}catch(Z){yu(e,t,Z)}}function hh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ph(e,t,l)},function(l){return yu(e,t,l)}):ph(e,t,n)}function ph(e,t,n){t.status="fulfilled",t.value=n,xh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,mh(e,n)))}function yu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,xh(t),t=t.next;while(t!==l)}e.action=null}function xh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gh(e,t){return t}function yh(e,t){if($e){var n=dt.formState;if(n!==null){e:{var l=ze;if($e){if(mt){t:{for(var c=mt,u=Ca;c.nodeType!==8;){if(!u){c=null;break t}if(c=Ea(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){mt=Ea(c.nextSibling),l=c.data==="F!";break e}}_n(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:t},n.queue=l,n=Ih.bind(null,ze,l),l.dispatch=n,l=gu(!1),u=wu.bind(null,ze,!1,l.queue),l=Kt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=Wj.bind(null,ze,c,u,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function vh(e){var t=St();return jh(t,ot,e)}function jh(e,t,n){if(t=pu(e,t,gh)[0],e=Ri(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=fr(t)}catch(y){throw y===rl?Ni:y}else l=t;t=St();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(ze.flags|=2048,dl(9,{destroy:void 0},Jj.bind(null,c,n),null)),[l,u,e]}function Jj(e,t){e.action=t}function bh(e){var t=St(),n=ot;if(n!==null)return jh(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function dl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ze.updateQueue,t===null&&(t=Di(),ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Nh(){return St().memoizedState}function _i(e,t,n,l){var c=Kt();ze.flags|=e,c.memoizedState=dl(1|t,{destroy:void 0},n,l===void 0?null:l)}function ki(e,t,n,l){var c=St();l=l===void 0?null:l;var u=c.memoizedState.inst;ot!==null&&l!==null&&cu(l,ot.memoizedState.deps)?c.memoizedState=dl(t,u,n,l):(ze.flags|=e,c.memoizedState=dl(1|t,u,n,l))}function Sh(e,t){_i(8390656,8,e,t)}function vu(e,t){ki(2048,8,e,t)}function eb(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=Di(),ze.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function wh(e){var t=St().memoizedState;return eb({ref:t,nextImpl:e}),function(){if((Je&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ch(e,t){return ki(4,2,e,t)}function Ah(e,t){return ki(4,4,e,t)}function Eh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,n){n=n!=null?n.concat([e]):null,ki(4,4,Eh.bind(null,t,e),n)}function ju(){}function Mh(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&cu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Dh(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&cu(t,l[1]))return l[0];if(l=e(),Ss){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[l,t],l}function bu(e,t,n){return n===void 0||(fn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Op(),ze.lanes|=e,Hn|=e,n)}function Oh(e,t,n,l){return ua(n,t)?n:ol.current!==null?(e=bu(e,n,l),ua(e,t)||(Et=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(Ge&261930)===0?(Et=!0,e.memoizedState=n):(e=Op(),ze.lanes|=e,Hn|=e,t)}function Rh(e,t,n,l,c){var u=I.p;I.p=u!==0&&8>u?u:8;var y=M.T,C={};M.T=C,wu(e,!1,t,n);try{var L=c(),Z=M.S;if(Z!==null&&Z(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=Xj(L,l);mr(e,t,ne,xa(e))}else mr(e,t,l,xa(e))}catch(oe){mr(e,t,{then:function(){},status:"rejected",reason:oe},xa())}finally{I.p=u,y!==null&&C.types!==null&&(y.types=C.types),M.T=y}}function tb(){}function Nu(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=_h(e).queue;Rh(e,c,t,O,n===null?tb:function(){return kh(e),n(l)})}function _h(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:O},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kh(e){var t=_h(e);t.next===null&&(t=e.alternate.memoizedState),mr(e,t.next.queue,{},xa())}function Su(){return Lt(Dr)}function Ph(){return St().memoizedState}function Lh(){return St().memoizedState}function ab(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xa();e=Ln(n);var l=In(t,e,n);l!==null&&(la(l,t,n),or(l,t,n)),t={cache:Wc()},e.payload=t;return}t=t.return}}function nb(e,t,n){var l=xa();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pi(e)?zh(t,n):(n=Bc(e,t,n,l),n!==null&&(la(n,e,l),Uh(n,t,l)))}function Ih(e,t,n){var l=xa();mr(e,t,n,l)}function mr(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pi(e))zh(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var y=t.lastRenderedState,C=u(y,n);if(c.hasEagerState=!0,c.eagerState=C,ua(C,y))return pi(e,t,c,0),dt===null&&hi(),!1}catch{}finally{}if(n=Bc(e,t,c,l),n!==null)return la(n,e,l),Uh(n,t,l),!0}return!1}function wu(e,t,n,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pi(e)){if(t)throw Error(o(479))}else t=Bc(e,n,l,2),t!==null&&la(t,e,2)}function Pi(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function zh(e,t){cl=Ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Vf(e,n)}}var hr={readContext:Lt,use:Oi,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};hr.useEffectEvent=vt;var qh={readContext:Lt,use:Oi,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Sh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_i(4194308,4,Eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){_i(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(Ss){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var c=n(t);if(Ss){Tn(!0);try{n(t)}finally{Tn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=nb.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=gu(e);var t=e.queue,n=Ih.bind(null,ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ju,useDeferredValue:function(e,t){var n=Kt();return bu(n,e,t)},useTransition:function(){var e=gu(!1);return e=Rh.bind(null,ze,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ze,c=Kt();if($e){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),dt===null)throw Error(o(349));(Ge&127)!==0||ih(l,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,Sh(ch.bind(null,l,u,e),[e]),l.flags|=2048,dl(9,{destroy:void 0},oh.bind(null,l,u,n,t),null),n},useId:function(){var e=Kt(),t=dt.identifierPrefix;if($e){var n=Fa,l=Ha;n=(l&~(1<<32-ca(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Kj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Su,useFormState:yh,useActionState:yh,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wu.bind(null,ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:hu,useCacheRefresh:function(){return Kt().memoizedState=ab.bind(null,ze)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Je&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Cu={readContext:Lt,use:Oi,useCallback:Mh,useContext:Lt,useEffect:vu,useImperativeHandle:Th,useInsertionEffect:Ch,useLayoutEffect:Ah,useMemo:Dh,useReducer:Ri,useRef:Nh,useState:function(){return Ri(mn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=St();return Oh(n,ot.memoizedState,e,t)},useTransition:function(){var e=Ri(mn)[0],t=St().memoizedState;return[typeof e=="boolean"?e:fr(e),t]},useSyncExternalStore:rh,useId:Ph,useHostTransitionStatus:Su,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var n=St();return fh(n,ot,e,t)},useMemoCache:hu,useCacheRefresh:Lh};Cu.useEffectEvent=wh;var Bh={readContext:Lt,use:Oi,useCallback:Mh,useContext:Lt,useEffect:vu,useImperativeHandle:Th,useInsertionEffect:Ch,useLayoutEffect:Ah,useMemo:Dh,useReducer:xu,useRef:Nh,useState:function(){return xu(mn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=St();return ot===null?bu(n,e,t):Oh(n,ot.memoizedState,e,t)},useTransition:function(){var e=xu(mn)[0],t=St().memoizedState;return[typeof e=="boolean"?e:fr(e),t]},useSyncExternalStore:rh,useId:Ph,useHostTransitionStatus:Su,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var n=St();return ot!==null?fh(n,ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Lh};Bh.useEffectEvent=wh;function Au(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=xa(),c=Ln(l);c.payload=t,n!=null&&(c.callback=n),t=In(e,c,l),t!==null&&(la(t,e,l),or(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=xa(),c=Ln(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=In(e,c,l),t!==null&&(la(t,e,l),or(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xa(),l=Ln(n);l.tag=2,t!=null&&(l.callback=t),t=In(e,l,n),t!==null&&(la(t,e,n),or(t,e,n))}};function Hh(e,t,n,l,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,y):t.prototype&&t.prototype.isPureReactComponent?!er(n,l)||!er(c,u):!0}function Fh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Eu.enqueueReplaceState(t,t.state,null)}function ws(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Vh(e){mi(e)}function Gh(e){console.error(e)}function Yh(e){mi(e)}function Li(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function $h(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tu(e,t,n){return n=Ln(n),n.tag=3,n.payload={element:null},n.callback=function(){Li(e,t)},n}function Qh(e){return e=Ln(e),e.tag=3,e}function Xh(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){$h(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){$h(t,n,l),typeof c!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function sb(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&nl(t,n,c,!0),n=fa.current,n!==null){switch(n.tag){case 31:case 13:return Aa===null?Qi():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Si?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Ju(e,l,c)),!1;case 22:return n.flags|=65536,l===Si?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Ju(e,l,c)),!1}throw Error(o(435,n.tag))}return Ju(e,l,c),Qi(),!1}if($e)return t=fa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==$c&&(e=Error(o(422),{cause:l}),nr(Na(e,n)))):(l!==$c&&(t=Error(o(423),{cause:l}),nr(Na(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Na(l,n),c=Tu(e.stateNode,l,c),su(e,c),jt!==4&&(jt=2)),!1;var u=Error(o(520),{cause:l});if(u=Na(u,n),Nr===null?Nr=[u]:Nr.push(u),jt!==4&&(jt=2),t===null)return!0;l=Na(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Tu(n.stateNode,l,e),su(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Fn===null||!Fn.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Qh(c),Xh(c,e,n,l),su(n,c),!1}n=n.return}while(n!==null);return!1}var Mu=Error(o(461)),Et=!1;function It(e,t,n,l){t.child=e===null?Jm(t,null,n,l):Ns(t,e.child,n,l)}function Kh(e,t,n,l,c){n=n.render;var u=t.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return ys(t),l=uu(e,t,n,y,u,c),C=du(),e!==null&&!Et?(fu(e,t,c),hn(e,t,c)):($e&&C&&Gc(t),t.flags|=1,It(e,t,l,c),t.child)}function Zh(e,t,n,l,c){if(e===null){var u=n.type;return typeof u=="function"&&!Hc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Wh(e,t,u,l,c)):(e=gi(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Iu(e,c)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:er,n(y,l)&&e.ref===t.ref)return hn(e,t,c)}return t.flags|=1,e=on(u,l),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,n,l,c){if(e!==null){var u=e.memoizedProps;if(er(u,l)&&e.ref===t.ref)if(Et=!1,t.pendingProps=l=u,Iu(e,c))(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,hn(e,t,c)}return Du(e,t,n,l,c)}function Jh(e,t,n,l){var c=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,t.child=null;return ep(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bi(t,u!==null?u.cachePool:null),u!==null?ah(t,u):ru(),nh(t);else return l=t.lanes=536870912,ep(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(bi(t,u.cachePool),ah(t,u),Un(),t.memoizedState=null):(e!==null&&bi(t,null),ru(),Un());return It(e,t,c,n),t.child}function pr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ep(e,t,n,l,c){var u=eu();return u=u===null?null:{parent:Ct._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&bi(t,null),ru(),nh(t),e!==null&&nl(e,t,l,!0),t.childLanes=c,null}function Ii(e,t){return t=Ui({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tp(e,t,n){return Ns(t,e.child,null,n),e=Ii(t,t.pendingProps),e.flags|=2,ma(t),t.memoizedState=null,e}function lb(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($e){if(l.mode==="hidden")return e=Ii(t,l),t.lanes=536870912,pr(null,e);if(ou(t),(e=mt)?(e=mx(e,Ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:On!==null?{id:Ha,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},n=zm(e),n.return=t,t.child=n,Pt=t,mt=null)):e=null,e===null)throw _n(t);return t.lanes=536870912,null}return Ii(t,l)}var u=e.memoizedState;if(u!==null){var y=u.dehydrated;if(ou(t),c)if(t.flags&256)t.flags&=-257,t=tp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Et||nl(e,t,n,!1),c=(n&e.childLanes)!==0,Et||c){if(l=dt,l!==null&&(y=Gf(l,n),y!==0&&y!==u.retryLane))throw u.retryLane=y,hs(e,y),la(l,e,y),Mu;Qi(),t=tp(e,t,n)}else e=u.treeContext,mt=Ea(y.nextSibling),Pt=t,$e=!0,Rn=null,Ca=!1,e!==null&&Bm(t,e),t=Ii(t,l),t.flags|=4096;return t}return e=on(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Du(e,t,n,l,c){return ys(t),n=uu(e,t,n,l,void 0,c),l=du(),e!==null&&!Et?(fu(e,t,c),hn(e,t,c)):($e&&l&&Gc(t),t.flags|=1,It(e,t,n,c),t.child)}function ap(e,t,n,l,c,u){return ys(t),t.updateQueue=null,n=lh(t,l,n,c),sh(e),l=du(),e!==null&&!Et?(fu(e,t,u),hn(e,t,u)):($e&&l&&Gc(t),t.flags|=1,It(e,t,n,u),t.child)}function np(e,t,n,l,c){if(ys(t),t.stateNode===null){var u=Js,y=n.contextType;typeof y=="object"&&y!==null&&(u=Lt(y)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Eu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},au(t),y=n.contextType,u.context=typeof y=="object"&&y!==null?Lt(y):Js,u.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Au(t,n,y,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&Eu.enqueueReplaceState(u,u.state,null),ur(t,l,u,c),cr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var C=t.memoizedProps,L=ws(n,C);u.props=L;var Z=u.context,ne=n.contextType;y=Js,typeof ne=="object"&&ne!==null&&(y=Lt(ne));var oe=n.getDerivedStateFromProps;ne=typeof oe=="function"||typeof u.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,ne||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C||Z!==y)&&Fh(t,u,l,y),Pn=!1;var J=t.memoizedState;u.state=J,ur(t,l,u,c),cr(),Z=t.memoizedState,C||J!==Z||Pn?(typeof oe=="function"&&(Au(t,n,oe,l),Z=t.memoizedState),(L=Pn||Hh(t,n,L,l,J,Z,y))?(ne||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Z),u.props=l,u.state=Z,u.context=y,l=L):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,nu(e,t),y=t.memoizedProps,ne=ws(n,y),u.props=ne,oe=t.pendingProps,J=u.context,Z=n.contextType,L=Js,typeof Z=="object"&&Z!==null&&(L=Lt(Z)),C=n.getDerivedStateFromProps,(Z=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==oe||J!==L)&&Fh(t,u,l,L),Pn=!1,J=t.memoizedState,u.state=J,ur(t,l,u,c),cr();var ae=t.memoizedState;y!==oe||J!==ae||Pn||e!==null&&e.dependencies!==null&&vi(e.dependencies)?(typeof C=="function"&&(Au(t,n,C,l),ae=t.memoizedState),(ne=Pn||Hh(t,n,ne,l,J,ae,L)||e!==null&&e.dependencies!==null&&vi(e.dependencies))?(Z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,ae,L),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,ae,L)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),u.props=l,u.state=ae,u.context=L,l=ne):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,zi(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Ns(t,e.child,null,c),t.child=Ns(t,null,n,c)):It(e,t,n,c),t.memoizedState=u.state,e=t.child):e=hn(e,t,c),e}function sp(e,t,n,l){return xs(),t.flags|=256,It(e,t,n,l),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:$m()}}function _u(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=pa),e}function lp(e,t,n){var l=t.pendingProps,c=!1,u=(t.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(c?zn(t):Un(),(e=mt)?(e=mx(e,Ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:On!==null?{id:Ha,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},n=zm(e),n.return=t,t.child=n,Pt=t,mt=null)):e=null,e===null)throw _n(t);return pd(e)?t.lanes=32:t.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(Un(),c=t.mode,C=Ui({mode:"hidden",children:C},c),l=ps(l,c,n,null),C.return=t,l.return=t,C.sibling=l,t.child=C,l=t.child,l.memoizedState=Ru(n),l.childLanes=_u(e,y,n),t.memoizedState=Ou,pr(null,l)):(zn(t),ku(t,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(u)t.flags&256?(zn(t),t.flags&=-257,t=Pu(e,t,n)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),C=l.fallback,c=t.mode,l=Ui({mode:"visible",children:l.children},c),C=ps(C,c,n,null),C.flags|=2,l.return=t,C.return=t,l.sibling=C,t.child=l,Ns(t,e.child,null,n),l=t.child,l.memoizedState=Ru(n),l.childLanes=_u(e,y,n),t.memoizedState=Ou,t=pr(null,l));else if(zn(t),pd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var Z=y.dgst;y=Z,l=Error(o(419)),l.stack="",l.digest=y,nr({value:l,source:null,stack:null}),t=Pu(e,t,n)}else if(Et||nl(e,t,n,!1),y=(n&e.childLanes)!==0,Et||y){if(y=dt,y!==null&&(l=Gf(y,n),l!==0&&l!==L.retryLane))throw L.retryLane=l,hs(e,l),la(y,e,l),Mu;hd(C)||Qi(),t=Pu(e,t,n)}else hd(C)?(t.flags|=192,t.child=e.child,t=null):(e=L.treeContext,mt=Ea(C.nextSibling),Pt=t,$e=!0,Rn=null,Ca=!1,e!==null&&Bm(t,e),t=ku(t,l.children),t.flags|=4096);return t}return c?(Un(),C=l.fallback,c=t.mode,L=e.child,Z=L.sibling,l=on(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,Z!==null?C=on(Z,C):(C=ps(C,c,n,null),C.flags|=2),C.return=t,l.return=t,l.sibling=C,t.child=l,pr(null,l),l=t.child,C=e.child.memoizedState,C===null?C=Ru(n):(c=C.cachePool,c!==null?(L=Ct._currentValue,c=c.parent!==L?{parent:L,pool:L}:c):c=$m(),C={baseLanes:C.baseLanes|n,cachePool:c}),l.memoizedState=C,l.childLanes=_u(e,y,n),t.memoizedState=Ou,pr(e.child,l)):(zn(t),n=e.child,e=n.sibling,n=on(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function ku(e,t){return t=Ui({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ui(e,t){return e=da(22,e,null,t),e.lanes=0,e}function Pu(e,t,n){return Ns(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rp(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Kc(e.return,t,n)}function Lu(e,t,n,l,c,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:u}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=u)}function ip(e,t,n){var l=t.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var y=Nt.current,C=(y&2)!==0;if(C?(y=y&1|2,t.flags|=128):y&=1,ie(Nt,y),It(e,t,l,n),l=$e?ar:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rp(e,n,t);else if(e.tag===19)rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ei(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Lu(t,!1,c,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ei(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Lu(t,!0,n,null,u,l);break;case"together":Lu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(nl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Iu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vi(e)))}function rb(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),kn(t,Ct,e.memoizedState.cache),xs();break;case 27:case 5:xe(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?lp(e,t,n):(zn(t),e=hn(e,t,n),e!==null?e.sibling:null);zn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(nl(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return ip(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(Nt,Nt.current),l)break;return null;case 22:return t.lanes=0,Jh(e,t,n,t.pendingProps);case 24:kn(t,Ct,e.memoizedState.cache)}return hn(e,t,n)}function op(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!Iu(e,n)&&(t.flags&128)===0)return Et=!1,rb(e,t,n);Et=(e.flags&131072)!==0}else Et=!1,$e&&(t.flags&1048576)!==0&&qm(t,ar,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=js(t.elementType),t.type=e,typeof e=="function")Hc(e)?(l=ws(e,l),t.tag=1,t=np(null,t,e,l,n)):(t.tag=0,t=Du(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===_){t.tag=11,t=Kh(null,t,e,l,n);break e}else if(c===U){t.tag=14,t=Zh(null,t,e,l,n);break e}}throw t=B(e)||e,Error(o(306,t,""))}}return t;case 0:return Du(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ws(l,t.pendingProps),np(e,t,l,c,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;c=u.element,nu(e,t),ur(t,l,null,n);var y=t.memoizedState;if(l=y.cache,kn(t,Ct,l),l!==u.cache&&Zc(t,[Ct],n,!0),cr(),l=y.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=sp(e,t,l,n);break e}else if(l!==c){c=Na(Error(o(424)),t),nr(c),t=sp(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Ea(e.firstChild),Pt=t,$e=!0,Rn=null,Ca=!0,n=Jm(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xs(),l===c){t=hn(e,t,n);break e}It(e,t,l,n)}t=t.child}return t;case 26:return zi(e,t),e===null?(n=vx(t.type,null,t.pendingProps,null))?t.memoizedState=n:$e||(n=t.type,e=t.pendingProps,l=to(me.current).createElement(n),l[kt]=t,l[Jt]=e,zt(l,n,e),Rt(l),t.stateNode=l):t.memoizedState=vx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&$e&&(l=t.stateNode=xx(t.type,t.pendingProps,me.current),Pt=t,Ca=!0,c=mt,$n(t.type)?(xd=c,mt=Ea(l.firstChild)):mt=c),It(e,t,t.pendingProps.children,n),zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((c=l=mt)&&(l=Lb(l,t.type,t.pendingProps,Ca),l!==null?(t.stateNode=l,Pt=t,mt=Ea(l.firstChild),Ca=!1,c=!0):c=!1),c||_n(t)),xe(t),c=t.type,u=t.pendingProps,y=e!==null?e.memoizedProps:null,l=u.children,dd(c,u)?l=null:y!==null&&dd(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=uu(e,t,Zj,null,null,n),Dr._currentValue=c),zi(e,t),It(e,t,l,n),t.child;case 6:return e===null&&$e&&((e=n=mt)&&(n=Ib(n,t.pendingProps,Ca),n!==null?(t.stateNode=n,Pt=t,mt=null,e=!0):e=!1),e||_n(t)),null;case 13:return lp(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ns(t,null,l,n):It(e,t,l,n),t.child;case 11:return Kh(e,t,t.type,t.pendingProps,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,kn(t,t.type,l.value),It(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ys(t),c=Lt(c),l=l(c),t.flags|=1,It(e,t,l,n),t.child;case 14:return Zh(e,t,t.type,t.pendingProps,n);case 15:return Wh(e,t,t.type,t.pendingProps,n);case 19:return ip(e,t,n);case 31:return lb(e,t,n);case 22:return Jh(e,t,n,t.pendingProps);case 24:return ys(t),l=Lt(Ct),e===null?(c=eu(),c===null&&(c=dt,u=Wc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:l,cache:c},au(t),kn(t,Ct,c)):((e.lanes&n)!==0&&(nu(e,t),ur(t,null,null,n),cr()),c=e.memoizedState,u=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),kn(t,Ct,l)):(l=u.cache,kn(t,Ct,l),l!==c.cache&&Zc(t,[Ct],n,!0))),It(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function pn(e){e.flags|=4}function zu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Pp())e.flags|=8192;else throw bs=Si,tu}else e.flags&=-16777217}function cp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wx(t))if(Pp())e.flags|=8192;else throw bs=Si,tu}function qi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hf():536870912,e.lanes|=t,pl|=t)}function xr(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function ib(e,t,n){var l=t.pendingProps;switch(Yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dn(Ct),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(al(t)?pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qc())),ht(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(pn(t),u!==null?(ht(t),cp(t,u)):(ht(t),zu(t,c,null,l,n))):u?u!==e.memoizedState?(pn(t),ht(t),cp(t,u)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pn(t),ht(t),zu(t,c,e,l,n)),null;case 27:if(ve(t),n=me.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return ht(t),null}e=fe.current,al(t)?Hm(t):(e=xx(c,l,n),t.stateNode=e,pn(t))}return ht(t),null;case 5:if(ve(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(u=fe.current,al(t))Hm(t);else{var y=to(me.current);switch(u){case 1:u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}u[kt]=t,u[Jt]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=u;e:switch(zt(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pn(t)}}return ht(t),zu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,al(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Pt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[kt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||lx(e.nodeValue,n)),e||_n(t,!0)}else e=to(e).createTextNode(l),e[kt]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=al(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[kt]=t}else xs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ma(t),t):(ma(t),null);if((t.flags&128)!==0)throw Error(o(558))}return ht(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=al(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[kt]=t}else xs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),c=!1}else c=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ma(t),t):(ma(t),null)}return ma(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),qi(t,t.updateQueue),ht(t),null);case 4:return X(),e===null&&rd(t.stateNode.containerInfo),ht(t),null;case 10:return dn(t.type),ht(t),null;case 19:if(W(Nt),l=t.memoizedState,l===null)return ht(t),null;if(c=(t.flags&128)!==0,u=l.rendering,u===null)if(c)xr(l,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ei(e),u!==null){for(t.flags|=128,xr(l,!1),e=u.updateQueue,t.updateQueue=e,qi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Im(n,e),n=n.sibling;return ie(Nt,Nt.current&1|2),$e&&cn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Xt()>Gi&&(t.flags|=128,c=!0,xr(l,!1),t.lanes=4194304)}else{if(!c)if(e=Ei(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,qi(t,e),xr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!$e)return ht(t),null}else 2*Xt()-l.renderingStartTime>Gi&&n!==536870912&&(t.flags|=128,c=!0,xr(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xt(),e.sibling=null,n=Nt.current,ie(Nt,c?n&1|2:n&1),$e&&cn(t,l.treeForkCount),e):(ht(t),null);case 22:case 23:return ma(t),iu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&qi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&W(vs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dn(Ct),ht(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function ob(e,t){switch(Yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(Ct),X(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ve(t),null;case 31:if(t.memoizedState!==null){if(ma(t),t.alternate===null)throw Error(o(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ma(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Nt),null;case 4:return X(),null;case 10:return dn(t.type),null;case 22:case 23:return ma(t),iu(),e!==null&&W(vs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(Ct),null;case 25:return null;default:return null}}function up(e,t){switch(Yc(t),t.tag){case 3:dn(Ct),X();break;case 26:case 27:case 5:ve(t);break;case 4:X();break;case 31:t.memoizedState!==null&&ma(t);break;case 13:ma(t);break;case 19:W(Nt);break;case 10:dn(t.type);break;case 22:case 23:ma(t),iu(),e!==null&&W(vs);break;case 24:dn(Ct)}}function gr(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var u=n.create,y=n.inst;l=u(),y.destroy=l}n=n.next}while(n!==c)}}catch(C){at(t,t.return,C)}}function qn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&e)===e){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,c=t;var L=n,Z=C;try{Z()}catch(ne){at(c,L,ne)}}}l=l.next}while(l!==u)}}catch(ne){at(t,t.return,ne)}}function dp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{th(t,n)}catch(l){at(e,e.return,l)}}}function fp(e,t,n){n.props=ws(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){at(e,t,l)}}function yr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){at(e,t,c)}}function Va(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){at(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){at(e,t,c)}else n.current=null}function mp(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){at(e,e.return,c)}}function Uu(e,t,n){try{var l=e.stateNode;Db(l,e.type,n,t),l[Jt]=t}catch(c){at(e,e.return,c)}}function hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$n(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$n(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ln));else if(l!==4&&(l===27&&$n(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}function Bi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&$n(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bi(e,t,n),e=e.sibling;e!==null;)Bi(e,t,n),e=e.sibling}function pp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);zt(t,l,n),t[kt]=e,t[Jt]=n}catch(u){at(e,e.return,u)}}var xn=!1,Tt=!1,Hu=!1,xp=typeof WeakSet=="function"?WeakSet:Set,_t=null;function cb(e,t){if(e=e.containerInfo,cd=oo,e=Tm(e),Pc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,C=-1,L=-1,Z=0,ne=0,oe=e,J=null;t:for(;;){for(var ae;oe!==n||c!==0&&oe.nodeType!==3||(C=y+c),oe!==u||l!==0&&oe.nodeType!==3||(L=y+l),oe.nodeType===3&&(y+=oe.nodeValue.length),(ae=oe.firstChild)!==null;)J=oe,oe=ae;for(;;){if(oe===e)break t;if(J===n&&++Z===c&&(C=y),J===u&&++ne===l&&(L=y),(ae=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ae}n=C===-1||L===-1?null:{start:C,end:L}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:e,selectionRange:n},oo=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Se=ws(n.type,c);e=l.getSnapshotBeforeUpdate(Se,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){at(n,n.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function gp(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:yn(e,n),l&4&&gr(5,n);break;case 1:if(yn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){at(n,n.return,y)}else{var c=ws(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){at(n,n.return,y)}}l&64&&dp(n),l&512&&yr(n,n.return);break;case 3:if(yn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{th(e,t)}catch(y){at(n,n.return,y)}}break;case 27:t===null&&l&4&&pp(n);case 26:case 5:yn(e,n),t===null&&l&4&&mp(n),l&512&&yr(n,n.return);break;case 12:yn(e,n);break;case 31:yn(e,n),l&4&&jp(e,n);break;case 13:yn(e,n),l&4&&bp(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=yb.bind(null,n),zb(e,n))));break;case 22:if(l=n.memoizedState!==null||xn,!l){t=t!==null&&t.memoizedState!==null||Tt,c=xn;var u=Tt;xn=l,(Tt=t)&&!u?vn(e,n,(n.subtreeFlags&8772)!==0):yn(e,n),xn=c,Tt=u}break;case 30:break;default:yn(e,n)}}function yp(e){var t=e.alternate;t!==null&&(e.alternate=null,yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,ta=!1;function gn(e,t,n){for(n=n.child;n!==null;)vp(e,t,n),n=n.sibling}function vp(e,t,n){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 26:Tt||Va(n,t),gn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Tt||Va(n,t);var l=xt,c=ta;$n(n.type)&&(xt=n.stateNode,ta=!1),gn(e,t,n),Er(n.stateNode),xt=l,ta=c;break;case 5:Tt||Va(n,t);case 6:if(l=xt,c=ta,xt=null,gn(e,t,n),xt=l,ta=c,xt!==null)if(ta)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(u){at(n,t,u)}else try{xt.removeChild(n.stateNode)}catch(u){at(n,t,u)}break;case 18:xt!==null&&(ta?(e=xt,dx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Sl(e)):dx(xt,n.stateNode));break;case 4:l=xt,c=ta,xt=n.stateNode.containerInfo,ta=!0,gn(e,t,n),xt=l,ta=c;break;case 0:case 11:case 14:case 15:qn(2,n,t),Tt||qn(4,n,t),gn(e,t,n);break;case 1:Tt||(Va(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&fp(n,t,l)),gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:Tt=(l=Tt)||n.memoizedState!==null,gn(e,t,n),Tt=l;break;default:gn(e,t,n)}}function jp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sl(e)}catch(n){at(t,t.return,n)}}}function bp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(n){at(t,t.return,n)}}function ub(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xp),t;default:throw Error(o(435,e.tag))}}function Hi(e,t){var n=ub(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=vb.bind(null,e,l);l.then(c,c)}})}function aa(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],u=e,y=t,C=y;e:for(;C!==null;){switch(C.tag){case 27:if($n(C.type)){xt=C.stateNode,ta=!1;break e}break;case 5:xt=C.stateNode,ta=!1;break e;case 3:case 4:xt=C.stateNode.containerInfo,ta=!0;break e}C=C.return}if(xt===null)throw Error(o(160));vp(u,y,c),xt=null,ta=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Np(t,e),t=t.sibling}var ka=null;function Np(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:aa(t,e),na(e),l&4&&(qn(3,e,e.return),gr(3,e),qn(5,e,e.return));break;case 1:aa(t,e),na(e),l&512&&(Tt||n===null||Va(n,n.return)),l&64&&xn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=ka;if(aa(t,e),na(e),l&512&&(Tt||n===null||Va(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Gl]||u[kt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),zt(u,l,n),u[kt]=e,Rt(u),l=u;break e;case"link":var y=Nx("link","href",c).get(l+(n.href||""));if(y){for(var C=0;C<y.length;C++)if(u=y[C],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(C,1);break t}}u=c.createElement(l),zt(u,l,n),c.head.appendChild(u);break;case"meta":if(y=Nx("meta","content",c).get(l+(n.content||""))){for(C=0;C<y.length;C++)if(u=y[C],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(C,1);break t}}u=c.createElement(l),zt(u,l,n),c.head.appendChild(u);break;default:throw Error(o(468,l))}u[kt]=e,Rt(u),l=u}e.stateNode=l}else Sx(c,e.type,e.stateNode);else e.stateNode=bx(c,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?Sx(c,e.type,e.stateNode):bx(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,n.memoizedProps)}break;case 27:aa(t,e),na(e),l&512&&(Tt||n===null||Va(n,n.return)),n!==null&&l&4&&Uu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(aa(t,e),na(e),l&512&&(Tt||n===null||Va(n,n.return)),e.flags&32){c=e.stateNode;try{Ys(c,"")}catch(Se){at(e,e.return,Se)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Uu(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Hu=!0);break;case 6:if(aa(t,e),na(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Se){at(e,e.return,Se)}}break;case 3:if(so=null,c=ka,ka=ao(t.containerInfo),aa(t,e),ka=c,na(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(Se){at(e,e.return,Se)}Hu&&(Hu=!1,Sp(e));break;case 4:l=ka,ka=ao(e.stateNode.containerInfo),aa(t,e),na(e),ka=l;break;case 12:aa(t,e),na(e);break;case 31:aa(t,e),na(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hi(e,l)));break;case 13:aa(t,e),na(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vi=Xt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hi(e,l)));break;case 22:c=e.memoizedState!==null;var L=n!==null&&n.memoizedState!==null,Z=xn,ne=Tt;if(xn=Z||c,Tt=ne||L,aa(t,e),Tt=ne,xn=Z,na(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||L||xn||Tt||Cs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){L=n=t;try{if(u=L.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=L.stateNode;var oe=L.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){at(L,L.return,Se)}}}else if(t.tag===6){if(n===null){L=t;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(Se){at(L,L.return,Se)}}}else if(t.tag===18){if(n===null){L=t;try{var ae=L.stateNode;c?fx(ae,!0):fx(L.stateNode,!1)}catch(Se){at(L,L.return,Se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Hi(e,n))));break;case 19:aa(t,e),na(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hi(e,l)));break;case 30:break;case 21:break;default:aa(t,e),na(e)}}function na(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(hp(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=qu(e);Bi(e,u,c);break;case 5:var y=n.stateNode;n.flags&32&&(Ys(y,""),n.flags&=-33);var C=qu(e);Bi(e,C,y);break;case 3:case 4:var L=n.stateNode.containerInfo,Z=qu(e);Bu(e,Z,L);break;default:throw Error(o(161))}}catch(ne){at(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gp(e,t.alternate,t),t=t.sibling}function Cs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qn(4,t,t.return),Cs(t);break;case 1:Va(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&fp(t,t.return,n),Cs(t);break;case 27:Er(t.stateNode);case 26:case 5:Va(t,t.return),Cs(t);break;case 22:t.memoizedState===null&&Cs(t);break;case 30:Cs(t);break;default:Cs(t)}e=e.sibling}}function vn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,u=t,y=u.flags;switch(u.tag){case 0:case 11:case 15:vn(c,u,n),gr(4,u);break;case 1:if(vn(c,u,n),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){at(l,l.return,Z)}if(l=u,c=l.updateQueue,c!==null){var C=l.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)eh(L[c],C)}catch(Z){at(l,l.return,Z)}}n&&y&64&&dp(u),yr(u,u.return);break;case 27:pp(u);case 26:case 5:vn(c,u,n),n&&l===null&&y&4&&mp(u),yr(u,u.return);break;case 12:vn(c,u,n);break;case 31:vn(c,u,n),n&&y&4&&jp(c,u);break;case 13:vn(c,u,n),n&&y&4&&bp(c,u);break;case 22:u.memoizedState===null&&vn(c,u,n),yr(u,u.return);break;case 30:break;default:vn(c,u,n)}t=t.sibling}}function Fu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sr(n))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e))}function Pa(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(e,t,n,l),t=t.sibling}function wp(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Pa(e,t,n,l),c&2048&&gr(9,t);break;case 1:Pa(e,t,n,l);break;case 3:Pa(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e)));break;case 12:if(c&2048){Pa(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,y=u.id,C=u.onPostCommit;typeof C=="function"&&C(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){at(t,t.return,L)}}else Pa(e,t,n,l);break;case 31:Pa(e,t,n,l);break;case 13:Pa(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,y=t.alternate,t.memoizedState!==null?u._visibility&2?Pa(e,t,n,l):vr(e,t):u._visibility&2?Pa(e,t,n,l):(u._visibility|=2,fl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Fu(y,t);break;case 24:Pa(e,t,n,l),c&2048&&Vu(t.alternate,t);break;default:Pa(e,t,n,l)}}function fl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,y=t,C=n,L=l,Z=y.flags;switch(y.tag){case 0:case 11:case 15:fl(u,y,C,L,c),gr(8,y);break;case 23:break;case 22:var ne=y.stateNode;y.memoizedState!==null?ne._visibility&2?fl(u,y,C,L,c):vr(u,y):(ne._visibility|=2,fl(u,y,C,L,c)),c&&Z&2048&&Fu(y.alternate,y);break;case 24:fl(u,y,C,L,c),c&&Z&2048&&Vu(y.alternate,y);break;default:fl(u,y,C,L,c)}t=t.sibling}}function vr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:vr(n,l),c&2048&&Fu(l.alternate,l);break;case 24:vr(n,l),c&2048&&Vu(l.alternate,l);break;default:vr(n,l)}t=t.sibling}}var jr=8192;function ml(e,t,n){if(e.subtreeFlags&jr)for(e=e.child;e!==null;)Cp(e,t,n),e=e.sibling}function Cp(e,t,n){switch(e.tag){case 26:ml(e,t,n),e.flags&jr&&e.memoizedState!==null&&Kb(n,ka,e.memoizedState,e.memoizedProps);break;case 5:ml(e,t,n);break;case 3:case 4:var l=ka;ka=ao(e.stateNode.containerInfo),ml(e,t,n),ka=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=jr,jr=16777216,ml(e,t,n),jr=l):ml(e,t,n));break;default:ml(e,t,n)}}function Ap(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];_t=l,Tp(l,e)}Ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ep(e),e=e.sibling}function Ep(e){switch(e.tag){case 0:case 11:case 15:br(e),e.flags&2048&&qn(9,e,e.return);break;case 3:br(e);break;case 12:br(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fi(e)):br(e);break;default:br(e)}}function Fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];_t=l,Tp(l,e)}Ap(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qn(8,t,t.return),Fi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fi(t));break;default:Fi(t)}e=e.sibling}}function Tp(e,t){for(;_t!==null;){var n=_t;switch(n.tag){case 0:case 11:case 15:qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sr(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,_t=l;else e:for(n=e;_t!==null;){l=_t;var c=l.sibling,u=l.return;if(yp(l),l===n){_t=null;break e}if(c!==null){c.return=u,_t=c;break e}_t=u}}}var db={getCacheForType:function(e){var t=Lt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Lt(Ct).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,Je=0,dt=null,Fe=null,Ge=0,tt=0,ha=null,Bn=!1,hl=!1,Gu=!1,jn=0,jt=0,Hn=0,As=0,Yu=0,pa=0,pl=0,Nr=null,sa=null,$u=!1,Vi=0,Mp=0,Gi=1/0,Yi=null,Fn=null,Dt=0,Vn=null,xl=null,bn=0,Qu=0,Xu=null,Dp=null,Sr=0,Ku=null;function xa(){return(Je&2)!==0&&Ge!==0?Ge&-Ge:M.T!==null?ad():Yf()}function Op(){if(pa===0)if((Ge&536870912)===0||$e){var e=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),pa=e}else pa=536870912;return e=fa.current,e!==null&&(e.flags|=32),pa}function la(e,t,n){(e===dt&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(gl(e,0),Gn(e,Ge,pa,!1)),Vl(e,n),((Je&2)===0||e!==dt)&&(e===dt&&((Je&2)===0&&(As|=n),jt===4&&Gn(e,Ge,pa,!1)),Ga(e))}function Rp(e,t,n){if((Je&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fl(e,t),c=l?pb(e,t):Wu(e,t,!0),u=l;do{if(c===0){hl&&!l&&Gn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!mb(n)){c=Wu(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var C=e;c=Nr;var L=C.current.memoizedState.isDehydrated;if(L&&(gl(C,y).flags|=256),y=Wu(C,y,!1),y!==2){if(Gu&&!L){C.errorRecoveryDisabledLanes|=u,As|=u,c=4;break e}u=sa,sa=c,u!==null&&(sa===null?sa=u:sa.push.apply(sa,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){gl(e,0),Gn(e,t,0,!0);break}e:{switch(l=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Gn(l,t,pa,!Bn);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Vi+300-Xt(),10<c)){if(Gn(l,t,pa,!Bn),ai(l,0,!0)!==0)break e;bn=t,l.timeoutHandle=cx(_p.bind(null,l,n,sa,Yi,$u,t,pa,As,pl,Bn,u,"Throttled",-0,0),c);break e}_p(l,n,sa,Yi,$u,t,pa,As,pl,Bn,u,null,-0,0)}}break}while(!0);Ga(e)}function _p(e,t,n,l,c,u,y,C,L,Z,ne,oe,J,ae){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Cp(t,u,oe);var Se=(u&62914560)===u?Vi-Xt():(u&4194048)===u?Mp-Xt():0;if(Se=Zb(oe,Se),Se!==null){bn=u,e.cancelPendingCommit=Se(Bp.bind(null,e,t,u,n,l,c,y,C,L,ne,oe,null,J,ae)),Gn(e,u,y,!Z);return}}Bp(e,t,u,n,l,c,y,C,L)}function mb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!ua(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,n,l){t&=~Yu,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var u=31-ca(c),y=1<<u;l[u]=-1,c&=~y}n!==0&&Ff(e,n,t)}function $i(){return(Je&6)===0?(wr(0),!1):!0}function Zu(){if(Fe!==null){if(tt===0)var e=Fe.return;else e=Fe,un=gs=null,mu(e),il=null,rr=0,e=Fe;for(;e!==null;)up(e.alternate,e),e=e.return;Fe=null}}function gl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_b(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bn=0,Zu(),dt=e,Fe=n=on(e.current,null),Ge=t,tt=0,ha=null,Bn=!1,hl=Fl(e,t),Gu=!1,pl=pa=Yu=As=Hn=jt=0,sa=Nr=null,$u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ca(l),u=1<<c;t|=e[c],l&=~u}return jn=t,hi(),n}function kp(e,t){ze=null,M.H=hr,t===rl||t===Ni?(t=Km(),tt=3):t===tu?(t=Km(),tt=4):tt=t===Mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ha=t,Fe===null&&(jt=1,Li(e,Na(t,e.current)))}function Pp(){var e=fa.current;return e===null?!0:(Ge&4194048)===Ge?Aa===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Aa:!1}function Lp(){var e=M.H;return M.H=hr,e===null?hr:e}function Ip(){var e=M.A;return M.A=db,e}function Qi(){jt=4,Bn||(Ge&4194048)!==Ge&&fa.current!==null||(hl=!0),(Hn&134217727)===0&&(As&134217727)===0||dt===null||Gn(dt,Ge,pa,!1)}function Wu(e,t,n){var l=Je;Je|=2;var c=Lp(),u=Ip();(dt!==e||Ge!==t)&&(Yi=null,gl(e,t)),t=!1;var y=jt;e:do try{if(tt!==0&&Fe!==null){var C=Fe,L=ha;switch(tt){case 8:Zu(),y=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(t=!0);var Z=tt;if(tt=0,ha=null,yl(e,C,L,Z),n&&hl){y=0;break e}break;default:Z=tt,tt=0,ha=null,yl(e,C,L,Z)}}hb(),y=jt;break}catch(ne){kp(e,ne)}while(!0);return t&&e.shellSuspendCounter++,un=gs=null,Je=l,M.H=c,M.A=u,Fe===null&&(dt=null,Ge=0,hi()),y}function hb(){for(;Fe!==null;)zp(Fe)}function pb(e,t){var n=Je;Je|=2;var l=Lp(),c=Ip();dt!==e||Ge!==t?(Yi=null,Gi=Xt()+500,gl(e,t)):hl=Fl(e,t);e:do try{if(tt!==0&&Fe!==null){t=Fe;var u=ha;t:switch(tt){case 1:tt=0,ha=null,yl(e,t,u,1);break;case 2:case 9:if(Qm(u)){tt=0,ha=null,Up(t);break}t=function(){tt!==2&&tt!==9||dt!==e||(tt=7),Ga(e)},u.then(t,t);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Qm(u)?(tt=0,ha=null,Up(t)):(tt=0,ha=null,yl(e,t,u,7));break;case 5:var y=null;switch(Fe.tag){case 26:y=Fe.memoizedState;case 5:case 27:var C=Fe;if(y?wx(y):C.stateNode.complete){tt=0,ha=null;var L=C.sibling;if(L!==null)Fe=L;else{var Z=C.return;Z!==null?(Fe=Z,Xi(Z)):Fe=null}break t}}tt=0,ha=null,yl(e,t,u,5);break;case 6:tt=0,ha=null,yl(e,t,u,6);break;case 8:Zu(),jt=6;break e;default:throw Error(o(462))}}xb();break}catch(ne){kp(e,ne)}while(!0);return un=gs=null,M.H=l,M.A=c,Je=n,Fe!==null?0:(dt=null,Ge=0,hi(),jt)}function xb(){for(;Fe!==null&&!nn();)zp(Fe)}function zp(e){var t=op(e.alternate,e,jn);e.memoizedProps=e.pendingProps,t===null?Xi(e):Fe=t}function Up(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ap(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=ap(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:mu(t);default:up(n,t),t=Fe=Im(t,jn),t=op(n,t,jn)}e.memoizedProps=e.pendingProps,t===null?Xi(e):Fe=t}function yl(e,t,n,l){un=gs=null,mu(t),il=null,rr=0;var c=t.return;try{if(sb(e,c,t,n,Ge)){jt=1,Li(e,Na(n,e.current)),Fe=null;return}}catch(u){if(c!==null)throw Fe=c,u;jt=1,Li(e,Na(n,e.current)),Fe=null;return}t.flags&32768?($e||l===1?e=!0:hl||(Ge&536870912)!==0?e=!1:(Bn=e=!0,(l===2||l===9||l===3||l===6)&&(l=fa.current,l!==null&&l.tag===13&&(l.flags|=16384))),qp(t,e)):Xi(t)}function Xi(e){var t=e;do{if((t.flags&32768)!==0){qp(t,Bn);return}e=t.return;var n=ib(t.alternate,t,jn);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);jt===0&&(jt=5)}function qp(e,t){do{var n=ob(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);jt=6,Fe=null}function Bp(e,t,n,l,c,u,y,C,L){e.cancelPendingCommit=null;do Ki();while(Dt!==0);if((Je&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=qc,X0(e,n,u,y,C,L),e===dt&&(Fe=dt=null,Ge=0),xl=t,Vn=e,bn=n,Qu=u,Xu=c,Dp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jb(os,function(){return Yp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=I.p,I.p=2,y=Je,Je|=4;try{cb(e,t,n)}finally{Je=y,I.p=c,M.T=l}}Dt=1,Hp(),Fp(),Vp()}}function Hp(){if(Dt===1){Dt=0;var e=Vn,t=xl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=I.p;I.p=2;var c=Je;Je|=4;try{Np(t,e);var u=ud,y=Tm(e.containerInfo),C=u.focusedElem,L=u.selectionRange;if(y!==C&&C&&C.ownerDocument&&Em(C.ownerDocument.documentElement,C)){if(L!==null&&Pc(C)){var Z=L.start,ne=L.end;if(ne===void 0&&(ne=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ne,C.value.length);else{var oe=C.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ae=J.getSelection(),Se=C.textContent.length,Oe=Math.min(L.start,Se),ut=L.end===void 0?Oe:Math.min(L.end,Se);!ae.extend&&Oe>ut&&(y=ut,ut=Oe,Oe=y);var $=Am(C,Oe),q=Am(C,ut);if($&&q&&(ae.rangeCount!==1||ae.anchorNode!==$.node||ae.anchorOffset!==$.offset||ae.focusNode!==q.node||ae.focusOffset!==q.offset)){var K=oe.createRange();K.setStart($.node,$.offset),ae.removeAllRanges(),Oe>ut?(ae.addRange(K),ae.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),ae.addRange(K))}}}}for(oe=[],ae=C;ae=ae.parentNode;)ae.nodeType===1&&oe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var le=oe[C];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}oo=!!cd,ud=cd=null}finally{Je=c,I.p=l,M.T=n}}e.current=t,Dt=2}}function Fp(){if(Dt===2){Dt=0;var e=Vn,t=xl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=I.p;I.p=2;var c=Je;Je|=4;try{gp(e,t.alternate,t)}finally{Je=c,I.p=l,M.T=n}}Dt=3}}function Vp(){if(Dt===4||Dt===3){Dt=0,Wt();var e=Vn,t=xl,n=bn,l=Dp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,xl=Vn=null,Gp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Fn=null),xc(n),t=t.stateNode,oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(Hl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,c=I.p,I.p=2,M.T=null;try{for(var u=e.onRecoverableError,y=0;y<l.length;y++){var C=l[y];u(C.value,{componentStack:C.stack})}}finally{M.T=t,I.p=c}}(bn&3)!==0&&Ki(),Ga(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ku?Sr++:(Sr=0,Ku=e):Sr=0,wr(0)}}function Gp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sr(t)))}function Ki(){return Hp(),Fp(),Vp(),Yp()}function Yp(){if(Dt!==5)return!1;var e=Vn,t=Qu;Qu=0;var n=xc(bn),l=M.T,c=I.p;try{I.p=32>n?32:n,M.T=null,n=Xu,Xu=null;var u=Vn,y=bn;if(Dt=0,xl=Vn=null,bn=0,(Je&6)!==0)throw Error(o(331));var C=Je;if(Je|=4,Ep(u.current),wp(u,u.current,y,n),Je=C,wr(0,!1),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(Hl,u)}catch{}return!0}finally{I.p=c,M.T=l,Gp(e,t)}}function $p(e,t,n){t=Na(n,t),t=Tu(e.stateNode,t,2),e=In(e,t,2),e!==null&&(Vl(e,2),Ga(e))}function at(e,t,n){if(e.tag===3)$p(e,e,n);else for(;t!==null;){if(t.tag===3){$p(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fn===null||!Fn.has(l))){e=Na(n,e),n=Qh(2),l=In(t,n,2),l!==null&&(Xh(n,l,t,e),Vl(l,2),Ga(l));break}}t=t.return}}function Ju(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new fb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Gu=!0,c.add(n),e=gb.bind(null,e,t,n),t.then(e,e))}function gb(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,dt===e&&(Ge&n)===n&&(jt===4||jt===3&&(Ge&62914560)===Ge&&300>Xt()-Vi?(Je&2)===0&&gl(e,0):Yu|=n,pl===Ge&&(pl=0)),Ga(e)}function Qp(e,t){t===0&&(t=Hf()),e=hs(e,t),e!==null&&(Vl(e,t),Ga(e))}function yb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qp(e,n)}function vb(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Qp(e,n)}function jb(e,t){return Us(e,t)}var Zi=null,vl=null,ed=!1,Wi=!1,td=!1,Yn=0;function Ga(e){e!==vl&&e.next===null&&(vl===null?Zi=vl=e:vl=vl.next=e),Wi=!0,ed||(ed=!0,Nb())}function wr(e,t){if(!td&&Wi){td=!0;do for(var n=!1,l=Zi;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var y=l.suspendedLanes,C=l.pingedLanes;u=(1<<31-ca(42|e)+1)-1,u&=c&~(y&~C),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Wp(l,u))}else u=Ge,u=ai(l,l===dt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Fl(l,u)||(n=!0,Wp(l,u));l=l.next}while(n);td=!1}}function bb(){Xp()}function Xp(){Wi=ed=!1;var e=0;Yn!==0&&Rb()&&(e=Yn);for(var t=Xt(),n=null,l=Zi;l!==null;){var c=l.next,u=Kp(l,t);u===0?(l.next=null,n===null?Zi=c:n.next=c,c===null&&(vl=n)):(n=l,(e!==0||(u&3)!==0)&&(Wi=!0)),l=c}Dt!==0&&Dt!==5||wr(e),Yn!==0&&(Yn=0)}function Kp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-ca(u),C=1<<y,L=c[y];L===-1?((C&n)===0||(C&l)!==0)&&(c[y]=Q0(C,t)):L<=t&&(e.expiredLanes|=C),u&=~C}if(t=dt,n=Ge,n=ai(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&et(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&et(l),xc(n)){case 2:case 8:n=Wr;break;case 32:n=os;break;case 268435456:n=Bf;break;default:n=os}return l=Zp.bind(null,e),n=Us(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&et(l),e.callbackPriority=2,e.callbackNode=null,2}function Zp(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ki()&&e.callbackNode!==n)return null;var l=Ge;return l=ai(e,e===dt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Rp(e,l,t),Kp(e,Xt()),e.callbackNode!=null&&e.callbackNode===n?Zp.bind(null,e):null)}function Wp(e,t){if(Ki())return null;Rp(e,t,!0)}function Nb(){kb(function(){(Je&6)!==0?Us(Zr,bb):Xp()})}function ad(){if(Yn===0){var e=sl;e===0&&(e=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),Yn=e}return Yn}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ri(""+e)}function ex(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Sb(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var u=Jp((c[Jt]||null).action),y=l.submitter;y&&(t=(t=y[Jt]||null)?Jp(t.formAction):y.getAttribute("formAction"),t!==null&&(u=t,y=null));var C=new ui("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yn!==0){var L=y?ex(c,y):new FormData(c);Nu(n,{pending:!0,data:L,method:c.method,action:u},null,L)}}else typeof u=="function"&&(C.preventDefault(),L=y?ex(c,y):new FormData(c),Nu(n,{pending:!0,data:L,method:c.method,action:u},u,L))},currentTarget:c}]})}}for(var nd=0;nd<Uc.length;nd++){var sd=Uc[nd],wb=sd.toLowerCase(),Cb=sd[0].toUpperCase()+sd.slice(1);_a(wb,"on"+Cb)}_a(Om,"onAnimationEnd"),_a(Rm,"onAnimationIteration"),_a(_m,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(Bj,"onTransitionRun"),_a(Hj,"onTransitionStart"),_a(Fj,"onTransitionCancel"),_a(km,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cr));function tx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var y=l.length-1;0<=y;y--){var C=l[y],L=C.instance,Z=C.currentTarget;if(C=C.listener,L!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(ne){mi(ne)}c.currentTarget=null,u=L}else for(y=0;y<l.length;y++){if(C=l[y],L=C.instance,Z=C.currentTarget,C=C.listener,L!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(ne){mi(ne)}c.currentTarget=null,u=L}}}}function Ve(e,t){var n=t[gc];n===void 0&&(n=t[gc]=new Set);var l=e+"__bubble";n.has(l)||(ax(t,e,2,!1),n.add(l))}function ld(e,t,n){var l=0;t&&(l|=4),ax(n,e,l,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[Ji]){e[Ji]=!0,Xf.forEach(function(n){n!=="selectionchange"&&(Ab.has(n)||ld(n,!1,e),ld(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,ld("selectionchange",!1,t))}}function ax(e,t,n,l){switch(Ox(t)){case 2:var c=eN;break;case 8:c=tN;break;default:c=bd}n=c.bind(null,t,n,e),c=void 0,!Ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function id(e,t,n,l,c){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c)break;if(y===4)for(y=l.return;y!==null;){var L=y.tag;if((L===3||L===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;C!==null;){if(y=Bs(C),y===null)return;if(L=y.tag,L===5||L===6||L===26||L===27){l=u=y;continue e}C=C.parentNode}}l=l.return}im(function(){var Z=u,ne=wc(n),oe=[];e:{var J=Pm.get(e);if(J!==void 0){var ae=ui,Se=e;switch(e){case"keypress":if(oi(n)===0)break e;case"keydown":case"keyup":ae=vj;break;case"focusin":Se="focus",ae=Dc;break;case"focusout":Se="blur",ae=Dc;break;case"beforeblur":case"afterblur":ae=Dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Nj;break;case Om:case Rm:case _m:ae=uj;break;case km:ae=wj;break;case"scroll":case"scrollend":ae=lj;break;case"wheel":ae=Aj;break;case"copy":case"cut":case"paste":ae=fj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=fm;break;case"toggle":case"beforetoggle":ae=Tj}var Oe=(t&4)!==0,ut=!Oe&&(e==="scroll"||e==="scrollend"),$=Oe?J!==null?J+"Capture":null:J;Oe=[];for(var q=Z,K;q!==null;){var le=q;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||$===null||(le=$l(q,$),le!=null&&Oe.push(Ar(q,le,K))),ut)break;q=q.return}0<Oe.length&&(J=new ae(J,Se,null,n,ne),oe.push({event:J,listeners:Oe}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",J&&n!==Sc&&(Se=n.relatedTarget||n.fromElement)&&(Bs(Se)||Se[qs]))break e;if((ae||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(Se=n.relatedTarget||n.toElement,ae=Z,Se=Se?Bs(Se):null,Se!==null&&(ut=f(Se),Oe=Se.tag,Se!==ut||Oe!==5&&Oe!==27&&Oe!==6)&&(Se=null)):(ae=null,Se=Z),ae!==Se)){if(Oe=um,le="onMouseLeave",$="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=fm,le="onPointerLeave",$="onPointerEnter",q="pointer"),ut=ae==null?J:Yl(ae),K=Se==null?J:Yl(Se),J=new Oe(le,q+"leave",ae,n,ne),J.target=ut,J.relatedTarget=K,le=null,Bs(ne)===Z&&(Oe=new Oe($,q+"enter",Se,n,ne),Oe.target=K,Oe.relatedTarget=ut,le=Oe),ut=le,ae&&Se)t:{for(Oe=Eb,$=ae,q=Se,K=0,le=$;le;le=Oe(le))K++;le=0;for(var De=q;De;De=Oe(De))le++;for(;0<K-le;)$=Oe($),K--;for(;0<le-K;)q=Oe(q),le--;for(;K--;){if($===q||q!==null&&$===q.alternate){Oe=$;break t}$=Oe($),q=Oe(q)}Oe=null}else Oe=null;ae!==null&&nx(oe,J,ae,Oe,!1),Se!==null&&ut!==null&&nx(oe,ut,Se,Oe,!0)}}e:{if(J=Z?Yl(Z):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var Ke=jm;else if(ym(J))if(bm)Ke=zj;else{Ke=Lj;var Ae=Pj}else ae=J.nodeName,!ae||ae.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Nc(Z.elementType)&&(Ke=jm):Ke=Ij;if(Ke&&(Ke=Ke(e,Z))){vm(oe,Ke,n,ne);break e}Ae&&Ae(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&bc(J,"number",J.value)}switch(Ae=Z?Yl(Z):window,e){case"focusin":(ym(Ae)||Ae.contentEditable==="true")&&(Ks=Ae,Lc=Z,tr=null);break;case"focusout":tr=Lc=Ks=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Mm(oe,n,ne);break;case"selectionchange":if(qj)break;case"keydown":case"keyup":Mm(oe,n,ne)}var Ue;if(Rc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Xs?xm(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(mm&&n.locale!=="ko"&&(Xs||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Xs&&(Ue=om()):(Dn=ne,Ec="value"in Dn?Dn.value:Dn.textContent,Xs=!0)),Ae=eo(Z,Ye),0<Ae.length&&(Ye=new dm(Ye,e,null,n,ne),oe.push({event:Ye,listeners:Ae}),Ue?Ye.data=Ue:(Ue=gm(n),Ue!==null&&(Ye.data=Ue)))),(Ue=Dj?Oj(e,n):Rj(e,n))&&(Ye=eo(Z,"onBeforeInput"),0<Ye.length&&(Ae=new dm("onBeforeInput","beforeinput",null,n,ne),oe.push({event:Ae,listeners:Ye}),Ae.data=Ue)),Sb(oe,e,Z,n,ne)}tx(oe,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eo(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=$l(e,n),c!=null&&l.unshift(Ar(e,c,u)),c=$l(e,t),c!=null&&l.push(Ar(e,c,u))),e.tag===3)return l;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nx(e,t,n,l,c){for(var u=t._reactName,y=[];n!==null&&n!==l;){var C=n,L=C.alternate,Z=C.stateNode;if(C=C.tag,L!==null&&L===l)break;C!==5&&C!==26&&C!==27||Z===null||(L=Z,c?(Z=$l(n,u),Z!=null&&y.unshift(Ar(n,Z,L))):c||(Z=$l(n,u),Z!=null&&y.push(Ar(n,Z,L)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var Tb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function sx(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Mb,"")}function lx(e,t){return t=sx(t),sx(e)===t}function ct(e,t,n,l,c,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ys(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ys(e,""+l);break;case"className":si(e,"class",l);break;case"tabIndex":si(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,n,l);break;case"style":lm(e,l,u);break;case"data":if(t!=="object"){si(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ri(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",c.name,c,null),ct(e,t,"formEncType",c.formEncType,c,null),ct(e,t,"formMethod",c.formMethod,c,null),ct(e,t,"formTarget",c.formTarget,c,null)):(ct(e,t,"encType",c.encType,c,null),ct(e,t,"method",c.method,c,null),ct(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ri(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ln);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=ri(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),ni(e,"popover",l);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ni(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=nj.get(n)||n,ni(e,n,l))}}function od(e,t,n,l,c,u){switch(n){case"style":lm(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ys(e,l):(typeof l=="number"||typeof l=="bigint")&&Ys(e,""+l);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[Jt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ni(e,n,l)}}}function zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var l=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var y=n[u];if(y!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ct(e,t,u,y,n,null)}}c&&ct(e,t,"srcSet",n.srcSet,n,null),l&&ct(e,t,"src",n.src,n,null);return;case"input":Ve("invalid",e);var C=u=y=c=null,L=null,Z=null;for(l in n)if(n.hasOwnProperty(l)){var ne=n[l];if(ne!=null)switch(l){case"name":c=ne;break;case"type":y=ne;break;case"checked":L=ne;break;case"defaultChecked":Z=ne;break;case"value":u=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(o(137,t));break;default:ct(e,t,l,ne,n,null)}}tm(e,u,C,L,Z,y,c,!1);return;case"select":Ve("invalid",e),l=y=u=null;for(c in n)if(n.hasOwnProperty(c)&&(C=n[c],C!=null))switch(c){case"value":u=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:ct(e,t,c,C,n,null)}t=u,n=y,e.multiple=!!l,t!=null?Gs(e,!!l,t,!1):n!=null&&Gs(e,!!l,n,!0);return;case"textarea":Ve("invalid",e),u=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(C=n[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":c=C;break;case"children":u=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:ct(e,t,y,C,n,null)}nm(e,l,c,u);return;case"option":for(L in n)if(n.hasOwnProperty(L)&&(l=n[L],l!=null))switch(L){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(e,t,L,l,n,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(l=0;l<Cr.length;l++)Ve(Cr[l],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(l=n[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ct(e,t,Z,l,n,null)}return;default:if(Nc(t)){for(ne in n)n.hasOwnProperty(ne)&&(l=n[ne],l!==void 0&&od(e,t,ne,l,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null&&ct(e,t,C,l,n,null))}function Db(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,C=null,L=null,Z=null,ne=null;for(ae in n){var oe=n[ae];if(n.hasOwnProperty(ae)&&oe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":L=oe;default:l.hasOwnProperty(ae)||ct(e,t,ae,null,l,oe)}}for(var J in l){var ae=l[J];if(oe=n[J],l.hasOwnProperty(J)&&(ae!=null||oe!=null))switch(J){case"type":u=ae;break;case"name":c=ae;break;case"checked":Z=ae;break;case"defaultChecked":ne=ae;break;case"value":y=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(o(137,t));break;default:ae!==oe&&ct(e,t,J,ae,l,oe)}}jc(e,y,C,L,Z,ne,u,c);return;case"select":ae=y=C=J=null;for(u in n)if(L=n[u],n.hasOwnProperty(u)&&L!=null)switch(u){case"value":break;case"multiple":ae=L;default:l.hasOwnProperty(u)||ct(e,t,u,null,l,L)}for(c in l)if(u=l[c],L=n[c],l.hasOwnProperty(c)&&(u!=null||L!=null))switch(c){case"value":J=u;break;case"defaultValue":C=u;break;case"multiple":y=u;default:u!==L&&ct(e,t,c,u,l,L)}t=C,n=y,l=ae,J!=null?Gs(e,!!n,J,!1):!!l!=!!n&&(t!=null?Gs(e,!!n,t,!0):Gs(e,!!n,n?[]:"",!1));return;case"textarea":ae=J=null;for(C in n)if(c=n[C],n.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ct(e,t,C,null,l,c)}for(y in l)if(c=l[y],u=n[y],l.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":J=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&ct(e,t,y,c,l,u)}am(e,J,ae);return;case"option":for(var Se in n)if(J=n[Se],n.hasOwnProperty(Se)&&J!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:ct(e,t,Se,null,l,J)}for(L in l)if(J=l[L],ae=n[L],l.hasOwnProperty(L)&&J!==ae&&(J!=null||ae!=null))switch(L){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(e,t,L,J,l,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in n)J=n[Oe],n.hasOwnProperty(Oe)&&J!=null&&!l.hasOwnProperty(Oe)&&ct(e,t,Oe,null,l,J);for(Z in l)if(J=l[Z],ae=n[Z],l.hasOwnProperty(Z)&&J!==ae&&(J!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:ct(e,t,Z,J,l,ae)}return;default:if(Nc(t)){for(var ut in n)J=n[ut],n.hasOwnProperty(ut)&&J!==void 0&&!l.hasOwnProperty(ut)&&od(e,t,ut,void 0,l,J);for(ne in l)J=l[ne],ae=n[ne],!l.hasOwnProperty(ne)||J===ae||J===void 0&&ae===void 0||od(e,t,ne,J,l,ae);return}}for(var $ in n)J=n[$],n.hasOwnProperty($)&&J!=null&&!l.hasOwnProperty($)&&ct(e,t,$,null,l,J);for(oe in l)J=l[oe],ae=n[oe],!l.hasOwnProperty(oe)||J===ae||J==null&&ae==null||ct(e,t,oe,J,l,ae)}function rx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ob(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],u=c.transferSize,y=c.initiatorType,C=c.duration;if(u&&C&&rx(y)){for(y=0,C=c.responseEnd,l+=1;l<n.length;l++){var L=n[l],Z=L.startTime;if(Z>C)break;var ne=L.transferSize,oe=L.initiatorType;ne&&rx(oe)&&(L=L.responseEnd,y+=ne*(L<C?1:(C-Z)/(L-Z)))}if(--l,t+=8*(u+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,ud=null;function to(e){return e.nodeType===9?e:e.ownerDocument}function ix(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ox(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function Rb(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var cx=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(e){return ux.resolve(null).then(e).catch(Pb)}:cx;function Pb(e){setTimeout(function(){throw e})}function $n(e){return e==="head"}function dx(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Sl(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Er(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Er(n);for(var u=n.firstChild;u;){var y=u.nextSibling,C=u.nodeName;u[Gl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=y}}else n==="body"&&Er(e.ownerDocument.body);n=c}while(n);Sl(t)}function fx(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),yc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lb(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ea(e.nextSibling),e===null)break}return null}function Ib(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ea(e.nextSibling),e===null))return null;return e}function mx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ea(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xd=null;function hx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ea(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function px(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function xx(e,t,n){switch(t=to(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yc(e)}var Ta=new Map,gx=new Set;function ao(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=I.d;I.d={f:Ub,r:qb,D:Bb,C:Hb,L:Fb,m:Vb,X:Yb,S:Gb,M:$b};function Ub(){var e=Nn.f(),t=$i();return e||t}function qb(e){var t=Hs(e);t!==null&&t.tag===5&&t.type==="form"?kh(t):Nn.r(e)}var jl=typeof document>"u"?null:document;function yx(e,t,n){var l=jl;if(l&&typeof t=="string"&&t){var c=ja(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),gx.has(c)||(gx.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),zt(t,"link",e),Rt(t),l.head.appendChild(t)))}}function Bb(e){Nn.D(e),yx("dns-prefetch",e,null)}function Hb(e,t){Nn.C(e,t),yx("preconnect",e,t)}function Fb(e,t,n){Nn.L(e,t,n);var l=jl;if(l&&e&&t){var c='link[rel="preload"][as="'+ja(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+ja(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+ja(n.imageSizes)+'"]')):c+='[href="'+ja(e)+'"]';var u=c;switch(t){case"style":u=bl(e);break;case"script":u=Nl(e)}Ta.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ta.set(u,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Tr(u))||t==="script"&&l.querySelector(Mr(u))||(t=l.createElement("link"),zt(t,"link",e),Rt(t),l.head.appendChild(t)))}}function Vb(e,t){Nn.m(e,t);var n=jl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ja(l)+'"][href="'+ja(e)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Nl(e)}if(!Ta.has(u)&&(e=v({rel:"modulepreload",href:e},t),Ta.set(u,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mr(u)))return}l=n.createElement("link"),zt(l,"link",e),Rt(l),n.head.appendChild(l)}}}function Gb(e,t,n){Nn.S(e,t,n);var l=jl;if(l&&e){var c=Fs(l).hoistableStyles,u=bl(e);t=t||"default";var y=c.get(u);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(Tr(u)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ta.get(u))&&gd(e,n);var L=y=l.createElement("link");Rt(L),zt(L,"link",e),L._p=new Promise(function(Z,ne){L.onload=Z,L.onerror=ne}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,no(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:C},c.set(u,y)}}}function Yb(e,t){Nn.X(e,t);var n=jl;if(n&&e){var l=Fs(n).hoistableScripts,c=Nl(e),u=l.get(c);u||(u=n.querySelector(Mr(c)),u||(e=v({src:e,async:!0},t),(t=Ta.get(c))&&yd(e,t),u=n.createElement("script"),Rt(u),zt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function $b(e,t){Nn.M(e,t);var n=jl;if(n&&e){var l=Fs(n).hoistableScripts,c=Nl(e),u=l.get(c);u||(u=n.querySelector(Mr(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Ta.get(c))&&yd(e,t),u=n.createElement("script"),Rt(u),zt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function vx(e,t,n,l){var c=(c=me.current)?ao(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=bl(n.href),n=Fs(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=bl(n.href);var u=Fs(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(Tr(e)))&&!u._p&&(y.instance=u,y.state.loading=5),Ta.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ta.set(e,n),u||Qb(c,e,n,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nl(n),n=Fs(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function bl(e){return'href="'+ja(e)+'"'}function Tr(e){return'link[rel="stylesheet"]['+e+"]"}function jx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),zt(t,"link",n),Rt(t),e.head.appendChild(t))}function Nl(e){return'[src="'+ja(e)+'"]'}function Mr(e){return"script[async]"+e}function bx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ja(n.href)+'"]');if(l)return t.instance=l,Rt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Rt(l),zt(l,"style",c),no(l,n.precedence,e),t.instance=l;case"stylesheet":c=bl(n.href);var u=e.querySelector(Tr(c));if(u)return t.state.loading|=4,t.instance=u,Rt(u),u;l=jx(n),(c=Ta.get(c))&&gd(l,c),u=(e.ownerDocument||e).createElement("link"),Rt(u);var y=u;return y._p=new Promise(function(C,L){y.onload=C,y.onerror=L}),zt(u,"link",l),t.state.loading|=4,no(u,n.precedence,e),t.instance=u;case"script":return u=Nl(n.src),(c=e.querySelector(Mr(u)))?(t.instance=c,Rt(c),c):(l=n,(c=Ta.get(u))&&(l=v({},n),yd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Rt(c),zt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,no(l,n.precedence,e));return t.instance}function no(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===t)u=C;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function Nx(e,t,n){if(so===null){var l=new Map,c=so=new Map;c.set(n,l)}else c=so,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[Gl]||u[kt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(t)||"";y=e+y;var C=l.get(y);C?C.push(u):l.set(y,[u])}}return l}function Sx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kb(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=bl(l.href),u=t.querySelector(Tr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Rt(u);return}u=t.ownerDocument||t,l=jx(l),(c=Ta.get(c))&&gd(l,c),u=u.createElement("link"),Rt(u);var y=u;y._p=new Promise(function(C,L){y.onload=C,y.onerror=L}),zt(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=lo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vd=0;function Zb(e,t){return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&vd===0&&(vd=62500*Ob());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&io(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>vd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ro=null;function io(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ro=new Map,t.forEach(Wb,e),ro=null,lo.call(e))}function Wb(e,t){if(!(t.state.loading&4)){var n=ro.get(e);if(n)var l=n.get(null);else{n=new Map,ro.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),u=n.get(y)||l,u===l&&n.set(null,c),n.set(y,c),this.count++,l=lo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Dr={$$typeof:T,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Jb(e,t,n,l,c,u,y,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.hiddenUpdates=hc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Cx(e,t,n,l,c,u,y,C,L,Z,ne,oe){return e=new Jb(e,t,n,y,L,Z,ne,oe,C),t=1,u===!0&&(t|=24),u=da(3,null,null,t),e.current=u,u.stateNode=e,t=Wc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},au(u),e}function Ax(e){return e?(e=Js,e):Js}function Ex(e,t,n,l,c,u){c=Ax(c),l.context===null?l.context=c:l.pendingContext=c,l=Ln(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=In(e,l,t),n!==null&&(la(n,e,t),or(n,e,t))}function Tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){Tx(e,t),(e=e.alternate)&&Tx(e,t)}function Mx(e){if(e.tag===13||e.tag===31){var t=hs(e,67108864);t!==null&&la(t,e,67108864),jd(e,67108864)}}function Dx(e){if(e.tag===13||e.tag===31){var t=xa();t=pc(t);var n=hs(e,t);n!==null&&la(n,e,t),jd(e,t)}}var oo=!0;function eN(e,t,n,l){var c=M.T;M.T=null;var u=I.p;try{I.p=2,bd(e,t,n,l)}finally{I.p=u,M.T=c}}function tN(e,t,n,l){var c=M.T;M.T=null;var u=I.p;try{I.p=8,bd(e,t,n,l)}finally{I.p=u,M.T=c}}function bd(e,t,n,l){if(oo){var c=Nd(l);if(c===null)id(e,t,l,co,n),Rx(e,l);else if(nN(c,e,t,n,l))l.stopPropagation();else if(Rx(e,l),t&4&&-1<aN.indexOf(e)){for(;c!==null;){var u=Hs(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=cs(u.pendingLanes);if(y!==0){var C=u;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var L=1<<31-ca(y);C.entanglements[1]|=L,y&=~L}Ga(u),(Je&6)===0&&(Gi=Xt()+500,wr(0))}}break;case 31:case 13:C=hs(u,2),C!==null&&la(C,u,2),$i(),jd(u,2)}if(u=Nd(l),u===null&&id(e,t,l,co,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else id(e,t,l,null,n)}}function Nd(e){return e=wc(e),Sd(e)}var co=null;function Sd(e){if(co=null,e=Bs(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return co=e,null}function Ox(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mc()){case Zr:return 2;case Wr:return 8;case os:case H0:return 32;case Bf:return 268435456;default:return 32}default:return 32}}var wd=!1,Qn=null,Xn=null,Kn=null,Or=new Map,Rr=new Map,Zn=[],aN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rx(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function _r(e,t,n,l,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Hs(t),t!==null&&Mx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function nN(e,t,n,l,c){switch(t){case"focusin":return Qn=_r(Qn,e,t,n,l,c),!0;case"dragenter":return Xn=_r(Xn,e,t,n,l,c),!0;case"mouseover":return Kn=_r(Kn,e,t,n,l,c),!0;case"pointerover":var u=c.pointerId;return Or.set(u,_r(Or.get(u)||null,e,t,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,Rr.set(u,_r(Rr.get(u)||null,e,t,n,l,c)),!0}return!1}function _x(e){var t=Bs(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,$f(e.priority,function(){Dx(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,$f(e.priority,function(){Dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Sc=l,n.target.dispatchEvent(l),Sc=null}else return t=Hs(n),t!==null&&Mx(t),e.blockedOn=n,!1;t.shift()}return!0}function kx(e,t,n){uo(e)&&n.delete(t)}function sN(){wd=!1,Qn!==null&&uo(Qn)&&(Qn=null),Xn!==null&&uo(Xn)&&(Xn=null),Kn!==null&&uo(Kn)&&(Kn=null),Or.forEach(kx),Rr.forEach(kx)}function fo(e,t){e.blockedOn===t&&(e.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sN)))}var mo=null;function Px(e){mo!==e&&(mo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mo===e&&(mo=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Sd(l||n)===null)continue;break}var u=Hs(n);u!==null&&(e.splice(t,3),t-=3,Nu(u,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Sl(e){function t(L){return fo(L,e)}Qn!==null&&fo(Qn,e),Xn!==null&&fo(Xn,e),Kn!==null&&fo(Kn,e),Or.forEach(t),Rr.forEach(t);for(var n=0;n<Zn.length;n++){var l=Zn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&Zn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],u=n[l+1],y=c[Jt]||null;if(typeof u=="function")y||Px(n);else if(y){var C=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[Jt]||null)C=y.formAction;else if(Sd(c)!==null)continue}else C=y.action;typeof C=="function"?n[l+1]=C:(n.splice(l,3),l-=3),Px(n)}}}function Lx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Cd(e){this._internalRoot=e}ho.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=xa();Ex(n,l,e,t,null,null)},ho.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ex(e.current,2,null,e,null,null),$i(),t[qs]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&_x(e)}};var Ix=r.version;if(Ix!=="19.2.3")throw Error(o(527,Ix,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var lN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Hl=po.inject(lN),oa=po}catch{}}return Pr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,l="",c=Vh,u=Gh,y=Yh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Cx(e,1,!1,null,null,n,l,null,c,u,y,Lx),e[qs]=t.current,rd(e),new Cd(t)},Pr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var l=!1,c="",u=Vh,y=Gh,C=Yh,L=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.formState!==void 0&&(L=n.formState)),t=Cx(e,1,!0,t,n??null,l,c,L,u,y,C,Lx),t.context=Ax(null),n=t.current,l=xa(),l=pc(l),c=Ln(l),c.callback=null,In(n,c,l),n=l,t.current.lanes=n,Vl(t,n),Ga(t),e[qs]=t.current,rd(e),new ho(t)},Pr.version="19.2.3",Pr}var $x;function pN(){if($x)return Td.exports;$x=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Td.exports=hN(),Td.exports}var xN=pN();class gN{constructor(){this.dbName="SofaFactoryManager",this.version=3,this.db=null,this.initPromise=null}async resetDatabase(){return new Promise((r,i)=>{this.db&&(this.db.close(),this.db=null);const o=indexedDB.deleteDatabase(this.dbName);o.onsuccess=()=>{console.log("Database deleted successfully"),r()},o.onerror=()=>{console.error("Error deleting database"),i(o.error)},o.onblocked=()=>{console.warn("Database deletion blocked"),r()}})}async init(){return this.initPromise?this.initPromise:this.db?this.db:(this.initPromise=new Promise((r,i)=>{try{const o=indexedDB.open(this.dbName,this.version);o.onerror=d=>{console.error("Database error:",d.target.error),this.initPromise=null,i(d.target.error)},o.onsuccess=()=>{this.db=o.result,this.initPromise=null,this.db.onerror=d=>{console.error("Database error:",d.target.error)},r(this.db)},o.onblocked=()=>{console.warn("Database upgrade blocked. Please close other tabs.")},o.onupgradeneeded=d=>{const f=d.target.result;if(f.objectStoreNames.contains("company")||f.createObjectStore("company",{keyPath:"id"}),f.objectStoreNames.contains("locations")||f.createObjectStore("locations",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!0}),!f.objectStoreNames.contains("users")){const h=f.createObjectStore("users",{keyPath:"id",autoIncrement:!0});h.createIndex("email","email",{unique:!0}),h.createIndex("role","role",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1})}if(!f.objectStoreNames.contains("suppliers")){const h=f.createObjectStore("suppliers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("customers")){const h=f.createObjectStore("customers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("phone","phone",{unique:!1})}if(!f.objectStoreNames.contains("rawMaterials")){const h=f.createObjectStore("rawMaterials",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("labourers")){const h=f.createObjectStore("labourers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("sofaModels")){const h=f.createObjectStore("sofaModels",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("orders")){const h=f.createObjectStore("orders",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("orderDate","orderDate",{unique:!1})}if(!f.objectStoreNames.contains("labourCosts")){const h=f.createObjectStore("labourCosts",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("month","month",{unique:!1})}if(!f.objectStoreNames.contains("purchases")){const h=f.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0});h.createIndex("supplierId","supplierId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("sales")){const h=f.createObjectStore("sales",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("cleaningServices")){const h=f.createObjectStore("cleaningServices",{keyPath:"id",autoIncrement:!0});h.createIndex("saleId","saleId",{unique:!1}),h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("scheduledDate","scheduledDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("linkedEntities")){const h=f.createObjectStore("linkedEntities",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("supplierId","supplierId",{unique:!1})}if(!f.objectStoreNames.contains("notifications")){const h=f.createObjectStore("notifications",{keyPath:"id",autoIncrement:!0});h.createIndex("userId","userId",{unique:!1}),h.createIndex("type","type",{unique:!1}),h.createIndex("read","read",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("syncRecords")){const h=f.createObjectStore("syncRecords",{keyPath:"id",autoIncrement:!0});h.createIndex("tableName","tableName",{unique:!1}),h.createIndex("recordId","recordId",{unique:!1}),h.createIndex("action","action",{unique:!1}),h.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains("productions")){const h=f.createObjectStore("productions",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("productionType","productionType",{unique:!1}),h.createIndex("startDate","startDate",{unique:!1})}if(!f.objectStoreNames.contains("labourPayments")){const h=f.createObjectStore("labourPayments",{keyPath:"id",autoIncrement:!0});h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentDate","paymentDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}}}catch(o){console.error("Error initializing database:",o),this.initPromise=null,i(o)}}),this.initPromise)}async ensureReady(){return this.db||await this.init(),this.db}async add(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.createdAt=new Date().toISOString(),i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.add(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error adding to ${r}:`,g.error),p(g.error)}});return this.trackSync(r,f,"create").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in add for ${r}:`,o),o}}async get(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readonly").objectStore(r);return new Promise((f,h)=>{const p=d.get(i);p.onsuccess=()=>f(p.result||null),p.onerror=()=>{console.error(`Error getting from ${r}:`,p.error),f(null)}})}catch(o){return console.error(`Error in get for ${r}:`,o),null}}async getAll(r,i=null,o=null){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist, returning empty array`),[];const f=this.db.transaction([r],"readonly").objectStore(r);return new Promise((h,p)=>{let g;if(i&&o!==null)try{g=f.index(i).getAll(o)}catch{g=f.getAll()}else g=f.getAll();g.onsuccess=()=>h(g.result||[]),g.onerror=()=>{console.error(`Error getting all from ${r}:`,g.error),h([])}})}catch(d){return console.error(`Error in getAll for ${r}:`,d),[]}}async update(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.put(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error updating ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i.id,"update").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in update for ${r}:`,o),o}}async delete(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r),f=await new Promise((h,p)=>{const g=d.delete(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error deleting from ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i,"delete").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in delete for ${r}:`,o),o}}async trackSync(r,i,o){try{const d={tableName:r,recordId:i,action:o,timestamp:new Date().toISOString(),synced:!1};if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return null;const h=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords");return new Promise((p,g)=>{const m=h.add(d);m.onsuccess=()=>p(m.result),m.onerror=()=>{console.warn("Sync tracking error:",m.error),p(null)}})}catch(d){return console.warn("Sync tracking failed:",d),null}}async getUnsyncedRecords(){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return[];const i=this.db.transaction(["syncRecords"],"readonly").objectStore("syncRecords");return new Promise((o,d)=>{const f=i.getAll();f.onsuccess=()=>{const p=(f.result||[]).filter(g=>!g.synced);o(p)},f.onerror=()=>o([])})}catch(r){return console.error("Error getting unsynced records:",r),[]}}async markSynced(r){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return;const o=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords"),d=r.map(f=>new Promise((h,p)=>{const g=o.get(f);g.onsuccess=()=>{const m=g.result;if(m){m.synced=!0;const x=o.put(m);x.onsuccess=()=>h(),x.onerror=()=>h()}else h()},g.onerror=()=>h()}));return Promise.all(d)}catch(i){console.error("Error marking synced:",i)}}async getCurrentUser(){try{return(await this.getAll("users")).find(i=>i.isCurrentUser)||null}catch(r){return console.error("Error getting current user:",r),null}}async getCompanyProfile(){try{return await this.get("company","profile")}catch(r){return console.error("Error getting company profile:",r),null}}async getPendingPayments(r=null){try{const i=await this.getAll("purchases","paymentStatus","unpaid"),o=await this.getAll("sales","paymentStatus","unpaid");let d={purchases:[],sales:[]};return r?(d.purchases=(i||[]).filter(f=>f.locationId===r),d.sales=(o||[]).filter(f=>f.locationId===r)):(d.purchases=i||[],d.sales=o||[]),d}catch(i){return console.error("Error getting pending payments:",i),{purchases:[],sales:[]}}}async getMonthlyLabourReport(r,i,o=null){try{const d=await this.getAll("labourCosts","month",`${i}-${r.toString().padStart(2,"0")}`);if(o){const h=(await this.getAll("sofaModels","locationId",o)||[]).map(p=>p.id);return(d||[]).filter(p=>h.includes(p.sofaModelId))}return d||[]}catch(d){return console.error("Error getting monthly labour report:",d),[]}}async calculateProfit(r){try{const i=await this.get("sales",r);if(!i)return null;const o=await this.get("sofaModels",i.sofaModelId);if(!o)return null;const d=i.finalPrice-(o.totalProductionCost||0);return{revenue:i.finalPrice,cost:o.totalProductionCost||0,profit:d,margin:i.finalPrice>0?d/i.finalPrice*100:0}}catch(i){return console.error("Error calculating profit:",i),null}}}const he=new gN,Ya={ADMIN:"admin",STAFF:"staff",LABOUR_MANAGER:"labour_manager"},wl={VIEW_PROFITS:"view_profits",MANAGE_COSTS:"manage_costs",APPROVE_SALES:"approve_sales",MANAGE_USERS:"manage_users",MANAGE_COMPANY:"manage_company",MANAGE_LABOUR:"manage_labour",VIEW_ALL_LOCATIONS:"view_all_locations",SEND_NOTIFICATIONS:"send_notifications"};class yN{constructor(){this.currentUser=null,this.isInitialized=!1}async init(){this.isInitialized||(await he.init(),this.currentUser=await he.getCurrentUser(),this.isInitialized=!0)}async isFirstTimeSetup(){return(await he.getAll("users")).length===0}async createAdminAccount(r){const i={...r,role:Ya.ADMIN,isCurrentUser:!0,permissions:this.getPermissionsForRole(Ya.ADMIN),setupCode:null,locationId:null},o=await he.add("users",i);return this.currentUser=await he.get("users",o),this.currentUser}generateSetupCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}async createUserProfile(r){const i=this.generateSetupCode(),o={...r,setupCode:i,permissions:this.getPermissionsForRole(r.role),isActive:!1,isCurrentUser:!1};return{userId:await he.add("users",o),setupCode:i}}async activateUserAccount(r,i={}){const o=await he.getAll("users"),d=o.find(h=>h.setupCode===r&&!h.isActive);if(!d)throw new Error("Invalid or expired setup code");d.isActive=!0,d.isCurrentUser=!0,d.deviceInfo=i,d.lastLogin=new Date().toISOString();const f=o.filter(h=>h.id!==d.id&&h.isCurrentUser);for(const h of f)h.isCurrentUser=!1,await he.update("users",h);return await he.update("users",d),this.currentUser=d,d}async login(r){const i=await he.get("users",r);if(!i||!i.isActive)throw new Error("User not found or inactive");const o=await he.getAll("users");for(const d of o)d.isCurrentUser=d.id===r,await he.update("users",d);return i.lastLogin=new Date().toISOString(),await he.update("users",i),this.currentUser=i,i}async logout(){this.currentUser&&(this.currentUser.isCurrentUser=!1,await he.update("users",this.currentUser),this.currentUser=null)}getPermissionsForRole(r){switch(r){case Ya.ADMIN:return Object.values(wl);case Ya.LABOUR_MANAGER:return[wl.MANAGE_LABOUR,wl.MANAGE_COSTS];case Ya.STAFF:return[];default:return[]}}hasPermission(r){return this.currentUser?this.currentUser.permissions.includes(r):!1}canAccessLocation(r){return this.currentUser?this.currentUser.role===Ya.ADMIN?!0:this.currentUser.locationId===r:!1}async getAccessibleLocations(){if(!this.currentUser)return[];const r=await he.getAll("locations");return this.currentUser.role===Ya.ADMIN?r:r.filter(i=>i.id===this.currentUser.locationId)}getCurrentUser(){return this.currentUser}async updateUserPermissions(r,i){if(!this.hasPermission(wl.MANAGE_USERS))throw new Error("Insufficient permissions");const o=await he.get("users",r);if(!o)throw new Error("User not found");return o.permissions=i,await he.update("users",o),o}async getAllUsers(){if(!this.hasPermission(wl.MANAGE_USERS))throw new Error("Insufficient permissions");return await he.getAll("users")}async deleteUser(r){if(!this.hasPermission(wl.MANAGE_USERS))throw new Error("Insufficient permissions");if(r===this.currentUser.id)throw new Error("Cannot delete current user");await he.delete("users",r)}isAdmin(){return this.currentUser&&this.currentUser.role===Ya.ADMIN}isStaff(){return this.currentUser&&this.currentUser.role===Ya.STAFF}isLabourManager(){return this.currentUser&&this.currentUser.role===Ya.LABOUR_MANAGER}}const Ma=new yN,Bg={user:null,isAuthenticated:!1,isLoading:!0,company:null,locations:[],currentLocation:null,suppliers:[],customers:[],rawMaterials:[],labourers:[],sofaModels:[],purchases:[],sales:[],cleaningServices:[],notifications:[],productions:[],orders:[],sidebarOpen:!1,currentView:"dashboard",locationFilter:"all",dateFilter:"all"},je={SET_USER:"SET_USER",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_COMPANY:"SET_COMPANY",SET_LOCATIONS:"SET_LOCATIONS",SET_CURRENT_LOCATION:"SET_CURRENT_LOCATION",SET_SUPPLIERS:"SET_SUPPLIERS",SET_CUSTOMERS:"SET_CUSTOMERS",SET_RAW_MATERIALS:"SET_RAW_MATERIALS",SET_LABOURERS:"SET_LABOURERS",SET_SOFA_MODELS:"SET_SOFA_MODELS",SET_PURCHASES:"SET_PURCHASES",SET_SALES:"SET_SALES",SET_CLEANING_SERVICES:"SET_CLEANING_SERVICES",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_PRODUCTIONS:"SET_PRODUCTIONS",SET_ORDERS:"SET_ORDERS",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SET_SIDEBAR_OPEN:"SET_SIDEBAR_OPEN",SET_CURRENT_VIEW:"SET_CURRENT_VIEW",SET_LOCATION_FILTER:"SET_LOCATION_FILTER",SET_DATE_FILTER:"SET_DATE_FILTER",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ"};function vN(s,r){switch(r.type){case je.SET_USER:return{...s,user:r.payload,isAuthenticated:!!r.payload,isLoading:!1};case je.SET_LOADING:return{...s,isLoading:r.payload};case je.LOGOUT:return{...Bg,isLoading:!1};case je.SET_COMPANY:return{...s,company:r.payload};case je.SET_LOCATIONS:return{...s,locations:r.payload};case je.SET_CURRENT_LOCATION:return{...s,currentLocation:r.payload};case je.SET_SUPPLIERS:return{...s,suppliers:r.payload};case je.SET_CUSTOMERS:return{...s,customers:r.payload};case je.SET_RAW_MATERIALS:return{...s,rawMaterials:r.payload};case je.SET_LABOURERS:return{...s,labourers:r.payload};case je.SET_SOFA_MODELS:return{...s,sofaModels:r.payload};case je.SET_PURCHASES:return{...s,purchases:r.payload};case je.SET_SALES:return{...s,sales:r.payload};case je.SET_CLEANING_SERVICES:return{...s,cleaningServices:r.payload};case je.SET_NOTIFICATIONS:return{...s,notifications:r.payload};case je.SET_PRODUCTIONS:return{...s,productions:r.payload};case je.SET_ORDERS:return{...s,orders:r.payload};case je.ADD_ITEM:const{collection:i,item:o}=r.payload;return{...s,[i]:[...s[i]||[],o]};case je.UPDATE_ITEM:const{collection:d,item:f}=r.payload;return{...s,[d]:(s[d]||[]).map(g=>g.id===f.id?f:g)};case je.DELETE_ITEM:const{collection:h,id:p}=r.payload;return{...s,[h]:(s[h]||[]).filter(g=>g.id!==p)};case je.SET_SIDEBAR_OPEN:return{...s,sidebarOpen:r.payload};case je.SET_CURRENT_VIEW:return{...s,currentView:r.payload};case je.SET_LOCATION_FILTER:return{...s,locationFilter:r.payload};case je.SET_DATE_FILTER:return{...s,dateFilter:r.payload};case je.ADD_NOTIFICATION:return{...s,notifications:[r.payload,...s.notifications]};case je.MARK_NOTIFICATION_READ:return{...s,notifications:s.notifications.map(g=>g.id===r.payload?{...g,read:!0}:g)};default:return s}}const Hg=j.createContext();function jN({children:s}){const[r,i]=j.useReducer(vN,Bg);j.useEffect(()=>{o()},[]);const o=async()=>{try{i({type:je.SET_LOADING,payload:!0}),await Ma.init();const m=Ma.getCurrentUser();m?(i({type:je.SET_USER,payload:m}),await d()):i({type:je.SET_LOADING,payload:!1})}catch(m){console.error("Failed to initialize app:",m),i({type:je.SET_LOADING,payload:!1})}},d=async()=>{try{const m=await he.getCompanyProfile();m&&i({type:je.SET_COMPANY,payload:m});const x=await he.getAll("locations");i({type:je.SET_LOCATIONS,payload:x});const v=Ma.getCurrentUser();if(v){const b=await Ma.getAccessibleLocations();Ma.hasPermission("VIEW_ALL_LOCATIONS")?await f():await h(v.locationId)}}catch(m){console.error("Failed to load app data:",m)}},f=async()=>{try{const[m,x,v,b,N,E,S,w,P,R,T]=await Promise.all([he.getAll("suppliers"),he.getAll("customers"),he.getAll("rawMaterials"),he.getAll("labourers"),he.getAll("sofaModels"),he.getAll("purchases"),he.getAll("sales"),he.getAll("cleaningServices"),he.getAll("notifications"),he.getAll("productions"),he.getAll("orders")]);i({type:je.SET_SUPPLIERS,payload:m||[]}),i({type:je.SET_CUSTOMERS,payload:x||[]}),i({type:je.SET_RAW_MATERIALS,payload:v||[]}),i({type:je.SET_LABOURERS,payload:b||[]}),i({type:je.SET_SOFA_MODELS,payload:N||[]}),i({type:je.SET_PURCHASES,payload:E||[]}),i({type:je.SET_SALES,payload:S||[]}),i({type:je.SET_CLEANING_SERVICES,payload:w||[]}),i({type:je.SET_NOTIFICATIONS,payload:P||[]}),i({type:je.SET_PRODUCTIONS,payload:R||[]}),i({type:je.SET_ORDERS,payload:T||[]})}catch(m){console.error("Failed to load all data:",m)}},h=async m=>{var x;try{const[v,b,N,E,S,w,P,R,T,_,A]=await Promise.all([he.getAll("suppliers","locationId",m),he.getAll("customers","locationId",m),he.getAll("rawMaterials","locationId",m),he.getAll("labourers","locationId",m),he.getAll("sofaModels","locationId",m),he.getAll("purchases","locationId",m),he.getAll("sales","locationId",m),he.getAll("cleaningServices","locationId",m),he.getAll("notifications","userId",(x=Ma.getCurrentUser())==null?void 0:x.id),he.getAll("productions","locationId",m),he.getAll("orders","locationId",m)]);i({type:je.SET_SUPPLIERS,payload:v||[]}),i({type:je.SET_CUSTOMERS,payload:b||[]}),i({type:je.SET_RAW_MATERIALS,payload:N||[]}),i({type:je.SET_LABOURERS,payload:E||[]}),i({type:je.SET_SOFA_MODELS,payload:S||[]}),i({type:je.SET_PURCHASES,payload:w||[]}),i({type:je.SET_SALES,payload:P||[]}),i({type:je.SET_CLEANING_SERVICES,payload:R||[]}),i({type:je.SET_NOTIFICATIONS,payload:T||[]}),i({type:je.SET_PRODUCTIONS,payload:_||[]}),i({type:je.SET_ORDERS,payload:A||[]})}catch(v){console.error("Failed to load location data:",v)}},g={state:r,actions:{login:async m=>{try{const x=await Ma.login(m);return i({type:je.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},logout:async()=>{try{await Ma.logout(),i({type:je.LOGOUT})}catch(m){console.error("Logout failed:",m)}},createAdminAccount:async m=>{try{const x=await Ma.createAdminAccount(m);return i({type:je.SET_USER,payload:x}),x}catch(x){throw console.error("Failed to create admin account:",x),x}},activateUserAccount:async(m,x)=>{try{const v=await Ma.activateUserAccount(m,x);return i({type:je.SET_USER,payload:v}),await d(),v}catch(v){throw console.error("Failed to activate user account:",v),v}},getAllUsers:async()=>{try{return await he.getAll("users")}catch(m){throw console.error("Failed to get all users:",m),m}},loginUser:async m=>{try{const x=await Ma.login(m);return i({type:je.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},addItem:async(m,x)=>{try{const v=await he.add(m,x),b=await he.get(m,v);return i({type:je.ADD_ITEM,payload:{collection:m,item:b}}),b}catch(v){throw console.error(`Failed to add ${m} item:`,v),v}},updateItem:async(m,x)=>{try{return await he.update(m,x),i({type:je.UPDATE_ITEM,payload:{collection:m,item:x}}),x}catch(v){throw console.error(`Failed to update ${m} item:`,v),v}},deleteItem:async(m,x)=>{try{await he.delete(m,x),i({type:je.DELETE_ITEM,payload:{collection:m,id:x}})}catch(v){throw console.error(`Failed to delete ${m} item:`,v),v}},getAllOrders:async()=>{try{return await he.getAll("orders")||[]}catch(m){return console.error("Failed to get all orders:",m),[]}},setSidebarOpen:m=>{i({type:je.SET_SIDEBAR_OPEN,payload:m})},setCurrentView:m=>{i({type:je.SET_CURRENT_VIEW,payload:m})},setLocationFilter:m=>{i({type:je.SET_LOCATION_FILTER,payload:m})},setDateFilter:m=>{i({type:je.SET_DATE_FILTER,payload:m})},addNotification:async m=>{try{const x=await he.add("notifications",m),v=await he.get("notifications",x);return i({type:je.ADD_NOTIFICATION,payload:v}),v}catch(x){throw console.error("Failed to add notification:",x),x}},markNotificationRead:async m=>{try{const x=await he.get("notifications",m);x&&(x.read=!0,await he.update("notifications",x),i({type:je.MARK_NOTIFICATION_READ,payload:m}))}catch(x){console.error("Failed to mark notification as read:",x)}},updateCompany:async m=>{try{const x=await he.get("company","profile");if(x){const v={...x,...m,id:"profile"};return await he.update("company",v),i({type:je.SET_COMPANY,payload:v}),v}else{const v={...m,id:"profile"};return await he.add("company",v),i({type:je.SET_COMPANY,payload:v}),v}}catch(x){throw console.error("Failed to update company:",x),x}},updateLocations:async m=>{try{const x=await he.getAll("locations");for(const b of x)await he.delete("locations",b.id);const v=[];for(const b of m){const N=await he.add("locations",b),E=await he.get("locations",N);v.push(E)}return i({type:je.SET_LOCATIONS,payload:v}),v}catch(x){throw console.error("Failed to update locations:",x),x}},refreshData:async()=>{await d()}},auth:Ma};return a.jsx(Hg.Provider,{value:g,children:s})}function yt(){const s=j.useContext(Hg);if(!s)throw new Error("useApp must be used within an AppProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Qx=s=>{const r=NN(s);return r.charAt(0).toUpperCase()+r.slice(1)},Fg=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),SN=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},g)=>j.createElement("svg",{ref:g,...wN,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:Fg("lucide",d),...!f&&!SN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,x])=>j.createElement(m,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(s,r)=>{const i=j.forwardRef(({className:o,...d},f)=>j.createElement(CN,{ref:f,iconNode:r,className:Fg(`lucide-${bN(Qx(s))}`,`lucide-${s}`,o),...d}));return i.displayName=Qx(s),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Rl=_e("bell",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],TN=_e("boxes",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Xx=_e("building-2",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ON=_e("building",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],as=_e("calendar",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Kx=_e("chart-column",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],PN=_e("chart-pie",kN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],IN=_e("check",LN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vg=_e("chevron-down",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zx=_e("chevron-right",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BN=_e("chevron-up",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ts=_e("circle-check-big",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uf=_e("circle-x",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],GN=_e("clipboard-list",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Mo=_e("clock",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xo=_e("database",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Oa=_e("dollar-sign",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],KN=_e("download",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],df=_e("eye",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Os=_e("factory",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rd=_e("file-text",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tS=_e("funnel",eS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nS=_e("house",aS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lS=_e("image",sS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gg=_e("mail",rS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ml=_e("map-pin",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],cS=_e("menu",oS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Gd=_e("message-circle",uS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Yg=_e("message-square",dS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Za=_e("package",fS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$g=_e("phone",mS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gt=_e("plus",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xS=_e("save",pS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tn=_e("search",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vS=_e("send",yS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yd=_e("settings",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Do=_e("shopping-cart",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ns=_e("square-pen",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wa=_e("trash-2",SS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Wx=_e("trending-down",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Oo=_e("trending-up",CS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ff=_e("triangle-alert",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qg=_e("truck",ES);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],MS=_e("upload",TS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$d=_e("user-check",DS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=_e("user",OS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_o=_e("users",RS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ko=_e("x",_S);function Jx(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Gr(...s){return r=>{let i=!1;const o=s.map(d=>{const f=Jx(d,r);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():Jx(s[d],null)}}}}function it(...s){return j.useCallback(Gr(...s),s)}var kS=Symbol.for("react.lazy"),Po=cf[" use ".trim().toString()];function PS(s){return typeof s=="object"&&s!==null&&"then"in s}function Xg(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===kS&&"_payload"in s&&PS(s._payload)}function Kg(s){const r=LS(s),i=j.forwardRef((o,d)=>{let{children:f,...h}=o;Xg(f)&&typeof Po=="function"&&(f=Po(f._payload));const p=j.Children.toArray(f),g=p.find(zS);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}var Zg=Kg("Slot");function LS(s){const r=j.forwardRef((i,o)=>{let{children:d,...f}=i;if(Xg(d)&&typeof Po=="function"&&(d=Po(d._payload)),j.isValidElement(d)){const h=qS(d),p=US(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Gr(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var IS=Symbol("radix.slottable");function zS(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===IS}function US(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function qS(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Wg(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(r=0;r<d;r++)s[r]&&(i=Wg(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function Jg(){for(var s,r,i=0,o="",d=arguments.length;i<d;i++)(s=arguments[i])&&(r=Wg(s))&&(o&&(o+=" "),o+=r);return o}const eg=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,tg=Jg,ey=(s,r)=>i=>{var o;if((r==null?void 0:r.variants)==null)return tg(s,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:d,defaultVariants:f}=r,h=Object.keys(d).map(m=>{const x=i==null?void 0:i[m],v=f==null?void 0:f[m];if(x===null)return null;const b=eg(x)||eg(v);return d[m][b]}),p=i&&Object.entries(i).reduce((m,x)=>{let[v,b]=x;return b===void 0||(m[v]=b),m},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((m,x)=>{let{class:v,className:b,...N}=x;return Object.entries(N).every(E=>{let[S,w]=E;return Array.isArray(w)?w.includes({...f,...p}[S]):{...f,...p}[S]===w})?[...m,v,b]:m},[]);return tg(s,h,g,i==null?void 0:i.class,i==null?void 0:i.className)},BS=(s,r)=>{const i=new Array(s.length+r.length);for(let o=0;o<s.length;o++)i[o]=s[o];for(let o=0;o<r.length;o++)i[s.length+o]=r[o];return i},HS=(s,r)=>({classGroupId:s,validator:r}),ty=(s=new Map,r=null,i)=>({nextPart:s,validators:r,classGroupId:i}),Lo="-",ag=[],FS="arbitrary..",VS=s=>{const r=YS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return GS(h);const p=h.split(Lo),g=p[0]===""&&p.length>1?1:0;return ay(p,g,r)},getConflictingClassGroupIds:(h,p)=>{if(p){const g=o[h],m=i[h];return g?m?BS(m,g):g:m||ag}return i[h]||ag}}},ay=(s,r,i)=>{if(s.length-r===0)return i.classGroupId;const d=s[r],f=i.nextPart.get(d);if(f){const m=ay(s,r+1,f);if(m)return m}const h=i.validators;if(h===null)return;const p=r===0?s.join(Lo):s.slice(r).join(Lo),g=h.length;for(let m=0;m<g;m++){const x=h[m];if(x.validator(p))return x.classGroupId}},GS=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=s.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?FS+o:void 0})(),YS=s=>{const{theme:r,classGroups:i}=s;return $S(i,r)},$S=(s,r)=>{const i=ty();for(const o in s){const d=s[o];mf(d,i,o,r)}return i},mf=(s,r,i,o)=>{const d=s.length;for(let f=0;f<d;f++){const h=s[f];QS(h,r,i,o)}},QS=(s,r,i,o)=>{if(typeof s=="string"){XS(s,r,i);return}if(typeof s=="function"){KS(s,r,i,o);return}ZS(s,r,i,o)},XS=(s,r,i)=>{const o=s===""?r:ny(r,s);o.classGroupId=i},KS=(s,r,i,o)=>{if(WS(s)){mf(s(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(HS(i,s))},ZS=(s,r,i,o)=>{const d=Object.entries(s),f=d.length;for(let h=0;h<f;h++){const[p,g]=d[h];mf(g,ny(r,p),i,o)}},ny=(s,r)=>{let i=s;const o=r.split(Lo),d=o.length;for(let f=0;f<d;f++){const h=o[f];let p=i.nextPart.get(h);p||(p=ty(),i.nextPart.set(h,p)),i=p}return i},WS=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,JS=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const d=(f,h)=>{i[f]=h,r++,r>s&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return d(f,h),h},set(f,h){f in i?i[f]=h:d(f,h)}}},Qd="!",ng=":",ew=[],sg=(s,r,i,o,d)=>({modifiers:s,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:d}),tw=s=>{const{prefix:r,experimentalParseClassName:i}=s;let o=d=>{const f=[];let h=0,p=0,g=0,m;const x=d.length;for(let S=0;S<x;S++){const w=d[S];if(h===0&&p===0){if(w===ng){f.push(d.slice(g,S)),g=S+1;continue}if(w==="/"){m=S;continue}}w==="["?h++:w==="]"?h--:w==="("?p++:w===")"&&p--}const v=f.length===0?d:d.slice(g);let b=v,N=!1;v.endsWith(Qd)?(b=v.slice(0,-1),N=!0):v.startsWith(Qd)&&(b=v.slice(1),N=!0);const E=m&&m>g?m-g:void 0;return sg(f,N,b,E)};if(r){const d=r+ng,f=o;o=h=>h.startsWith(d)?f(h.slice(d.length)):sg(ew,!1,h,void 0,!0)}if(i){const d=o;o=f=>i({className:f,parseClassName:d})}return o},aw=s=>{const r=new Map;return s.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let d=[];for(let f=0;f<i.length;f++){const h=i[f],p=h[0]==="[",g=r.has(h);p||g?(d.length>0&&(d.sort(),o.push(...d),d=[]),o.push(h)):d.push(h)}return d.length>0&&(d.sort(),o.push(...d)),o}},nw=s=>({cache:JS(s.cacheSize),parseClassName:tw(s),sortModifiers:aw(s),...VS(s)}),sw=/\s+/,lw=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:d,sortModifiers:f}=r,h=[],p=s.trim().split(sw);let g="";for(let m=p.length-1;m>=0;m-=1){const x=p[m],{isExternal:v,modifiers:b,hasImportantModifier:N,baseClassName:E,maybePostfixModifierPosition:S}=i(x);if(v){g=x+(g.length>0?" "+g:g);continue}let w=!!S,P=o(w?E.substring(0,S):E);if(!P){if(!w){g=x+(g.length>0?" "+g:g);continue}if(P=o(E),!P){g=x+(g.length>0?" "+g:g);continue}w=!1}const R=b.length===0?"":b.length===1?b[0]:f(b).join(":"),T=N?R+Qd:R,_=T+P;if(h.indexOf(_)>-1)continue;h.push(_);const A=d(P,w);for(let k=0;k<A.length;++k){const U=A[k];h.push(T+U)}g=x+(g.length>0?" "+g:g)}return g},rw=(...s)=>{let r=0,i,o,d="";for(;r<s.length;)(i=s[r++])&&(o=sy(i))&&(d&&(d+=" "),d+=o);return d},sy=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=sy(s[o]))&&(i&&(i+=" "),i+=r);return i},iw=(s,...r)=>{let i,o,d,f;const h=g=>{const m=r.reduce((x,v)=>v(x),s());return i=nw(m),o=i.cache.get,d=i.cache.set,f=p,p(g)},p=g=>{const m=o(g);if(m)return m;const x=lw(g,i);return d(g,x),x};return f=h,(...g)=>f(rw(...g))},ow=[],Ot=s=>{const r=i=>i[s]||ow;return r.isThemeGetter=!0,r},ly=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ry=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cw=/^\d+\/\d+$/,uw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cl=s=>cw.test(s),Be=s=>!!s&&!Number.isNaN(Number(s)),Jn=s=>!!s&&Number.isInteger(Number(s)),_d=s=>s.endsWith("%")&&Be(s.slice(0,-1)),Sn=s=>uw.test(s),pw=()=>!0,xw=s=>dw.test(s)&&!fw.test(s),iy=()=>!1,gw=s=>mw.test(s),yw=s=>hw.test(s),vw=s=>!we(s)&&!Ce(s),jw=s=>Pl(s,uy,iy),we=s=>ly.test(s),Es=s=>Pl(s,dy,xw),kd=s=>Pl(s,Cw,Be),lg=s=>Pl(s,oy,iy),bw=s=>Pl(s,cy,yw),go=s=>Pl(s,fy,gw),Ce=s=>ry.test(s),Lr=s=>Ll(s,dy),Nw=s=>Ll(s,Aw),rg=s=>Ll(s,oy),Sw=s=>Ll(s,uy),ww=s=>Ll(s,cy),yo=s=>Ll(s,fy,!0),Pl=(s,r,i)=>{const o=ly.exec(s);return o?o[1]?r(o[1]):i(o[2]):!1},Ll=(s,r,i=!1)=>{const o=ry.exec(s);return o?o[1]?r(o[1]):i:!1},oy=s=>s==="position"||s==="percentage",cy=s=>s==="image"||s==="url",uy=s=>s==="length"||s==="size"||s==="bg-size",dy=s=>s==="length",Cw=s=>s==="number",Aw=s=>s==="family-name",fy=s=>s==="shadow",Ew=()=>{const s=Ot("color"),r=Ot("font"),i=Ot("text"),o=Ot("font-weight"),d=Ot("tracking"),f=Ot("leading"),h=Ot("breakpoint"),p=Ot("container"),g=Ot("spacing"),m=Ot("radius"),x=Ot("shadow"),v=Ot("inset-shadow"),b=Ot("text-shadow"),N=Ot("drop-shadow"),E=Ot("blur"),S=Ot("perspective"),w=Ot("aspect"),P=Ot("ease"),R=Ot("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[..._(),Ce,we],k=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],G=()=>[Ce,we,g],se=()=>[Cl,"full","auto",...G()],H=()=>[Jn,"none","subgrid",Ce,we],F=()=>["auto",{span:["full",Jn,Ce,we]},Jn,Ce,we],ee=()=>[Jn,"auto",Ce,we],Y=()=>["auto","min","max","fr",Ce,we],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...G()],I=()=>[Cl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],O=()=>[s,Ce,we],Q=()=>[..._(),rg,lg,{position:[Ce,we]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",Sw,jw,{size:[Ce,we]}],W=()=>[_d,Lr,Es],ie=()=>["","none","full",m,Ce,we],fe=()=>["",Be,Lr,Es],V=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Be,_d,rg,lg],Me=()=>["","none",E,Ce,we],X=()=>["none",Be,Ce,we],xe=()=>["none",Be,Ce,we],ve=()=>[Be,Ce,we],Te=()=>[Cl,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sn],breakpoint:[Sn],color:[pw],container:[Sn],"drop-shadow":[Sn],ease:["in","out","in-out"],font:[vw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sn],shadow:[Sn],spacing:["px",Be],text:[Sn],"text-shadow":[Sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cl,we,Ce,w]}],container:["container"],columns:[{columns:[Be,we,Ce,p]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[Jn,"auto",Ce,we]}],basis:[{basis:[Cl,"full","auto",p,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Cl,"auto","initial","none",we]}],grow:[{grow:["",Be,Ce,we]}],shrink:[{shrink:["",Be,Ce,we]}],order:[{order:[Jn,"first","last","none",Ce,we]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[p,"screen",...I()]}],"min-w":[{"min-w":[p,"screen","none",...I()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",i,Lr,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Ce,kd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_d,we]}],"font-family":[{font:[Nw,we,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,Ce,we]}],"line-clamp":[{"line-clamp":[Be,"none",Ce,kd]}],leading:[{leading:[f,...G()]}],"list-image":[{"list-image":["none",Ce,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Ce,Es]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Be,"auto",Ce,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jn,Ce,we],radial:["",Ce,we],conic:[Jn,Ce,we]},ww,bw]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Ce,we]}],"outline-w":[{outline:["",Be,Lr,Es]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",x,yo,go]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,yo,go]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Be,Es]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",b,yo,go]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Be,Ce,we]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Ce,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,we]}],filter:[{filter:["","none",Ce,we]}],blur:[{blur:Me()}],brightness:[{brightness:[Be,Ce,we]}],contrast:[{contrast:[Be,Ce,we]}],"drop-shadow":[{"drop-shadow":["","none",N,yo,go]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Be,Ce,we]}],"hue-rotate":[{"hue-rotate":[Be,Ce,we]}],invert:[{invert:["",Be,Ce,we]}],saturate:[{saturate:[Be,Ce,we]}],sepia:[{sepia:["",Be,Ce,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,we]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Ce,we]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Ce,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Ce,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Ce,we]}],"backdrop-invert":[{"backdrop-invert":["",Be,Ce,we]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Ce,we]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Ce,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Ce,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Ce,we]}],ease:[{ease:["linear","initial",P,Ce,we]}],delay:[{delay:[Be,Ce,we]}],animate:[{animate:["none",R,Ce,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Ce,we]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Ce,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,we]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Be,Lr,Es,kd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Tw=iw(Ew);function He(...s){return Tw(Jg(s))}function Ie(s){return s==null?"NPR 0":`NPR ${Number(s).toLocaleString("en-NP")}`}function Ia(s){return s?new Date(s).toLocaleDateString("en-NP",{year:"numeric",month:"short",day:"numeric"}):""}function ig(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function og(s){return/^(\+977)?[0-9]{10}$/.test(s.replace(/\s/g,""))}function my(s,r){const i=s.replace(/\D/g,""),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function Mw(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||""}const Re={PENDING_APPROVAL:{value:"pending_approval",label:"Pending Approval",color:"orange"},QUEUED:{value:"queued_for_production",label:"Queued for Production",color:"yellow"},IN_CONSTRUCTION:{value:"in_construction",label:"In Construction",color:"blue"},PENDING_INSPECTION:{value:"pending_final_inspection",label:"Pending Final Inspection",color:"purple"},COMPLETED:{value:"completed",label:"Completed",color:"green"}};function cg(s){switch(s){case Re.COMPLETED.value:return"text-green-600 bg-green-100";case Re.PENDING_APPROVAL.value:return"text-orange-600 bg-orange-100";case Re.QUEUED.value:return"text-yellow-600 bg-yellow-100";case Re.IN_CONSTRUCTION.value:return"text-blue-600 bg-blue-100";case Re.PENDING_INSPECTION.value:return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}}const hy={supplierPayment:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

Dear ${r},

This is a confirmation for our recent transaction.

*Items Received:*
${i.map(h=>`- ${h.name}: ${h.quantity} ${h.unit}`).join(`
`)}

*Financials:*
- Amount Paid Today: ${Ie(o)}
- Remaining Balance: ${Ie(d)}

${f?"A copy of the payment receipt is attached.":""}

Thank you!

*${s.name}*
${s.phone}`,customerPaymentReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder that your payment of ${Ie(i)} is due on ${Ia(o)}.

Thank you for your business!

*${s.name}*
${s.address}
${s.phone}`,cleaningReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder from *${s.name}* about your sofa cleaning appointment tomorrow at ${o}.

We look forward to serving you!

Sincerely,
*The Team at ${s.name}*
${s.address}
${s.phone}`,accountSettlement:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

*Subject: Statement of Account Settlement*

Dear ${r},

This is a confirmation from *${s.name}* that we have settled our mutual accounts.

*Summary:*
- Amount you were owed: ${Ie(i)}
- Amount you owed us: ${Ie(o)}

*Settlement:*
- The ${Ie(i)} you were owed has been settled against the ${Ie(o)} you owed us.

*FINAL RESULT:*
${d===0?"- Account settled. Balance is 0.":f?`- Your new remaining balance due to us is ${Ie(Math.abs(d))}.`:`- Our new remaining balance due to you is ${Ie(Math.abs(d))}.`}

Thank you.

*${s.name}*
${s.phone}`,orderStatus:(s,r,i,o)=>{let d="";switch(o){case Re.PENDING_APPROVAL.value:d=`Your order #${i} has been received and is awaiting final approval. We will notify you when it is queued for production.`;break;case Re.QUEUED.value:d=`Great news, ${r}! Your order #${i} has been approved and is now queued for production. We will begin construction soon.`;break;case Re.IN_CONSTRUCTION.value:d=`Production has started! Your order #${i} is now in construction. We are working hard to craft your items.`;break;case Re.PENDING_INSPECTION.value:d=`Your order #${i} is complete and is now undergoing final quality inspection. We will notify you when it is ready for delivery.`;break;case Re.COMPLETED.value:d=`Congratulations, ${r}! Your order #${i} is complete and ready for delivery/pickup. Please contact us to arrange the final steps.`;break;default:d=`The status of your order #${i} has been updated to "${o}".`}return`*${s.name}*

Hi ${r},

${d}

Thank you for your business!

*${s.name}*
${s.phone}`},monthlyLabourReport:(s,r,i,o)=>`*${s.name}*

The Monthly Labour Report for ${Mw(r)} ${i} is ready.

Total payroll for the month: ${Ie(o)}

Please review the detailed report in the app.

*${s.name}*`},Dw=ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ce({className:s,variant:r,size:i,asChild:o=!1,...d}){const f=o?Zg:"button";return a.jsx(f,{"data-slot":"button",className:He(Dw({variant:r,size:i,className:s})),...d})}const Ow=ey("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:s,variant:r,asChild:i=!1,...o}){const d=i?Zg:"span";return a.jsx(d,{"data-slot":"badge",className:He(Ow({variant:r}),s),...o})}const Rw=[{id:"dashboard",label:"Dashboard",icon:nS,roles:["admin","staff","labour_manager"]},{id:"inventory",label:"Inventory",icon:Za,roles:["admin","staff","labour_manager"],children:[{id:"raw-materials",label:"Raw Materials",icon:Os},{id:"finished-products",label:"Finished Products",icon:Za}]},{id:"suppliers",label:"Suppliers",icon:Qg,roles:["admin","staff"]},{id:"customers",label:"Customers",icon:_o,roles:["admin","staff"]},{id:"labour",label:"Labour",icon:$d,roles:["admin","labour_manager"]},{id:"sales",label:"Sales",icon:Do,roles:["admin","staff"]},{id:"purchases",label:"Purchases",icon:Oa,roles:["admin","staff"]},{id:"financials",label:"Financials",icon:Kx,roles:["admin"]},{id:"cleaning",label:"Cleaning Services",icon:as,roles:["admin","staff"]},{id:"orders",label:"Orders",icon:Do,roles:["admin","staff"]},{id:"production",label:"Production",icon:Os,roles:["admin","staff","labour_manager"]},{id:"reports",label:"Reports",icon:Kx,roles:["admin","labour_manager"]},{id:"notifications",label:"Notifications",icon:Rl,roles:["admin","staff"],children:[{id:"notification-queue",label:"Notification Queue",icon:Rl},{id:"notification-settings",label:"Settings",icon:Yd}]},{id:"settings",label:"Settings",icon:Yd,roles:["admin"]}];function _w(){var v,b;const{state:s,actions:r}=yt(),{sidebarOpen:i,currentView:o,notifications:d,user:f}=s,h=f,p=d.filter(N=>!N.read).length,g=N=>h?N.roles.includes(h.role):!1,m=N=>{r.setCurrentView(N),window.innerWidth<768&&r.setSidebarOpen(!1)},x=()=>{r.setSidebarOpen(!i)};return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r.setSidebarOpen(!1)}),a.jsxs("div",{className:He("fixed left-0 top-0 h-full bg-slate-800 text-white z-50 transform transition-transform duration-300 ease-in-out","w-64 md:w-72",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0"),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:a.jsx(Os,{className:"w-5 h-5 text-slate-800"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Sofa Factory"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:x,className:"md:hidden text-white hover:bg-slate-700",children:a.jsx(ko,{className:"w-4 h-4"})})]}),h&&a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium",children:((b=(v=h.name)==null?void 0:v.charAt(0))==null?void 0:b.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),a.jsx("p",{className:"text-xs text-slate-400 capitalize",children:h.role.replace("_"," ")})]}),p>0&&a.jsx(Pe,{variant:"destructive",className:"text-xs",children:p})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("ul",{className:"space-y-2",children:Rw.map(N=>{if(!g(N))return null;const E=N.icon,S=o===N.id||N.children&&N.children.some(w=>o===w.id);return a.jsxs("li",{children:[a.jsxs(ce,{variant:"ghost",className:He("w-full justify-start text-left hover:bg-slate-700",S&&"bg-slate-700 text-amber-400"),onClick:()=>m(N.id),children:[a.jsx(E,{className:"w-4 h-4 mr-3"}),N.label,N.id==="dashboard"&&p>0&&a.jsx(Pe,{variant:"destructive",className:"ml-auto text-xs",children:p})]}),N.children&&S&&a.jsx("ul",{className:"ml-6 mt-2 space-y-1",children:N.children.map(w=>{const P=w.icon,R=o===w.id;return a.jsx("li",{children:a.jsxs(ce,{variant:"ghost",size:"sm",className:He("w-full justify-start text-left hover:bg-slate-700",R&&"bg-slate-600 text-amber-400"),onClick:()=>m(w.id),children:[a.jsx(P,{className:"w-3 h-3 mr-2"}),w.label]})},w.id)})})]},N.id)})})}),a.jsx("div",{className:"p-4 border-t border-slate-700",children:a.jsxs(ce,{variant:"ghost",className:"w-full justify-start text-left hover:bg-slate-700 text-slate-400",onClick:r.logout,children:[a.jsx(Yd,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]})}function kw(){const{actions:s}=yt();return a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>s.setSidebarOpen(!0),className:"md:hidden",children:a.jsx(cS,{className:"w-5 h-5"})})}var Yr=qg();const Pw=Ug(Yr);function ug(s,[r,i]){return Math.min(i,Math.max(r,s))}function Ee(s,r,{checkForDefaultPrevented:i=!0}={}){return function(d){if(s==null||s(d),i===!1||!d.defaultPrevented)return r==null?void 0:r(d)}}function Lw(s,r){const i=j.createContext(r),o=f=>{const{children:h,...p}=f,g=j.useMemo(()=>p,Object.values(p));return a.jsx(i.Provider,{value:g,children:h})};o.displayName=s+"Provider";function d(f){const h=j.useContext(i);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[o,d]}function An(s,r=[]){let i=[];function o(f,h){const p=j.createContext(h),g=i.length;i=[...i,h];const m=v=>{var P;const{scope:b,children:N,...E}=v,S=((P=b==null?void 0:b[s])==null?void 0:P[g])||p,w=j.useMemo(()=>E,Object.values(E));return a.jsx(S.Provider,{value:w,children:N})};m.displayName=f+"Provider";function x(v,b){var S;const N=((S=b==null?void 0:b[s])==null?void 0:S[g])||p,E=j.useContext(N);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${f}\``)}return[m,x]}const d=()=>{const f=i.map(h=>j.createContext(h));return function(p){const g=(p==null?void 0:p[s])||f;return j.useMemo(()=>({[`__scope${s}`]:{...p,[s]:g}}),[p,g])}};return d.scopeName=s,[o,Iw(d,...r)]}function Iw(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const h=o.reduce((p,{useScope:g,scopeName:m})=>{const v=g(f)[`__scope${m}`];return{...p,...v}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:h}),[h])}};return i.scopeName=r.scopeName,i}function _l(s){const r=zw(s),i=j.forwardRef((o,d)=>{const{children:f,...h}=o,p=j.Children.toArray(f),g=p.find(qw);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}function zw(s){const r=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const h=Hw(d),p=Bw(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Gr(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var Uw=Symbol("radix.slottable");function qw(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Uw}function Bw(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function Hw(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function hf(s){const r=s+"CollectionProvider",[i,o]=An(r),[d,f]=i(r,{collectionRef:{current:null},itemMap:new Map}),h=S=>{const{scope:w,children:P}=S,R=Da.useRef(null),T=Da.useRef(new Map).current;return a.jsx(d,{scope:w,itemMap:T,collectionRef:R,children:P})};h.displayName=r;const p=s+"CollectionSlot",g=_l(p),m=Da.forwardRef((S,w)=>{const{scope:P,children:R}=S,T=f(p,P),_=it(w,T.collectionRef);return a.jsx(g,{ref:_,children:R})});m.displayName=p;const x=s+"CollectionItemSlot",v="data-radix-collection-item",b=_l(x),N=Da.forwardRef((S,w)=>{const{scope:P,children:R,...T}=S,_=Da.useRef(null),A=it(w,_),k=f(x,P);return Da.useEffect(()=>(k.itemMap.set(_,{ref:_,...T}),()=>void k.itemMap.delete(_))),a.jsx(b,{[v]:"",ref:A,children:R})});N.displayName=x;function E(S){const w=f(s+"CollectionConsumer",S);return Da.useCallback(()=>{const R=w.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(w.itemMap.values()).sort((k,U)=>T.indexOf(k.ref.current)-T.indexOf(U.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:h,Slot:m,ItemSlot:N},E,o]}var Fw=j.createContext(void 0);function Go(s){const r=j.useContext(Fw);return s||r||"ltr"}var Vw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=Vw.reduce((s,r)=>{const i=_l(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function py(s,r){s&&Yr.flushSync(()=>s.dispatchEvent(r))}function Ja(s){const r=j.useRef(s);return j.useEffect(()=>{r.current=s}),j.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Gw(s,r=globalThis==null?void 0:globalThis.document){const i=Ja(s);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Yw="DismissableLayer",Xd="dismissableLayer.update",$w="dismissableLayer.pointerDownOutside",Qw="dismissableLayer.focusOutside",dg,xy=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yo=j.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,...g}=s,m=j.useContext(xy),[x,v]=j.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=j.useState({}),E=it(r,U=>v(U)),S=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=S.indexOf(w),R=x?S.indexOf(x):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,_=R>=P,A=Zw(U=>{const G=U.target,se=[...m.branches].some(H=>H.contains(G));!_||se||(d==null||d(U),h==null||h(U),U.defaultPrevented||p==null||p())},b),k=Ww(U=>{const G=U.target;[...m.branches].some(H=>H.contains(G))||(f==null||f(U),h==null||h(U),U.defaultPrevented||p==null||p())},b);return Gw(U=>{R===m.layers.size-1&&(o==null||o(U),!U.defaultPrevented&&p&&(U.preventDefault(),p()))},b),j.useEffect(()=>{if(x)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),fg(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=dg)}},[x,b,i,m]),j.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),fg())},[x,m]),j.useEffect(()=>{const U=()=>N({});return document.addEventListener(Xd,U),()=>document.removeEventListener(Xd,U)},[]),a.jsx(qe.div,{...g,ref:E,style:{pointerEvents:T?_?"auto":"none":void 0,...s.style},onFocusCapture:Ee(s.onFocusCapture,k.onFocusCapture),onBlurCapture:Ee(s.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ee(s.onPointerDownCapture,A.onPointerDownCapture)})});Yo.displayName=Yw;var Xw="DismissableLayerBranch",Kw=j.forwardRef((s,r)=>{const i=j.useContext(xy),o=j.useRef(null),d=it(r,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),a.jsx(qe.div,{...s,ref:d})});Kw.displayName=Xw;function Zw(s,r=globalThis==null?void 0:globalThis.document){const i=Ja(s),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=p=>{if(p.target&&!o.current){let g=function(){gy($w,i,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=g,r.addEventListener("click",d.current,{once:!0})):g()}else r.removeEventListener("click",d.current);o.current=!1},h=window.setTimeout(()=>{r.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(h),r.removeEventListener("pointerdown",f),r.removeEventListener("click",d.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Ww(s,r=globalThis==null?void 0:globalThis.document){const i=Ja(s),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&gy(Qw,i,{originalEvent:f},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function fg(){const s=new CustomEvent(Xd);document.dispatchEvent(s)}function gy(s,r,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&d.addEventListener(s,r,{once:!0}),o?py(d,f):d.dispatchEvent(f)}var Pd=0;function pf(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??mg()),document.body.insertAdjacentElement("beforeend",s[1]??mg()),Pd++,()=>{Pd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Pd--}},[])}function mg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Ld="focusScope.autoFocusOnMount",Id="focusScope.autoFocusOnUnmount",hg={bubbles:!1,cancelable:!0},Jw="FocusScope",$o=j.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...h}=s,[p,g]=j.useState(null),m=Ja(d),x=Ja(f),v=j.useRef(null),b=it(r,S=>g(S)),N=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let S=function(T){if(N.paused||!p)return;const _=T.target;p.contains(_)?v.current=_:es(v.current,{select:!0})},w=function(T){if(N.paused||!p)return;const _=T.relatedTarget;_!==null&&(p.contains(_)||es(v.current,{select:!0}))},P=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&es(p)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const R=new MutationObserver(P);return p&&R.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),R.disconnect()}}},[o,p,N.paused]),j.useEffect(()=>{if(p){xg.add(N);const S=document.activeElement;if(!p.contains(S)){const P=new CustomEvent(Ld,hg);p.addEventListener(Ld,m),p.dispatchEvent(P),P.defaultPrevented||(e1(l1(yy(p)),{select:!0}),document.activeElement===S&&es(p))}return()=>{p.removeEventListener(Ld,m),setTimeout(()=>{const P=new CustomEvent(Id,hg);p.addEventListener(Id,x),p.dispatchEvent(P),P.defaultPrevented||es(S??document.body,{select:!0}),p.removeEventListener(Id,x),xg.remove(N)},0)}}},[p,m,x,N]);const E=j.useCallback(S=>{if(!i&&!o||N.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,P=document.activeElement;if(w&&P){const R=S.currentTarget,[T,_]=t1(R);T&&_?!S.shiftKey&&P===_?(S.preventDefault(),i&&es(T,{select:!0})):S.shiftKey&&P===T&&(S.preventDefault(),i&&es(_,{select:!0})):P===R&&S.preventDefault()}},[i,o,N.paused]);return a.jsx(qe.div,{tabIndex:-1,...h,ref:b,onKeyDown:E})});$o.displayName=Jw;function e1(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(es(o,{select:r}),document.activeElement!==i)return}function t1(s){const r=yy(s),i=pg(r,s),o=pg(r.reverse(),s);return[i,o]}function yy(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function pg(s,r){for(const i of s)if(!a1(i,{upTo:r}))return i}function a1(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function n1(s){return s instanceof HTMLInputElement&&"select"in s}function es(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&n1(s)&&r&&s.select()}}var xg=s1();function s1(){let s=[];return{add(r){const i=s[0];r!==i&&(i==null||i.pause()),s=gg(s,r),s.unshift(r)},remove(r){var i;s=gg(s,r),(i=s[0])==null||i.resume()}}}function gg(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function l1(s){return s.filter(r=>r.tagName!=="A")}var Qt=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},r1=cf[" useId ".trim().toString()]||(()=>{}),i1=0;function Xa(s){const[r,i]=j.useState(r1());return Qt(()=>{i(o=>o??String(i1++))},[s]),s||(r?`radix-${r}`:"")}const o1=["top","right","bottom","left"],ss=Math.min,ga=Math.max,Io=Math.round,vo=Math.floor,Ka=s=>({x:s,y:s}),c1={left:"right",right:"left",bottom:"top",top:"bottom"},u1={start:"end",end:"start"};function Kd(s,r,i){return ga(s,ss(r,i))}function wn(s,r){return typeof s=="function"?s(r):s}function Cn(s){return s.split("-")[0]}function Il(s){return s.split("-")[1]}function xf(s){return s==="x"?"y":"x"}function gf(s){return s==="y"?"height":"width"}const d1=new Set(["top","bottom"]);function Qa(s){return d1.has(Cn(s))?"y":"x"}function yf(s){return xf(Qa(s))}function f1(s,r,i){i===void 0&&(i=!1);const o=Il(s),d=yf(s),f=gf(d);let h=d==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[f]>r.floating[f]&&(h=zo(h)),[h,zo(h)]}function m1(s){const r=zo(s);return[Zd(s),r,Zd(r)]}function Zd(s){return s.replace(/start|end/g,r=>u1[r])}const yg=["left","right"],vg=["right","left"],h1=["top","bottom"],p1=["bottom","top"];function x1(s,r,i){switch(s){case"top":case"bottom":return i?r?vg:yg:r?yg:vg;case"left":case"right":return r?h1:p1;default:return[]}}function g1(s,r,i,o){const d=Il(s);let f=x1(Cn(s),i==="start",o);return d&&(f=f.map(h=>h+"-"+d),r&&(f=f.concat(f.map(Zd)))),f}function zo(s){return s.replace(/left|right|bottom|top/g,r=>c1[r])}function y1(s){return{top:0,right:0,bottom:0,left:0,...s}}function vy(s){return typeof s!="number"?y1(s):{top:s,right:s,bottom:s,left:s}}function Uo(s){const{x:r,y:i,width:o,height:d}=s;return{width:o,height:d,top:i,left:r,right:r+o,bottom:i+d,x:r,y:i}}function jg(s,r,i){let{reference:o,floating:d}=s;const f=Qa(r),h=yf(r),p=gf(h),g=Cn(r),m=f==="y",x=o.x+o.width/2-d.width/2,v=o.y+o.height/2-d.height/2,b=o[p]/2-d[p]/2;let N;switch(g){case"top":N={x,y:o.y-d.height};break;case"bottom":N={x,y:o.y+o.height};break;case"right":N={x:o.x+o.width,y:v};break;case"left":N={x:o.x-d.width,y:v};break;default:N={x:o.x,y:o.y}}switch(Il(r)){case"start":N[h]-=b*(i&&m?-1:1);break;case"end":N[h]+=b*(i&&m?-1:1);break}return N}const v1=async(s,r,i)=>{const{placement:o="bottom",strategy:d="absolute",middleware:f=[],platform:h}=i,p=f.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(r));let m=await h.getElementRects({reference:s,floating:r,strategy:d}),{x,y:v}=jg(m,o,g),b=o,N={},E=0;for(let S=0;S<p.length;S++){const{name:w,fn:P}=p[S],{x:R,y:T,data:_,reset:A}=await P({x,y:v,initialPlacement:o,placement:b,strategy:d,middlewareData:N,rects:m,platform:h,elements:{reference:s,floating:r}});x=R??x,v=T??v,N={...N,[w]:{...N[w],..._}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(m=A.rects===!0?await h.getElementRects({reference:s,floating:r,strategy:d}):A.rects),{x,y:v}=jg(m,b,g)),S=-1)}return{x,y:v,placement:b,strategy:d,middlewareData:N}};async function Br(s,r){var i;r===void 0&&(r={});const{x:o,y:d,platform:f,rects:h,elements:p,strategy:g}=s,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:b=!1,padding:N=0}=wn(r,s),E=vy(N),w=p[b?v==="floating"?"reference":"floating":v],P=Uo(await f.getClippingRect({element:(i=await(f.isElement==null?void 0:f.isElement(w)))==null||i?w:w.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(p.floating)),boundary:m,rootBoundary:x,strategy:g})),R=v==="floating"?{x:o,y:d,width:h.floating.width,height:h.floating.height}:h.reference,T=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p.floating)),_=await(f.isElement==null?void 0:f.isElement(T))?await(f.getScale==null?void 0:f.getScale(T))||{x:1,y:1}:{x:1,y:1},A=Uo(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:R,offsetParent:T,strategy:g}):R);return{top:(P.top-A.top+E.top)/_.y,bottom:(A.bottom-P.bottom+E.bottom)/_.y,left:(P.left-A.left+E.left)/_.x,right:(A.right-P.right+E.right)/_.x}}const j1=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:d,rects:f,platform:h,elements:p,middlewareData:g}=r,{element:m,padding:x=0}=wn(s,r)||{};if(m==null)return{};const v=vy(x),b={x:i,y:o},N=yf(d),E=gf(N),S=await h.getDimensions(m),w=N==="y",P=w?"top":"left",R=w?"bottom":"right",T=w?"clientHeight":"clientWidth",_=f.reference[E]+f.reference[N]-b[N]-f.floating[E],A=b[N]-f.reference[N],k=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let U=k?k[T]:0;(!U||!await(h.isElement==null?void 0:h.isElement(k)))&&(U=p.floating[T]||f.floating[E]);const G=_/2-A/2,se=U/2-S[E]/2-1,H=ss(v[P],se),F=ss(v[R],se),ee=H,Y=U-S[E]-F,B=U/2-S[E]/2+G,z=Kd(ee,B,Y),M=!g.arrow&&Il(d)!=null&&B!==z&&f.reference[E]/2-(B<ee?H:F)-S[E]/2<0,I=M?B<ee?B-ee:B-Y:0;return{[N]:b[N]+I,data:{[N]:z,centerOffset:B-z-I,...M&&{alignmentOffset:I}},reset:M}}}),b1=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:d,middlewareData:f,rects:h,initialPlacement:p,platform:g,elements:m}=r,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...w}=wn(s,r);if((i=f.arrow)!=null&&i.alignmentOffset)return{};const P=Cn(d),R=Qa(p),T=Cn(p)===p,_=await(g.isRTL==null?void 0:g.isRTL(m.floating)),A=b||(T||!S?[zo(p)]:m1(p)),k=E!=="none";!b&&k&&A.push(...g1(p,S,E,_));const U=[p,...A],G=await Br(r,w),se=[];let H=((o=f.flip)==null?void 0:o.overflows)||[];if(x&&se.push(G[P]),v){const B=f1(d,h,_);se.push(G[B[0]],G[B[1]])}if(H=[...H,{placement:d,overflows:se}],!se.every(B=>B<=0)){var F,ee;const B=(((F=f.flip)==null?void 0:F.index)||0)+1,z=U[B];if(z&&(!(v==="alignment"?R!==Qa(z):!1)||H.every(O=>Qa(O.placement)===R?O.overflows[0]>0:!0)))return{data:{index:B,overflows:H},reset:{placement:z}};let M=(ee=H.filter(I=>I.overflows[0]<=0).sort((I,O)=>I.overflows[1]-O.overflows[1])[0])==null?void 0:ee.placement;if(!M)switch(N){case"bestFit":{var Y;const I=(Y=H.filter(O=>{if(k){const Q=Qa(O.placement);return Q===R||Q==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0)]).sort((O,Q)=>O[1]-Q[1])[0])==null?void 0:Y[0];I&&(M=I);break}case"initialPlacement":M=p;break}if(d!==M)return{reset:{placement:M}}}return{}}}};function bg(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function Ng(s){return o1.some(r=>s[r]>=0)}const N1=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...d}=wn(s,r);switch(o){case"referenceHidden":{const f=await Br(r,{...d,elementContext:"reference"}),h=bg(f,i.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ng(h)}}}case"escaped":{const f=await Br(r,{...d,altBoundary:!0}),h=bg(f,i.floating);return{data:{escapedOffsets:h,escaped:Ng(h)}}}default:return{}}}}},jy=new Set(["left","top"]);async function S1(s,r){const{placement:i,platform:o,elements:d}=s,f=await(o.isRTL==null?void 0:o.isRTL(d.floating)),h=Cn(i),p=Il(i),g=Qa(i)==="y",m=jy.has(h)?-1:1,x=f&&g?-1:1,v=wn(r,s);let{mainAxis:b,crossAxis:N,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return p&&typeof E=="number"&&(N=p==="end"?E*-1:E),g?{x:N*x,y:b*m}:{x:b*m,y:N*x}}const w1=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:d,y:f,placement:h,middlewareData:p}=r,g=await S1(r,s);return h===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:d+g.x,y:f+g.y,data:{...g,placement:h}}}}},C1=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:d}=r,{mainAxis:f=!0,crossAxis:h=!1,limiter:p={fn:w=>{let{x:P,y:R}=w;return{x:P,y:R}}},...g}=wn(s,r),m={x:i,y:o},x=await Br(r,g),v=Qa(Cn(d)),b=xf(v);let N=m[b],E=m[v];if(f){const w=b==="y"?"top":"left",P=b==="y"?"bottom":"right",R=N+x[w],T=N-x[P];N=Kd(R,N,T)}if(h){const w=v==="y"?"top":"left",P=v==="y"?"bottom":"right",R=E+x[w],T=E-x[P];E=Kd(R,E,T)}const S=p.fn({...r,[b]:N,[v]:E});return{...S,data:{x:S.x-i,y:S.y-o,enabled:{[b]:f,[v]:h}}}}}},A1=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:d,rects:f,middlewareData:h}=r,{offset:p=0,mainAxis:g=!0,crossAxis:m=!0}=wn(s,r),x={x:i,y:o},v=Qa(d),b=xf(v);let N=x[b],E=x[v];const S=wn(p,r),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(g){const T=b==="y"?"height":"width",_=f.reference[b]-f.floating[T]+w.mainAxis,A=f.reference[b]+f.reference[T]-w.mainAxis;N<_?N=_:N>A&&(N=A)}if(m){var P,R;const T=b==="y"?"width":"height",_=jy.has(Cn(d)),A=f.reference[v]-f.floating[T]+(_&&((P=h.offset)==null?void 0:P[v])||0)+(_?0:w.crossAxis),k=f.reference[v]+f.reference[T]+(_?0:((R=h.offset)==null?void 0:R[v])||0)-(_?w.crossAxis:0);E<A?E=A:E>k&&(E=k)}return{[b]:N,[v]:E}}}},E1=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:d,rects:f,platform:h,elements:p}=r,{apply:g=()=>{},...m}=wn(s,r),x=await Br(r,m),v=Cn(d),b=Il(d),N=Qa(d)==="y",{width:E,height:S}=f.floating;let w,P;v==="top"||v==="bottom"?(w=v,P=b===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(P=v,w=b==="end"?"top":"bottom");const R=S-x.top-x.bottom,T=E-x.left-x.right,_=ss(S-x[w],R),A=ss(E-x[P],T),k=!r.middlewareData.shift;let U=_,G=A;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(G=T),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(U=R),k&&!b){const H=ga(x.left,0),F=ga(x.right,0),ee=ga(x.top,0),Y=ga(x.bottom,0);N?G=E-2*(H!==0||F!==0?H+F:ga(x.left,x.right)):U=S-2*(ee!==0||Y!==0?ee+Y:ga(x.top,x.bottom))}await g({...r,availableWidth:G,availableHeight:U});const se=await h.getDimensions(p.floating);return E!==se.width||S!==se.height?{reset:{rects:!0}}:{}}}};function Qo(){return typeof window<"u"}function zl(s){return by(s)?(s.nodeName||"").toLowerCase():"#document"}function ya(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function an(s){var r;return(r=(by(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function by(s){return Qo()?s instanceof Node||s instanceof ya(s).Node:!1}function za(s){return Qo()?s instanceof Element||s instanceof ya(s).Element:!1}function en(s){return Qo()?s instanceof HTMLElement||s instanceof ya(s).HTMLElement:!1}function Sg(s){return!Qo()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof ya(s).ShadowRoot}const T1=new Set(["inline","contents"]);function $r(s){const{overflow:r,overflowX:i,overflowY:o,display:d}=Ua(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!T1.has(d)}const M1=new Set(["table","td","th"]);function D1(s){return M1.has(zl(s))}const O1=[":popover-open",":modal"];function Xo(s){return O1.some(r=>{try{return s.matches(r)}catch{return!1}})}const R1=["transform","translate","scale","rotate","perspective"],_1=["transform","translate","scale","rotate","perspective","filter"],k1=["paint","layout","strict","content"];function vf(s){const r=jf(),i=za(s)?Ua(s):s;return R1.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||_1.some(o=>(i.willChange||"").includes(o))||k1.some(o=>(i.contain||"").includes(o))}function P1(s){let r=ls(s);for(;en(r)&&!kl(r);){if(vf(r))return r;if(Xo(r))return null;r=ls(r)}return null}function jf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L1=new Set(["html","body","#document"]);function kl(s){return L1.has(zl(s))}function Ua(s){return ya(s).getComputedStyle(s)}function Ko(s){return za(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function ls(s){if(zl(s)==="html")return s;const r=s.assignedSlot||s.parentNode||Sg(s)&&s.host||an(s);return Sg(r)?r.host:r}function Ny(s){const r=ls(s);return kl(r)?s.ownerDocument?s.ownerDocument.body:s.body:en(r)&&$r(r)?r:Ny(r)}function Hr(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const d=Ny(s),f=d===((o=s.ownerDocument)==null?void 0:o.body),h=ya(d);if(f){const p=Wd(h);return r.concat(h,h.visualViewport||[],$r(d)?d:[],p&&i?Hr(p):[])}return r.concat(d,Hr(d,[],i))}function Wd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function Sy(s){const r=Ua(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const d=en(s),f=d?s.offsetWidth:i,h=d?s.offsetHeight:o,p=Io(i)!==f||Io(o)!==h;return p&&(i=f,o=h),{width:i,height:o,$:p}}function bf(s){return za(s)?s:s.contextElement}function Dl(s){const r=bf(s);if(!en(r))return Ka(1);const i=r.getBoundingClientRect(),{width:o,height:d,$:f}=Sy(r);let h=(f?Io(i.width):i.width)/o,p=(f?Io(i.height):i.height)/d;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const I1=Ka(0);function wy(s){const r=ya(s);return!jf()||!r.visualViewport?I1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function z1(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==ya(s)?!1:r}function Rs(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const d=s.getBoundingClientRect(),f=bf(s);let h=Ka(1);r&&(o?za(o)&&(h=Dl(o)):h=Dl(s));const p=z1(f,i,o)?wy(f):Ka(0);let g=(d.left+p.x)/h.x,m=(d.top+p.y)/h.y,x=d.width/h.x,v=d.height/h.y;if(f){const b=ya(f),N=o&&za(o)?ya(o):o;let E=b,S=Wd(E);for(;S&&o&&N!==E;){const w=Dl(S),P=S.getBoundingClientRect(),R=Ua(S),T=P.left+(S.clientLeft+parseFloat(R.paddingLeft))*w.x,_=P.top+(S.clientTop+parseFloat(R.paddingTop))*w.y;g*=w.x,m*=w.y,x*=w.x,v*=w.y,g+=T,m+=_,E=ya(S),S=Wd(E)}}return Uo({width:x,height:v,x:g,y:m})}function Zo(s,r){const i=Ko(s).scrollLeft;return r?r.left+i:Rs(an(s)).left+i}function Cy(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-Zo(s,i),d=i.top+r.scrollTop;return{x:o,y:d}}function U1(s){let{elements:r,rect:i,offsetParent:o,strategy:d}=s;const f=d==="fixed",h=an(o),p=r?Xo(r.floating):!1;if(o===h||p&&f)return i;let g={scrollLeft:0,scrollTop:0},m=Ka(1);const x=Ka(0),v=en(o);if((v||!v&&!f)&&((zl(o)!=="body"||$r(h))&&(g=Ko(o)),en(o))){const N=Rs(o);m=Dl(o),x.x=N.x+o.clientLeft,x.y=N.y+o.clientTop}const b=h&&!v&&!f?Cy(h,g):Ka(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-g.scrollLeft*m.x+x.x+b.x,y:i.y*m.y-g.scrollTop*m.y+x.y+b.y}}function q1(s){return Array.from(s.getClientRects())}function B1(s){const r=an(s),i=Ko(s),o=s.ownerDocument.body,d=ga(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),f=ga(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let h=-i.scrollLeft+Zo(s);const p=-i.scrollTop;return Ua(o).direction==="rtl"&&(h+=ga(r.clientWidth,o.clientWidth)-d),{width:d,height:f,x:h,y:p}}const wg=25;function H1(s,r){const i=ya(s),o=an(s),d=i.visualViewport;let f=o.clientWidth,h=o.clientHeight,p=0,g=0;if(d){f=d.width,h=d.height;const x=jf();(!x||x&&r==="fixed")&&(p=d.offsetLeft,g=d.offsetTop)}const m=Zo(o);if(m<=0){const x=o.ownerDocument,v=x.body,b=getComputedStyle(v),N=x.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(o.clientWidth-v.clientWidth-N);E<=wg&&(f-=E)}else m<=wg&&(f+=m);return{width:f,height:h,x:p,y:g}}const F1=new Set(["absolute","fixed"]);function V1(s,r){const i=Rs(s,!0,r==="fixed"),o=i.top+s.clientTop,d=i.left+s.clientLeft,f=en(s)?Dl(s):Ka(1),h=s.clientWidth*f.x,p=s.clientHeight*f.y,g=d*f.x,m=o*f.y;return{width:h,height:p,x:g,y:m}}function Cg(s,r,i){let o;if(r==="viewport")o=H1(s,i);else if(r==="document")o=B1(an(s));else if(za(r))o=V1(r,i);else{const d=wy(s);o={x:r.x-d.x,y:r.y-d.y,width:r.width,height:r.height}}return Uo(o)}function Ay(s,r){const i=ls(s);return i===r||!za(i)||kl(i)?!1:Ua(i).position==="fixed"||Ay(i,r)}function G1(s,r){const i=r.get(s);if(i)return i;let o=Hr(s,[],!1).filter(p=>za(p)&&zl(p)!=="body"),d=null;const f=Ua(s).position==="fixed";let h=f?ls(s):s;for(;za(h)&&!kl(h);){const p=Ua(h),g=vf(h);!g&&p.position==="fixed"&&(d=null),(f?!g&&!d:!g&&p.position==="static"&&!!d&&F1.has(d.position)||$r(h)&&!g&&Ay(s,h))?o=o.filter(x=>x!==h):d=p,h=ls(h)}return r.set(s,o),o}function Y1(s){let{element:r,boundary:i,rootBoundary:o,strategy:d}=s;const h=[...i==="clippingAncestors"?Xo(r)?[]:G1(r,this._c):[].concat(i),o],p=h[0],g=h.reduce((m,x)=>{const v=Cg(r,x,d);return m.top=ga(v.top,m.top),m.right=ss(v.right,m.right),m.bottom=ss(v.bottom,m.bottom),m.left=ga(v.left,m.left),m},Cg(r,p,d));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function $1(s){const{width:r,height:i}=Sy(s);return{width:r,height:i}}function Q1(s,r,i){const o=en(r),d=an(r),f=i==="fixed",h=Rs(s,!0,f,r);let p={scrollLeft:0,scrollTop:0};const g=Ka(0);function m(){g.x=Zo(d)}if(o||!o&&!f)if((zl(r)!=="body"||$r(d))&&(p=Ko(r)),o){const N=Rs(r,!0,f,r);g.x=N.x+r.clientLeft,g.y=N.y+r.clientTop}else d&&m();f&&!o&&d&&m();const x=d&&!o&&!f?Cy(d,p):Ka(0),v=h.left+p.scrollLeft-g.x-x.x,b=h.top+p.scrollTop-g.y-x.y;return{x:v,y:b,width:h.width,height:h.height}}function zd(s){return Ua(s).position==="static"}function Ag(s,r){if(!en(s)||Ua(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return an(s)===i&&(i=i.ownerDocument.body),i}function Ey(s,r){const i=ya(s);if(Xo(s))return i;if(!en(s)){let d=ls(s);for(;d&&!kl(d);){if(za(d)&&!zd(d))return d;d=ls(d)}return i}let o=Ag(s,r);for(;o&&D1(o)&&zd(o);)o=Ag(o,r);return o&&kl(o)&&zd(o)&&!vf(o)?i:o||P1(s)||i}const X1=async function(s){const r=this.getOffsetParent||Ey,i=this.getDimensions,o=await i(s.floating);return{reference:Q1(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function K1(s){return Ua(s).direction==="rtl"}const Z1={convertOffsetParentRelativeRectToViewportRelativeRect:U1,getDocumentElement:an,getClippingRect:Y1,getOffsetParent:Ey,getElementRects:X1,getClientRects:q1,getDimensions:$1,getScale:Dl,isElement:za,isRTL:K1};function Ty(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function W1(s,r){let i=null,o;const d=an(s);function f(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function h(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),f();const m=s.getBoundingClientRect(),{left:x,top:v,width:b,height:N}=m;if(p||r(),!b||!N)return;const E=vo(v),S=vo(d.clientWidth-(x+b)),w=vo(d.clientHeight-(v+N)),P=vo(x),T={rootMargin:-E+"px "+-S+"px "+-w+"px "+-P+"px",threshold:ga(0,ss(1,g))||1};let _=!0;function A(k){const U=k[0].intersectionRatio;if(U!==g){if(!_)return h();U?h(!1,U):o=setTimeout(()=>{h(!1,1e-7)},1e3)}U===1&&!Ty(m,s.getBoundingClientRect())&&h(),_=!1}try{i=new IntersectionObserver(A,{...T,root:d.ownerDocument})}catch{i=new IntersectionObserver(A,T)}i.observe(s)}return h(!0),f}function J1(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:d=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,m=bf(s),x=d||f?[...m?Hr(m):[],...Hr(r)]:[];x.forEach(P=>{d&&P.addEventListener("scroll",i,{passive:!0}),f&&P.addEventListener("resize",i)});const v=m&&p?W1(m,i):null;let b=-1,N=null;h&&(N=new ResizeObserver(P=>{let[R]=P;R&&R.target===m&&N&&(N.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=N)==null||T.observe(r)})),i()}),m&&!g&&N.observe(m),N.observe(r));let E,S=g?Rs(s):null;g&&w();function w(){const P=Rs(s);S&&!Ty(S,P)&&i(),S=P,E=requestAnimationFrame(w)}return i(),()=>{var P;x.forEach(R=>{d&&R.removeEventListener("scroll",i),f&&R.removeEventListener("resize",i)}),v==null||v(),(P=N)==null||P.disconnect(),N=null,g&&cancelAnimationFrame(E)}}const e2=w1,t2=C1,a2=b1,n2=E1,s2=N1,Eg=j1,l2=A1,r2=(s,r,i)=>{const o=new Map,d={platform:Z1,...i},f={...d.platform,_c:o};return v1(s,r,{...d,platform:f})};var i2=typeof document<"u",o2=function(){},Ao=i2?j.useLayoutEffect:o2;function qo(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,d;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!qo(s[o],r[o]))return!1;return!0}if(d=Object.keys(s),i=d.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,d[o]))return!1;for(o=i;o--!==0;){const f=d[o];if(!(f==="_owner"&&s.$$typeof)&&!qo(s[f],r[f]))return!1}return!0}return s!==s&&r!==r}function My(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(s,r){const i=My(s);return Math.round(r*i)/i}function Ud(s){const r=j.useRef(s);return Ao(()=>{r.current=s}),r}function c2(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d,elements:{reference:f,floating:h}={},transform:p=!0,whileElementsMounted:g,open:m}=s,[x,v]=j.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[b,N]=j.useState(o);qo(b,o)||N(o);const[E,S]=j.useState(null),[w,P]=j.useState(null),R=j.useCallback(O=>{O!==k.current&&(k.current=O,S(O))},[]),T=j.useCallback(O=>{O!==U.current&&(U.current=O,P(O))},[]),_=f||E,A=h||w,k=j.useRef(null),U=j.useRef(null),G=j.useRef(x),se=g!=null,H=Ud(g),F=Ud(d),ee=Ud(m),Y=j.useCallback(()=>{if(!k.current||!U.current)return;const O={placement:r,strategy:i,middleware:b};F.current&&(O.platform=F.current),r2(k.current,U.current,O).then(Q=>{const ue={...Q,isPositioned:ee.current!==!1};B.current&&!qo(G.current,ue)&&(G.current=ue,Yr.flushSync(()=>{v(ue)}))})},[b,r,i,F,ee]);Ao(()=>{m===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,v(O=>({...O,isPositioned:!1})))},[m]);const B=j.useRef(!1);Ao(()=>(B.current=!0,()=>{B.current=!1}),[]),Ao(()=>{if(_&&(k.current=_),A&&(U.current=A),_&&A){if(H.current)return H.current(_,A,Y);Y()}},[_,A,Y,H,se]);const z=j.useMemo(()=>({reference:k,floating:U,setReference:R,setFloating:T}),[R,T]),M=j.useMemo(()=>({reference:_,floating:A}),[_,A]),I=j.useMemo(()=>{const O={position:i,left:0,top:0};if(!M.floating)return O;const Q=Tg(M.floating,x.x),ue=Tg(M.floating,x.y);return p?{...O,transform:"translate("+Q+"px, "+ue+"px)",...My(M.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:Q,top:ue}},[i,p,M.floating,x.x,x.y]);return j.useMemo(()=>({...x,update:Y,refs:z,elements:M,floatingStyles:I}),[x,Y,z,M,I])}const u2=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:d}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?Eg({element:o.current,padding:d}).fn(i):{}:o?Eg({element:o,padding:d}).fn(i):{}}}},d2=(s,r)=>({...e2(s),options:[s,r]}),f2=(s,r)=>({...t2(s),options:[s,r]}),m2=(s,r)=>({...l2(s),options:[s,r]}),h2=(s,r)=>({...a2(s),options:[s,r]}),p2=(s,r)=>({...n2(s),options:[s,r]}),x2=(s,r)=>({...s2(s),options:[s,r]}),g2=(s,r)=>({...u2(s),options:[s,r]});var y2="Arrow",Dy=j.forwardRef((s,r)=>{const{children:i,width:o=10,height:d=5,...f}=s;return a.jsx(qe.svg,{...f,ref:r,width:o,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dy.displayName=y2;var v2=Dy;function Oy(s){const[r,i]=j.useState(void 0);return Qt(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let h,p;if("borderBoxSize"in f){const g=f.borderBoxSize,m=Array.isArray(g)?g[0]:g;h=m.inlineSize,p=m.blockSize}else h=s.offsetWidth,p=s.offsetHeight;i({width:h,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var Nf="Popper",[Ry,Wo]=An(Nf),[j2,_y]=Ry(Nf),ky=s=>{const{__scopePopper:r,children:i}=s,[o,d]=j.useState(null);return a.jsx(j2,{scope:r,anchor:o,onAnchorChange:d,children:i})};ky.displayName=Nf;var Py="PopperAnchor",Ly=j.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...d}=s,f=_y(Py,i),h=j.useRef(null),p=it(r,h),g=j.useRef(null);return j.useEffect(()=>{const m=g.current;g.current=(o==null?void 0:o.current)||h.current,m!==g.current&&f.onAnchorChange(g.current)}),o?null:a.jsx(qe.div,{...d,ref:p})});Ly.displayName=Py;var Sf="PopperContent",[b2,N2]=Ry(Sf),Iy=j.forwardRef((s,r)=>{var re,Me,X,xe,ve,Te;const{__scopePopper:i,side:o="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:N="optimized",onPlaced:E,...S}=s,w=_y(Sf,i),[P,R]=j.useState(null),T=it(r,ft=>R(ft)),[_,A]=j.useState(null),k=Oy(_),U=(k==null?void 0:k.width)??0,G=(k==null?void 0:k.height)??0,se=o+(f!=="center"?"-"+f:""),H=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},F=Array.isArray(m)?m:[m],ee=F.length>0,Y={padding:H,boundary:F.filter(w2),altBoundary:ee},{refs:B,floatingStyles:z,placement:M,isPositioned:I,middlewareData:O}=c2({strategy:"fixed",placement:se,whileElementsMounted:(...ft)=>J1(...ft,{animationFrame:N==="always"}),elements:{reference:w.anchor},middleware:[d2({mainAxis:d+G,alignmentAxis:h}),g&&f2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?m2():void 0,...Y}),g&&h2({...Y}),p2({...Y,apply:({elements:ft,rects:We,availableWidth:pt,availableHeight:wt})=>{const{width:bt,height:Ba}=We.reference,Mt=ft.floating.style;Mt.setProperty("--radix-popper-available-width",`${pt}px`),Mt.setProperty("--radix-popper-available-height",`${wt}px`),Mt.setProperty("--radix-popper-anchor-width",`${bt}px`),Mt.setProperty("--radix-popper-anchor-height",`${Ba}px`)}}),_&&g2({element:_,padding:p}),C2({arrowWidth:U,arrowHeight:G}),b&&x2({strategy:"referenceHidden",...Y})]}),[Q,ue]=qy(M),D=Ja(E);Qt(()=>{I&&(D==null||D())},[I,D]);const W=(re=O.arrow)==null?void 0:re.x,ie=(Me=O.arrow)==null?void 0:Me.y,fe=((X=O.arrow)==null?void 0:X.centerOffset)!==0,[V,me]=j.useState();return Qt(()=>{P&&me(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:I?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(xe=O.transformOrigin)==null?void 0:xe.x,(ve=O.transformOrigin)==null?void 0:ve.y].join(" "),...((Te=O.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:a.jsx(b2,{scope:i,placedSide:Q,onArrowChange:A,arrowX:W,arrowY:ie,shouldHideArrow:fe,children:a.jsx(qe.div,{"data-side":Q,"data-align":ue,...S,ref:T,style:{...S.style,animation:I?void 0:"none"}})})})});Iy.displayName=Sf;var zy="PopperArrow",S2={top:"bottom",right:"left",bottom:"top",left:"right"},Uy=j.forwardRef(function(r,i){const{__scopePopper:o,...d}=r,f=N2(zy,o),h=S2[f.placedSide];return a.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:a.jsx(v2,{...d,ref:i,style:{...d.style,display:"block"}})})});Uy.displayName=zy;function w2(s){return s!==null}var C2=s=>({name:"transformOrigin",options:s,fn(r){var w,P,R;const{placement:i,rects:o,middlewareData:d}=r,h=((w=d.arrow)==null?void 0:w.centerOffset)!==0,p=h?0:s.arrowWidth,g=h?0:s.arrowHeight,[m,x]=qy(i),v={start:"0%",center:"50%",end:"100%"}[x],b=(((P=d.arrow)==null?void 0:P.x)??0)+p/2,N=(((R=d.arrow)==null?void 0:R.y)??0)+g/2;let E="",S="";return m==="bottom"?(E=h?v:`${b}px`,S=`${-g}px`):m==="top"?(E=h?v:`${b}px`,S=`${o.floating.height+g}px`):m==="right"?(E=`${-g}px`,S=h?v:`${N}px`):m==="left"&&(E=`${o.floating.width+g}px`,S=h?v:`${N}px`),{data:{x:E,y:S}}}});function qy(s){const[r,i="center"]=s.split("-");return[r,i]}var By=ky,Hy=Ly,Fy=Iy,Vy=Uy,A2="Portal",Jo=j.forwardRef((s,r)=>{var p;const{container:i,...o}=s,[d,f]=j.useState(!1);Qt(()=>f(!0),[]);const h=i||d&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?Pw.createPortal(a.jsx(qe.div,{...o,ref:r}),h):null});Jo.displayName=A2;var E2=cf[" useInsertionEffect ".trim().toString()]||Qt;function _s({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[d,f,h]=T2({defaultProp:r,onChange:i}),p=s!==void 0,g=p?s:d;{const x=j.useRef(s!==void 0);j.useEffect(()=>{const v=x.current;v!==p&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,o])}const m=j.useCallback(x=>{var v;if(p){const b=M2(x)?x(s):x;b!==s&&((v=h.current)==null||v.call(h,b))}else f(x)},[p,s,f,h]);return[g,m]}function T2({defaultProp:s,onChange:r}){const[i,o]=j.useState(s),d=j.useRef(i),f=j.useRef(r);return E2(()=>{f.current=r},[r]),j.useEffect(()=>{var h;d.current!==i&&((h=f.current)==null||h.call(f,i),d.current=i)},[i,d]),[i,o,f]}function M2(s){return typeof s=="function"}function Gy(s){const r=j.useRef({value:s,previous:s});return j.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Yy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D2="VisuallyHidden",O2=j.forwardRef((s,r)=>a.jsx(qe.span,{...s,ref:r,style:{...Yy,...s.style}}));O2.displayName=D2;var R2=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},Al=new WeakMap,jo=new WeakMap,bo={},qd=0,$y=function(s){return s&&(s.host||$y(s.parentNode))},_2=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=$y(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},k2=function(s,r,i,o){var d=_2(r,Array.isArray(s)?s:[s]);bo[i]||(bo[i]=new WeakMap);var f=bo[i],h=[],p=new Set,g=new Set(d),m=function(v){!v||p.has(v)||(p.add(v),m(v.parentNode))};d.forEach(m);var x=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(b){if(p.has(b))x(b);else try{var N=b.getAttribute(o),E=N!==null&&N!=="false",S=(Al.get(b)||0)+1,w=(f.get(b)||0)+1;Al.set(b,S),f.set(b,w),h.push(b),S===1&&E&&jo.set(b,!0),w===1&&b.setAttribute(i,"true"),E||b.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",b,P)}})};return x(r),p.clear(),qd++,function(){h.forEach(function(v){var b=Al.get(v)-1,N=f.get(v)-1;Al.set(v,b),f.set(v,N),b||(jo.has(v)||v.removeAttribute(o),jo.delete(v)),N||v.removeAttribute(i)}),qd--,qd||(Al=new WeakMap,Al=new WeakMap,jo=new WeakMap,bo={})}},wf=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),d=R2(s);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),k2(o,d,i,"aria-hidden")):function(){return null}},$a=function(){return $a=Object.assign||function(r){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f])}return r},$a.apply(this,arguments)};function Qy(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(i[o[d]]=s[o[d]]);return i}function P2(s,r,i){if(i||arguments.length===2)for(var o=0,d=r.length,f;o<d;o++)(f||!(o in r))&&(f||(f=Array.prototype.slice.call(r,0,o)),f[o]=r[o]);return s.concat(f||Array.prototype.slice.call(r))}var Eo="right-scroll-bar-position",To="width-before-scroll-bar",L2="with-scroll-bars-hidden",I2="--removed-body-scroll-bar-size";function Bd(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function z2(s,r){var i=j.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=r,i.facade}var U2=typeof window<"u"?j.useLayoutEffect:j.useEffect,Mg=new WeakMap;function q2(s,r){var i=z2(null,function(o){return s.forEach(function(d){return Bd(d,o)})});return U2(function(){var o=Mg.get(i);if(o){var d=new Set(o),f=new Set(s),h=i.current;d.forEach(function(p){f.has(p)||Bd(p,null)}),f.forEach(function(p){d.has(p)||Bd(p,h)})}Mg.set(i,s)},[s]),i}function B2(s){return s}function H2(s,r){r===void 0&&(r=B2);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(f){var h=r(f,o);return i.push(h),function(){i=i.filter(function(p){return p!==h})}},assignSyncMedium:function(f){for(o=!0;i.length;){var h=i;i=[],h.forEach(f)}i={push:function(p){return f(p)},filter:function(){return i}}},assignMedium:function(f){o=!0;var h=[];if(i.length){var p=i;i=[],p.forEach(f),h=i}var g=function(){var x=h;h=[],x.forEach(f)},m=function(){return Promise.resolve().then(g)};m(),i={push:function(x){h.push(x),m()},filter:function(x){return h=h.filter(x),i}}}};return d}function F2(s){s===void 0&&(s={});var r=H2(null);return r.options=$a({async:!0,ssr:!1},s),r}var Xy=function(s){var r=s.sideCar,i=Qy(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,$a({},i))};Xy.isSideCarExport=!0;function V2(s,r){return s.useMedium(r),Xy}var Ky=F2(),Hd=function(){},ec=j.forwardRef(function(s,r){var i=j.useRef(null),o=j.useState({onScrollCapture:Hd,onWheelCapture:Hd,onTouchMoveCapture:Hd}),d=o[0],f=o[1],h=s.forwardProps,p=s.children,g=s.className,m=s.removeScrollBar,x=s.enabled,v=s.shards,b=s.sideCar,N=s.noRelative,E=s.noIsolation,S=s.inert,w=s.allowPinchZoom,P=s.as,R=P===void 0?"div":P,T=s.gapMode,_=Qy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,k=q2([i,r]),U=$a($a({},_),d);return j.createElement(j.Fragment,null,x&&j.createElement(A,{sideCar:Ky,removeScrollBar:m,shards:v,noRelative:N,noIsolation:E,inert:S,setCallbacks:f,allowPinchZoom:!!w,lockRef:i,gapMode:T}),h?j.cloneElement(j.Children.only(p),$a($a({},U),{ref:k})):j.createElement(R,$a({},U,{className:g,ref:k}),p))});ec.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ec.classNames={fullWidth:To,zeroRight:Eo};var G2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=G2();return r&&s.setAttribute("nonce",r),s}function $2(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function Q2(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var X2=function(){var s=0,r=null;return{add:function(i){s==0&&(r=Y2())&&($2(r,i),Q2(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},K2=function(){var s=X2();return function(r,i){j.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Zy=function(){var s=K2(),r=function(i){var o=i.styles,d=i.dynamic;return s(o,d),null};return r},Z2={left:0,top:0,right:0,gap:0},Fd=function(s){return parseInt(s||"",10)||0},W2=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],d=r[s==="padding"?"paddingRight":"marginRight"];return[Fd(i),Fd(o),Fd(d)]},J2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return Z2;var r=W2(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},eC=Zy(),Ol="data-scroll-locked",tC=function(s,r,i,o){var d=s.left,f=s.top,h=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(L2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Ol,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eo,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(To,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Eo," .").concat(Eo,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(To," .").concat(To,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ol,`] {
    `).concat(I2,": ").concat(p,`px;
  }
`)},Dg=function(){var s=parseInt(document.body.getAttribute(Ol)||"0",10);return isFinite(s)?s:0},aC=function(){j.useEffect(function(){return document.body.setAttribute(Ol,(Dg()+1).toString()),function(){var s=Dg()-1;s<=0?document.body.removeAttribute(Ol):document.body.setAttribute(Ol,s.toString())}},[])},nC=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,d=o===void 0?"margin":o;aC();var f=j.useMemo(function(){return J2(d)},[d]);return j.createElement(eC,{styles:tC(f,!r,d,i?"":"!important")})},Jd=!1;if(typeof window<"u")try{var No=Object.defineProperty({},"passive",{get:function(){return Jd=!0,!0}});window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Jd=!1}var El=Jd?{passive:!1}:!1,sC=function(s){return s.tagName==="TEXTAREA"},Wy=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!sC(s)&&i[r]==="visible")},lC=function(s){return Wy(s,"overflowY")},rC=function(s){return Wy(s,"overflowX")},Og=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Jy(s,o);if(d){var f=ev(s,o),h=f[1],p=f[2];if(h>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},iC=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},oC=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Jy=function(s,r){return s==="v"?lC(r):rC(r)},ev=function(s,r){return s==="v"?iC(r):oC(r)},cC=function(s,r){return s==="h"&&r==="rtl"?-1:1},uC=function(s,r,i,o,d){var f=cC(s,window.getComputedStyle(r).direction),h=f*o,p=i.target,g=r.contains(p),m=!1,x=h>0,v=0,b=0;do{if(!p)break;var N=ev(s,p),E=N[0],S=N[1],w=N[2],P=S-w-f*E;(E||P)&&Jy(s,p)&&(v+=P,b+=E);var R=p.parentNode;p=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!g&&p!==document.body||g&&(r.contains(p)||r===p));return(x&&Math.abs(v)<1||!x&&Math.abs(b)<1)&&(m=!0),m},So=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Rg=function(s){return[s.deltaX,s.deltaY]},_g=function(s){return s&&"current"in s?s.current:s},dC=function(s,r){return s[0]===r[0]&&s[1]===r[1]},fC=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},mC=0,Tl=[];function hC(s){var r=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(mC++)[0],f=j.useState(Zy)[0],h=j.useRef(s);j.useEffect(function(){h.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var S=P2([s.lockRef.current],(s.shards||[]).map(_g),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var p=j.useCallback(function(S,w){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!h.current.allowPinchZoom;var P=So(S),R=i.current,T="deltaX"in S?S.deltaX:R[0]-P[0],_="deltaY"in S?S.deltaY:R[1]-P[1],A,k=S.target,U=Math.abs(T)>Math.abs(_)?"h":"v";if("touches"in S&&U==="h"&&k.type==="range")return!1;var G=window.getSelection(),se=G&&G.anchorNode,H=se?se===k||se.contains(k):!1;if(H)return!1;var F=Og(U,k);if(!F)return!0;if(F?A=U:(A=U==="v"?"h":"v",F=Og(U,k)),!F)return!1;if(!o.current&&"changedTouches"in S&&(T||_)&&(o.current=A),!A)return!0;var ee=o.current||A;return uC(ee,w,S,ee==="h"?T:_)},[]),g=j.useCallback(function(S){var w=S;if(!(!Tl.length||Tl[Tl.length-1]!==f)){var P="deltaY"in w?Rg(w):So(w),R=r.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&dC(A.delta,P)})[0];if(R&&R.should){w.cancelable&&w.preventDefault();return}if(!R){var T=(h.current.shards||[]).map(_g).filter(Boolean).filter(function(A){return A.contains(w.target)}),_=T.length>0?p(w,T[0]):!h.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),m=j.useCallback(function(S,w,P,R){var T={name:S,delta:w,target:P,should:R,shadowParent:pC(P)};r.current.push(T),setTimeout(function(){r.current=r.current.filter(function(_){return _!==T})},1)},[]),x=j.useCallback(function(S){i.current=So(S),o.current=void 0},[]),v=j.useCallback(function(S){m(S.type,Rg(S),S.target,p(S,s.lockRef.current))},[]),b=j.useCallback(function(S){m(S.type,So(S),S.target,p(S,s.lockRef.current))},[]);j.useEffect(function(){return Tl.push(f),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",g,El),document.addEventListener("touchmove",g,El),document.addEventListener("touchstart",x,El),function(){Tl=Tl.filter(function(S){return S!==f}),document.removeEventListener("wheel",g,El),document.removeEventListener("touchmove",g,El),document.removeEventListener("touchstart",x,El)}},[]);var N=s.removeScrollBar,E=s.inert;return j.createElement(j.Fragment,null,E?j.createElement(f,{styles:fC(d)}):null,N?j.createElement(nC,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function pC(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const xC=V2(Ky,hC);var tc=j.forwardRef(function(s,r){return j.createElement(ec,$a({},s,{ref:r,sideCar:xC}))});tc.classNames=ec.classNames;var gC=[" ","Enter","ArrowUp","ArrowDown"],yC=[" ","Enter"],ks="Select",[ac,nc,vC]=hf(ks),[Ul]=An(ks,[vC,Wo]),sc=Wo(),[jC,rs]=Ul(ks),[bC,NC]=Ul(ks),tv=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:d,onOpenChange:f,value:h,defaultValue:p,onValueChange:g,dir:m,name:x,autoComplete:v,disabled:b,required:N,form:E}=s,S=sc(r),[w,P]=j.useState(null),[R,T]=j.useState(null),[_,A]=j.useState(!1),k=Go(m),[U,G]=_s({prop:o,defaultProp:d??!1,onChange:f,caller:ks}),[se,H]=_s({prop:h,defaultProp:p,onChange:g,caller:ks}),F=j.useRef(null),ee=w?E||!!w.closest("form"):!0,[Y,B]=j.useState(new Set),z=Array.from(Y).map(M=>M.props.value).join(";");return a.jsx(By,{...S,children:a.jsxs(jC,{required:N,scope:r,trigger:w,onTriggerChange:P,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:Xa(),value:se,onValueChange:H,open:U,onOpenChange:G,dir:k,triggerPointerDownPosRef:F,disabled:b,children:[a.jsx(ac.Provider,{scope:r,children:a.jsx(bC,{scope:s.__scopeSelect,onNativeOptionAdd:j.useCallback(M=>{B(I=>new Set(I).add(M))},[]),onNativeOptionRemove:j.useCallback(M=>{B(I=>{const O=new Set(I);return O.delete(M),O})},[]),children:i})}),ee?a.jsxs(Sv,{"aria-hidden":!0,required:N,tabIndex:-1,name:x,autoComplete:v,value:se,onChange:M=>H(M.target.value),disabled:b,form:E,children:[se===void 0?a.jsx("option",{value:""}):null,Array.from(Y)]},z):null]})})};tv.displayName=ks;var av="SelectTrigger",nv=j.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...d}=s,f=sc(i),h=rs(av,i),p=h.disabled||o,g=it(r,h.onTriggerChange),m=nc(i),x=j.useRef("touch"),[v,b,N]=Cv(S=>{const w=m().filter(T=>!T.disabled),P=w.find(T=>T.value===h.value),R=Av(w,S,P);R!==void 0&&h.onValueChange(R.value)}),E=S=>{p||(h.onOpenChange(!0),N()),S&&(h.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return a.jsx(Hy,{asChild:!0,...f,children:a.jsx(qe.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":wv(h.value)?"":void 0,...d,ref:g,onClick:Ee(d.onClick,S=>{S.currentTarget.focus(),x.current!=="mouse"&&E(S)}),onPointerDown:Ee(d.onPointerDown,S=>{x.current=S.pointerType;const w=S.target;w.hasPointerCapture(S.pointerId)&&w.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(E(S),S.preventDefault())}),onKeyDown:Ee(d.onKeyDown,S=>{const w=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(w&&S.key===" ")&&gC.includes(S.key)&&(E(),S.preventDefault())})})})});nv.displayName=av;var sv="SelectValue",lv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,children:f,placeholder:h="",...p}=s,g=rs(sv,i),{onValueNodeHasChildrenChange:m}=g,x=f!==void 0,v=it(r,g.onValueNodeChange);return Qt(()=>{m(x)},[m,x]),a.jsx(qe.span,{...p,ref:v,style:{pointerEvents:"none"},children:wv(g.value)?a.jsx(a.Fragment,{children:h}):f})});lv.displayName=sv;var SC="SelectIcon",rv=j.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...d}=s;return a.jsx(qe.span,{"aria-hidden":!0,...d,ref:r,children:o||""})});rv.displayName=SC;var wC="SelectPortal",iv=s=>a.jsx(Jo,{asChild:!0,...s});iv.displayName=wC;var Ps="SelectContent",ov=j.forwardRef((s,r)=>{const i=rs(Ps,s.__scopeSelect),[o,d]=j.useState();if(Qt(()=>{d(new DocumentFragment)},[]),!i.open){const f=o;return f?Yr.createPortal(a.jsx(cv,{scope:s.__scopeSelect,children:a.jsx(ac.Slot,{scope:s.__scopeSelect,children:a.jsx("div",{children:s.children})})}),f):null}return a.jsx(uv,{...s,ref:r})});ov.displayName=Ps;var La=10,[cv,is]=Ul(Ps),CC="SelectContentImpl",AC=_l("SelectContent.RemoveScroll"),uv=j.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:w,...P}=s,R=rs(Ps,i),[T,_]=j.useState(null),[A,k]=j.useState(null),U=it(r,re=>_(re)),[G,se]=j.useState(null),[H,F]=j.useState(null),ee=nc(i),[Y,B]=j.useState(!1),z=j.useRef(!1);j.useEffect(()=>{if(T)return wf(T)},[T]),pf();const M=j.useCallback(re=>{const[Me,...X]=ee().map(Te=>Te.ref.current),[xe]=X.slice(-1),ve=document.activeElement;for(const Te of re)if(Te===ve||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Me&&A&&(A.scrollTop=0),Te===xe&&A&&(A.scrollTop=A.scrollHeight),Te==null||Te.focus(),document.activeElement!==ve))return},[ee,A]),I=j.useCallback(()=>M([G,T]),[M,G,T]);j.useEffect(()=>{Y&&I()},[Y,I]);const{onOpenChange:O,triggerPointerDownPosRef:Q}=R;j.useEffect(()=>{if(T){let re={x:0,y:0};const Me=xe=>{var ve,Te;re={x:Math.abs(Math.round(xe.pageX)-(((ve=Q.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Te=Q.current)==null?void 0:Te.y)??0))}},X=xe=>{re.x<=10&&re.y<=10?xe.preventDefault():T.contains(xe.target)||O(!1),document.removeEventListener("pointermove",Me),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",X,{capture:!0})}}},[T,O,Q]),j.useEffect(()=>{const re=()=>O(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[O]);const[ue,D]=Cv(re=>{const Me=ee().filter(ve=>!ve.disabled),X=Me.find(ve=>ve.ref.current===document.activeElement),xe=Av(Me,re,X);xe&&setTimeout(()=>xe.ref.current.focus())}),W=j.useCallback((re,Me,X)=>{const xe=!z.current&&!X;(R.value!==void 0&&R.value===Me||xe)&&(se(re),xe&&(z.current=!0))},[R.value]),ie=j.useCallback(()=>T==null?void 0:T.focus(),[T]),fe=j.useCallback((re,Me,X)=>{const xe=!z.current&&!X;(R.value!==void 0&&R.value===Me||xe)&&F(re)},[R.value]),V=o==="popper"?ef:dv,me=V===ef?{side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:w}:{};return a.jsx(cv,{scope:i,content:T,viewport:A,onViewportChange:k,itemRefCallback:W,selectedItem:G,onItemLeave:ie,itemTextRefCallback:fe,focusSelectedItem:I,selectedItemText:H,position:o,isPositioned:Y,searchRef:ue,children:a.jsx(tc,{as:AC,allowPinchZoom:!0,children:a.jsx($o,{asChild:!0,trapped:R.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Ee(d,re=>{var Me;(Me=R.trigger)==null||Me.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:a.jsx(V,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:re=>re.preventDefault(),...P,...me,onPlaced:()=>B(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Ee(P.onKeyDown,re=>{const Me=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Me&&re.key.length===1&&D(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let xe=ee().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(re.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ve=re.target,Te=xe.indexOf(ve);xe=xe.slice(Te+1)}setTimeout(()=>M(xe)),re.preventDefault()}})})})})})})});uv.displayName=CC;var EC="SelectItemAlignedPosition",dv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...d}=s,f=rs(Ps,i),h=is(Ps,i),[p,g]=j.useState(null),[m,x]=j.useState(null),v=it(r,U=>x(U)),b=nc(i),N=j.useRef(!1),E=j.useRef(!0),{viewport:S,selectedItem:w,selectedItemText:P,focusSelectedItem:R}=h,T=j.useCallback(()=>{if(f.trigger&&f.valueNode&&p&&m&&S&&w&&P){const U=f.trigger.getBoundingClientRect(),G=m.getBoundingClientRect(),se=f.valueNode.getBoundingClientRect(),H=P.getBoundingClientRect();if(f.dir!=="rtl"){const ve=H.left-G.left,Te=se.left-ve,ft=U.left-Te,We=U.width+ft,pt=Math.max(We,G.width),wt=window.innerWidth-La,bt=ug(Te,[La,Math.max(La,wt-pt)]);p.style.minWidth=We+"px",p.style.left=bt+"px"}else{const ve=G.right-H.right,Te=window.innerWidth-se.right-ve,ft=window.innerWidth-U.right-Te,We=U.width+ft,pt=Math.max(We,G.width),wt=window.innerWidth-La,bt=ug(Te,[La,Math.max(La,wt-pt)]);p.style.minWidth=We+"px",p.style.right=bt+"px"}const F=b(),ee=window.innerHeight-La*2,Y=S.scrollHeight,B=window.getComputedStyle(m),z=parseInt(B.borderTopWidth,10),M=parseInt(B.paddingTop,10),I=parseInt(B.borderBottomWidth,10),O=parseInt(B.paddingBottom,10),Q=z+M+Y+O+I,ue=Math.min(w.offsetHeight*5,Q),D=window.getComputedStyle(S),W=parseInt(D.paddingTop,10),ie=parseInt(D.paddingBottom,10),fe=U.top+U.height/2-La,V=ee-fe,me=w.offsetHeight/2,re=w.offsetTop+me,Me=z+M+re,X=Q-Me;if(Me<=fe){const ve=F.length>0&&w===F[F.length-1].ref.current;p.style.bottom="0px";const Te=m.clientHeight-S.offsetTop-S.offsetHeight,ft=Math.max(V,me+(ve?ie:0)+Te+I),We=Me+ft;p.style.height=We+"px"}else{const ve=F.length>0&&w===F[0].ref.current;p.style.top="0px";const ft=Math.max(fe,z+S.offsetTop+(ve?W:0)+me)+X;p.style.height=ft+"px",S.scrollTop=Me-fe+S.offsetTop}p.style.margin=`${La}px 0`,p.style.minHeight=ue+"px",p.style.maxHeight=ee+"px",o==null||o(),requestAnimationFrame(()=>N.current=!0)}},[b,f.trigger,f.valueNode,p,m,S,w,P,f.dir,o]);Qt(()=>T(),[T]);const[_,A]=j.useState();Qt(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const k=j.useCallback(U=>{U&&E.current===!0&&(T(),R==null||R(),E.current=!1)},[T,R]);return a.jsx(MC,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:N,onScrollButtonChange:k,children:a.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(qe.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});dv.displayName=EC;var TC="SelectPopperPosition",ef=j.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:d=La,...f}=s,h=sc(i);return a.jsx(Fy,{...h,...f,ref:r,align:o,collisionPadding:d,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ef.displayName=TC;var[MC,Cf]=Ul(Ps,{}),tf="SelectViewport",fv=j.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...d}=s,f=is(tf,i),h=Cf(tf,i),p=it(r,f.onViewportChange),g=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(ac.Slot,{scope:i,children:a.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:Ee(d.onScroll,m=>{const x=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&v){const N=Math.abs(g.current-x.scrollTop);if(N>0){const E=window.innerHeight-La*2,S=parseFloat(v.style.minHeight),w=parseFloat(v.style.height),P=Math.max(S,w);if(P<E){const R=P+N,T=Math.min(E,R),_=R-T;v.style.height=T+"px",v.style.bottom==="0px"&&(x.scrollTop=_>0?_:0,v.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});fv.displayName=tf;var mv="SelectGroup",[DC,OC]=Ul(mv),RC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=Xa();return a.jsx(DC,{scope:i,id:d,children:a.jsx(qe.div,{role:"group","aria-labelledby":d,...o,ref:r})})});RC.displayName=mv;var hv="SelectLabel",_C=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=OC(hv,i);return a.jsx(qe.div,{id:d.id,...o,ref:r})});_C.displayName=hv;var Bo="SelectItem",[kC,pv]=Ul(Bo),xv=j.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:d=!1,textValue:f,...h}=s,p=rs(Bo,i),g=is(Bo,i),m=p.value===o,[x,v]=j.useState(f??""),[b,N]=j.useState(!1),E=it(r,R=>{var T;return(T=g.itemRefCallback)==null?void 0:T.call(g,R,o,d)}),S=Xa(),w=j.useRef("touch"),P=()=>{d||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kC,{scope:i,value:o,disabled:d,textId:S,isSelected:m,onItemTextChange:j.useCallback(R=>{v(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:a.jsx(ac.ItemSlot,{scope:i,value:o,disabled:d,textValue:x,children:a.jsx(qe.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...h,ref:E,onFocus:Ee(h.onFocus,()=>N(!0)),onBlur:Ee(h.onBlur,()=>N(!1)),onClick:Ee(h.onClick,()=>{w.current!=="mouse"&&P()}),onPointerUp:Ee(h.onPointerUp,()=>{w.current==="mouse"&&P()}),onPointerDown:Ee(h.onPointerDown,R=>{w.current=R.pointerType}),onPointerMove:Ee(h.onPointerMove,R=>{var T;w.current=R.pointerType,d?(T=g.onItemLeave)==null||T.call(g):w.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(h.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=g.onItemLeave)==null||T.call(g))}),onKeyDown:Ee(h.onKeyDown,R=>{var _;((_=g.searchRef)==null?void 0:_.current)!==""&&R.key===" "||(yC.includes(R.key)&&P(),R.key===" "&&R.preventDefault())})})})})});xv.displayName=Bo;var zr="SelectItemText",gv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,...f}=s,h=rs(zr,i),p=is(zr,i),g=pv(zr,i),m=NC(zr,i),[x,v]=j.useState(null),b=it(r,P=>v(P),g.onItemTextChange,P=>{var R;return(R=p.itemTextRefCallback)==null?void 0:R.call(p,P,g.value,g.disabled)}),N=x==null?void 0:x.textContent,E=j.useMemo(()=>a.jsx("option",{value:g.value,disabled:g.disabled,children:N},g.value),[g.disabled,g.value,N]),{onNativeOptionAdd:S,onNativeOptionRemove:w}=m;return Qt(()=>(S(E),()=>w(E)),[S,w,E]),a.jsxs(a.Fragment,{children:[a.jsx(qe.span,{id:g.textId,...f,ref:b}),g.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Yr.createPortal(f.children,h.valueNode):null]})});gv.displayName=zr;var yv="SelectItemIndicator",vv=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return pv(yv,i).isSelected?a.jsx(qe.span,{"aria-hidden":!0,...o,ref:r}):null});vv.displayName=yv;var af="SelectScrollUpButton",jv=j.forwardRef((s,r)=>{const i=is(af,s.__scopeSelect),o=Cf(af,s.__scopeSelect),[d,f]=j.useState(!1),h=it(r,o.onScrollButtonChange);return Qt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollTop>0;f(m)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(Nv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});jv.displayName=af;var nf="SelectScrollDownButton",bv=j.forwardRef((s,r)=>{const i=is(nf,s.__scopeSelect),o=Cf(nf,s.__scopeSelect),[d,f]=j.useState(!1),h=it(r,o.onScrollButtonChange);return Qt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<m;f(x)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(Nv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});bv.displayName=nf;var Nv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...d}=s,f=is("SelectScrollButton",i),h=j.useRef(null),p=nc(i),g=j.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return j.useEffect(()=>()=>g(),[g]),Qt(()=>{var x;const m=p().find(v=>v.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[p]),a.jsx(qe.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:Ee(d.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:Ee(d.onPointerMove,()=>{var m;(m=f.onItemLeave)==null||m.call(f),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:Ee(d.onPointerLeave,()=>{g()})})}),PC="SelectSeparator",LC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return a.jsx(qe.div,{"aria-hidden":!0,...o,ref:r})});LC.displayName=PC;var sf="SelectArrow",IC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=sc(i),f=rs(sf,i),h=is(sf,i);return f.open&&h.position==="popper"?a.jsx(Vy,{...d,...o,ref:r}):null});IC.displayName=sf;var zC="SelectBubbleInput",Sv=j.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const d=j.useRef(null),f=it(o,d),h=Gy(r);return j.useEffect(()=>{const p=d.current;if(!p)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(h!==r&&x){const v=new Event("change",{bubbles:!0});x.call(p,r),p.dispatchEvent(v)}},[h,r]),a.jsx(qe.select,{...i,style:{...Yy,...i.style},ref:f,defaultValue:r})});Sv.displayName=zC;function wv(s){return s===""||s===void 0}function Cv(s){const r=Ja(s),i=j.useRef(""),o=j.useRef(0),d=j.useCallback(h=>{const p=i.current+h;r(p),(function g(m){i.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(p)},[r]),f=j.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,d,f]}function Av(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=UC(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.textValue.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function UC(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var qC=tv,BC=nv,HC=lv,FC=rv,VC=iv,GC=ov,YC=fv,$C=xv,QC=gv,XC=vv,KC=jv,ZC=bv;function nt({...s}){return a.jsx(qC,{"data-slot":"select",...s})}function st({...s}){return a.jsx(HC,{"data-slot":"select-value",...s})}function lt({className:s,size:r="default",children:i,...o}){return a.jsxs(BC,{"data-slot":"select-trigger","data-size":r,className:He("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o,children:[i,a.jsx(FC,{asChild:!0,children:a.jsx(Vg,{className:"size-4 opacity-50"})})]})}function rt({className:s,children:r,position:i="popper",...o}){return a.jsx(VC,{children:a.jsxs(GC,{"data-slot":"select-content",className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[a.jsx(WC,{}),a.jsx(YC,{className:He("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),a.jsx(JC,{})]})})}function pe({className:s,children:r,...i}){return a.jsxs($C,{"data-slot":"select-item",className:He("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(XC,{children:a.jsx(IN,{className:"size-4"})})}),a.jsx(QC,{children:r})]})}function WC({className:s,...r}){return a.jsx(KC,{"data-slot":"select-scroll-up-button",className:He("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(BN,{className:"size-4"})})}function JC({className:s,...r}){return a.jsx(ZC,{"data-slot":"select-scroll-down-button",className:He("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(Vg,{className:"size-4"})})}function eA(s,r){return j.useReducer((i,o)=>r[i][o]??i,s)}var En=s=>{const{present:r,children:i}=s,o=tA(r),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=it(o.ref,aA(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};En.displayName="Presence";function tA(s){const[r,i]=j.useState(),o=j.useRef(null),d=j.useRef(s),f=j.useRef("none"),h=s?"mounted":"unmounted",[p,g]=eA(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=wo(o.current);f.current=p==="mounted"?m:"none"},[p]),Qt(()=>{const m=o.current,x=d.current;if(x!==s){const b=f.current,N=wo(m);s?g("MOUNT"):N==="none"||(m==null?void 0:m.display)==="none"?g("UNMOUNT"):g(x&&b!==N?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),Qt(()=>{if(r){let m;const x=r.ownerDocument.defaultView??window,v=N=>{const S=wo(o.current).includes(CSS.escape(N.animationName));if(N.target===r&&S&&(g("ANIMATION_END"),!d.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},b=N=>{N.target===r&&(f.current=wo(o.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",v),r.addEventListener("animationend",v),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",v),r.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:j.useCallback(m=>{o.current=m?getComputedStyle(m):null,i(m)},[])}}function wo(s){return(s==null?void 0:s.animationName)||"none"}function aA(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Vd="rovingFocusGroup.onEntryFocus",nA={bubbles:!1,cancelable:!0},Qr="RovingFocusGroup",[lf,Ev,sA]=hf(Qr),[lA,lc]=An(Qr,[sA]),[rA,iA]=lA(Qr),Tv=j.forwardRef((s,r)=>a.jsx(lf.Provider,{scope:s.__scopeRovingFocusGroup,children:a.jsx(lf.Slot,{scope:s.__scopeRovingFocusGroup,children:a.jsx(oA,{...s,ref:r})})}));Tv.displayName=Qr;var oA=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:d=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...v}=s,b=j.useRef(null),N=it(r,b),E=Go(f),[S,w]=_s({prop:h,defaultProp:p??null,onChange:g,caller:Qr}),[P,R]=j.useState(!1),T=Ja(m),_=Ev(i),A=j.useRef(!1),[k,U]=j.useState(0);return j.useEffect(()=>{const G=b.current;if(G)return G.addEventListener(Vd,T),()=>G.removeEventListener(Vd,T)},[T]),a.jsx(rA,{scope:i,orientation:o,dir:E,loop:d,currentTabStopId:S,onItemFocus:j.useCallback(G=>w(G),[w]),onItemShiftTab:j.useCallback(()=>R(!0),[]),onFocusableItemAdd:j.useCallback(()=>U(G=>G+1),[]),onFocusableItemRemove:j.useCallback(()=>U(G=>G-1),[]),children:a.jsx(qe.div,{tabIndex:P||k===0?-1:0,"data-orientation":o,...v,ref:N,style:{outline:"none",...s.style},onMouseDown:Ee(s.onMouseDown,()=>{A.current=!0}),onFocus:Ee(s.onFocus,G=>{const se=!A.current;if(G.target===G.currentTarget&&se&&!P){const H=new CustomEvent(Vd,nA);if(G.currentTarget.dispatchEvent(H),!H.defaultPrevented){const F=_().filter(M=>M.focusable),ee=F.find(M=>M.active),Y=F.find(M=>M.id===S),z=[ee,Y,...F].filter(Boolean).map(M=>M.ref.current);Ov(z,x)}}A.current=!1}),onBlur:Ee(s.onBlur,()=>R(!1))})})}),Mv="RovingFocusGroupItem",Dv=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:d=!1,tabStopId:f,children:h,...p}=s,g=Xa(),m=f||g,x=iA(Mv,i),v=x.currentTabStopId===m,b=Ev(i),{onFocusableItemAdd:N,onFocusableItemRemove:E,currentTabStopId:S}=x;return j.useEffect(()=>{if(o)return N(),()=>E()},[o,N,E]),a.jsx(lf.ItemSlot,{scope:i,id:m,focusable:o,active:d,children:a.jsx(qe.span,{tabIndex:v?0:-1,"data-orientation":x.orientation,...p,ref:r,onMouseDown:Ee(s.onMouseDown,w=>{o?x.onItemFocus(m):w.preventDefault()}),onFocus:Ee(s.onFocus,()=>x.onItemFocus(m)),onKeyDown:Ee(s.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){x.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const P=dA(w,x.orientation,x.dir);if(P!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=b().filter(_=>_.focusable).map(_=>_.ref.current);if(P==="last")T.reverse();else if(P==="prev"||P==="next"){P==="prev"&&T.reverse();const _=T.indexOf(w.currentTarget);T=x.loop?fA(T,_+1):T.slice(_+1)}setTimeout(()=>Ov(T))}}),children:typeof h=="function"?h({isCurrentTabStop:v,hasTabStop:S!=null}):h})})});Dv.displayName=Mv;var cA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uA(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function dA(s,r,i){const o=uA(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return cA[o]}function Ov(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function fA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var Rv=Tv,_v=Dv,rf=["Enter"," "],mA=["ArrowDown","PageUp","Home"],kv=["ArrowUp","PageDown","End"],hA=[...mA,...kv],pA={ltr:[...rf,"ArrowRight"],rtl:[...rf,"ArrowLeft"]},xA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xr="Menu",[Fr,gA,yA]=hf(Xr),[Is,Pv]=An(Xr,[yA,Wo,lc]),rc=Wo(),Lv=lc(),[vA,zs]=Is(Xr),[jA,Kr]=Is(Xr),Iv=s=>{const{__scopeMenu:r,open:i=!1,children:o,dir:d,onOpenChange:f,modal:h=!0}=s,p=rc(r),[g,m]=j.useState(null),x=j.useRef(!1),v=Ja(f),b=Go(d);return j.useEffect(()=>{const N=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(By,{...p,children:a.jsx(vA,{scope:r,open:i,onOpenChange:v,content:g,onContentChange:m,children:a.jsx(jA,{scope:r,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:x,dir:b,modal:h,children:o})})})};Iv.displayName=Xr;var bA="MenuAnchor",Af=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=rc(i);return a.jsx(Hy,{...d,...o,ref:r})});Af.displayName=bA;var Ef="MenuPortal",[NA,zv]=Is(Ef,{forceMount:void 0}),Uv=s=>{const{__scopeMenu:r,forceMount:i,children:o,container:d}=s,f=zs(Ef,r);return a.jsx(NA,{scope:r,forceMount:i,children:a.jsx(En,{present:i||f.open,children:a.jsx(Jo,{asChild:!0,container:d,children:o})})})};Uv.displayName=Ef;var Ra="MenuContent",[SA,Tf]=Is(Ra),qv=j.forwardRef((s,r)=>{const i=zv(Ra,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=zs(Ra,s.__scopeMenu),h=Kr(Ra,s.__scopeMenu);return a.jsx(Fr.Provider,{scope:s.__scopeMenu,children:a.jsx(En,{present:o||f.open,children:a.jsx(Fr.Slot,{scope:s.__scopeMenu,children:h.modal?a.jsx(wA,{...d,ref:r}):a.jsx(CA,{...d,ref:r})})})})}),wA=j.forwardRef((s,r)=>{const i=zs(Ra,s.__scopeMenu),o=j.useRef(null),d=it(r,o);return j.useEffect(()=>{const f=o.current;if(f)return wf(f)},[]),a.jsx(Mf,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Ee(s.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),CA=j.forwardRef((s,r)=>{const i=zs(Ra,s.__scopeMenu);return a.jsx(Mf,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),AA=_l("MenuContent.ScrollLock"),Mf=j.forwardRef((s,r)=>{const{__scopeMenu:i,loop:o=!1,trapFocus:d,onOpenAutoFocus:f,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:N,disableOutsideScroll:E,...S}=s,w=zs(Ra,i),P=Kr(Ra,i),R=rc(i),T=Lv(i),_=gA(i),[A,k]=j.useState(null),U=j.useRef(null),G=it(r,U,w.onContentChange),se=j.useRef(0),H=j.useRef(""),F=j.useRef(0),ee=j.useRef(null),Y=j.useRef("right"),B=j.useRef(0),z=E?tc:j.Fragment,M=E?{as:AA,allowPinchZoom:!0}:void 0,I=Q=>{var re,Me;const ue=H.current+Q,D=_().filter(X=>!X.disabled),W=document.activeElement,ie=(re=D.find(X=>X.ref.current===W))==null?void 0:re.textValue,fe=D.map(X=>X.textValue),V=zA(fe,ue,ie),me=(Me=D.find(X=>X.textValue===V))==null?void 0:Me.ref.current;(function X(xe){H.current=xe,window.clearTimeout(se.current),xe!==""&&(se.current=window.setTimeout(()=>X(""),1e3))})(ue),me&&setTimeout(()=>me.focus())};j.useEffect(()=>()=>window.clearTimeout(se.current),[]),pf();const O=j.useCallback(Q=>{var D,W;return Y.current===((D=ee.current)==null?void 0:D.side)&&qA(Q,(W=ee.current)==null?void 0:W.area)},[]);return a.jsx(SA,{scope:i,searchRef:H,onItemEnter:j.useCallback(Q=>{O(Q)&&Q.preventDefault()},[O]),onItemLeave:j.useCallback(Q=>{var ue;O(Q)||((ue=U.current)==null||ue.focus(),k(null))},[O]),onTriggerLeave:j.useCallback(Q=>{O(Q)&&Q.preventDefault()},[O]),pointerGraceTimerRef:F,onPointerGraceIntentChange:j.useCallback(Q=>{ee.current=Q},[]),children:a.jsx(z,{...M,children:a.jsx($o,{asChild:!0,trapped:d,onMountAutoFocus:Ee(f,Q=>{var ue;Q.preventDefault(),(ue=U.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:a.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:N,children:a.jsx(Rv,{asChild:!0,...T,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:k,onEntryFocus:Ee(g,Q=>{P.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Fy,{role:"menu","aria-orientation":"vertical","data-state":a0(w.open),"data-radix-menu-content":"",dir:P.dir,...R,...S,ref:G,style:{outline:"none",...S.style},onKeyDown:Ee(S.onKeyDown,Q=>{const D=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,W=Q.ctrlKey||Q.altKey||Q.metaKey,ie=Q.key.length===1;D&&(Q.key==="Tab"&&Q.preventDefault(),!W&&ie&&I(Q.key));const fe=U.current;if(Q.target!==fe||!hA.includes(Q.key))return;Q.preventDefault();const me=_().filter(re=>!re.disabled).map(re=>re.ref.current);kv.includes(Q.key)&&me.reverse(),LA(me)}),onBlur:Ee(s.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(se.current),H.current="")}),onPointerMove:Ee(s.onPointerMove,Vr(Q=>{const ue=Q.target,D=B.current!==Q.clientX;if(Q.currentTarget.contains(ue)&&D){const W=Q.clientX>B.current?"right":"left";Y.current=W,B.current=Q.clientX}}))})})})})})})});qv.displayName=Ra;var EA="MenuGroup",Df=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(qe.div,{role:"group",...o,ref:r})});Df.displayName=EA;var TA="MenuLabel",Bv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(qe.div,{...o,ref:r})});Bv.displayName=TA;var Ho="MenuItem",kg="menu.itemSelect",ic=j.forwardRef((s,r)=>{const{disabled:i=!1,onSelect:o,...d}=s,f=j.useRef(null),h=Kr(Ho,s.__scopeMenu),p=Tf(Ho,s.__scopeMenu),g=it(r,f),m=j.useRef(!1),x=()=>{const v=f.current;if(!i&&v){const b=new CustomEvent(kg,{bubbles:!0,cancelable:!0});v.addEventListener(kg,N=>o==null?void 0:o(N),{once:!0}),py(v,b),b.defaultPrevented?m.current=!1:h.onClose()}};return a.jsx(Hv,{...d,ref:g,disabled:i,onClick:Ee(s.onClick,x),onPointerDown:v=>{var b;(b=s.onPointerDown)==null||b.call(s,v),m.current=!0},onPointerUp:Ee(s.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:Ee(s.onKeyDown,v=>{const b=p.searchRef.current!=="";i||b&&v.key===" "||rf.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});ic.displayName=Ho;var Hv=j.forwardRef((s,r)=>{const{__scopeMenu:i,disabled:o=!1,textValue:d,...f}=s,h=Tf(Ho,i),p=Lv(i),g=j.useRef(null),m=it(r,g),[x,v]=j.useState(!1),[b,N]=j.useState("");return j.useEffect(()=>{const E=g.current;E&&N((E.textContent??"").trim())},[f.children]),a.jsx(Fr.ItemSlot,{scope:i,disabled:o,textValue:d??b,children:a.jsx(_v,{asChild:!0,...p,focusable:!o,children:a.jsx(qe.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:Ee(s.onPointerMove,Vr(E=>{o?h.onItemLeave(E):(h.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(s.onPointerLeave,Vr(E=>h.onItemLeave(E))),onFocus:Ee(s.onFocus,()=>v(!0)),onBlur:Ee(s.onBlur,()=>v(!1))})})})}),MA="MenuCheckboxItem",Fv=j.forwardRef((s,r)=>{const{checked:i=!1,onCheckedChange:o,...d}=s;return a.jsx(Qv,{scope:s.__scopeMenu,checked:i,children:a.jsx(ic,{role:"menuitemcheckbox","aria-checked":Fo(i)?"mixed":i,...d,ref:r,"data-state":Rf(i),onSelect:Ee(d.onSelect,()=>o==null?void 0:o(Fo(i)?!0:!i),{checkForDefaultPrevented:!1})})})});Fv.displayName=MA;var Vv="MenuRadioGroup",[DA,OA]=Is(Vv,{value:void 0,onValueChange:()=>{}}),Gv=j.forwardRef((s,r)=>{const{value:i,onValueChange:o,...d}=s,f=Ja(o);return a.jsx(DA,{scope:s.__scopeMenu,value:i,onValueChange:f,children:a.jsx(Df,{...d,ref:r})})});Gv.displayName=Vv;var Yv="MenuRadioItem",$v=j.forwardRef((s,r)=>{const{value:i,...o}=s,d=OA(Yv,s.__scopeMenu),f=i===d.value;return a.jsx(Qv,{scope:s.__scopeMenu,checked:f,children:a.jsx(ic,{role:"menuitemradio","aria-checked":f,...o,ref:r,"data-state":Rf(f),onSelect:Ee(o.onSelect,()=>{var h;return(h=d.onValueChange)==null?void 0:h.call(d,i)},{checkForDefaultPrevented:!1})})})});$v.displayName=Yv;var Of="MenuItemIndicator",[Qv,RA]=Is(Of,{checked:!1}),Xv=j.forwardRef((s,r)=>{const{__scopeMenu:i,forceMount:o,...d}=s,f=RA(Of,i);return a.jsx(En,{present:o||Fo(f.checked)||f.checked===!0,children:a.jsx(qe.span,{...d,ref:r,"data-state":Rf(f.checked)})})});Xv.displayName=Of;var _A="MenuSeparator",Kv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Kv.displayName=_A;var kA="MenuArrow",Zv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=rc(i);return a.jsx(Vy,{...d,...o,ref:r})});Zv.displayName=kA;var PA="MenuSub",[$T,Wv]=Is(PA),Ur="MenuSubTrigger",Jv=j.forwardRef((s,r)=>{const i=zs(Ur,s.__scopeMenu),o=Kr(Ur,s.__scopeMenu),d=Wv(Ur,s.__scopeMenu),f=Tf(Ur,s.__scopeMenu),h=j.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=f,m={__scopeMenu:s.__scopeMenu},x=j.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return j.useEffect(()=>x,[x]),j.useEffect(()=>{const v=p.current;return()=>{window.clearTimeout(v),g(null)}},[p,g]),a.jsx(Af,{asChild:!0,...m,children:a.jsx(Hv,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":d.contentId,"data-state":a0(i.open),...s,ref:Gr(r,d.onTriggerChange),onClick:v=>{var b;(b=s.onClick)==null||b.call(s,v),!(s.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Ee(s.onPointerMove,Vr(v=>{f.onItemEnter(v),!v.defaultPrevented&&!s.disabled&&!i.open&&!h.current&&(f.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{i.onOpenChange(!0),x()},100))})),onPointerLeave:Ee(s.onPointerLeave,Vr(v=>{var N,E;x();const b=(N=i.content)==null?void 0:N.getBoundingClientRect();if(b){const S=(E=i.content)==null?void 0:E.dataset.side,w=S==="right",P=w?-5:5,R=b[w?"left":"right"],T=b[w?"right":"left"];f.onPointerGraceIntentChange({area:[{x:v.clientX+P,y:v.clientY},{x:R,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:R,y:b.bottom}],side:S}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(v),v.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(s.onKeyDown,v=>{var N;const b=f.searchRef.current!=="";s.disabled||b&&v.key===" "||pA[o.dir].includes(v.key)&&(i.onOpenChange(!0),(N=i.content)==null||N.focus(),v.preventDefault())})})})});Jv.displayName=Ur;var e0="MenuSubContent",t0=j.forwardRef((s,r)=>{const i=zv(Ra,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=zs(Ra,s.__scopeMenu),h=Kr(Ra,s.__scopeMenu),p=Wv(e0,s.__scopeMenu),g=j.useRef(null),m=it(r,g);return a.jsx(Fr.Provider,{scope:s.__scopeMenu,children:a.jsx(En,{present:o||f.open,children:a.jsx(Fr.Slot,{scope:s.__scopeMenu,children:a.jsx(Mf,{id:p.contentId,"aria-labelledby":p.triggerId,...d,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var v;h.isUsingKeyboardRef.current&&((v=g.current)==null||v.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Ee(s.onFocusOutside,x=>{x.target!==p.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:Ee(s.onEscapeKeyDown,x=>{h.onClose(),x.preventDefault()}),onKeyDown:Ee(s.onKeyDown,x=>{var N;const v=x.currentTarget.contains(x.target),b=xA[h.dir].includes(x.key);v&&b&&(f.onOpenChange(!1),(N=p.trigger)==null||N.focus(),x.preventDefault())})})})})})});t0.displayName=e0;function a0(s){return s?"open":"closed"}function Fo(s){return s==="indeterminate"}function Rf(s){return Fo(s)?"indeterminate":s?"checked":"unchecked"}function LA(s){const r=document.activeElement;for(const i of s)if(i===r||(i.focus(),document.activeElement!==r))return}function IA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}function zA(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=IA(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function UA(s,r){const{x:i,y:o}=s;let d=!1;for(let f=0,h=r.length-1;f<r.length;h=f++){const p=r[f],g=r[h],m=p.x,x=p.y,v=g.x,b=g.y;x>o!=b>o&&i<(v-m)*(o-x)/(b-x)+m&&(d=!d)}return d}function qA(s,r){if(!r)return!1;const i={x:s.clientX,y:s.clientY};return UA(i,r)}function Vr(s){return r=>r.pointerType==="mouse"?s(r):void 0}var BA=Iv,HA=Af,FA=Uv,VA=qv,GA=Df,YA=Bv,$A=ic,QA=Fv,XA=Gv,KA=$v,ZA=Xv,WA=Kv,JA=Zv,eE=Jv,tE=t0,oc="DropdownMenu",[aE]=An(oc,[Pv]),Zt=Pv(),[nE,n0]=aE(oc),s0=s=>{const{__scopeDropdownMenu:r,children:i,dir:o,open:d,defaultOpen:f,onOpenChange:h,modal:p=!0}=s,g=Zt(r),m=j.useRef(null),[x,v]=_s({prop:d,defaultProp:f??!1,onChange:h,caller:oc});return a.jsx(nE,{scope:r,triggerId:Xa(),triggerRef:m,contentId:Xa(),open:x,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(b=>!b),[v]),modal:p,children:a.jsx(BA,{...g,open:x,onOpenChange:v,dir:o,modal:p,children:i})})};s0.displayName=oc;var l0="DropdownMenuTrigger",r0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,disabled:o=!1,...d}=s,f=n0(l0,i),h=Zt(i);return a.jsx(HA,{asChild:!0,...h,children:a.jsx(qe.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...d,ref:Gr(r,f.triggerRef),onPointerDown:Ee(s.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(f.onOpenToggle(),f.open||p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&f.onOpenToggle(),p.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});r0.displayName=l0;var sE="DropdownMenuPortal",i0=s=>{const{__scopeDropdownMenu:r,...i}=s,o=Zt(r);return a.jsx(FA,{...o,...i})};i0.displayName=sE;var o0="DropdownMenuContent",c0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=n0(o0,i),f=Zt(i),h=j.useRef(!1);return a.jsx(VA,{id:d.contentId,"aria-labelledby":d.triggerId,...f,...o,ref:r,onCloseAutoFocus:Ee(s.onCloseAutoFocus,p=>{var g;h.current||(g=d.triggerRef.current)==null||g.focus(),h.current=!1,p.preventDefault()}),onInteractOutside:Ee(s.onInteractOutside,p=>{const g=p.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,x=g.button===2||m;(!d.modal||x)&&(h.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});c0.displayName=o0;var lE="DropdownMenuGroup",rE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(GA,{...d,...o,ref:r})});rE.displayName=lE;var iE="DropdownMenuLabel",oE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(YA,{...d,...o,ref:r})});oE.displayName=iE;var cE="DropdownMenuItem",u0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx($A,{...d,...o,ref:r})});u0.displayName=cE;var uE="DropdownMenuCheckboxItem",dE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(QA,{...d,...o,ref:r})});dE.displayName=uE;var fE="DropdownMenuRadioGroup",mE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(XA,{...d,...o,ref:r})});mE.displayName=fE;var hE="DropdownMenuRadioItem",pE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(KA,{...d,...o,ref:r})});pE.displayName=hE;var xE="DropdownMenuItemIndicator",gE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(ZA,{...d,...o,ref:r})});gE.displayName=xE;var yE="DropdownMenuSeparator",vE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(WA,{...d,...o,ref:r})});vE.displayName=yE;var jE="DropdownMenuArrow",bE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(JA,{...d,...o,ref:r})});bE.displayName=jE;var NE="DropdownMenuSubTrigger",SE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(eE,{...d,...o,ref:r})});SE.displayName=NE;var wE="DropdownMenuSubContent",CE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Zt(i);return a.jsx(tE,{...d,...o,ref:r,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CE.displayName=wE;var AE=s0,EE=r0,TE=i0,ME=c0,DE=u0;function OE({...s}){return a.jsx(AE,{"data-slot":"dropdown-menu",...s})}function RE({...s}){return a.jsx(EE,{"data-slot":"dropdown-menu-trigger",...s})}function _E({className:s,sideOffset:r=4,...i}){return a.jsx(TE,{children:a.jsx(ME,{"data-slot":"dropdown-menu-content",sideOffset:r,className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...i})})}function kE({className:s,inset:r,variant:i="default",...o}){return a.jsx(DE,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":i,className:He("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o})}function PE(){var N,E;const{state:s,actions:r,auth:i}=yt(),{locations:o,locationFilter:d,notifications:f,currentView:h}=s,p=i.getCurrentUser(),g=f.filter(S=>!S.read).length,m=i.hasPermission("VIEW_ALL_LOCATIONS"),x=()=>({dashboard:"Dashboard","raw-materials":"Raw Materials","finished-products":"Finished Products",suppliers:"Suppliers",customers:"Customers",labour:"Labour Management",sales:"Sales",purchases:"Purchases",financials:"Financials",cleaning:"Cleaning Services",reports:"Reports",settings:"Settings"})[h]||"Sofa Factory Manager",v=S=>{r.setLocationFilter(S)},b=S=>{switch(S.read||r.markNotificationRead(S.id),S.type){case"sale_approval":r.setCurrentView("sales");break;case"low_stock":r.setCurrentView("raw-materials");break;case"payment_due":r.setCurrentView("financials");break;case"labour_report":r.setCurrentView("labour");break}};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(kw,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:x()}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-NP",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[m&&o.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ml,{className:"w-4 h-4 text-gray-500"}),a.jsxs(nt,{value:d,onValueChange:v,children:[a.jsx(lt,{className:"w-40",children:a.jsx(st,{placeholder:"Select location"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Locations"}),o.map(S=>a.jsx(pe,{value:S.id.toString(),children:S.name},S.id))]})]})]}),a.jsxs(OE,{children:[a.jsx(RE,{asChild:!0,children:a.jsxs(ce,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Rl,{className:"w-4 h-4"}),g>0&&a.jsx(Pe,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 text-xs flex items-center justify-center p-0",children:g>9?"9+":g})]})}),a.jsxs(_E,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-3 border-b",children:[a.jsx("h3",{className:"font-medium",children:"Notifications"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g," unread"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.slice(0,10).map(S=>a.jsx(kE,{className:"p-3 cursor-pointer",onClick:()=>b(S),children:a.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.read?"bg-gray-300":"bg-amber-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm ${S.read?"text-gray-600":"text-gray-900 font-medium"}`,children:S.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ia(S.createdAt)})]})]})},S.id))}),f.length>10&&a.jsx("div",{className:"p-3 border-t text-center",children:a.jsx(ce,{variant:"ghost",size:"sm",children:"View all notifications"})})]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:((E=(N=p.name)==null?void 0:N.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role.replace("_"," ")})]})]})]})]})})}function LE({children:s}){const{state:r}=yt(),{isAuthenticated:i,company:o}=r;return!i||!o?a.jsx(a.Fragment,{children:s}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(_w,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(PE,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function IE(){const{actions:s}=yt(),[r,i]=j.useState({username:"",password:"",email:""}),[o,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),m=b=>{i({...r,[b.target.name]:b.target.value}),d(""),h("")},x=async b=>{if(b.preventDefault(),!r.username.trim()||!r.password.trim()){d("Username and password are required");return}g(!0),d("");try{if(r.username.trim()==="admin"&&r.password.trim()==="admin123"){const S={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()};try{await s.createAdminAccount(S)}catch(w){console.log("Admin account setup:",w.message)}await s.login(S.id);return}const E=(await s.getAllUsers()).find(S=>S.role==="admin"&&S.username===r.username.trim()&&S.password===r.password.trim());if(!E){d("Invalid username or password"),g(!1);return}await s.login(E.id)}catch(N){console.error("Login failed:",N),d("Login failed. Please try again."),g(!1)}},v=async b=>{if(b.preventDefault(),!r.email.trim()){d("Email is required for password recovery");return}g(!0),d(""),h("");try{const E=(await s.getAllUsers()).find(S=>S.email===r.email.trim());if(!E){d("No account found with this email"),g(!1);return}h(`Password recovery: Your username is "${E.username}" and password is "${E.password}". Please save these credentials.`),g(!1)}catch(N){console.error("Password recovery failed:",N),d("Password recovery failed. Please try again."),g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:a.jsx(Os,{className:"w-10 h-10 text-slate-900"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sofa Factory Manager"}),a.jsx("p",{className:"text-slate-300",children:"Admin Login Portal"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Forgot your password?"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,placeholder:"Enter your email for password recovery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Recovering...":"Recover Password"})]}),o&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),f&&a.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-green-600",children:f})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-slate-300",children:["Default credentials: ",a.jsx("span",{className:"font-semibold text-amber-400",children:"admin / admin123"})]})})]})})}function ge({className:s,type:r,...i}){return a.jsx("input",{type:r,"data-slot":"input",className:He("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var zE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UE=zE.reduce((s,r)=>{const i=Kg(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{}),qE="Label",d0=j.forwardRef((s,r)=>a.jsx(UE.label,{...s,ref:r,onMouseDown:i=>{var d;i.target.closest("button, input, select, textarea")||((d=s.onMouseDown)==null||d.call(s,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));d0.displayName=qE;var BE=d0;function te({className:s,...r}){return a.jsx(BE,{"data-slot":"label",className:He("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}function de({className:s,...r}){return a.jsx("div",{"data-slot":"card",className:He("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function be({className:s,...r}){return a.jsx("div",{"data-slot":"card-header",className:He("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function Ne({className:s,...r}){return a.jsx("div",{"data-slot":"card-title",className:He("leading-none font-semibold",s),...r})}function ke({className:s,...r}){return a.jsx("div",{"data-slot":"card-description",className:He("text-muted-foreground text-sm",s),...r})}function ye({className:s,...r}){return a.jsx("div",{"data-slot":"card-content",className:He("px-6",s),...r})}function Bt({className:s,...r}){return a.jsx("textarea",{"data-slot":"textarea",className:He("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}const Ir=[{id:"admin",title:"Create Admin Account",description:"Set up your administrator account",icon:Ro},{id:"company",title:"Company Profile",description:"Enter your company information",icon:ON},{id:"locations",title:"Factory Locations",description:"Add your factory locations",icon:Ml}];function Pg(){const{actions:s}=yt(),[r,i]=j.useState(0),[o,d]=j.useState(!1),[f,h]=j.useState({}),[p,g]=j.useState({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",securityQuestion1:"What is your mother's maiden name?",securityAnswer1:"",securityQuestion2:"What was the name of your first pet?",securityAnswer2:""}),[m,x]=j.useState({name:"",address:"",phone:"",email:""}),[v,b]=j.useState([{name:"",address:""}]),N=A=>{const k={};switch(A){case 0:p.name.trim()||(k.adminName="Name is required"),p.email.trim()?ig(p.email)||(k.adminEmail="Invalid email format"):k.adminEmail="Email is required",p.phone.trim()?og(p.phone)||(k.adminPhone="Invalid phone format"):k.adminPhone="Phone is required",p.username.trim()?p.username.length<4&&(k.adminUsername="Username must be at least 4 characters"):k.adminUsername="Username is required",p.password.trim()?p.password.length<6&&(k.adminPassword="Password must be at least 6 characters"):k.adminPassword="Password is required",p.password!==p.confirmPassword&&(k.adminConfirmPassword="Passwords do not match"),p.securityAnswer1.trim()||(k.securityAnswer1="Security answer is required"),p.securityAnswer2.trim()||(k.securityAnswer2="Security answer is required");break;case 1:m.name.trim()||(k.companyName="Company name is required"),m.address.trim()||(k.companyAddress="Company address is required"),m.phone.trim()?og(m.phone)||(k.companyPhone="Invalid phone format"):k.companyPhone="Company phone is required",m.email&&!ig(m.email)&&(k.companyEmail="Invalid email format");break;case 2:v.forEach((U,G)=>{U.name.trim()||(k[`location${G}Name`]="Location name is required"),U.address.trim()||(k[`location${G}Address`]="Location address is required")});break}return h(k),Object.keys(k).length===0},E=()=>{N(r)&&i(r+1)},S=()=>{i(r-1),h({})},w=()=>{b([...v,{name:"",address:""}])},P=A=>{v.length>1&&b(v.filter((k,U)=>U!==A))},R=(A,k,U)=>{const G=v.map((se,H)=>H===A?{...se,[k]:U}:se);b(G)},T=async()=>{if(N(r)){d(!0);try{const A=await s.createAdminAccount(p);await s.addItem("company",{id:"profile",...m});for(const k of v)await s.addItem("locations",k);await s.refreshData()}catch(A){console.error("Setup failed:",A),h({general:"Setup failed. Please try again."})}finally{d(!1)}}},_=()=>{switch(r){case 0:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminName",children:"Full Name"}),a.jsx(ge,{id:"adminName",value:p.name,onChange:A=>g({...p,name:A.target.value}),placeholder:"Enter your full name",className:f.adminName?"border-red-500":""}),f.adminName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminName})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminEmail",children:"Email Address"}),a.jsx(ge,{id:"adminEmail",type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),placeholder:"Enter your email address",className:f.adminEmail?"border-red-500":""}),f.adminEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminEmail})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminPhone",children:"Phone Number"}),a.jsx(ge,{id:"adminPhone",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),placeholder:"Enter your phone number",className:f.adminPhone?"border-red-500":""}),f.adminPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPhone})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Login Credentials"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminUsername",children:"Username"}),a.jsx(ge,{id:"adminUsername",value:p.username,onChange:A=>g({...p,username:A.target.value}),placeholder:"Choose a username (min 4 characters)",className:f.adminUsername?"border-red-500":""}),f.adminUsername&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminUsername})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminPassword",children:"Password"}),a.jsx(ge,{id:"adminPassword",type:"password",value:p.password,onChange:A=>g({...p,password:A.target.value}),placeholder:"Choose a password (min 6 characters)",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPassword})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"adminConfirmPassword",children:"Confirm Password"}),a.jsx(ge,{id:"adminConfirmPassword",type:"password",value:p.confirmPassword,onChange:A=>g({...p,confirmPassword:A.target.value}),placeholder:"Re-enter your password",className:f.adminConfirmPassword?"border-red-500":""}),f.adminConfirmPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminConfirmPassword})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Security Questions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"These will help you recover your password if you forget it"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"securityAnswer1",children:p.securityQuestion1}),a.jsx(ge,{id:"securityAnswer1",value:p.securityAnswer1,onChange:A=>g({...p,securityAnswer1:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer1?"border-red-500":""}),f.securityAnswer1&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer1})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"securityAnswer2",children:p.securityQuestion2}),a.jsx(ge,{id:"securityAnswer2",value:p.securityAnswer2,onChange:A=>g({...p,securityAnswer2:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer2?"border-red-500":""}),f.securityAnswer2&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer2})]})]})]})]});case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"companyName",children:"Company Name"}),a.jsx(ge,{id:"companyName",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"Enter your company name",className:f.companyName?"border-red-500":""}),f.companyName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyName})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"companyAddress",children:"Company Address"}),a.jsx(Bt,{id:"companyAddress",value:m.address,onChange:A=>x({...m,address:A.target.value}),placeholder:"Enter your company address",className:f.companyAddress?"border-red-500":"",rows:3}),f.companyAddress&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyAddress})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"companyPhone",children:"Company Phone"}),a.jsx(ge,{id:"companyPhone",value:m.phone,onChange:A=>x({...m,phone:A.target.value}),placeholder:"Enter company phone number",className:f.companyPhone?"border-red-500":""}),f.companyPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyPhone})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"companyEmail",children:"Company Email (Optional)"}),a.jsx(ge,{id:"companyEmail",type:"email",value:m.email,onChange:A=>x({...m,email:A.target.value}),placeholder:"Enter company email address",className:f.companyEmail?"border-red-500":""}),f.companyEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyEmail})]})]});case 2:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Factory Locations"}),a.jsx(ce,{onClick:w,variant:"outline",size:"sm",children:"Add Location"})]}),v.map((A,k)=>a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Location ",k+1]}),v.length>1&&a.jsx(ce,{onClick:()=>P(k),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:"Remove"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:`location${k}Name`,children:"Location Name"}),a.jsx(ge,{id:`location${k}Name`,value:A.name,onChange:U=>R(k,"name",U.target.value),placeholder:"e.g., Factory A - Kathmandu",className:f[`location${k}Name`]?"border-red-500":""}),f[`location${k}Name`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${k}Name`]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:`location${k}Address`,children:"Address"}),a.jsx(Bt,{id:`location${k}Address`,value:A.address,onChange:U=>R(k,"address",U.target.value),placeholder:"Enter location address",className:f[`location${k}Address`]?"border-red-500":"",rows:2}),f[`location${k}Address`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${k}Address`]})]})]})},k))]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Os,{className:"w-8 h-8 text-amber-500"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Sofa Factory Manager"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Let's set up your application"})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:Ir.map((A,k)=>{const U=A.icon,G=k===r,se=k<r;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${G?"bg-slate-800 text-white":se?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:a.jsx(U,{className:"w-5 h-5"})}),k<Ir.length-1&&a.jsx("div",{className:`w-16 h-1 mx-2 ${se?"bg-green-500":"bg-gray-200"}`})]},A.id)})}),a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:Ir[r].title}),a.jsx(ke,{children:Ir[r].description})]}),a.jsxs(ye,{children:[f.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:a.jsx("p",{className:"text-sm text-red-600",children:f.general})}),_(),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ce,{onClick:S,variant:"outline",disabled:r===0,children:"Previous"}),r<Ir.length-1?a.jsx(ce,{onClick:E,children:"Next"}):a.jsx(ce,{onClick:T,disabled:o,children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}function Lg(){const{state:s}=yt(),{user:r}=s,[i,o]=j.useState({sales:[],purchases:[],rawMaterials:[],products:[],customers:[],suppliers:[],loading:!0});j.useEffect(()=>{d()},[]);const d=async()=>{try{const[x,v,b,N,E,S]=await Promise.all([he.getAll("sales"),he.getAll("purchases"),he.getAll("rawMaterials"),he.getAll("sofaModels"),he.getAll("customers"),he.getAll("suppliers")]);console.log("Dashboard data loaded:",{sales:(x==null?void 0:x.length)||0,purchases:(v==null?void 0:v.length)||0,rawMaterials:(b==null?void 0:b.length)||0,products:(N==null?void 0:N.length)||0,customers:(E==null?void 0:E.length)||0,suppliers:(S==null?void 0:S.length)||0});const w=P=>(r==null?void 0:r.role)==="admin"?P:P.filter(R=>R.location===(r==null?void 0:r.location));o({sales:w(x||[]),purchases:w(v||[]),rawMaterials:w(b||[]),products:N||[],customers:E||[],suppliers:S||[],loading:!1})}catch(x){console.error("Error loading dashboard data:",x),o(v=>({...v,loading:!1}))}};if(i.loading)return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(x=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})]})});const f=i.sales.filter(x=>x.approvalStatus==="approved").length,h=i.sales.filter(x=>x.approvalStatus==="pending").length,p=i.sales.filter(x=>x.approvalStatus==="approved").reduce((x,v)=>x+(parseFloat(v.totalAmount)||parseFloat(v.salePrice)||0),0),g=i.rawMaterials.filter(x=>(x.currentStock||0)<=(x.minStock||10)).length,m=({title:x,value:v,icon:b,color:N="blue",description:E})=>a.jsx(de,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:x}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),E&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),a.jsx("div",{className:`p-3 rounded-full bg-${N}-100`,children:a.jsx(b,{className:`w-6 h-6 text-${N}-600`})})]})})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(r==null?void 0:r.name)||"User","!"]}),a.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your factory today"})]}),(r==null?void 0:r.location)&&a.jsx(Pe,{variant:"outline",className:"text-sm",children:r.location})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(m,{title:"Total Sales",value:f,icon:Do,color:"blue",description:`${h} pending approval`}),a.jsx(m,{title:"Revenue",value:`NPR ${p.toLocaleString()}`,icon:Oa,color:"green",description:"From completed sales"}),a.jsx(m,{title:"Customers",value:i.customers.length,icon:_o,color:"purple",description:"Active customers"}),a.jsx(m,{title:"Suppliers",value:i.suppliers.length,icon:Qg,color:"orange",description:"Active suppliers"})]}),(h>0||g>0)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h>0&&a.jsx(de,{className:"border-orange-200 bg-orange-50",children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:a.jsx(Do,{className:"w-4 h-4 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pending Sales"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[h," sales need approval"]})]}),a.jsx(Pe,{variant:"secondary",children:h})]})})}),g>0&&a.jsx(de,{className:"border-red-200 bg-red-50",children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100",children:a.jsx(ff,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Low Stock"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g," items need restocking"]})]}),a.jsx(Pe,{variant:"destructive",children:g})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(de,{children:[a.jsx(be,{children:a.jsxs(Ne,{className:"flex items-center space-x-2",children:[a.jsx(Za,{className:"w-5 h-5"}),a.jsx("span",{children:"Inventory Overview"})]})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:[i.rawMaterials.length," types"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Finished Products"}),a.jsxs("span",{className:"font-medium",children:[i.products.length," models"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),a.jsx(Pe,{variant:g>0?"destructive":"secondary",children:g})]})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsxs(Ne,{className:"flex items-center space-x-2",children:[a.jsx(Oa,{className:"w-5 h-5"}),a.jsx("span",{children:"Sales Overview"})]})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Completed Sales"}),a.jsx("span",{className:"font-medium",children:f})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pending Approval"}),a.jsx(Pe,{variant:h>0?"secondary":"outline",children:h})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsxs("span",{className:"font-medium text-green-600",children:["NPR ",p.toLocaleString()]})]})]})})]})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsxs(Ne,{className:"flex items-center space-x-2",children:[a.jsx(as,{className:"w-5 h-5"}),a.jsx("span",{children:"Recent Activity"})]})}),a.jsx(ye,{children:(()=>{const x=[];i.sales.slice(0,5).forEach(b=>{var N;x.push({type:"sale",icon:"",title:`Sale ${b.saleNumber}`,description:`${b.customerName} - ${b.productName}`,amount:`NPR ${((N=b.totalAmount)==null?void 0:N.toLocaleString())||0}`,status:b.approvalStatus||"pending",date:b.createdAt})}),i.purchases.slice(0,3).forEach(b=>{var N;x.push({type:"purchase",icon:"",title:`Purchase #${b.id}`,description:b.supplierName||"Raw materials",amount:`NPR ${((N=b.totalAmount)==null?void 0:N.toLocaleString())||0}`,status:"completed",date:b.createdAt})}),x.sort((b,N)=>new Date(N.date)-new Date(b.date));const v=x.slice(0,8);return v.length>0?a.jsx("div",{className:"space-y-3",children:v.map((b,N)=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[a.jsx("span",{className:"text-2xl",children:b.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:b.title}),a.jsx("p",{className:"text-xs text-gray-600",children:b.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-sm text-green-600",children:b.amount}),b.status==="pending"&&a.jsx(Pe,{className:"bg-orange-500 text-white text-xs mt-1",children:"Pending"}),b.status==="approved"&&a.jsx(Pe,{className:"bg-green-500 text-white text-xs mt-1",children:"Approved"})]})]},N))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(as,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No recent activities"}),a.jsx("p",{className:"text-sm",children:"Sales and purchases will appear here"})]})})()})]})]})}var cc="Tabs",[HE]=An(cc,[lc]),f0=lc(),[FE,_f]=HE(cc),m0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:d,defaultValue:f,orientation:h="horizontal",dir:p,activationMode:g="automatic",...m}=s,x=Go(p),[v,b]=_s({prop:o,onChange:d,defaultProp:f??"",caller:cc});return a.jsx(FE,{scope:i,baseId:Xa(),value:v,onValueChange:b,orientation:h,dir:x,activationMode:g,children:a.jsx(qe.div,{dir:x,"data-orientation":h,...m,ref:r})})});m0.displayName=cc;var h0="TabsList",p0=j.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...d}=s,f=_f(h0,i),h=f0(i);return a.jsx(Rv,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:o,children:a.jsx(qe.div,{role:"tablist","aria-orientation":f.orientation,...d,ref:r})})});p0.displayName=h0;var x0="TabsTrigger",g0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:d=!1,...f}=s,h=_f(x0,i),p=f0(i),g=j0(h.baseId,o),m=b0(h.baseId,o),x=o===h.value;return a.jsx(_v,{asChild:!0,...p,focusable:!d,active:x,children:a.jsx(qe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:g,...f,ref:r,onMouseDown:Ee(s.onMouseDown,v=>{!d&&v.button===0&&v.ctrlKey===!1?h.onValueChange(o):v.preventDefault()}),onKeyDown:Ee(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(o)}),onFocus:Ee(s.onFocus,()=>{const v=h.activationMode!=="manual";!x&&!d&&v&&h.onValueChange(o)})})})});g0.displayName=x0;var y0="TabsContent",v0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:d,children:f,...h}=s,p=_f(y0,i),g=j0(p.baseId,o),m=b0(p.baseId,o),x=o===p.value,v=j.useRef(x);return j.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(En,{present:d||x,children:({present:b})=>a.jsx(qe.div,{"data-state":x?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:m,tabIndex:0,...h,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:b&&f})})});v0.displayName=y0;function j0(s,r){return`${s}-trigger-${r}`}function b0(s,r){return`${s}-content-${r}`}var VE=m0,GE=p0,YE=g0,$E=v0;function ql({className:s,...r}){return a.jsx(VE,{"data-slot":"tabs",className:He("flex flex-col gap-2",s),...r})}function Bl({className:s,...r}){return a.jsx(GE,{"data-slot":"tabs-list",className:He("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...r})}function Ut({className:s,...r}){return a.jsx(YE,{"data-slot":"tabs-trigger",className:He("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r})}function qt({className:s,...r}){return a.jsx($E,{"data-slot":"tabs-content",className:He("flex-1 outline-none",s),...r})}function QE(){const{state:s,actions:r}=yt(),{company:i,locations:o}=s,[d,f]=j.useState({name:(i==null?void 0:i.name)||"",address:(i==null?void 0:i.address)||"",phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||"",labourManagerName:(i==null?void 0:i.labourManagerName)||"",labourManagerPhone:(i==null?void 0:i.labourManagerPhone)||""}),[h,p]=j.useState(o&&o.length>0?o:[{name:"",address:""}]),g=(E,S)=>{f(w=>({...w,[E]:S}))},m=async()=>{try{if(!d.name||!d.address||!d.phone){alert("Please fill in all required fields (Name, Address, Phone)");return}await r.updateCompany(d),alert("Company profile updated successfully!")}catch(E){console.error("Error saving company profile:",E),alert("Failed to save company profile. Please try again.")}},x=(E,S,w)=>{const P=[...h];P[E]={...P[E],[S]:w},p(P)},v=()=>{p([...h,{name:"",address:""}])},b=E=>{h.length>1&&p(h.filter((S,w)=>w!==E))},N=async()=>{try{const E=h.filter(S=>S.name&&S.address);if(E.length===0){alert("Please add at least one location with name and address");return}await r.updateLocations(E),alert("Locations updated successfully!")}catch(E){console.error("Error saving locations:",E),alert("Failed to save locations. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your application settings and preferences"})]}),a.jsxs(ql,{defaultValue:"company",className:"space-y-6",children:[a.jsxs(Bl,{children:[a.jsxs(Ut,{value:"company",className:"flex items-center space-x-2",children:[a.jsx(Xx,{className:"w-4 h-4"}),a.jsx("span",{children:"Company Profile"})]}),a.jsxs(Ut,{value:"locations",className:"flex items-center space-x-2",children:[a.jsx(Ml,{className:"w-4 h-4"}),a.jsx("span",{children:"Locations"})]}),a.jsxs(Ut,{value:"data",className:"flex items-center space-x-2",children:[a.jsx(xo,{className:"w-4 h-4"}),a.jsx("span",{children:"Data Management"})]})]}),a.jsx(qt,{value:"company",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Company Profile"}),a.jsx(ke,{children:"Update your company information that appears in notifications and reports"})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"companyName",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"companyName",value:d.name,onChange:E=>g("name",E.target.value),placeholder:"Enter company name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"companyPhone",children:["Company Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"companyPhone",value:d.phone,onChange:E=>g("phone",E.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"companyEmail",children:"Company Email"}),a.jsx(ge,{id:"companyEmail",type:"email",value:d.email,onChange:E=>g("email",E.target.value),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"labourManagerName",children:"Labour Manager Name"}),a.jsx(ge,{id:"labourManagerName",value:d.labourManagerName,onChange:E=>g("labourManagerName",E.target.value),placeholder:"Enter labour manager name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"labourManagerPhone",children:"Labour Manager Phone"}),a.jsx(ge,{id:"labourManagerPhone",value:d.labourManagerPhone,onChange:E=>g("labourManagerPhone",E.target.value),placeholder:"Enter labour manager phone"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"companyAddress",children:["Company Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Bt,{id:"companyAddress",value:d.address,onChange:E=>g("address",E.target.value),placeholder:"Enter complete company address",rows:3})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:m,className:"px-6",children:[a.jsx(Xx,{className:"w-4 h-4 mr-2"}),"Save Company Profile"]})})]})]})}),a.jsx(qt,{value:"locations",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Factory Locations"}),a.jsx(ke,{children:"Manage your factory locations and addresses"})]}),a.jsxs(ye,{className:"space-y-6",children:[h.map((E,S)=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:["Location ",S+1]}),h.length>1&&a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>b(S),children:"Remove"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:`locationName${S}`,children:["Location Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:`locationName${S}`,value:E.name,onChange:w=>x(S,"name",w.target.value),placeholder:"e.g., Main Factory, Warehouse 1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:`locationAddress${S}`,children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:`locationAddress${S}`,value:E.address,onChange:w=>x(S,"address",w.target.value),placeholder:"Enter location address"})]})]})]},S)),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs(ce,{variant:"outline",onClick:v,children:[a.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Add Location"]}),a.jsxs(ce,{onClick:N,className:"px-6",children:[a.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Save Locations"]})]})]})]})}),a.jsx(qt,{value:"data",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Data Management"}),a.jsx(ke,{children:"Export, import, or reset your application data"})]}),a.jsx(ye,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all your application data as a backup"}),a.jsxs(ce,{variant:"outline",children:[a.jsx(xo,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Import Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Restore data from a previous backup"}),a.jsxs(ce,{variant:"outline",children:[a.jsx(xo,{className:"w-4 h-4 mr-2"}),"Import Data"]})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Reset Application"}),a.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Clear all data and return to first-time setup"}),a.jsxs(ce,{variant:"destructive",onClick:()=>window.location.href="/reset.html",children:[a.jsx(xo,{className:"w-4 h-4 mr-2"}),"Reset Application"]})]})]})})]})})]})]})}var uc="Dialog",[N0]=An(uc),[XE,qa]=N0(uc),S0=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:h=!0}=s,p=j.useRef(null),g=j.useRef(null),[m,x]=_s({prop:o,defaultProp:d??!1,onChange:f,caller:uc});return a.jsx(XE,{scope:r,triggerRef:p,contentRef:g,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:m,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(v=>!v),[x]),modal:h,children:i})};S0.displayName=uc;var w0="DialogTrigger",KE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=qa(w0,i),f=it(r,d.triggerRef);return a.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Lf(d.open),...o,ref:f,onClick:Ee(s.onClick,d.onOpenToggle)})});KE.displayName=w0;var kf="DialogPortal",[ZE,C0]=N0(kf,{forceMount:void 0}),A0=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:d}=s,f=qa(kf,r);return a.jsx(ZE,{scope:r,forceMount:i,children:j.Children.map(o,h=>a.jsx(En,{present:i||f.open,children:a.jsx(Jo,{asChild:!0,container:d,children:h})}))})};A0.displayName=kf;var Vo="DialogOverlay",E0=j.forwardRef((s,r)=>{const i=C0(Vo,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=qa(Vo,s.__scopeDialog);return f.modal?a.jsx(En,{present:o||f.open,children:a.jsx(JE,{...d,ref:r})}):null});E0.displayName=Vo;var WE=_l("DialogOverlay.RemoveScroll"),JE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=qa(Vo,i);return a.jsx(tc,{as:WE,allowPinchZoom:!0,shards:[d.contentRef],children:a.jsx(qe.div,{"data-state":Lf(d.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),Ls="DialogContent",T0=j.forwardRef((s,r)=>{const i=C0(Ls,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=qa(Ls,s.__scopeDialog);return a.jsx(En,{present:o||f.open,children:f.modal?a.jsx(eT,{...d,ref:r}):a.jsx(tT,{...d,ref:r})})});T0.displayName=Ls;var eT=j.forwardRef((s,r)=>{const i=qa(Ls,s.__scopeDialog),o=j.useRef(null),d=it(r,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return wf(f)},[]),a.jsx(M0,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(s.onCloseAutoFocus,f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Ee(s.onPointerDownOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&f.preventDefault()}),onFocusOutside:Ee(s.onFocusOutside,f=>f.preventDefault())})}),tT=j.forwardRef((s,r)=>{const i=qa(Ls,s.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return a.jsx(M0,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,p;(h=s.onCloseAutoFocus)==null||h.call(s,f),f.defaultPrevented||(o.current||(p=i.triggerRef.current)==null||p.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{var g,m;(g=s.onInteractOutside)==null||g.call(s,f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const h=f.target;((m=i.triggerRef.current)==null?void 0:m.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),M0=j.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...h}=s,p=qa(Ls,i),g=j.useRef(null),m=it(r,g);return pf(),a.jsxs(a.Fragment,{children:[a.jsx($o,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:a.jsx(Yo,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Lf(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(aT,{titleId:p.titleId}),a.jsx(sT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Pf="DialogTitle",D0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=qa(Pf,i);return a.jsx(qe.h2,{id:d.titleId,...o,ref:r})});D0.displayName=Pf;var O0="DialogDescription",R0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=qa(O0,i);return a.jsx(qe.p,{id:d.descriptionId,...o,ref:r})});R0.displayName=O0;var _0="DialogClose",k0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=qa(_0,i);return a.jsx(qe.button,{type:"button",...o,ref:r,onClick:Ee(s.onClick,()=>d.onOpenChange(!1))})});k0.displayName=_0;function Lf(s){return s?"open":"closed"}var P0="DialogTitleWarning",[QT,L0]=Lw(P0,{contentName:Ls,titleName:Pf,docsSlug:"dialog"}),aT=({titleId:s})=>{const r=L0(P0),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},nT="DialogDescriptionWarning",sT=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L0(nT).contentName}}.`;return j.useEffect(()=>{var f;const d=(f=s.current)==null?void 0:f.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},lT=S0,rT=A0,iT=E0,oT=T0,cT=D0,uT=R0,dT=k0;function Ft({...s}){return a.jsx(lT,{"data-slot":"dialog",...s})}function fT({...s}){return a.jsx(rT,{"data-slot":"dialog-portal",...s})}function mT({className:s,...r}){return a.jsx(iT,{"data-slot":"dialog-overlay",className:He("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function Vt({className:s,children:r,...i}){return a.jsxs(fT,{"data-slot":"dialog-portal",children:[a.jsx(mT,{}),a.jsxs(oT,{"data-slot":"dialog-content",className:He("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[r,a.jsxs(dT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ko,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Gt({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-header",className:He("flex flex-col gap-2 text-center sm:text-left",s),...r})}function Yt({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-footer",className:He("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function $t({className:s,...r}){return a.jsx(cT,{"data-slot":"dialog-title",className:He("text-lg leading-none font-semibold",s),...r})}function ia({className:s,...r}){return a.jsx(uT,{"data-slot":"dialog-description",className:He("text-muted-foreground text-sm",s),...r})}function hT(){const{state:s,actions:r}=yt(),{customers:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",phone:"",email:"",address:"",notes:""}),v=i.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.phone.includes(o)||w.email&&w.email.toLowerCase().includes(o.toLowerCase())),b=(w=null)=>{w?(g(w),x({name:w.name,phone:w.phone,email:w.email||"",address:w.address||"",notes:w.notes||""})):(g(null),x({name:"",phone:"",email:"",address:"",notes:""})),h(!0)},N=()=>{h(!1),g(null),x({name:"",phone:"",email:"",address:"",notes:""})},E=async w=>{if(w.preventDefault(),!m.name||!m.phone){alert("Please fill in customer name and phone number");return}try{const P={...m,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("customers",{...P,id:p.id}),alert("Customer updated successfully!")):(await r.addItem("customers",P),alert("Customer added successfully!")),N()}catch(P){console.error("Error saving customer:",P),alert("Failed to save customer. Please try again.")}},S=async w=>{if(window.confirm(`Are you sure you want to delete ${w.name}?`))try{await r.deleteItem("customers",w.id),alert("Customer deleted successfully!")}catch(P){console.error("Error deleting customer:",P),alert("Failed to delete customer. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer information and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:w=>d(w.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),v.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ro,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No customers found":"No customers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first customer"}),!o&&a.jsxs(ce,{onClick:()=>b(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(w=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ne,{className:"text-lg",children:w.name}),a.jsxs(ke,{className:"mt-1",children:["Customer since ",new Date(w.createdAt).toLocaleDateString()]})]}),a.jsx(Pe,{variant:"outline",className:"ml-2",children:"Active"})]})}),a.jsxs(ye,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx($g,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`tel:${w.phone}`,className:"hover:text-blue-600",children:w.phone})]}),w.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Gg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`mailto:${w.email}`,className:"hover:text-blue-600 truncate",children:w.email})]}),w.address&&a.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[a.jsx(Ml,{className:"w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:w.address})]}),w.notes&&a.jsx("div",{className:"pt-2 border-t",children:a.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:w.notes})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(w),children:[a.jsx(ns,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>S(w),children:a.jsx(Wa,{className:"w-4 h-4"})})]})]})]},w.id))}),a.jsx(Ft,{open:f,onOpenChange:h,children:a.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:p?"Edit Customer":"Add New Customer"}),a.jsx(ia,{children:p?"Update customer information below":"Enter customer details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"name",children:["Customer Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"name",value:m.name,onChange:w=>x({...m,name:w.target.value}),placeholder:"Enter customer name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"phone",value:m.phone,onChange:w=>x({...m,phone:w.target.value}),placeholder:"Enter phone number",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email Address"}),a.jsx(ge,{id:"email",type:"email",value:m.email,onChange:w=>x({...m,email:w.target.value}),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"address",children:"Address"}),a.jsx(Bt,{id:"address",value:m.address,onChange:w=>x({...m,address:w.target.value}),placeholder:"Enter customer address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:m.notes,onChange:w=>x({...m,notes:w.target.value}),placeholder:"Add any additional notes about this customer",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})]})})]})}function pT(){const{state:s,actions:r}=yt(),{sofaModels:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null}),v=i.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase())),b=(A=null)=>{A?(g(A),x({name:A.name,description:A.description||"",materialCost:A.materialCost||"",laborCost:A.laborCost||"",sellingPrice:A.sellingPrice||"",estimatedDays:A.estimatedDays||"",stockQuantity:A.stockQuantity||"0",billOfMaterials:A.billOfMaterials||[],images:A.images||[],primaryImageId:A.primaryImageId||null})):(g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[]})),h(!0)},N=()=>{h(!1),g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null})},E=()=>{let A=0;m.billOfMaterials&&m.billOfMaterials.length>0?A=m.billOfMaterials.reduce((U,G)=>U+(G.totalCost||0),0):A=parseFloat(m.materialCost)||0;const k=parseFloat(m.laborCost)||0;return A+k},S=()=>m.billOfMaterials&&m.billOfMaterials.length>0?m.billOfMaterials.reduce((A,k)=>A+(k.totalCost||0),0):0,w=()=>{const A=E();return(parseFloat(m.sellingPrice)||0)-A},P=async A=>{if(!A||A.length===0)return;const k=5,U=5*1024*1024,G=k-m.images.length,se=A.slice(0,G);for(const H of se){if(!H.type.startsWith("image/")){alert(`${H.name} is not an image file`);continue}if(H.size>U){alert(`${H.name} is too large (max 5MB)`);continue}const F=new FileReader;F.onload=ee=>{const Y=Date.now()+Math.random(),B={id:Y,data:ee.target.result,name:H.name};x(z=>{const M=[...z.images,B];return{...z,images:M,primaryImageId:z.primaryImageId||Y}})},F.readAsDataURL(H)}},R=A=>{x(k=>{const U=k.images.filter(se=>se.id!==A);let G=k.primaryImageId;return A===k.primaryImageId&&U.length>0?G=U[0].id:U.length===0&&(G=null),{...k,images:U,primaryImageId:G}})},T=async A=>{if(A.preventDefault(),!m.name){alert("Please enter product name");return}try{const k=S(),U=k>0?k:parseFloat(m.materialCost)||0,G={name:m.name,description:m.description,billOfMaterials:m.billOfMaterials||[],images:m.images||[],primaryImageId:m.primaryImageId||null,materialCost:U,laborCost:parseFloat(m.laborCost)||0,sellingPrice:parseFloat(m.sellingPrice)||0,estimatedDays:parseInt(m.estimatedDays)||0,stockQuantity:parseInt(m.stockQuantity)||0,totalCost:E(),profit:w(),createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("sofaModels",{...G,id:p.id}),alert("Product updated successfully!")):(await r.addItem("sofaModels",G),alert("Product added successfully!")),N()}catch(k){console.error("Error saving product:",k),alert("Failed to save product. Please try again.")}},_=async A=>{if(window.confirm(`Are you sure you want to delete ${A.name}?`))try{await r.deleteItem("sofaModels",A.id),alert("Product deleted successfully!")}catch(k){console.error("Error deleting product:",k),alert("Failed to delete product. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finished Products"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your sofa models and product catalog"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Stock is automatically updated when production is completed."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search products by name or description...",value:o,onChange:A=>d(A.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),v.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Za,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No products found":"No products yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first product"}),!o&&a.jsxs(ce,{onClick:()=>b(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(A=>{var k;return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[A.images&&A.images.length>0&&a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:((k=A.images.find(U=>U.id===A.primaryImageId))==null?void 0:k.data)||A.images[0].data,alt:A.name,className:"w-full h-full object-cover"}),A.images.length>1&&a.jsxs(Pe,{className:"absolute top-2 right-2 bg-black bg-opacity-70",children:["+",A.images.length-1," more"]})]}),a.jsxs(be,{children:[a.jsx(Ne,{className:"text-lg",children:A.name}),A.description&&a.jsx(ke,{className:"line-clamp-2",children:A.description})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Material Cost"}),a.jsx("p",{className:"font-semibold",children:Ie(A.materialCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Labor Cost"}),a.jsx("p",{className:"font-semibold text-blue-600",children:Ie(A.laborCost)})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total Cost"}),a.jsx("p",{className:"font-semibold",children:Ie(A.totalCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Selling Price"}),a.jsx("p",{className:"font-semibold text-green-600",children:Ie(A.sellingPrice)})]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),a.jsx(Pe,{variant:A.profit>0?"default":"destructive",children:Ie(A.profit)})]})}),A.estimatedDays>0&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Estimated Production: ",a.jsxs("span",{className:"font-semibold text-gray-900",children:[A.estimatedDays," days"]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Stock Quantity"}),a.jsxs(Pe,{variant:(A.stockQuantity||0)>0?"default":"destructive",children:[A.stockQuantity||0," units"]})]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(A),children:[a.jsx(ns,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>_(A),children:a.jsx(Wa,{className:"w-4 h-4"})})]})]})]},A.id)})}),a.jsx(Ft,{open:f,onOpenChange:h,children:a.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:p?"Edit Product":"Add New Product"}),a.jsx(ia,{children:p?"Update product information below":"Enter product details including labor cost for accurate pricing"})]}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"name",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"name",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Sofa",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"description",children:"Description"}),a.jsx(Bt,{id:"description",value:m.description,onChange:A=>x({...m,description:A.target.value}),placeholder:"Enter product description",rows:3})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-base font-semibold",children:"Product Images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload up to 5 images (Click or drag & drop)"})]}),a.jsxs("div",{className:"space-y-3",children:[m.images.length<5&&a.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-6 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>document.getElementById("imageUpload").click(),onDragOver:A=>A.preventDefault(),onDrop:A=>{A.preventDefault();const k=Array.from(A.dataTransfer.files);P(k)},children:[a.jsx(Za,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/png,image/jpeg,image/jpg",multiple:!0,className:"hidden",onChange:A=>P(Array.from(A.target.files))})]}),m.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.images.map(A=>a.jsxs("div",{className:`relative group border-2 rounded-lg overflow-hidden ${A.id===m.primaryImageId?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:[a.jsx("img",{src:A.data,alt:"Product",className:"w-full h-32 object-cover"}),A.id===m.primaryImageId&&a.jsx(Pe,{className:"absolute top-2 left-2 bg-blue-500",children:"Primary"}),a.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center gap-2",children:[A.id!==m.primaryImageId&&a.jsx(ce,{type:"button",size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x({...m,primaryImageId:A.id}),children:"Set Primary"}),a.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>R(A.id),children:a.jsx(Wa,{className:"w-4 h-4"})})]})]},A.id))})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx(te,{className:"text-base font-semibold text-blue-900",children:"Bill of Materials (BOM)"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 mb-3",children:["BOM is now managed in the ",a.jsx("strong",{children:"Production"})," section when starting a new job."]}),m.billOfMaterials.length>0?a.jsxs("div",{className:"space-y-1",children:[m.billOfMaterials.map((A,k)=>a.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[a.jsx("span",{children:A.materialName}),a.jsxs("span",{children:[A.quantity," ",A.unit]})]},k)),a.jsxs("div",{className:"pt-2 mt-2 border-t border-blue-200 flex justify-between font-bold text-blue-900",children:[a.jsx("span",{children:"Total Material Cost"}),a.jsx("span",{children:Ie(S())})]})]}):a.jsx("p",{className:"text-sm text-blue-600 italic",children:"No BOM defined for this product yet."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"materialCost",children:["Material Cost (NPR)",m.billOfMaterials.length>0&&a.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Auto-calculated from BOM)"})]}),a.jsx(ge,{id:"materialCost",type:"number",step:"0.01",value:m.billOfMaterials.length>0?S():m.materialCost,onChange:A=>x({...m,materialCost:A.target.value}),placeholder:"0.00",disabled:m.billOfMaterials.length>0,className:m.billOfMaterials.length>0?"bg-gray-100 font-semibold":""}),m.billOfMaterials.length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Or use Bill of Materials above for detailed tracking"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"laborCost",className:"flex items-center",children:[a.jsx(Oa,{className:"w-4 h-4 mr-1 text-blue-600"}),"Labor Cost (NPR)"]}),a.jsx(ge,{id:"laborCost",type:"number",step:"0.01",value:m.laborCost,onChange:A=>x({...m,laborCost:A.target.value}),placeholder:"0.00"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Estimated labor cost for production"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:Ie(E())})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Material Cost + Labor Cost"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"sellingPrice",children:"Selling Price (NPR)"}),a.jsx(ge,{id:"sellingPrice",type:"number",step:"0.01",value:m.sellingPrice,onChange:A=>x({...m,sellingPrice:A.target.value}),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"estimatedDays",children:"Estimated Production (Days)"}),a.jsx(ge,{id:"estimatedDays",type:"number",value:m.estimatedDays,onChange:A=>x({...m,estimatedDays:A.target.value}),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"stockQuantity",children:["Stock Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"stockQuantity",type:"number",min:"0",value:m.stockQuantity,onChange:A=>x({...m,stockQuantity:A.target.value}),placeholder:"0",required:!0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Available units in stock"})]})]}),m.sellingPrice&&a.jsxs("div",{className:`p-4 rounded-lg ${w()>=0?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Profit Margin"}),a.jsx("span",{className:`text-lg font-bold ${w()>=0?"text-green-600":"text-red-600"}`,children:Ie(w())})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w()>=0?"Profitable product":"Selling below cost"})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Product":"Add Product"})]})]})]})})]})}function xT(){var se,H,F,ee;const{state:s,actions:r}=yt(),{customers:i,sofaModels:o,company:d}=s,[f,h]=j.useState([]),[p,g]=j.useState(""),[m,x]=j.useState("all"),[v,b]=j.useState(!1),[N,E]=j.useState(null),[S,w]=j.useState({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""});Da.useEffect(()=>{(async()=>{try{const B=await r.getAllOrders();h(B||[])}catch(B){console.error("Error loading orders:",B)}})()},[]);const P=f.filter(Y=>{var M,I,O;const B=((M=Y.orderNumber)==null?void 0:M.toLowerCase().includes(p.toLowerCase()))||((I=Y.customerName)==null?void 0:I.toLowerCase().includes(p.toLowerCase()))||((O=Y.productName)==null?void 0:O.toLowerCase().includes(p.toLowerCase())),z=m==="all"||Y.status===m;return B&&z}),R=()=>{w({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""}),b(!0)},T=()=>{b(!1),w({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""})},_=async Y=>{if(Y.preventDefault(),!S.customerId||!S.productId){alert("Please select customer and product");return}try{const B=parseInt(S.customerId),z=parseInt(S.productId),M=i.find(ie=>ie.id===B),I=o.find(ie=>ie.id===z);if(!M||!I){alert("Invalid customer or product selection");return}const O=parseInt(S.quantity)||1,Q=I.sellingPrice*O,D={orderNumber:`ORD-${Date.now().toString().slice(-6)}`,customerId:M.id,customerName:M.name,customerPhone:M.phone,productId:I.id,productName:I.name,quantity:O,unitPrice:I.sellingPrice,totalAmount:Q,status:Re.PENDING_APPROVAL.value,notes:S.notes,dueDate:S.dueDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:Re.PENDING_APPROVAL.value,timestamp:new Date().toISOString(),note:"Order created"}]},W=await r.addItem("orders",D);h([...f,W]),alert("Order created successfully!"),T()}catch(B){console.error("Error creating order:",B),alert("Failed to create order. Please try again.")}},A=async(Y,B)=>{var z,M;if(window.confirm(`Update order status to "${(z=Re[Object.keys(Re).find(I=>Re[I].value===B)])==null?void 0:z.label}"?`))try{const I={...Y,status:B,updatedAt:new Date().toISOString(),statusHistory:[...Y.statusHistory||[],{status:B,timestamp:new Date().toISOString(),note:`Status updated to ${(M=Re[Object.keys(Re).find(O=>Re[O].value===B)])==null?void 0:M.label}`}]};await r.updateItem("orders",I),h(f.map(O=>O.id===Y.id?I:O)),k(I),alert("Order status updated successfully!"),E(null)}catch(I){console.error("Error updating order:",I),alert("Failed to update order status. Please try again.")}},k=Y=>{if(!d){alert("Company information not set up");return}const B=hy.orderStatus(d,Y.customerName,Y.orderNumber,Y.status),z=my(Y.customerPhone,B);window.open(z,"_blank")},U=Y=>{const B=[Re.PENDING_APPROVAL.value,Re.QUEUED.value,Re.IN_CONSTRUCTION.value,Re.PENDING_INSPECTION.value,Re.COMPLETED.value],z=B.indexOf(Y);return z<B.length-1?B[z+1]:null},G={[Re.PENDING_APPROVAL.value]:P.filter(Y=>Y.status===Re.PENDING_APPROVAL.value),[Re.QUEUED.value]:P.filter(Y=>Y.status===Re.QUEUED.value),[Re.IN_CONSTRUCTION.value]:P.filter(Y=>Y.status===Re.IN_CONSTRUCTION.value),[Re.PENDING_INSPECTION.value]:P.filter(Y=>Y.status===Re.PENDING_INSPECTION.value),[Re.COMPLETED.value]:P.filter(Y=>Y.status===Re.COMPLETED.value)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage customer orders with 5-stage workflow"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search orders by number, customer, or product...",value:p,onChange:Y=>g(Y.target.value),className:"pl-10"})]}),a.jsxs(nt,{value:m,onValueChange:x,children:[a.jsx(lt,{className:"w-full sm:w-48",children:a.jsx(st,{placeholder:"Filter by status"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Statuses"}),Object.values(Re).map(Y=>a.jsx(pe,{value:Y.value,children:Y.label},Y.value))]})]}),a.jsxs(ce,{onClick:R,className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),a.jsxs(ql,{defaultValue:Re.PENDING_APPROVAL.value,className:"space-y-4",children:[a.jsx(Bl,{className:"grid w-full grid-cols-5",children:Object.values(Re).map(Y=>a.jsxs(Ut,{value:Y.value,className:"text-xs",children:[Y.label,a.jsx(Pe,{variant:"secondary",className:"ml-2",children:G[Y.value].length})]},Y.value))}),Object.values(Re).map(Y=>a.jsx(qt,{value:Y.value,children:G[Y.value].length===0?a.jsx(de,{children:a.jsx(ye,{className:"flex flex-col items-center justify-center py-12",children:a.jsxs("p",{className:"text-gray-500",children:["No orders in ",Y.label]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G[Y.value].map(B=>{var z;return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg",children:B.orderNumber}),a.jsx(ke,{children:B.customerName})]}),a.jsx(Pe,{className:cg(B.status),children:(z=Re[Object.keys(Re).find(M=>Re[M].value===B.status)])==null?void 0:z.label})]})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:B.productName})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:B.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(B.totalAmount)})]})]}),B.dueDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Date"}),a.jsx("p",{className:"font-medium",children:Ia(B.dueDate)})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>E(B),children:[a.jsx(df,{className:"w-4 h-4 mr-1"}),"View"]}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>k(B),children:a.jsx(Gd,{className:"w-4 h-4"})})]})]})})]},B.id)})})},Y.value))]}),a.jsx(Ft,{open:v,onOpenChange:b,children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:"Create New Order"}),a.jsx(ia,{children:"Create a new customer order. Status will be set to Pending Approval."})]}),a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:((se=S.customerId)==null?void 0:se.toString())||"",onValueChange:Y=>w({...S,customerId:parseInt(Y)}),children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select customer"})}),a.jsx(rt,{children:i.map(Y=>a.jsxs(pe,{value:Y.id.toString(),children:[Y.name," - ",Y.phone]},Y.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:((H=S.productId)==null?void 0:H.toString())||"",onValueChange:Y=>w({...S,productId:parseInt(Y)}),children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select product"})}),a.jsx(rt,{children:o.map(Y=>a.jsxs(pe,{value:Y.id.toString(),children:[Y.name," - ",Ie(Y.sellingPrice)]},Y.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"quantity",children:"Quantity"}),a.jsx(ge,{id:"quantity",type:"number",min:"1",value:S.quantity,onChange:Y=>w({...S,quantity:Y.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"dueDate",children:"Due Date"}),a.jsx(ge,{id:"dueDate",type:"date",value:S.dueDate,onChange:Y=>w({...S,dueDate:Y.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:S.notes,onChange:Y=>w({...S,notes:Y.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Create Order"})]})]})]})}),N&&a.jsx(Ft,{open:!!N,onOpenChange:()=>E(null),children:a.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsxs($t,{children:["Order Details - ",N.orderNumber]}),a.jsxs(ia,{children:["Created on ",Ia(N.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:N.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:N.customerPhone})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Status"}),a.jsx(Pe,{className:cg(N.status),children:(F=Re[Object.keys(Re).find(Y=>Re[Y].value===N.status)])==null?void 0:F.label})]})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Product"}),a.jsx("p",{className:"font-medium",children:N.productName})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:N.quantity})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:Ie(N.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(N.totalAmount)})]})]}),N.notes&&a.jsxs("div",{children:[a.jsx(te,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:N.notes})]}),N.statusHistory&&N.statusHistory.length>0&&a.jsxs("div",{children:[a.jsx(te,{children:"Status History"}),a.jsx("div",{className:"mt-2 space-y-2",children:N.statusHistory.map((Y,B)=>{var z;return a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Zx,{className:"w-4 h-4 mt-0.5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(z=Re[Object.keys(Re).find(M=>Re[M].value===Y.status)])==null?void 0:z.label}),a.jsx("p",{className:"text-gray-500 text-xs",children:Ia(Y.timestamp)})]})]},B)})})]})]}),a.jsxs(Yt,{className:"flex-col sm:flex-row gap-2",children:[a.jsxs(ce,{variant:"outline",onClick:()=>k(N),className:"w-full sm:w-auto",children:[a.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),U(N.status)&&a.jsxs(ce,{onClick:()=>A(N,U(N.status)),className:"w-full sm:w-auto",children:["Move to ",(ee=Re[Object.keys(Re).find(Y=>Re[Y].value===U(N.status))])==null?void 0:ee.label,a.jsx(Zx,{className:"w-4 h-4 ml-2"})]})]})]})})]})}function gT(s,r="977"){if(!s)return"";const i=s.replace(/\D/g,"");return i.startsWith(r)?i:r+i}function yT(s){if(!s)return!1;const r=s.replace(/\D/g,"");return r.length===10||r.length===13}function vT(s,r){const i=gT(s),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function If(s,r){let i=s;return Object.keys(r).forEach(o=>{const d=new RegExp(`\\{${o}\\}`,"g");i=i.replace(d,r[o]||"")}),i}const qr={orderConfirmation:{title:"Order Confirmation",template:`Hello {customerName}! 

Your order has been confirmed:
Order #: {orderNumber}
Product: {productName}
Quantity: {quantity}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Expected Delivery: {expectedDelivery}

Thank you for choosing us!
- {companyName}`,variables:["customerName","orderNumber","productName","quantity","totalAmount","paidAmount","dueAmount","expectedDelivery","companyName"]},productionStarted:{title:"Production Started",template:`Hello {customerName}! 

Great news! Production has started for your order.
Order #: {orderNumber}
Product: {productName}

Expected Completion: {expectedCompletion}

We'll notify you when it's ready!
- {companyName}`,variables:["customerName","orderNumber","productName","expectedCompletion","companyName"]},productionCompleted:{title:"Production Completed",template:`Hello {customerName}! 

Your sofa is ready!
Order #: {orderNumber}
Product: {productName}

Please contact us to schedule delivery.

Thank you for your patience!
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},paymentReminder:{title:"Payment Reminder",template:`Hello {customerName}! 

Payment reminder for your order:
Order #: {orderNumber}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Please make payment at your earliest convenience.

Thank you!
- {companyName}`,variables:["customerName","orderNumber","totalAmount","paidAmount","dueAmount","companyName"]},deliveryScheduled:{title:"Delivery Scheduled",template:`Hello {customerName}! 

Your delivery has been scheduled:
Order #: {orderNumber}
Product: {productName}
Delivery Date: {deliveryDate}
Address: {deliveryAddress}

Please be available on the scheduled date.
- {companyName}`,variables:["customerName","orderNumber","productName","deliveryDate","deliveryAddress","companyName"]},orderDelivered:{title:"Order Delivered",template:`Hello {customerName}! 

Your order has been delivered!
Order #: {orderNumber}
Product: {productName}

Thank you for your business. We hope you enjoy your new sofa!

Please let us know if you have any questions.
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},purchaseOrderCreated:{title:"Purchase Order Created",template:`Hello {supplierName}! 

New purchase order:
PO #: {poNumber}
Items: {itemCount}
Total Amount: NPR {totalAmount}

Please confirm receipt and delivery schedule.

Thank you!
- {companyName}`,variables:["supplierName","poNumber","itemCount","totalAmount","companyName"]},lowStockAlert:{title:"Low Stock Alert",template:` LOW STOCK ALERT

Item: {itemName}
Current Stock: {currentStock}
Minimum Stock: {minStock}

Action needed: Reorder soon!
- {companyName}`,variables:["itemName","currentStock","minStock","companyName"]}};function Ig(){return{id:1,whatsappEnabled:!0,defaultCountryCode:"977",companyName:"Sofa Factory",adminPhoneNumber:"",notificationTypes:{orderConfirmation:!0,productionStarted:!0,productionCompleted:!0,paymentReminder:!0,deliveryScheduled:!0,orderDelivered:!0,purchaseOrderCreated:!1,lowStockAlert:!0},messageTemplates:qr}}function zf(s,r,i,o={}){return{type:s,recipient:r,message:i,status:"pending",createdAt:new Date().toISOString(),sentAt:null,relatedId:o.id||null,relatedType:o.type||null}}function jT(s,r){const i=vT(s,r);window.open(i,"_blank")}async function dc(s){try{const r=await s.getItems("notificationSettings");return r&&r.length>0?r[0]:null}catch(r){return console.error("Error getting notification settings:",r),null}}async function Uf(s,r){const i=await dc(s);return!i||!i.whatsappEnabled?!1:i.notificationTypes[r]===!0}async function qf(s,r){try{await s.addItem("notificationQueue",r),console.log("Notification queued:",r.type)}catch(i){console.error("Error queueing notification:",i)}}async function bT(s,r,i,o){var d;try{if(!await Uf(s,"orderConfirmation"))return;const h=await dc(s);if(!h)return;const p=(d=h.messageTemplates.orderConfirmation)==null?void 0:d.template;if(!p)return;const g={customerName:i.name||"Customer",orderNumber:r.orderNumber||r.id,productName:o.name||"Product",quantity:r.quantity||1,totalAmount:Ie(r.totalAmount||0),paidAmount:Ie(r.paidAmount||0),dueAmount:Ie((r.totalAmount||0)-(r.paidAmount||0)),expectedDelivery:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"To be confirmed",companyName:h.companyName||"Sofa Factory"},m=If(p,g),x=zf("orderConfirmation",{name:i.name,phone:i.phone},m,{id:r.id,type:"order"});await qf(s,x)}catch(f){console.error("Error sending order confirmation:",f)}}async function NT(s,r,i,o){var d;try{if(!await Uf(s,"productionStarted")||!i||!o)return;const h=await dc(s);if(!h)return;const p=(d=h.messageTemplates.productionStarted)==null?void 0:d.template;if(!p)return;const g={customerName:o.name||"Customer",orderNumber:i.orderNumber||i.id,productName:r.productName||"Product",expectedCompletion:r.expectedCompletionDate?new Date(r.expectedCompletionDate).toLocaleDateString():"Soon",companyName:h.companyName||"Sofa Factory"},m=If(p,g),x=zf("productionStarted",{name:o.name,phone:o.phone},m,{id:r.id,type:"production"});await qf(s,x)}catch(f){console.error("Error sending production started notification:",f)}}async function ST(s,r,i,o){var d;try{if(!await Uf(s,"productionCompleted")||!i||!o)return;const h=await dc(s);if(!h)return;const p=(d=h.messageTemplates.productionCompleted)==null?void 0:d.template;if(!p)return;const g={customerName:o.name||"Customer",orderNumber:i.orderNumber||i.id,productName:r.productName||"Product",companyName:h.companyName||"Sofa Factory"},m=If(p,g),x=zf("productionCompleted",{name:o.name,phone:o.phone},m,{id:r.id,type:"production"});await qf(s,x)}catch(f){console.error("Error sending production completed notification:",f)}}function wT(){var se,H;const{state:s,actions:r}=yt(),{customers:i,sofaModels:o,sales:d}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(null),[v,b]=j.useState({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),N=d.filter(F=>{var ee,Y,B;return((ee=F.customerName)==null?void 0:ee.toLowerCase().includes(f.toLowerCase()))||((Y=F.productName)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))||((B=F.saleNumber)==null?void 0:B.toLowerCase().includes(f.toLowerCase()))}),E=d.reduce((F,ee)=>F+(ee.totalAmount||0),0),S=d.filter(F=>{const ee=new Date(F.createdAt),Y=new Date;return ee.toDateString()===Y.toDateString()}),w=S.reduce((F,ee)=>F+(ee.totalAmount||0),0),P=()=>{b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),g(!0)},R=()=>{g(!1),b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""})},T=F=>{console.log("Product selected:",F);const ee=parseInt(F),Y=o.find(B=>B.id===ee);if(console.log("Product details:",Y),Y){const B={...v,productId:ee,unitPrice:Y.sellingPrice.toString()};console.log("Updated form data:",B),b(B)}else console.error("Product not found for ID:",F)},_=F=>{console.log("Customer selected:",F);const ee=parseInt(F),Y=i.find(z=>z.id===ee);console.log("Customer details:",Y);const B={...v,customerId:ee};console.log("Updated form data:",B),b(B)},A=()=>{const F=parseInt(v.quantity)||0,ee=parseFloat(v.unitPrice)||0,Y=parseFloat(v.discount)||0;return F*ee-Y},k=async F=>{if(window.confirm(`Approve sale ${F.saleNumber}? This will deduct ${F.quantity} units from inventory.`))try{const ee={...F,approvalStatus:"approved",status:"completed",approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",ee);const Y=o.find(B=>B.id===F.productId);if(Y){const B={...Y,stockQuantity:(Y.stockQuantity||0)-F.quantity,updatedAt:new Date().toISOString()};await r.updateItem("sofaModels",B)}alert("Sale approved successfully! Stock has been updated.")}catch(ee){console.error("Error approving sale:",ee),alert("Failed to approve sale. Please try again.")}},U=async F=>{const ee=window.prompt(`Reject sale ${F.saleNumber}? Please enter reason:`);if(ee)try{const Y={...F,approvalStatus:"rejected",status:"rejected",rejectionReason:ee,rejectedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",Y),alert("Sale rejected successfully.")}catch(Y){console.error("Error rejecting sale:",Y),alert("Failed to reject sale. Please try again.")}},G=async F=>{if(F.preventDefault(),console.log("=== SALES FORM SUBMISSION DEBUG ==="),console.log("Form Data:",v),console.log("Customers available:",i.length),console.log("Products available:",o.length),console.log("All customers:",i),console.log("All products:",o),i.length===0){alert("No customers found! Please add customers first from the Customers page.");return}if(o.length===0){alert("No products found! Please add finished products first from the Inventory page.");return}if(!v.customerId||!v.productId){console.error("Missing selection - Customer ID:",v.customerId,"Product ID:",v.productId),alert("Please select both customer and product from the dropdowns");return}try{const ee=i.find(fe=>fe.id===v.customerId),Y=o.find(fe=>fe.id===v.productId);if(console.log("Found customer:",ee),console.log("Found product:",Y),!ee||!Y){console.error("Validation failed - Customer found:",!!ee,"Product found:",!!Y),alert(`Invalid selection. Customer: ${ee?"OK":"NOT FOUND"}, Product: ${Y?"OK":"NOT FOUND"}`);return}const B=parseInt(v.quantity)||1,z=parseFloat(v.unitPrice)||0,M=parseFloat(v.discount)||0,I=A(),O=parseFloat(v.paidAmount)||0,Q=I-O,ue=`SAL-${Date.now().toString().slice(-6)}`;if((Y.stockQuantity||0)<B){alert(`Insufficient stock! Available: ${Y.stockQuantity||0} units, Requested: ${B} units`);return}let D="unpaid";O>=I?D="paid":O>0&&(D="partial");const W={saleNumber:ue,customerId:ee.id,customerName:ee.name,customerPhone:ee.phone,productId:Y.id,productName:Y.name,quantity:B,unitPrice:z,discount:M,subtotal:B*z,totalAmount:I,paidAmount:O,dueAmount:Q,paymentStatus:D,paymentMethod:v.paymentMethod,paymentHistory:[{amount:O,method:v.paymentMethod,date:new Date().toISOString(),note:"Initial payment"}],notes:v.notes,status:"pending",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ie=await r.addItem("sales",W);try{await bT(r,W,ee,Y)}catch(fe){console.error("Error sending notification:",fe)}alert("Sale recorded successfully! Waiting for admin approval."),R()}catch(ee){console.error("Error recording sale:",ee),alert("Failed to record sale. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales transactions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Total Sales"}),a.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time transactions"})]})]}),a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Today's Sales"}),a.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ie(w)})]})]}),a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:Ie(E)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time revenue"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search sales by number, customer, or product...",value:f,onChange:F=>h(F.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:P,className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]}),N.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Oa,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No sales found":"No sales yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first sale to get started"}),!f&&a.jsxs(ce,{onClick:P,children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]})}):a.jsx("div",{className:"space-y-4",children:N.map(F=>a.jsx(de,{className:"hover:shadow-lg transition-shadow",children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:F.saleNumber}),F.approvalStatus==="pending"&&a.jsx(Pe,{className:"bg-orange-500 text-white",children:"Pending Approval"}),F.approvalStatus==="approved"&&a.jsx(Pe,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}),F.approvalStatus==="rejected"&&a.jsx(Pe,{className:"bg-red-100 text-red-800",children:"Rejected"}),F.paymentStatus==="paid"&&a.jsx(Pe,{className:"bg-green-500 text-white",children:"Paid"}),F.paymentStatus==="partial"&&a.jsx(Pe,{className:"bg-yellow-500 text-white",children:"Partial Payment"}),F.paymentStatus==="unpaid"&&a.jsx(Pe,{className:"bg-red-500 text-white",children:"Unpaid"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:F.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:F.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:F.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(F.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:F.dueAmount>0?Ie(F.dueAmount):"NPR 0"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Payment: ",F.paymentMethod]}),a.jsx("span",{children:""}),a.jsx("span",{children:Ia(F.createdAt)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[F.approvalStatus==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>k(F),children:"Approve"}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>U(F),children:"Reject"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>x(F),children:[a.jsx(df,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})},F.id))}),a.jsx(Ft,{open:p,onOpenChange:g,children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:"Record New Sale"}),a.jsx(ia,{children:"Enter sale details to record a new transaction"})]}),a.jsxs("form",{onSubmit:G,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:((se=v.customerId)==null?void 0:se.toString())||"",onValueChange:_,children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select customer"})}),a.jsx(rt,{children:i.map(F=>a.jsx(pe,{value:F.id.toString(),children:F.name},F.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:((H=v.productId)==null?void 0:H.toString())||"",onValueChange:T,children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select product"})}),a.jsx(rt,{children:o.map(F=>a.jsxs(pe,{value:F.id.toString(),children:[F.name," - ",Ie(F.sellingPrice)]},F.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"quantity",children:"Quantity"}),a.jsx(ge,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:F=>b({...v,quantity:F.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"unitPrice",children:"Unit Price (NPR)"}),a.jsx(ge,{id:"unitPrice",type:"number",step:"0.01",value:v.unitPrice,onChange:F=>b({...v,unitPrice:F.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"discount",children:"Discount (NPR)"}),a.jsx(ge,{id:"discount",type:"number",step:"0.01",value:v.discount,onChange:F=>b({...v,discount:F.target.value})})]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:Ie(A())})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(nt,{value:v.paymentMethod,onValueChange:F=>b({...v,paymentMethod:F}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"cash",children:"Cash"}),a.jsx(pe,{value:"bank_transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"card",children:"Card"}),a.jsx(pe,{value:"mobile_payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paidAmount",children:"Paid Amount (NPR)"}),a.jsx(ge,{id:"paidAmount",type:"number",step:"0.01",min:"0",placeholder:"Enter amount paid",value:v.paidAmount,onChange:F=>b({...v,paidAmount:F.target.value})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Leave empty or enter 0 for unpaid. Total: ",Ie(A())]})]})]}),v.paidAmount&&parseFloat(v.paidAmount)<A()&&a.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"font-medium text-yellow-800",children:"Due Amount:"}),a.jsx("span",{className:"text-lg font-bold text-yellow-900",children:Ie(A()-parseFloat(v.paidAmount||0))})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:v.notes,onChange:F=>b({...v,notes:F.target.value}),placeholder:"Add any additional notes",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Record Sale"})]})]})]})}),m&&a.jsx(Ft,{open:!!m,onOpenChange:()=>x(null),children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsxs($t,{children:["Sale Details - ",m.saleNumber]}),a.jsxs(ia,{children:["Recorded on ",Ia(m.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:m.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:m.customerPhone})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Product"}),a.jsx("p",{className:"font-medium",children:m.productName})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:m.quantity})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:Ie(m.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Subtotal"}),a.jsx("p",{className:"font-medium",children:Ie(m.subtotal)})]})]}),m.discount>0&&a.jsxs("div",{children:[a.jsx(te,{children:"Discount"}),a.jsxs("p",{className:"font-medium text-red-600",children:["- ",Ie(m.discount)]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:Ie(m.totalAmount)})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Paid Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(m.paidAmount||0)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:Ie(m.dueAmount||0)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Payment Status"}),a.jsxs("div",{children:[m.paymentStatus==="paid"&&a.jsx(Pe,{className:"bg-green-500 text-white",children:"Paid"}),m.paymentStatus==="partial"&&a.jsx(Pe,{className:"bg-yellow-500 text-white",children:"Partial"}),m.paymentStatus==="unpaid"&&a.jsx(Pe,{className:"bg-red-500 text-white",children:"Unpaid"})]})]})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:m.paymentMethod.replace("_"," ")})]}),m.paymentHistory&&m.paymentHistory.length>0&&a.jsxs("div",{children:[a.jsx(te,{children:"Payment History"}),a.jsx("div",{className:"mt-2 space-y-2",children:m.paymentHistory.map((F,ee)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Ie(F.amount)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[F.method.replace("_"," "),"  ",Ia(F.date)]}),F.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:F.note})]})},ee))})]}),m.notes&&a.jsxs("div",{children:[a.jsx(te,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:m.notes})]})]}),a.jsx(Yt,{children:a.jsx(ce,{variant:"outline",onClick:()=>x(null),children:"Close"})})]})})]})}function CT(){const{state:s,actions:r}=yt(),{customers:i,cleaningServices:o,company:d}=s,[f,h]=j.useState(""),[p,g]=j.useState("all"),[m,x]=j.useState(!1),[v,b]=j.useState(null),[N,E]=j.useState({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""}),S=o.filter(H=>{var Y,B;const F=((Y=H.customerName)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))||((B=H.serviceNumber)==null?void 0:B.toLowerCase().includes(f.toLowerCase())),ee=p==="all"||H.status===p;return F&&ee}),w=S.filter(H=>H.status==="scheduled"),P=S.filter(H=>H.status==="completed"),R=S.filter(H=>H.status==="cancelled"),T=(H=null)=>{H?(b(H),E({customerId:H.customerId,serviceDate:H.serviceDate,serviceTime:H.serviceTime,serviceType:H.serviceType,price:H.price.toString(),address:H.address,notes:H.notes||""})):(b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})),x(!0)},_=()=>{x(!1),b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})},A=H=>{const F=i.find(ee=>ee.id===H);F&&F.address?E({...N,customerId:H,address:F.address}):E({...N,customerId:H})},k=async H=>{if(H.preventDefault(),!N.customerId||!N.serviceDate||!N.serviceTime){alert("Please fill in all required fields");return}try{const F=i.find(Y=>Y.id===N.customerId);if(!F){alert("Invalid customer selection");return}const ee={serviceNumber:(v==null?void 0:v.serviceNumber)||`CLN-${Date.now().toString().slice(-6)}`,customerId:F.id,customerName:F.name,customerPhone:F.phone,serviceDate:N.serviceDate,serviceTime:N.serviceTime,serviceType:N.serviceType,price:parseFloat(N.price)||0,address:N.address,notes:N.notes,status:(v==null?void 0:v.status)||"scheduled",createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};v?(await r.updateItem("cleaningServices",{...ee,id:v.id}),alert("Service updated successfully!")):(await r.addItem("cleaningServices",ee),alert("Service scheduled successfully!")),_()}catch(F){console.error("Error saving service:",F),alert("Failed to save service. Please try again.")}},U=async(H,F)=>{if(window.confirm(`Update service status to "${F}"?`))try{const ee={...H,status:F,updatedAt:new Date().toISOString()};await r.updateItem("cleaningServices",ee),alert("Service status updated successfully!")}catch(ee){console.error("Error updating service:",ee),alert("Failed to update service status. Please try again.")}},G=H=>{if(!d){alert("Company information not set up");return}const F=hy.cleaningReminder(d,H.customerName,H.serviceDate,H.serviceTime),ee=my(H.customerPhone,F);window.open(ee,"_blank")},se=H=>{switch(H){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cleaning Services"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage sofa cleaning appointments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Upcoming"}),a.jsx(Mo,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled appointments"})]})]}),a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Completed"}),a.jsx(ts,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:P.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Services completed"})]})]}),a.jsxs(de,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ne,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:Ie(o.reduce((H,F)=>H+(F.price||0),0))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"From cleaning services"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search services by number or customer...",value:f,onChange:H=>h(H.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>T(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Schedule Service"]})]}),a.jsxs(ql,{defaultValue:"scheduled",className:"space-y-4",children:[a.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ut,{value:"scheduled",children:["Scheduled",a.jsx(Pe,{variant:"secondary",className:"ml-2",children:w.length})]}),a.jsxs(Ut,{value:"completed",children:["Completed",a.jsx(Pe,{variant:"secondary",className:"ml-2",children:P.length})]}),a.jsxs(Ut,{value:"cancelled",children:["Cancelled",a.jsx(Pe,{variant:"secondary",className:"ml-2",children:R.length})]})]}),a.jsx(qt,{value:"scheduled",children:w.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(as,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No scheduled services"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(H=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg",children:H.serviceNumber}),a.jsx(ke,{children:H.customerName})]}),a.jsx(Pe,{className:se(H.status),children:H.status})]})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),a.jsxs("p",{className:"font-medium",children:[Ia(H.serviceDate)," at ",H.serviceTime]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:H.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(H.price)})]}),H.address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"text-sm line-clamp-2",children:H.address})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(H),children:[a.jsx(ns,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>G(H),children:a.jsx(Gd,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>U(H,"completed"),children:a.jsx(ts,{className:"w-4 h-4"})})]})]})})]},H.id))})}),a.jsx(qt,{value:"completed",children:P.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ts,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No completed services"})]})}):a.jsx("div",{className:"space-y-4",children:P.map(H=>a.jsx(de,{children:a.jsx(ye,{className:"p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:H.serviceNumber}),a.jsx(Pe,{className:se(H.status),children:H.status})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:H.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:Ia(H.serviceDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:H.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:Ie(H.price)})]})]})]})})})},H.id))})}),a.jsx(qt,{value:"cancelled",children:R.length===0?a.jsx(de,{children:a.jsx(ye,{className:"flex flex-col items-center justify-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No cancelled services"})})}):a.jsx("div",{className:"space-y-4",children:R.map(H=>a.jsx(de,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold",children:[H.serviceNumber," - ",H.customerName]}),a.jsx("p",{className:"text-sm text-gray-500",children:Ia(H.serviceDate)})]}),a.jsx(Pe,{className:se(H.status),children:H.status})]})})},H.id))})})]}),a.jsx(Ft,{open:m,onOpenChange:x,children:a.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:v?"Edit Service":"Schedule New Service"}),a.jsx(ia,{children:v?"Update service appointment details":"Schedule a new cleaning service appointment"})]}),a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:N.customerId,onValueChange:A,children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select customer"})}),a.jsx(rt,{children:i.map(H=>a.jsxs(pe,{value:H.id,children:[H.name," - ",H.phone]},H.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"serviceDate",children:["Service Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"serviceDate",type:"date",value:N.serviceDate,onChange:H=>E({...N,serviceDate:H.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"serviceTime",children:["Service Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"serviceTime",type:"time",value:N.serviceTime,onChange:H=>E({...N,serviceTime:H.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"serviceType",children:"Service Type"}),a.jsxs(nt,{value:N.serviceType,onValueChange:H=>E({...N,serviceType:H}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"regular",children:"Regular Cleaning"}),a.jsx(pe,{value:"deep",children:"Deep Cleaning"}),a.jsx(pe,{value:"stain_removal",children:"Stain Removal"}),a.jsx(pe,{value:"maintenance",children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"price",children:"Price (NPR)"}),a.jsx(ge,{id:"price",type:"number",step:"0.01",value:N.price,onChange:H=>E({...N,price:H.target.value}),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"address",children:"Service Address"}),a.jsx(Bt,{id:"address",value:N.address,onChange:H=>E({...N,address:H.target.value}),placeholder:"Enter service address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:N.notes,onChange:H=>E({...N,notes:H.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:_,children:"Cancel"}),a.jsx(ce,{type:"submit",children:v?"Update Service":"Schedule Service"})]})]})]})})]})}function Ts({className:s,...r}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:He("w-full caption-bottom text-sm",s),...r})})}function Ms({className:s,...r}){return a.jsx("thead",{"data-slot":"table-header",className:He("[&_tr]:border-b",s),...r})}function Ds({className:s,...r}){return a.jsx("tbody",{"data-slot":"table-body",className:He("[&_tr:last-child]:border-0",s),...r})}function ra({className:s,...r}){return a.jsx("tr",{"data-slot":"table-row",className:He("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function Qe({className:s,...r}){return a.jsx("th",{"data-slot":"table-head",className:He("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function Xe({className:s,...r}){return a.jsx("td",{"data-slot":"table-cell",className:He("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function AT(){const{state:s,actions:r}=yt(),[i,o]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState(""),[x,v]=j.useState(!1),[b,N]=j.useState(!1),[E,S]=j.useState(!1),[w,P]=j.useState(null),[R,T]=j.useState(null),[_,A]=j.useState({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"}),[k,U]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""}),[G,se]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""});j.useEffect(()=>{H()},[]);const H=async()=>{try{const[V,me,re]=await Promise.all([he.getAll("labourers"),he.getAll("attendance"),he.getAll("labourPayments")]);o(V||[]),f(me||[]),p(re||[])}catch(V){console.error("Error loading labour data:",V)}},F=i.filter(V=>V.name.toLowerCase().includes(g.toLowerCase())||V.phone&&V.phone.includes(g)||V.specialization&&V.specialization.toLowerCase().includes(g.toLowerCase())),ee=(V=null)=>{var me;V?(P(V),A({name:V.name,phone:V.phone||"",address:V.address||"",dailyWage:((me=V.dailyWage)==null?void 0:me.toString())||"",specialization:V.specialization||"Carpenter",joinDate:V.joinDate||new Date().toISOString().split("T")[0],status:V.status||"active"})):(P(null),A({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"})),v(!0)},Y=()=>{v(!1),P(null)},B=async V=>{if(V.preventDefault(),!_.name||!_.dailyWage){alert("Please fill in required fields (Name and Daily Wage)");return}try{const me={name:_.name,phone:_.phone,address:_.address,dailyWage:parseFloat(_.dailyWage),specialization:_.specialization,joinDate:_.joinDate,status:_.status,createdAt:(w==null?void 0:w.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};w?(await he.update("labourers",{...me,id:w.id}),alert("Labourer updated successfully!")):(await he.add("labourers",me),alert("Labourer added successfully!")),await H(),Y()}catch(me){console.error("Error saving labourer:",me),alert("Failed to save labourer. Please try again.")}},z=async V=>{if(window.confirm(`Are you sure you want to delete ${V.name}?`))try{await he.delete("labourers",V.id),alert("Labourer deleted successfully!"),await H()}catch(me){console.error("Error deleting labourer:",me),alert("Failed to delete labourer. Please try again.")}},M=(V=null)=>{V?(T(V),U({labourerId:V.id.toString(),date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})):(T(null),U({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})),N(!0)},I=async V=>{if(V.preventDefault(),!k.labourerId){alert("Please select a labourer");return}try{const me=i.find(Me=>Me.id===parseInt(k.labourerId)),re={labourerId:parseInt(k.labourerId),labourerName:(me==null?void 0:me.name)||"",date:k.date,status:k.status,hoursWorked:parseFloat(k.hoursWorked)||0,notes:k.notes,createdAt:new Date().toISOString()};await he.add("attendance",re),alert("Attendance marked successfully!"),await H(),N(!1)}catch(me){console.error("Error marking attendance:",me),alert("Failed to mark attendance. Please try again.")}},O=(V=null)=>{var me;V?(T(V),se({labourerId:V.id.toString(),date:new Date().toISOString().split("T")[0],amount:((me=V.dailyWage)==null?void 0:me.toString())||"",paymentMethod:"Cash",notes:""})):(T(null),se({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""})),S(!0)},Q=async V=>{if(V.preventDefault(),!G.labourerId||!G.amount){alert("Please fill in required fields");return}try{const me=i.find(Me=>Me.id===parseInt(G.labourerId)),re={labourerId:parseInt(G.labourerId),labourerName:(me==null?void 0:me.name)||"",date:G.date,amount:parseFloat(G.amount),paymentMethod:G.paymentMethod,notes:G.notes,createdAt:new Date().toISOString()};await he.add("labourPayments",re),alert("Payment recorded successfully!"),await H(),S(!1)}catch(me){console.error("Error recording payment:",me),alert("Failed to record payment. Please try again.")}},ue=i.filter(V=>V.status==="active").length,D=h.reduce((V,me)=>V+(me.amount||0),0),W=h.filter(V=>{const me=new Date(V.date),re=new Date;return me.getMonth()===re.getMonth()&&me.getFullYear()===re.getFullYear()}).reduce((V,me)=>V+(me.amount||0),0),fe=d.filter(V=>V.date===new Date().toISOString().split("T")[0]).filter(V=>V.status==="present").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Labour Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage labourers, track attendance, and record payments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Active Labourers"}),a.jsx(Ne,{className:"text-2xl",children:ue})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Present Today"}),a.jsx(Ne,{className:"text-2xl text-green-600",children:fe})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"This Month Payments"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",W.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Payments"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",D.toLocaleString()]})]})})]}),a.jsxs(ql,{defaultValue:"labourers",className:"space-y-4",children:[a.jsxs(Bl,{children:[a.jsx(Ut,{value:"labourers",children:"Labourers"}),a.jsx(Ut,{value:"attendance",children:"Attendance"}),a.jsx(Ut,{value:"payments",children:"Payments"})]}),a.jsxs(qt,{value:"labourers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search labourers...",value:g,onChange:V=>m(V.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>ee(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]}),F.length>0?a.jsx(de,{children:a.jsx(ye,{className:"p-0",children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Name"}),a.jsx(Qe,{children:"Phone"}),a.jsx(Qe,{children:"Specialization"}),a.jsx(Qe,{children:"Daily Wage"}),a.jsx(Qe,{children:"Status"}),a.jsx(Qe,{children:"Actions"})]})}),a.jsx(Ds,{children:F.map(V=>a.jsxs(ra,{children:[a.jsxs(Xe,{children:[a.jsx("div",{className:"font-medium",children:V.name}),V.address&&a.jsx("div",{className:"text-sm text-gray-500",children:V.address})]}),a.jsx(Xe,{children:V.phone}),a.jsx(Xe,{children:V.specialization}),a.jsxs(Xe,{className:"font-medium",children:["NPR ",V.dailyWage]}),a.jsx(Xe,{children:a.jsx(Pe,{variant:V.status==="active"?"success":"default",children:V.status})}),a.jsx(Xe,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>M(V),title:"Mark Attendance",children:a.jsx($d,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>O(V),title:"Record Payment",children:a.jsx(Oa,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>ee(V),children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>z(V),children:a.jsx(Wa,{className:"w-4 h-4"})})]})})]},V.id))})]})})}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx($d,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"No labourers found":"No labourers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:g?"Try adjusting your search":"Add your first labourer to get started"}),!g&&a.jsxs(ce,{onClick:()=>ee(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]})})]}),a.jsxs(qt,{value:"attendance",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:()=>M(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),d.length>0?a.jsx(de,{children:a.jsx(ye,{className:"p-0",children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Date"}),a.jsx(Qe,{children:"Labourer"}),a.jsx(Qe,{children:"Status"}),a.jsx(Qe,{children:"Hours Worked"}),a.jsx(Qe,{children:"Notes"})]})}),a.jsx(Ds,{children:d.slice(0,50).map((V,me)=>a.jsxs(ra,{children:[a.jsx(Xe,{children:new Date(V.date).toLocaleDateString()}),a.jsx(Xe,{children:V.labourerName}),a.jsx(Xe,{children:a.jsx(Pe,{variant:V.status==="present"?"success":V.status==="absent"?"destructive":"warning",children:V.status})}),a.jsxs(Xe,{children:[V.hoursWorked," hrs"]}),a.jsx(Xe,{className:"text-sm text-gray-600",children:V.notes})]},me))})]})})}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(as,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No attendance records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start marking attendance for your labourers"}),a.jsxs(ce,{onClick:()=>M(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})})]}),a.jsxs(qt,{value:"payments",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:()=>O(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Record Payment"]})}),h.length>0?a.jsx(de,{children:a.jsx(ye,{className:"p-0",children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Date"}),a.jsx(Qe,{children:"Labourer"}),a.jsx(Qe,{children:"Amount"}),a.jsx(Qe,{children:"Payment Method"}),a.jsx(Qe,{children:"Notes"})]})}),a.jsx(Ds,{children:h.slice(0,50).map((V,me)=>a.jsxs(ra,{children:[a.jsx(Xe,{children:new Date(V.date).toLocaleDateString()}),a.jsx(Xe,{children:V.labourerName}),a.jsxs(Xe,{className:"font-medium",children:["NPR ",V.amount.toLocaleString()]}),a.jsx(Xe,{children:V.paymentMethod}),a.jsx(Xe,{className:"text-sm text-gray-600",children:V.notes})]},me))})]})})}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Oa,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start recording payments for your labourers"}),a.jsxs(ce,{onClick:()=>O(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})})]})]}),a.jsx(Ft,{open:x,onOpenChange:v,children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:w?"Edit Labourer":"Add New Labourer"}),a.jsx(ia,{children:w?"Update labourer information":"Enter labourer details"})]}),a.jsxs("form",{onSubmit:B,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"name",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"name",value:_.name,onChange:V=>A({..._,name:V.target.value}),placeholder:"e.g., Ram Bahadur",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"phone",children:"Phone"}),a.jsx(ge,{id:"phone",type:"tel",value:_.phone,onChange:V=>A({..._,phone:V.target.value}),placeholder:"e.g., 9841234567"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"address",children:"Address"}),a.jsx(ge,{id:"address",value:_.address,onChange:V=>A({..._,address:V.target.value}),placeholder:"e.g., Kathmandu"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"specialization",children:"Specialization"}),a.jsxs(nt,{value:_.specialization,onValueChange:V=>A({..._,specialization:V}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Carpenter",children:"Carpenter"}),a.jsx(pe,{value:"Upholsterer",children:"Upholsterer"}),a.jsx(pe,{value:"Painter",children:"Painter"}),a.jsx(pe,{value:"Helper",children:"Helper"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"dailyWage",children:["Daily Wage (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"dailyWage",type:"number",step:"0.01",min:"0",value:_.dailyWage,onChange:V=>A({..._,dailyWage:V.target.value}),placeholder:"e.g., 1500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"joinDate",children:"Join Date"}),a.jsx(ge,{id:"joinDate",type:"date",value:_.joinDate,onChange:V=>A({..._,joinDate:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"status",children:"Status"}),a.jsxs(nt,{value:_.status,onValueChange:V=>A({..._,status:V}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"active",children:"Active"}),a.jsx(pe,{value:"inactive",children:"Inactive"})]})]})]})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:Y,children:"Cancel"}),a.jsx(ce,{type:"submit",children:w?"Update Labourer":"Add Labourer"})]})]})]})}),a.jsx(Ft,{open:b,onOpenChange:N,children:a.jsxs(Vt,{children:[a.jsxs(Gt,{children:[a.jsx($t,{children:"Mark Attendance"}),a.jsx(ia,{children:R?`Mark attendance for ${R.name}`:"Select a labourer and mark attendance"})]}),a.jsxs("form",{onSubmit:I,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!R&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"labourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:k.labourerId,onValueChange:V=>U({...k,labourerId:V}),children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select labourer"})}),a.jsx(rt,{children:i.filter(V=>V.status==="active").map(V=>a.jsx(pe,{value:V.id.toString(),children:V.name},V.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"attendanceDate",children:"Date"}),a.jsx(ge,{id:"attendanceDate",type:"date",value:k.date,onChange:V=>U({...k,date:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"attendanceStatus",children:"Status"}),a.jsxs(nt,{value:k.status,onValueChange:V=>U({...k,status:V}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"present",children:"Present"}),a.jsx(pe,{value:"absent",children:"Absent"}),a.jsx(pe,{value:"half-day",children:"Half Day"}),a.jsx(pe,{value:"leave",children:"Leave"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"hoursWorked",children:"Hours Worked"}),a.jsx(ge,{id:"hoursWorked",type:"number",step:"0.5",min:"0",max:"24",value:k.hoursWorked,onChange:V=>U({...k,hoursWorked:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"attendanceNotes",children:"Notes"}),a.jsx(Bt,{id:"attendanceNotes",value:k.notes,onChange:V=>U({...k,notes:V.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Mark Attendance"})]})]})]})}),a.jsx(Ft,{open:E,onOpenChange:S,children:a.jsxs(Vt,{children:[a.jsxs(Gt,{children:[a.jsx($t,{children:"Record Payment"}),a.jsx(ia,{children:R?`Record payment for ${R.name}`:"Select a labourer and record payment"})]}),a.jsxs("form",{onSubmit:Q,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!R&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"paymentLabourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:G.labourerId,onValueChange:V=>{var re;const me=i.find(Me=>Me.id===parseInt(V));se({...G,labourerId:V,amount:((re=me==null?void 0:me.dailyWage)==null?void 0:re.toString())||""})},children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select labourer"})}),a.jsx(rt,{children:i.filter(V=>V.status==="active").map(V=>a.jsxs(pe,{value:V.id.toString(),children:[V.name," (NPR ",V.dailyWage,"/day)"]},V.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentDate",children:"Date"}),a.jsx(ge,{id:"paymentDate",type:"date",value:G.date,onChange:V=>se({...G,date:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"amount",children:["Amount (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"amount",type:"number",step:"0.01",min:"0",value:G.amount,onChange:V=>se({...G,amount:V.target.value}),placeholder:"e.g., 1500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(nt,{value:G.paymentMethod,onValueChange:V=>se({...G,paymentMethod:V}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Cash",children:"Cash"}),a.jsx(pe,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"Mobile Payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentNotes",children:"Notes"}),a.jsx(Bt,{id:"paymentNotes",value:G.notes,onChange:V=>se({...G,notes:V.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Record Payment"})]})]})]})})]})}function ET(){const{state:s,actions:r}=yt(),{rawMaterials:i=[],sofaModels:o=[]}=s,d=j.useMemo(()=>{const p=i.length,g=i.reduce((N,E)=>{const S=parseFloat(E.quantity)||0,w=parseFloat(E.unitPrice)||0;return N+S*w},0),m=o.length,x=o.reduce((N,E)=>{const S=parseFloat(E.stock)||0,w=parseFloat(E.sellingPrice)||parseFloat(E.basePrice)||0;return N+S*w},0),v=i.filter(N=>{const E=parseFloat(N.quantity)||0,S=parseFloat(N.minStock)||10;return E>0&&E<S}),b=i.filter(N=>(parseFloat(N.quantity)||0)<=0);return[{label:"Raw Materials",count:p,value:` ${g.toLocaleString()}`,color:"bg-blue-500",icon:Za},{label:"Finished Products",count:m,value:` ${x.toLocaleString()}`,color:"bg-green-500",icon:TN},{label:"Low Stock Items",count:v.length,color:"bg-yellow-500",icon:ff},{label:"Out of Stock",count:b.length,color:"bg-red-500",icon:uf}]},[i,o]),f=j.useMemo(()=>{const p=[];return[...i].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,3).forEach(x=>{p.push({text:`${x.name} - ${x.quantity} ${x.unit||"units"} in stock`,time:x.updatedAt||x.createdAt,color:"bg-green-500"})}),[...o].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,2).forEach(x=>{p.push({text:`${x.name} - ${x.stock||0} units in stock`,time:x.updatedAt||x.createdAt,color:"bg-blue-500"})}),i.filter(x=>{const v=parseFloat(x.quantity)||0,b=parseFloat(x.minStock)||10;return v>0&&v<b}).slice(0,2).forEach(x=>{p.push({text:`Low stock alert: ${x.name}`,time:new Date().toISOString(),color:"bg-yellow-500"})}),p.slice(0,5)},[i,o]),h=p=>{if(!p)return"Recently";const g=new Date(p),x=new Date-g,v=Math.floor(x/6e4),b=Math.floor(x/36e5),N=Math.floor(x/864e5);return v<60?`${v} minutes ago`:b<24?`${b} hours ago`:`${N} days ago`};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Overview of raw materials and finished products inventory"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((p,g)=>{const m=p.icon;return a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.count}),p.value&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.value})]}),a.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:a.jsx(m,{className:"w-6 h-6 text-white"})})]})},g)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>r.setCurrentView("raw-materials"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Raw Materials"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("finished-products"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Finished Products"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("suppliers"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"View Suppliers"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((p,g)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`w-2 h-2 ${p.color} rounded-full mt-2 mr-3`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:p.text}),a.jsx("p",{className:"text-xs text-gray-500",children:h(p.time)})]})]},g))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add raw materials or products to see activity here"})]})]})]})]})}function TT(){const{state:s,actions:r}=yt(),{rawMaterials:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""}),v=i.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.category&&T.category.toLowerCase().includes(o.toLowerCase())||T.supplier&&T.supplier.toLowerCase().includes(o.toLowerCase())),b=(T,_)=>{const A=parseFloat(T)||0,k=parseFloat(_)||0;return A===0?{label:"Out of Stock",variant:"destructive"}:A<=k?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"}},N=(T=null)=>{var _,A,k;T?(g(T),x({name:T.name,category:T.category||"Wood",quantity:((_=T.quantity)==null?void 0:_.toString())||"",unit:T.unit||"meters",pricePerUnit:((A=T.pricePerUnit)==null?void 0:A.toString())||"",minStock:((k=T.minStock)==null?void 0:k.toString())||"",supplier:T.supplier||"",description:T.description||""})):(g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})),h(!0)},E=()=>{h(!1),g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})},S=async T=>{if(T.preventDefault(),!m.name||!m.quantity||!m.pricePerUnit){alert("Please fill in required fields (Name, Quantity, Price)");return}try{const _={name:m.name,category:m.category,quantity:parseFloat(m.quantity),unit:m.unit,pricePerUnit:parseFloat(m.pricePerUnit),minStock:parseFloat(m.minStock)||0,supplier:m.supplier,description:m.description,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("rawMaterials",{..._,id:p.id}),alert("Material updated successfully!")):(await r.addItem("rawMaterials",_),alert("Material added successfully!")),E()}catch(_){console.error("Error saving material:",_),alert("Failed to save material. Please try again.")}},w=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}?`))try{await r.deleteItem("rawMaterials",T.id),alert("Material deleted successfully!")}catch(_){console.error("Error deleting material:",_),alert("Failed to delete material. Please try again.")}},P=i.reduce((T,_)=>T+(_.quantity||0)*(_.pricePerUnit||0),0),R=i.filter(T=>{const _=parseFloat(T.quantity)||0,A=parseFloat(T.minStock)||0;return _<=A}).length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Raw Materials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage raw materials inventory"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Materials"}),a.jsx(Ne,{className:"text-2xl",children:i.length})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Inventory Value"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",P.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Low Stock Items"}),a.jsx(Ne,{className:"text-2xl text-orange-600",children:R})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search materials...",value:o,onChange:T=>d(T.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>N(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Material"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(T=>{const _=b(T.quantity,T.minStock),A=(T.quantity||0)*(T.pricePerUnit||0);return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(be,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ne,{className:"text-lg",children:T.name}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[T.category&&a.jsx(Pe,{variant:"outline",children:T.category}),a.jsx(Pe,{variant:_.variant,children:_.label})]})]})})}),a.jsxs(ye,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium",children:[T.quantity," ",T.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Price/Unit:"}),a.jsxs("span",{className:"font-medium",children:["NPR ",(T.pricePerUnit||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Min Stock:"}),a.jsxs("span",{className:"font-medium",children:[T.minStock||0," ",T.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Value:"}),a.jsxs("span",{className:"font-semibold",children:["NPR ",A.toLocaleString()]})]}),T.purchaseDate&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Purchased: ",new Date(T.purchaseDate).toLocaleDateString()]}),(T.supplier||T.supplierName)&&a.jsxs("div",{className:"text-sm text-gray-600 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Supplier:"})," ",T.supplier||T.supplierName]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>N(T),children:[a.jsx(ns,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>w(T),children:a.jsx(Wa,{className:"w-3 h-3"})})]})]})]},T.id)})}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Za,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No materials found":"No materials yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first material to get started"}),!o&&a.jsxs(ce,{onClick:()=>N(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Material"]})]})}),a.jsx(Ft,{open:f,onOpenChange:h,children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:p?"Edit Material":"Add New Material"}),a.jsx(ia,{children:p?"Update material information below":"Enter material details to add to your inventory"})]}),a.jsxs("form",{onSubmit:S,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"name",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"name",value:m.name,onChange:T=>x({...m,name:T.target.value}),placeholder:"e.g., Teak Wood",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"category",children:"Category"}),a.jsxs(nt,{value:m.category,onValueChange:T=>x({...m,category:T}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Wood",children:"Wood"}),a.jsx(pe,{value:"Fabric",children:"Fabric"}),a.jsx(pe,{value:"Foam",children:"Foam"}),a.jsx(pe,{value:"Hardware",children:"Hardware"}),a.jsx(pe,{value:"Cushioning",children:"Cushioning"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"quantity",type:"number",step:"0.01",min:"0",value:m.quantity,onChange:T=>x({...m,quantity:T.target.value}),placeholder:"e.g., 150",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"unit",children:"Unit"}),a.jsxs(nt,{value:m.unit,onValueChange:T=>x({...m,unit:T}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"meters",children:"meters"}),a.jsx(pe,{value:"pieces",children:"pieces"}),a.jsx(pe,{value:"sheets",children:"sheets"}),a.jsx(pe,{value:"kg",children:"kg"}),a.jsx(pe,{value:"liters",children:"liters"}),a.jsx(pe,{value:"boxes",children:"boxes"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"pricePerUnit",children:["Price per Unit (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:m.pricePerUnit,onChange:T=>x({...m,pricePerUnit:T.target.value}),placeholder:"e.g., 800",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"minStock",children:"Minimum Stock Level"}),a.jsx(ge,{id:"minStock",type:"number",step:"0.01",min:"0",value:m.minStock,onChange:T=>x({...m,minStock:T.target.value}),placeholder:"e.g., 50"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"supplier",children:"Supplier"}),a.jsx(ge,{id:"supplier",value:m.supplier,onChange:T=>x({...m,supplier:T.target.value}),placeholder:"e.g., Timber Traders Ltd"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"description",children:"Description"}),a.jsx(ge,{id:"description",value:m.description,onChange:T=>x({...m,description:T.target.value}),placeholder:"Additional notes about this material"})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Material":"Add Material"})]})]})]})})]})}function MT(){const{state:s,actions:r}=yt(),{suppliers:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""}),v=i.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.contactPerson&&w.contactPerson.toLowerCase().includes(o.toLowerCase())||w.category&&w.category.toLowerCase().includes(o.toLowerCase())),b=(w=null)=>{w?(g(w),x({name:w.name,contactPerson:w.contactPerson||"",phone:w.phone||"",email:w.email||"",address:w.address||"",category:w.category||"Wood",notes:w.notes||""})):(g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})),h(!0)},N=()=>{h(!1),g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})},E=async w=>{if(w.preventDefault(),!m.name||!m.phone){alert("Please fill in required fields (Name and Phone)");return}try{const P={name:m.name,contactPerson:m.contactPerson,phone:m.phone,email:m.email,address:m.address,category:m.category,notes:m.notes,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("suppliers",{...P,id:p.id}),alert("Supplier updated successfully!")):(await r.addItem("suppliers",P),alert("Supplier added successfully!")),N()}catch(P){console.error("Error saving supplier:",P),alert("Failed to save supplier. Please try again.")}},S=async w=>{if(window.confirm(`Are you sure you want to delete ${w.name}?`))try{await r.deleteItem("suppliers",w.id),alert("Supplier deleted successfully!")}catch(P){console.error("Error deleting supplier:",P),alert("Failed to delete supplier. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your supplier relationships and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search suppliers...",value:o,onChange:w=>d(w.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(w=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(be,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ne,{className:"text-lg",children:w.name}),w.category&&a.jsx(Pe,{variant:"outline",className:"mt-2",children:w.category})]})})}),a.jsxs(ye,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[w.contactPerson&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ro,{className:"w-4 h-4 mr-2 text-gray-400"}),w.contactPerson]}),w.phone&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx($g,{className:"w-4 h-4 mr-2 text-gray-400"}),w.phone]}),w.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Gg,{className:"w-4 h-4 mr-2 text-gray-400"}),w.email]}),w.address&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{className:"line-clamp-2",children:w.address})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>b(w),children:[a.jsx(ns,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>S(w),children:a.jsx(Wa,{className:"w-3 h-3"})})]})]})]},w.id))}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ro,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No suppliers found":"No suppliers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first supplier to get started"}),!o&&a.jsxs(ce,{onClick:()=>b(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})}),a.jsx(Ft,{open:f,onOpenChange:h,children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:p?"Edit Supplier":"Add New Supplier"}),a.jsx(ia,{children:p?"Update supplier information below":"Enter supplier details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"name",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"name",value:m.name,onChange:w=>x({...m,name:w.target.value}),placeholder:"e.g., Timber Traders Ltd",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"contactPerson",children:"Contact Person"}),a.jsx(ge,{id:"contactPerson",value:m.contactPerson,onChange:w=>x({...m,contactPerson:w.target.value}),placeholder:"e.g., Ram Kumar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"phone",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"phone",type:"tel",value:m.phone,onChange:w=>x({...m,phone:w.target.value}),placeholder:"e.g., 9841111111",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",value:m.email,onChange:w=>x({...m,email:w.target.value}),placeholder:"e.g., supplier@example.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"category",children:"Category"}),a.jsxs(nt,{value:m.category,onValueChange:w=>x({...m,category:w}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Wood",children:"Wood"}),a.jsx(pe,{value:"Fabric",children:"Fabric"}),a.jsx(pe,{value:"Foam",children:"Foam"}),a.jsx(pe,{value:"Hardware",children:"Hardware"}),a.jsx(pe,{value:"Cushioning",children:"Cushioning"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"address",children:"Address"}),a.jsx(Bt,{id:"address",value:m.address,onChange:w=>x({...m,address:w.target.value}),placeholder:"Enter supplier address",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:m.notes,onChange:w=>x({...m,notes:w.target.value}),placeholder:"Additional notes about this supplier",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})]})})]})}const DT=[{value:"pieces",label:"Pieces"},{value:"meters",label:"Meters"},{value:"feet",label:"Feet"},{value:"sqft",label:"Square Feet (sqft)"},{value:"sqm",label:"Square Meters (sqm)"},{value:"cuft",label:"Cubic Feet (cuft)"},{value:"cum",label:"Cubic Meters (cum)"},{value:"kg",label:"Kilograms (kg)"},{value:"grams",label:"Grams (g)"},{value:"lbs",label:"Pounds (lbs)"},{value:"liters",label:"Liters (L)"},{value:"gallons",label:"Gallons"},{value:"ml",label:"Milliliters (ml)"},{value:"yards",label:"Yards"},{value:"inches",label:"Inches"},{value:"cm",label:"Centimeters (cm)"},{value:"sheets",label:"Sheets"},{value:"rolls",label:"Rolls"},{value:"bundles",label:"Bundles"},{value:"sets",label:"Sets"},{value:"pairs",label:"Pairs"},{value:"boxes",label:"Boxes"},{value:"cartons",label:"Cartons"},{value:"bags",label:"Bags"},{value:"packets",label:"Packets"},{value:"bottles",label:"Bottles"},{value:"cans",label:"Cans"},{value:"units",label:"Units"}],OT=["General","Wood","Fabric","Foam","Metal","Hardware","Adhesive","Finishing","Leather","Springs","Webbing","Thread","Zipper","Cushion","Packaging","Other"],Co={materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:""};function RT(){var V,me,re,Me;const{state:s,actions:r}=yt(),{purchases:i=[],suppliers:o=[],rawMaterials:d=[]}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[v,b]=j.useState(null),[N,E]=j.useState(null),[S,w]=j.useState(null),[P,R]=j.useState(null),T=j.useRef(null),[_,A]=j.useState([{...Co}]),[k,U]=j.useState({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),G=d.map(X=>X.name),se=i.filter(X=>X.supplierName&&X.supplierName.toLowerCase().includes(f.toLowerCase())||X.materialName&&X.materialName.toLowerCase().includes(f.toLowerCase())||X.items&&X.items.some(xe=>{var ve;return(ve=xe.materialName)==null?void 0:ve.toLowerCase().includes(f.toLowerCase())})||X.paymentMethod&&X.paymentMethod.toLowerCase().includes(f.toLowerCase())),H=X=>{switch(X){case"Paid":return"success";case"Partial":return"warning";case"Unpaid":return"destructive";default:return"default"}},F=()=>_.reduce((X,xe)=>X+(parseFloat(xe.totalAmount)||0),0),ee=(X=null)=>{var xe,ve,Te,ft;X?(b(X),U({date:X.date,supplierId:((xe=X.supplierId)==null?void 0:xe.toString())||"",paymentMethod:X.paymentMethod||"Cash",paymentStatus:X.paymentStatus||"Paid",notes:X.notes||""}),X.items&&X.items.length>0?A(X.items.map(We=>{var pt,wt,bt;return{materialName:We.materialName||"",materialCategory:We.materialCategory||"General",unit:We.unit||"pieces",quantity:((pt=We.quantity)==null?void 0:pt.toString())||"",pricePerUnit:((wt=We.pricePerUnit)==null?void 0:wt.toString())||"",totalAmount:((bt=We.totalAmount)==null?void 0:bt.toString())||""}})):A([{materialName:X.materialName||"",materialCategory:X.materialCategory||"General",unit:X.unit||"pieces",quantity:((ve=X.quantity)==null?void 0:ve.toString())||"",pricePerUnit:((Te=X.pricePerUnit)==null?void 0:Te.toString())||"",totalAmount:((ft=X.totalAmount)==null?void 0:ft.toString())||""}]),X.invoiceData&&(R(X.invoiceData),w({name:X.invoiceFileName||"Invoice",type:X.invoiceType}))):(b(null),U({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Co}]),w(null),R(null)),g(!0)},Y=()=>{g(!1),b(null),w(null),R(null),U({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Co}])},B=()=>{A([..._,{...Co}])},z=X=>{_.length>1&&A(_.filter((xe,ve)=>ve!==X))},M=(X,xe,ve)=>{var ft,We;const Te=[..._];if(Te[X]={...Te[X],[xe]:ve},xe==="materialName"){const pt=d.find(wt=>wt.name.toLowerCase()===ve.toLowerCase());pt&&(Te[X].unit=pt.unit||"pieces",Te[X].materialCategory=pt.category||"General",Te[X].pricePerUnit=((ft=pt.unitPrice)==null?void 0:ft.toString())||((We=pt.pricePerUnit)==null?void 0:We.toString())||"")}if(xe==="quantity"||xe==="pricePerUnit"){const pt=parseFloat(xe==="quantity"?ve:Te[X].quantity),wt=parseFloat(xe==="pricePerUnit"?ve:Te[X].pricePerUnit);!isNaN(pt)&&!isNaN(wt)&&(Te[X].totalAmount=(pt*wt).toString())}A(Te)},I=X=>{const xe=X.target.files[0];if(!xe)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/webp"].includes(xe.type)){alert("Please upload a PDF or image file (JPEG, PNG, WebP)");return}if(xe.size>5*1024*1024){alert("File size must be less than 5MB");return}w(xe);const Te=new FileReader;Te.onloadend=()=>{R(Te.result)},Te.readAsDataURL(xe)},O=()=>{w(null),R(null),T.current&&(T.current.value="")},Q=async X=>{var xe,ve,Te,ft,We,pt,wt;if(X.preventDefault(),!k.supplierId){alert("Please select a supplier");return}for(let bt=0;bt<_.length;bt++){const Ba=_[bt];if(!Ba.materialName||!Ba.quantity||!Ba.pricePerUnit){alert(`Please fill in all required fields for item ${bt+1}`);return}}try{const bt=o.find(et=>et.id===parseInt(k.supplierId));if(!bt){alert("Invalid supplier selected");return}const Ba=F(),Mt=_.map(et=>({materialName:et.materialName,materialCategory:et.materialCategory,unit:et.unit,quantity:parseFloat(et.quantity),pricePerUnit:parseFloat(et.pricePerUnit),totalAmount:parseFloat(et.totalAmount)})),Us={date:k.date,supplierId:parseInt(k.supplierId),supplierName:bt.name,items:Mt,materialName:((xe=Mt[0])==null?void 0:xe.materialName)||"",materialCategory:((ve=Mt[0])==null?void 0:ve.materialCategory)||"General",unit:((Te=Mt[0])==null?void 0:Te.unit)||"pieces",quantity:((ft=Mt[0])==null?void 0:ft.quantity)||0,pricePerUnit:((We=Mt[0])==null?void 0:We.pricePerUnit)||0,totalAmount:Ba,itemCount:Mt.length,paymentMethod:k.paymentMethod,paymentStatus:k.paymentStatus,notes:k.notes,invoiceData:P||null,invoiceFileName:(S==null?void 0:S.name)||null,invoiceType:(S==null?void 0:S.type)||null,createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};if(v){await r.updateItem("purchases",{...Us,id:v.id});for(const et of Mt){const nn=d.find(Wt=>Wt.name.toLowerCase()===et.materialName.toLowerCase());if(nn){const Wt=((pt=v.items)==null?void 0:pt.find(Wr=>{var os;return((os=Wr.materialName)==null?void 0:os.toLowerCase())===et.materialName.toLowerCase()}))||(((wt=v.materialName)==null?void 0:wt.toLowerCase())===et.materialName.toLowerCase()?v:null),Xt=(Wt==null?void 0:Wt.quantity)||0,mc=et.quantity-Xt,Zr={...nn,quantity:(parseFloat(nn.quantity)||0)+mc,pricePerUnit:et.pricePerUnit};await r.updateItem("rawMaterials",Zr)}}alert("Purchase updated successfully!")}else{await r.addItem("purchases",Us);for(const et of Mt){const nn=d.find(Wt=>Wt.name.toLowerCase()===et.materialName.toLowerCase()&&parseFloat(Wt.pricePerUnit)===parseFloat(et.pricePerUnit));if(nn){const Wt={...nn,quantity:(parseFloat(nn.quantity)||0)+et.quantity,lastPurchaseDate:k.date,updatedAt:new Date().toISOString()};await r.updateItem("rawMaterials",Wt)}else{const Wt={name:et.materialName,category:et.materialCategory,unit:et.unit,quantity:et.quantity,pricePerUnit:et.pricePerUnit,purchaseDate:k.date,minStock:10,supplierId:parseInt(k.supplierId),supplierName:bt.name,description:`Purchased on ${k.date} @ NPR ${et.pricePerUnit}/${et.unit}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("rawMaterials",Wt)}}alert(`Purchase recorded! ${Mt.length} item(s) added to inventory.`)}Y()}catch(bt){console.error("Error saving purchase:",bt),alert("Failed to save purchase. Please try again.")}},ue=async X=>{if(confirm("Are you sure you want to delete this purchase? This will NOT reverse the inventory changes."))try{await r.deleteItem("purchases",X.id),alert("Purchase deleted successfully")}catch(xe){console.error("Error deleting purchase:",xe),alert("Failed to delete purchase")}},D=X=>{E(X),x(!0)},W=i.length,ie=i.reduce((X,xe)=>X+(parseFloat(xe.totalAmount)||0),0),fe=i.filter(X=>X.paymentStatus==="Unpaid"||X.paymentStatus==="Partial").reduce((X,xe)=>X+(parseFloat(xe.totalAmount)||0),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),a.jsx("p",{className:"text-gray-600",children:"Track purchase orders and manage inventory"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"* Purchases automatically update raw material inventory"})]}),a.jsxs(ce,{onClick:()=>ee(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),a.jsx("p",{className:"text-2xl font-bold",children:W})]}),a.jsx(Za,{className:"w-8 h-8 text-blue-500"})]})})}),a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),a.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",ie.toLocaleString()]})]}),a.jsx(Oa,{className:"w-8 h-8 text-green-500"})]})})}),a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["NPR ",fe.toLocaleString()]})]}),a.jsx(as,{className:"w-8 h-8 text-red-500"})]})})})]}),a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ge,{type:"text",placeholder:"Search purchases...",value:f,onChange:X=>h(X.target.value),className:"pl-10"})]}),se.length>0?a.jsx(de,{children:a.jsx(ye,{className:"p-0",children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Date"}),a.jsx(Qe,{children:"Supplier"}),a.jsx(Qe,{children:"Items"}),a.jsx(Qe,{className:"text-right",children:"Total Amount"}),a.jsx(Qe,{children:"Payment"}),a.jsx(Qe,{children:"Invoice"}),a.jsx(Qe,{className:"text-right",children:"Actions"})]})}),a.jsx(Ds,{children:se.map(X=>a.jsxs(ra,{children:[a.jsx(Xe,{children:new Date(X.date).toLocaleDateString()}),a.jsx(Xe,{className:"font-medium",children:X.supplierName}),a.jsx(Xe,{children:X.items&&X.items.length>1?a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[X.items.length," items"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[X.items.map(xe=>xe.materialName).join(", ").substring(0,30),"..."]})]}):a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:X.materialName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[X.quantity," ",X.unit]})]})}),a.jsxs(Xe,{className:"text-right font-medium",children:["NPR ",(X.totalAmount||0).toLocaleString()]}),a.jsx(Xe,{children:a.jsx(Pe,{variant:H(X.paymentStatus),children:X.paymentStatus})}),a.jsx(Xe,{children:X.invoiceData?a.jsxs(Pe,{variant:"outline",className:"text-green-600",children:[a.jsx(Rd,{className:"w-3 h-3 mr-1"}),"Attached"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),a.jsx(Xe,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>D(X),children:a.jsx(df,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>ee(X),children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>ue(X),className:"text-red-600 hover:text-red-700",children:a.jsx(Wa,{className:"w-4 h-4"})})]})})]},X.id))})]})})}):a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Za,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No purchases found":"No purchases yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first purchase to get started"}),!f&&a.jsxs(ce,{onClick:()=>ee(),children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]})}),a.jsx(Ft,{open:p,onOpenChange:g,children:a.jsxs(Vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:v?"Edit Purchase":"New Purchase"}),a.jsx(ia,{children:v?"Update purchase details below":"Record a new purchase with multiple items - inventory will be updated automatically"})]}),a.jsxs("form",{onSubmit:Q,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"date",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"date",type:"date",value:k.date,onChange:X=>U({...k,date:X.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"supplier",children:["Supplier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(nt,{value:k.supplierId,onValueChange:X=>U({...k,supplierId:X}),children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select supplier"})}),a.jsx(rt,{children:o.map(X=>a.jsx(pe,{value:X.id.toString(),children:X.name},X.id))})]})]})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(te,{className:"text-base font-semibold",children:"Purchase Items"}),a.jsxs(ce,{type:"button",variant:"outline",size:"sm",onClick:B,children:[a.jsx(gt,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),_.map((X,xe)=>a.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Item ",xe+1]}),_.length>1&&a.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(xe),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:a.jsx(ko,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(te,{className:"text-xs",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{type:"text",value:X.materialName,onChange:ve=>M(xe,"materialName",ve.target.value),placeholder:"Enter material name",list:`material-suggestions-${xe}`,required:!0}),a.jsx("datalist",{id:`material-suggestions-${xe}`,children:G.map((ve,Te)=>a.jsx("option",{value:ve},Te))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(te,{className:"text-xs",children:"Category"}),a.jsxs(nt,{value:X.materialCategory,onValueChange:ve=>M(xe,"materialCategory",ve),children:[a.jsx(lt,{className:"h-9",children:a.jsx(st,{})}),a.jsx(rt,{children:OT.map(ve=>a.jsx(pe,{value:ve,children:ve},ve))})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(te,{className:"text-xs",children:"Unit"}),a.jsxs(nt,{value:X.unit,onValueChange:ve=>M(xe,"unit",ve),children:[a.jsx(lt,{className:"h-9",children:a.jsx(st,{})}),a.jsx(rt,{children:DT.map(ve=>a.jsx(pe,{value:ve.value,children:ve.label},ve.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(te,{className:"text-xs",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{type:"number",step:"0.01",min:"0",value:X.quantity,onChange:ve=>M(xe,"quantity",ve.target.value),placeholder:"Qty",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(te,{className:"text-xs",children:["Price/Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{type:"number",step:"0.01",min:"0",value:X.pricePerUnit,onChange:ve=>M(xe,"pricePerUnit",ve.target.value),placeholder:"Price",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(te,{className:"text-xs",children:"Total"}),a.jsx(ge,{type:"number",value:X.totalAmount,readOnly:!0,className:"h-9 bg-gray-100"})]})]})]},xe)),a.jsxs("div",{className:"flex justify-end items-center pt-2 border-t",children:[a.jsx("span",{className:"text-sm font-medium mr-4",children:"Grand Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["NPR ",F().toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(nt,{value:k.paymentMethod,onValueChange:X=>U({...k,paymentMethod:X}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Cash",children:"Cash"}),a.jsx(pe,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"Card",children:"Card"}),a.jsx(pe,{value:"Mobile Payment",children:"Mobile Payment"}),a.jsx(pe,{value:"Credit",children:"Credit"}),a.jsx(pe,{value:"Cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"paymentStatus",children:"Payment Status"}),a.jsxs(nt,{value:k.paymentStatus,onValueChange:X=>U({...k,paymentStatus:X}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Paid",children:"Paid"}),a.jsx(pe,{value:"Partial",children:"Partial"}),a.jsx(pe,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Invoice / Bill (PDF or Image)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[P?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[(V=S==null?void 0:S.type)!=null&&V.includes("pdf")?a.jsx(Rd,{className:"w-8 h-8 text-red-500"}):a.jsx(lS,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(S==null?void 0:S.name)||"Invoice"}),a.jsx("p",{className:"text-xs text-gray-500",children:(me=S==null?void 0:S.type)!=null&&me.includes("pdf")?"PDF Document":"Image"})]})]}),a.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:O,className:"text-red-600",children:a.jsx(ko,{className:"w-4 h-4"})})]}),P&&!((re=S==null?void 0:S.type)!=null&&re.includes("pdf"))&&a.jsx("img",{src:P,alt:"Invoice preview",className:"max-h-40 rounded border"})]}):a.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>{var X;return(X=T.current)==null?void 0:X.click()},children:[a.jsx(MS,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload invoice"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPEG, PNG (max 5MB)"})]}),a.jsx("input",{ref:T,type:"file",accept:".pdf,image/jpeg,image/png,image/jpg,image/webp",onChange:I,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:k.notes,onChange:X=>U({...k,notes:X.target.value}),placeholder:"Additional notes about this purchase",rows:2})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:Y,children:"Cancel"}),a.jsx(ce,{type:"submit",children:v?"Update Purchase":"Record Purchase"})]})]})]})}),a.jsx(Ft,{open:m,onOpenChange:x,children:a.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Gt,{children:a.jsx($t,{children:"Purchase Details"})}),N&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:new Date(N.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Supplier"}),a.jsx("p",{className:"font-medium",children:N.supplierName})]})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx(te,{className:"text-gray-500 mb-2 block",children:"Items"}),N.items&&N.items.length>0?a.jsx("div",{className:"space-y-2",children:N.items.map((X,xe)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:X.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[X.quantity," ",X.unit,"  NPR ",X.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(X.totalAmount||0).toLocaleString()]})]},xe))}):a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.quantity," ",N.unit,"  NPR ",N.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(N.totalAmount||0).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("span",{className:"font-medium",children:"Total Amount"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["NPR ",(N.totalAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Payment Method"}),a.jsx("p",{className:"font-medium",children:N.paymentMethod})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Payment Status"}),a.jsx(Pe,{variant:H(N.paymentStatus),children:N.paymentStatus})]})]}),N.notes&&a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Notes"}),a.jsx("p",{className:"text-gray-700",children:N.notes})]}),N.invoiceData&&a.jsxs("div",{children:[a.jsx(te,{className:"text-gray-500",children:"Invoice"}),a.jsx("div",{className:"mt-2 border rounded-lg p-3",children:(Me=N.invoiceType)!=null&&Me.includes("pdf")?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rd,{className:"w-8 h-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.invoiceFileName||"Invoice.pdf"}),a.jsx("a",{href:N.invoiceData,download:N.invoiceFileName||"invoice.pdf",className:"text-sm text-blue-600 hover:underline",children:"Download PDF"})]})]}):a.jsx("img",{src:N.invoiceData,alt:"Invoice",className:"max-h-64 rounded cursor-pointer",onClick:()=>window.open(N.invoiceData,"_blank")})})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{variant:"outline",onClick:()=>x(!1),children:"Close"}),a.jsxs(ce,{onClick:()=>{x(!1),ee(N)},children:[a.jsx(ns,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})]})}function _T(){const{state:s,actions:r}=yt(),[i,o]=j.useState("month"),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState([]);j.useEffect(()=>{b()},[r]);const b=async()=>{try{console.log("Financials: Loading data...");const B=await(r.getAllSales?r.getAllSales():he.getAll("sales")).catch(O=>(console.warn("Failed to load sales:",O),[])),z=await he.getAll("purchases").catch(O=>(console.warn("Failed to load purchases:",O),[])),M=await he.getAll("labourPayments").catch(O=>(console.warn("Failed to load labour payments (table may not exist yet):",O.message),[])),I=await he.getAll("cleaningServices").catch(O=>(console.warn("Failed to load cleaning services:",O),[]));console.log("Financials: Loaded sales:",(B==null?void 0:B.length)||0),console.log("Financials: Loaded purchases:",(z==null?void 0:z.length)||0),console.log("Financials: Loaded labour:",(M==null?void 0:M.length)||0),console.log("Financials: Loaded cleaning:",(I==null?void 0:I.length)||0),f(B||[]),p(z||[]),m(M||[]),v(I||[])}catch(B){console.error("Error loading financial data:",B)}},N=(B,z="date")=>{const M=new Date,I=new Date;switch(i){case"week":I.setDate(M.getDate()-M.getDay()),I.setHours(0,0,0,0);break;case"month":I.setDate(1),I.setHours(0,0,0,0);break;case"quarter":const O=M.getMonth(),Q=Math.floor(O/3)*3;I.setMonth(Q),I.setDate(1),I.setHours(0,0,0,0);break;case"year":I.setMonth(0),I.setDate(1),I.setHours(0,0,0,0);break;default:I.setDate(1),I.setHours(0,0,0,0)}return B.filter(O=>{if(!O[z])return!1;const Q=new Date(O[z]);return isNaN(Q.getTime())?!1:Q>=I&&Q<=M})},E=N(d.filter(B=>B.approvalStatus==="approved")),S=N(x.filter(B=>B.status==="completed")),w=E.reduce((B,z)=>B+(z.totalAmount||0),0),P=S.reduce((B,z)=>B+(z.price||0),0),R=w+P,T=N(h),_=N(g),A=T.reduce((B,z)=>B+(z.totalAmount||0),0),k=_.reduce((B,z)=>B+(z.amount||0),0),U=A+k,G=R-U,se=R>0?(G/R*100).toFixed(1):0,H=[{category:"Raw Materials",amount:A,percentage:U>0?(A/U*100).toFixed(1):0,color:"bg-blue-600"},{category:"Labour Costs",amount:k,percentage:U>0?(k/U*100).toFixed(1):0,color:"bg-green-600"}],F=[{category:"Sales",amount:w,percentage:R>0?(w/R*100).toFixed(1):0,color:"bg-purple-600"},{category:"Cleaning Services",amount:P,percentage:R>0?(P/R*100).toFixed(1):0,color:"bg-orange-600"}],ee=[...E.map(B=>({id:`sale-${B.id}`,date:B.date,type:"income",description:`Sale to ${B.customerName} - ${B.productName}`,amount:B.totalAmount})),...S.map(B=>({id:`cleaning-${B.id}`,date:B.date,type:"income",description:`Cleaning Service - ${B.customerName}`,amount:B.price})),...T.map(B=>({id:`purchase-${B.id}`,date:B.date,type:"expense",description:`Purchase - ${B.materialName} from ${B.supplierName}`,amount:B.totalAmount})),..._.map(B=>({id:`labour-${B.id}`,date:B.date,type:"expense",description:`Labour Payment - ${B.labourerName}`,amount:B.amount}))].sort((B,z)=>new Date(z.date)-new Date(B.date)).slice(0,10),Y=()=>{switch(i){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track revenue, expenses, and profitability"})]}),a.jsxs(nt,{value:i,onValueChange:o,children:[a.jsx(lt,{className:"w-[180px]",children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"week",children:"This Week"}),a.jsx(pe,{value:"month",children:"This Month"}),a.jsx(pe,{value:"quarter",children:"This Quarter"}),a.jsx(pe,{value:"year",children:"This Year"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{children:"Total Revenue"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Oo,{className:"w-5 h-5 text-green-600"})})]})}),a.jsxs(ye,{children:[a.jsxs(Ne,{className:"text-2xl",children:["NPR ",R.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{children:"Total Expenses"}),a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Wx,{className:"w-5 h-5 text-red-600"})})]})}),a.jsxs(ye,{children:[a.jsxs(Ne,{className:"text-2xl",children:["NPR ",U.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{children:"Net Profit"}),a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${G>=0?"bg-blue-100":"bg-red-100"}`,children:a.jsx(Oa,{className:`w-5 h-5 ${G>=0?"text-blue-600":"text-red-600"}`})})]})}),a.jsxs(ye,{children:[a.jsxs(Ne,{className:`text-2xl ${G>=0?"text-blue-600":"text-red-600"}`,children:["NPR ",G.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{children:"Profit Margin"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(PN,{className:"w-5 h-5 text-purple-600"})})]})}),a.jsxs(ye,{children:[a.jsxs(Ne,{className:"text-2xl",children:[se,"%"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]})]}),a.jsxs(ql,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(Bl,{children:[a.jsx(Ut,{value:"overview",children:"Overview"}),a.jsx(Ut,{value:"revenue",children:"Revenue"}),a.jsx(Ut,{value:"expenses",children:"Expenses"}),a.jsx(Ut,{value:"transactions",children:"Transactions"})]}),a.jsx(qt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Revenue Breakdown"}),a.jsx(ke,{children:Y()})]}),a.jsx(ye,{className:"space-y-4",children:F.map((B,z)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:B.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",B.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${B.color} h-2 rounded-full`,style:{width:`${B.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[B.percentage,"% of total revenue"]})]},z))})]}),a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Expense Breakdown"}),a.jsx(ke,{children:Y()})]}),a.jsx(ye,{className:"space-y-4",children:H.map((B,z)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:B.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",B.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${B.color} h-2 rounded-full`,style:{width:`${B.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[B.percentage,"% of total expenses"]})]},z))})]})]})}),a.jsx(qt,{value:"revenue",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Sales Revenue"}),a.jsxs(ke,{children:[E.length," approved sales"]})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",w.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[R>0?(w/R*100).toFixed(1):0,"% of total revenue"]})]})]}),a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Cleaning Services Revenue"}),a.jsxs(ke,{children:[S.length," completed services"]})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["NPR ",P.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[R>0?(P/R*100).toFixed(1):0,"% of total revenue"]})]})]})]})}),a.jsx(qt,{value:"expenses",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Raw Material Purchases"}),a.jsxs(ke,{children:[T.length," purchases"]})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["NPR ",A.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[U>0?(A/U*100).toFixed(1):0,"% of total expenses"]})]})]}),a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Labour Payments"}),a.jsxs(ke,{children:[_.length," payments"]})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",k.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[U>0?(k/U*100).toFixed(1):0,"% of total expenses"]})]})]})]})}),a.jsx(qt,{value:"transactions",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Recent Transactions"}),a.jsxs(ke,{children:["Last 10 transactions from ",Y().toLowerCase()]})]}),a.jsx(ye,{children:ee.length>0?a.jsx("div",{className:"space-y-3",children:ee.map(B=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${B.type==="income"?"bg-green-100":"bg-red-100"}`,children:B.type==="income"?a.jsx(Oo,{className:"w-5 h-5 text-green-600"}):a.jsx(Wx,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.description}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(B.date).toLocaleDateString()})]})]}),a.jsxs("p",{className:`text-sm font-semibold ${B.type==="income"?"text-green-600":"text-red-600"}`,children:[B.type==="income"?"+":"-","NPR ",B.amount.toLocaleString()]})]},B.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(as,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No transactions in this period"})]})})]})})]})]})}function kT(){const{state:s}=yt(),[r,i]=j.useState("month"),[o,d]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(!1),m=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis and trends",icon:a.jsx(Oo,{className:"w-6 h-6"}),color:"bg-blue-500"},{id:"inventory",name:"Inventory Report",description:"Stock levels and inventory valuation",icon:a.jsx(Za,{className:"w-6 h-6"}),color:"bg-green-500"},{id:"financial",name:"Financial Report",description:"Profit & loss, revenue, and expenses",icon:a.jsx(Oa,{className:"w-6 h-6"}),color:"bg-purple-500"},{id:"labour",name:"Labour Report",description:"Attendance, payments, and productivity",icon:a.jsx(_o,{className:"w-6 h-6"}),color:"bg-yellow-500"},{id:"orders",name:"Orders Report",description:"Order status, completion rates",icon:a.jsx(GN,{className:"w-6 h-6"}),color:"bg-red-500"},{id:"customers",name:"Customer Report",description:"Customer insights and purchase history",icon:a.jsx(_o,{className:"w-6 h-6"}),color:"bg-indigo-500"}],x=(_,A="date")=>{const k=new Date,U=new Date;switch(r){case"week":U.setDate(k.getDate()-7);break;case"month":U.setMonth(k.getMonth()-1);break;case"quarter":U.setMonth(k.getMonth()-3);break;case"year":U.setFullYear(k.getFullYear()-1);break;default:U.setMonth(k.getMonth()-1)}return _.filter(G=>{const se=new Date(G[A]);return se>=U&&se<=k})},v=async _=>{g(!0),d(_);try{let A={};switch(_){case"sales":A=await b();break;case"inventory":A=await N();break;case"financial":A=await E();break;case"labour":A=await S();break;case"orders":A=await w();break;case"customers":A=await P();break;default:A={}}h(A)}catch(A){console.error("Error generating report:",A),alert("Failed to generate report")}finally{g(!1)}},b=async()=>{const _=await he.getAll("sales"),A=x(_.filter(F=>F.approvalStatus==="approved")),k=A.length,U=A.reduce((F,ee)=>F+(ee.totalAmount||0),0),G=k>0?U/k:0,se={};A.forEach(F=>{const ee=F.productName;se[ee]||(se[ee]={name:ee,quantity:0,revenue:0}),se[ee].quantity+=F.quantity||0,se[ee].revenue+=F.totalAmount||0});const H=Object.values(se).sort((F,ee)=>ee.revenue-F.revenue).slice(0,5);return{totalSales:k,totalRevenue:U,averageSale:G,topProducts:H,salesList:A}},N=async()=>{const _=await he.getAll("rawMaterials"),A=await he.getAll("sofaModels"),k=_.reduce((H,F)=>H+(F.quantity*F.pricePerUnit||0),0),U=A.reduce((H,F)=>H+(F.stockQuantity||0)*(F.sellingPrice||0),0),G=_.filter(H=>H.quantity<(H.minimumStock||10)),se=A.filter(H=>(H.stockQuantity||0)===0);return{rawMaterials:_,finishedProducts:A,totalRawMaterialValue:k,totalFinishedValue:U,lowStockMaterials:G,lowStockProducts:se}},E=async()=>{const _=await he.getAll("sales"),A=await he.getAll("purchases"),k=await he.getAll("labourPayments"),U=await he.getAll("cleaningServices"),G=x(_.filter(ue=>ue.approvalStatus==="approved")),se=x(A),H=x(k),F=x(U.filter(ue=>ue.status==="completed")),ee=G.reduce((ue,D)=>ue+(D.totalAmount||0),0),Y=F.reduce((ue,D)=>ue+(D.price||0),0),B=ee+Y,z=se.reduce((ue,D)=>ue+(D.totalAmount||0),0),M=H.reduce((ue,D)=>ue+(D.amount||0),0),I=z+M,O=B-I,Q=B>0?(O/B*100).toFixed(1):0;return{totalRevenue:B,salesRevenue:ee,cleaningRevenue:Y,totalExpenses:I,purchaseExpenses:z,labourExpenses:M,netProfit:O,profitMargin:Q}},S=async()=>{const _=await he.getAll("labourers"),A=await he.getAll("attendance"),k=await he.getAll("labourPayments"),U=x(A),G=x(k),se=G.reduce((ee,Y)=>ee+(Y.amount||0),0),H=_.filter(ee=>ee.status==="active").length,F=_.map(ee=>{const Y=U.filter(I=>I.labourerId===ee.id),B=G.filter(I=>I.labourerId===ee.id),z=Y.filter(I=>I.status==="present").length,M=B.reduce((I,O)=>I+(O.amount||0),0);return{name:ee.name,specialization:ee.specialization,presentDays:z,totalPaid:M}});return{activeLabourers:H,totalPayments:se,labourerStats:F,attendanceRecords:U}},w=async()=>{const _=await he.getAll("orders"),A=x(_),k=A.length,U=A.filter(H=>H.status==="completed").length,G=A.filter(H=>H.status==="pending").length,se=k>0?(U/k*100).toFixed(1):0;return{totalOrders:k,completedOrders:U,pendingOrders:G,completionRate:se,ordersList:A}},P=async()=>{const _=await he.getAll("customers"),A=await he.getAll("sales"),k=x(A.filter(se=>se.approvalStatus==="approved")),U=_.map(se=>{const H=k.filter(Y=>Y.customerId===se.id),F=H.length,ee=H.reduce((Y,B)=>Y+(B.totalAmount||0),0);return{name:se.name,phone:se.phone,totalPurchases:F,totalSpent:ee}}).sort((se,H)=>H.totalSpent-se.totalSpent),G=U.slice(0,10);return{totalCustomers:_.length,activeCustomers:U.filter(se=>se.totalPurchases>0).length,topCustomers:G,customerStats:U}},R=()=>{switch(r){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}},T=()=>{if(!f||!o)return;const _=m.find(se=>se.id===o),A=JSON.stringify(f,null,2),k=new Blob([A],{type:"application/json"}),U=URL.createObjectURL(k),G=document.createElement("a");G.href=U,G.download=`${_.name.replace(" ","_")}_${r}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(U)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and view business reports"})]}),a.jsxs(nt,{value:r,onValueChange:i,children:[a.jsx(lt,{className:"w-[180px]",children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"week",children:"This Week"}),a.jsx(pe,{value:"month",children:"This Month"}),a.jsx(pe,{value:"quarter",children:"This Quarter"}),a.jsx(pe,{value:"year",children:"This Year"})]})]})]}),!o&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(_=>a.jsx(de,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(_.id),children:a.jsxs(be,{children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsx("div",{className:`${_.color} text-white p-3 rounded-lg`,children:_.icon})}),a.jsx(Ne,{className:"mt-4",children:_.name}),a.jsx(ke,{children:_.description})]})},_.id))}),o&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ce,{variant:"outline",onClick:()=>{d(null),h(null)},children:" Back to Reports"}),a.jsxs(ce,{onClick:T,children:[a.jsx(KN,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),o==="sales"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Sales"}),a.jsx(Ne,{className:"text-2xl",children:f.totalSales})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Revenue"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Average Sale"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",f.averageSale.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Top Products"})}),a.jsx(ye,{children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Product"}),a.jsx(Qe,{children:"Quantity Sold"}),a.jsx(Qe,{children:"Revenue"})]})}),a.jsx(Ds,{children:f.topProducts.map((_,A)=>a.jsxs(ra,{children:[a.jsx(Xe,{children:_.name}),a.jsx(Xe,{children:_.quantity}),a.jsxs(Xe,{children:["NPR ",_.revenue.toLocaleString()]})]},A))})]})})]})]}),o==="inventory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Raw Materials Value"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",f.totalRawMaterialValue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Finished Products Value"}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",f.totalFinishedValue.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Low Stock Alerts"})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"font-medium",children:["Raw Materials (",f.lowStockMaterials.length,")"]}),f.lowStockMaterials.map((_,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[_.name,": ",_.quantity," ",_.unit]},A)),a.jsxs("p",{className:"font-medium mt-4",children:["Finished Products (",f.lowStockProducts.length,")"]}),f.lowStockProducts.map((_,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[_.name,": Out of stock"]},A))]})})]})]}),o==="financial"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Revenue"}),a.jsxs(Ne,{className:"text-2xl text-green-600",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Expenses"}),a.jsxs(Ne,{className:"text-2xl text-red-600",children:["NPR ",f.totalExpenses.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Net Profit"}),a.jsxs(Ne,{className:"text-2xl text-blue-600",children:["NPR ",f.netProfit.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Profit Margin"}),a.jsxs(Ne,{className:"text-2xl",children:[f.profitMargin,"%"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Revenue Breakdown"})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sales"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.salesRevenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cleaning Services"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.cleaningRevenue.toLocaleString()]})]})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Expense Breakdown"})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.purchaseExpenses.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Labour"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.labourExpenses.toLocaleString()]})]})]})})]})]})]}),o==="labour"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Active Labourers"}),a.jsx(Ne,{className:"text-2xl",children:f.activeLabourers})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsxs(ke,{children:["Total Payments (",R(),")"]}),a.jsxs(Ne,{className:"text-2xl",children:["NPR ",f.totalPayments.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Labourer Statistics"})}),a.jsx(ye,{children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Name"}),a.jsx(Qe,{children:"Specialization"}),a.jsx(Qe,{children:"Present Days"}),a.jsx(Qe,{children:"Total Paid"})]})}),a.jsx(Ds,{children:f.labourerStats.map((_,A)=>a.jsxs(ra,{children:[a.jsx(Xe,{children:_.name}),a.jsx(Xe,{children:_.specialization}),a.jsx(Xe,{children:_.presentDays}),a.jsxs(Xe,{children:["NPR ",_.totalPaid.toLocaleString()]})]},A))})]})})]})]}),o==="orders"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Orders"}),a.jsx(Ne,{className:"text-2xl",children:f.totalOrders})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Completed"}),a.jsx(Ne,{className:"text-2xl text-green-600",children:f.completedOrders})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Pending"}),a.jsx(Ne,{className:"text-2xl text-orange-600",children:f.pendingOrders})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Completion Rate"}),a.jsxs(Ne,{className:"text-2xl",children:[f.completionRate,"%"]})]})})]})}),o==="customers"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsx(ke,{children:"Total Customers"}),a.jsx(Ne,{className:"text-2xl",children:f.totalCustomers})]})}),a.jsx(de,{children:a.jsxs(be,{className:"pb-3",children:[a.jsxs(ke,{children:["Active Customers (",R(),")"]}),a.jsx(Ne,{className:"text-2xl",children:f.activeCustomers})]})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsx(Ne,{children:"Top Customers"})}),a.jsx(ye,{children:a.jsxs(Ts,{children:[a.jsx(Ms,{children:a.jsxs(ra,{children:[a.jsx(Qe,{children:"Name"}),a.jsx(Qe,{children:"Phone"}),a.jsx(Qe,{children:"Purchases"}),a.jsx(Qe,{children:"Total Spent"})]})}),a.jsx(Ds,{children:f.topCustomers.map((_,A)=>a.jsxs(ra,{children:[a.jsx(Xe,{children:_.name}),a.jsx(Xe,{children:_.phone}),a.jsx(Xe,{children:_.totalPurchases}),a.jsxs(Xe,{children:["NPR ",_.totalSpent.toLocaleString()]})]},A))})]})})]})]})]}),p&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Generating report..."})]})})]})}function PT(){var Y,B;const{state:s,actions:r}=yt(),{productions:i=[],sofaModels:o,rawMaterials:d,orders:f}=s,[h,p]=j.useState(""),[g,m]=j.useState(!1),[x,v]=j.useState(null),[b,N]=j.useState({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),[E,S]=j.useState(null),w=i.filter(z=>{var O,Q;const M=o.find(ue=>ue.id===z.sofaModelId),I=h.toLowerCase();return(M==null?void 0:M.name.toLowerCase().includes(I))||((O=z.status)==null?void 0:O.toLowerCase().includes(I))||((Q=z.productionNumber)==null?void 0:Q.toLowerCase().includes(I))}),P=w.filter(z=>z.status==="in_progress"||z.status==="pending"),R=w.filter(z=>z.status==="completed"),T=(z,M)=>{if(!z||z.length===0)return{valid:!1,message:"No Bill of Materials defined",materials:[]};const I={valid:!0,message:"",materials:[]};return z.forEach(O=>{const Q=d.find(ie=>ie.id===parseInt(O.materialId)),ue=parseFloat(O.quantity)*parseInt(M),D=(Q==null?void 0:Q.quantity)||0,W=D>=ue;W||(I.valid=!1),I.materials.push({materialId:O.materialId,materialName:O.materialName||(Q==null?void 0:Q.name)||"Unknown",unit:O.unit||(Q==null?void 0:Q.unit)||"",requiredQty:ue,availableQty:D,shortage:W?0:ue-D,isAvailable:W})}),I.valid?I.message="All materials available":I.message="Insufficient materials for production",I},_=z=>{const M=parseInt(z),I=o.find(Q=>Q.id===M),O=(I==null?void 0:I.billOfMaterials)||[];if(N({...b,productName:(I==null?void 0:I.name)||"",billOfMaterials:O}),O.length>0&&b.quantity){const Q=T(O,b.quantity);S(Q)}},A=()=>b.billOfMaterials&&b.billOfMaterials.length>0?b.billOfMaterials.reduce((z,M)=>{const I=d.find(ue=>ue.id===parseInt(M.materialId)),O=(I==null?void 0:I.unitPrice)||(I==null?void 0:I.pricePerUnit)||0,Q=parseFloat(M.quantity)||0;return z+O*Q},0):0,k=z=>{if(N({...b,quantity:z}),b.billOfMaterials.length>0&&z){const M=T(b.billOfMaterials,z);S(M)}},U=()=>{N({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),S(null),m(!0)},G=()=>{m(!1),N({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),S(null)},se=async z=>{var I;if(z.preventDefault(),!b.productName||!b.quantity){alert("Please enter product name and quantity");return}const M=T(b.billOfMaterials,b.quantity);if(!M.valid){alert("Cannot start production: "+M.message+`

Please purchase more materials first.`);return}try{let O=o.find(D=>D.name.toLowerCase()===b.productName.toLowerCase());O?JSON.stringify(O.billOfMaterials)!==JSON.stringify(b.billOfMaterials)&&await r.updateItem("sofaModels",{...O,billOfMaterials:b.billOfMaterials,materialCost:A()}):O={id:await r.addItem("sofaModels",{name:b.productName,description:"Auto-created from production",stockQuantity:0,billOfMaterials:b.billOfMaterials,materialCost:A(),sellingPrice:0,laborCost:0,status:"active",images:[]}),name:b.productName};const ue={productionNumber:`PROD-${Date.now().toString().slice(-6)}`,productionType:b.productionType,orderId:b.orderId?parseInt(b.orderId):null,sofaModelId:O.id,productName:O.name,quantity:parseInt(b.quantity),billOfMaterials:b.billOfMaterials,materialsNeeded:M.materials,status:"in_progress",startDate:new Date().toISOString(),estimatedCompletionDate:new Date(Date.now()+10080*60*1e3).toISOString(),actualCompletionDate:null,notes:b.notes,createdAt:new Date().toISOString()};await r.addItem("productions",ue);for(const D of M.materials){const W=d.find(ie=>ie.id===parseInt(D.materialId));if(W){const ie=W.quantity-D.requiredQty;await r.updateItem("rawMaterials",{...W,quantity:ie})}}if(ue.orderId)try{const D=f.find(W=>W.id===ue.orderId);if(D){const W=(I=s.customers)==null?void 0:I.find(ie=>ie.id===D.customerId);W&&await NT(r,ue,D,W)}}catch(D){console.error("Error sending production started notification:",D)}if(b.orderId){const D=f.find(W=>W.id===parseInt(b.orderId));D&&await r.updateItem("orders",{...D,status:"in_production",productionId:ue.id})}alert("Production started successfully!"),G()}catch(O){console.error("Error starting production:",O),alert("Failed to start production. Please try again.")}},H=async z=>{var M,I;if(window.confirm(`Complete production ${z.productionNumber}?

This will:
- Add ${z.quantity} units to stock
- Automatically update sales (if linked to order)`))try{const O=o.find(Q=>Q.id===z.sofaModelId);if(O){const Q=(O.stockQuantity||0)+z.quantity;await r.updateItem("sofaModels",{...O,stockQuantity:Q})}if(await r.updateItem("productions",{...z,status:"completed",actualCompletionDate:new Date().toISOString()}),z.orderId){const Q=f.find(ue=>ue.id===z.orderId);if(Q){await r.updateItem("orders",{...Q,status:"completed"});const ue=(M=s.customers)==null?void 0:M.find(D=>D.id===Q.customerId);if(ue&&O){const D={saleNumber:`SALE-${Date.now().toString().slice(-6)}`,customerId:ue.id,customerName:ue.name,productId:O.id,productName:O.name,quantity:z.quantity,unitPrice:O.sellingPrice||0,totalAmount:(O.sellingPrice||0)*z.quantity,paidAmount:0,paymentStatus:"pending",status:"approved",approvalStatus:"approved",orderId:Q.id,notes:`Auto-generated from Production #${z.productionNumber}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("sales",D)}}}if(z.orderId)try{const Q=f.find(ue=>ue.id===z.orderId);if(Q){const ue=(I=s.customers)==null?void 0:I.find(D=>D.id===Q.customerId);ue&&await ST(r,z,Q,ue)}}catch(Q){console.error("Error sending production completed notification:",Q)}alert(`Production completed successfully!

Stock updated and sale record generated (if applicable).`)}catch(O){console.error("Error completing production:",O),alert("Failed to complete production. Please try again.")}},F=async z=>{if(window.confirm(`Cancel production ${z.productionNumber}?

This will restore deducted materials to inventory.`))try{if(z.materialsNeeded)for(const M of z.materialsNeeded){const I=d.find(O=>O.id===parseInt(M.materialId));if(I){const O=I.quantity+M.requiredQty;await r.updateItem("rawMaterials",{...I,quantity:O})}}if(await r.updateItem("productions",{...z,status:"cancelled"}),z.orderId){const M=f.find(I=>I.id===z.orderId);M&&await r.updateItem("orders",{...M,status:"pending"})}alert("Production cancelled")}catch(M){console.error("Error cancelling production:",M),alert("Failed to cancel production. Please try again.")}},ee=z=>{const M={pending:{variant:"secondary",icon:Mo,label:"Pending"},in_progress:{variant:"default",icon:Os,label:"In Progress"},completed:{variant:"success",icon:ts,label:"Completed"},cancelled:{variant:"destructive",icon:uf,label:"Cancelled"}},I=M[z]||M.pending,O=I.icon;return a.jsxs(Pe,{variant:I.variant,className:"flex items-center gap-1",children:[a.jsx(O,{className:"w-3 h-3"}),I.label]})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Production Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage production jobs and track material usage"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Starting production automatically deducts raw materials. Completing production automatically updates stock and generates sales records."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ge,{type:"text",placeholder:"Search productions...",value:h,onChange:z=>p(z.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:U,className:"whitespace-nowrap",children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Production"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-gray-600",children:"Active Productions"})}),a.jsx(ye,{children:a.jsx("div",{className:"text-2xl font-bold",children:P.length})})]}),a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-gray-600",children:"Completed This Month"})}),a.jsx(ye,{children:a.jsx("div",{className:"text-2xl font-bold",children:R.length})})]}),a.jsxs(de,{children:[a.jsx(be,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-gray-600",children:"Total Units Produced"})}),a.jsx(ye,{children:a.jsx("div",{className:"text-2xl font-bold",children:R.reduce((z,M)=>z+(M.quantity||0),0)})})]})]}),P.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Active Productions"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:P.map(z=>{var I;const M=o.find(O=>O.id===z.sofaModelId);return a.jsx(de,{className:"hover:shadow-lg transition-shadow",children:a.jsxs(ye,{className:"pt-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:z.productionNumber}),ee(z.status),z.productionType==="stock"&&a.jsx(Pe,{variant:"outline",children:"Stock Production"})]}),a.jsxs("p",{className:"text-gray-600",children:[M==null?void 0:M.name,"  ",z.quantity," units"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Started"}),a.jsx("p",{className:"font-semibold",children:new Date(z.startDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Est. Completion"}),a.jsx("p",{className:"font-semibold",children:new Date(z.estimatedCompletionDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Materials"}),a.jsxs("p",{className:"font-semibold",children:[((I=z.materialsNeeded)==null?void 0:I.length)||0," items"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold capitalize",children:z.productionType})]})]}),z.notes&&a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:z.notes})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{size:"sm",onClick:()=>H(z),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(ts,{className:"w-4 h-4 mr-1"}),"Complete Production"]}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>v(z),children:"View Details"}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>F(z),children:"Cancel"})]})]})},z.id)})})]}),R.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Completed Productions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(z=>{const M=o.find(I=>I.id===z.sofaModelId);return a.jsx(de,{children:a.jsxs(ye,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:z.productionNumber}),a.jsxs("p",{className:"text-sm text-gray-600",children:[M==null?void 0:M.name,"  ",z.quantity," units"]})]}),ee(z.status)]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Completed: ",new Date(z.actualCompletionDate).toLocaleDateString()]})]})},z.id)})})]}),w.length===0&&a.jsx(de,{children:a.jsxs(ye,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Os,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h?"No productions found":"No productions yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:h?"Try adjusting your search":"Start your first production job"}),!h&&a.jsxs(ce,{onClick:U,children:[a.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Production"]})]})}),a.jsx(Ft,{open:g,onOpenChange:m,children:a.jsxs(Vt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Gt,{children:[a.jsx($t,{children:"New Production"}),a.jsx(ia,{children:"Start a new production job. Materials will be validated before starting."})]}),a.jsxs("form",{onSubmit:se,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Production Type"}),a.jsxs(nt,{value:b.productionType,onValueChange:z=>N({...b,productionType:z}),children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"stock",children:"Stock Production (Build Inventory)"}),a.jsx(pe,{value:"order",children:"Order Production (For Customer)"})]})]})]}),b.productionType==="order"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Select Order"}),a.jsxs(nt,{value:((Y=b.orderId)==null?void 0:Y.toString())||"",onValueChange:z=>N({...b,orderId:z}),children:[a.jsx(lt,{children:a.jsx(st,{placeholder:"Select an order..."})}),a.jsx(rt,{children:f.filter(z=>z.status==="pending").map(z=>a.jsxs(pe,{value:z.id.toString(),children:["Order #",z.orderNumber," - ",z.customerName]},z.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"productName",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ge,{id:"productName",value:b.productName,onChange:z=>{const M=z.target.value,I=o.find(O=>O.name.toLowerCase()===M.toLowerCase());I?_(I.id):N({...b,productName:M})},placeholder:"Enter product name (e.g., L-Shape Sofa)",required:!0}),o.length>0&&b.productName&&!o.find(z=>z.name.toLowerCase()===b.productName.toLowerCase())&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-40 overflow-y-auto",children:o.filter(z=>z.name.toLowerCase().includes(b.productName.toLowerCase())).map(z=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>_(z.id),children:[z.name," (Existing Product)"]},z.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{id:"quantity",type:"number",min:"1",value:b.quantity,onChange:z=>k(z.target.value),placeholder:"Enter quantity to produce",required:!0})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-base font-semibold",children:"Bill of Materials (BOM)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjust materials needed for this production"})]}),a.jsxs(ce,{type:"button",variant:"outline",size:"sm",onClick:()=>{N({...b,billOfMaterials:[...b.billOfMaterials,{id:Date.now(),materialId:"",materialName:"",quantity:"",unit:"",costPerUnit:0,totalCost:0}]})},children:[a.jsx(gt,{className:"w-4 h-4 mr-1"}),"Add Material"]})]}),b.billOfMaterials.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:'No materials added yet. Click "Add Material" to build the BOM.'}):a.jsxs("div",{className:"space-y-3",children:[b.billOfMaterials.map((z,M)=>{const I=d.find(O=>O.id===parseInt(z.materialId));return(parseFloat(z.quantity)||0)*((I==null?void 0:I.costPerUnit)||0),a.jsx("div",{className:"p-3 bg-white border rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(te,{className:"text-xs",children:"Material"}),a.jsxs("select",{className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",value:z.materialId,onChange:O=>{const Q=d.find(D=>D.id===parseInt(O.target.value)),ue=[...b.billOfMaterials];ue[M]={...ue[M],materialId:O.target.value,materialName:(Q==null?void 0:Q.name)||"",unit:(Q==null?void 0:Q.unit)||"",costPerUnit:(Q==null?void 0:Q.costPerUnit)||0},N({...b,billOfMaterials:ue})},children:[a.jsx("option",{value:"",children:"Select material..."}),d.map(O=>a.jsxs("option",{value:O.id,children:[O.name," (NPR ",O.costPerUnit,"/",O.unit,")"]},O.id))]})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-xs",children:"Quantity"}),a.jsx(ge,{type:"number",step:"0.01",className:"mt-1",value:z.quantity,onChange:O=>{const Q=[...b.billOfMaterials];if(Q[M]={...Q[M],quantity:O.target.value,totalCost:(parseFloat(O.target.value)||0)*((I==null?void 0:I.costPerUnit)||0)},N({...b,billOfMaterials:Q}),b.sofaModelId){const ue=T(b.sofaModelId,b.quantity);S(ue)}},placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-xs",children:"Unit"}),a.jsx(ge,{type:"text",className:"mt-1 bg-gray-100",value:z.unit,readOnly:!0,placeholder:"-"})]}),a.jsx("div",{className:"flex items-end gap-2",children:a.jsx(ce,{type:"button",variant:"destructive",size:"sm",onClick:()=>{const O=b.billOfMaterials.filter((Q,ue)=>ue!==M);if(N({...b,billOfMaterials:O}),O.length>0&&b.quantity){const Q=T(O,b.quantity);S(Q)}else S(null)},children:a.jsx(Wa,{className:"w-4 h-4"})})})]})},z.id)}),a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Material Cost (per unit)"}),a.jsx("span",{className:"text-lg font-bold text-blue-900",children:Ie(A())})]})})]})]}),E&&a.jsxs("div",{className:`p-4 rounded-lg ${E.valid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.valid?a.jsx(ts,{className:"w-5 h-5 text-green-600"}):a.jsx(ff,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:`font-semibold ${E.valid?"text-green-800":"text-red-800"}`,children:E.message})]}),a.jsx("div",{className:"space-y-2",children:E.materials.map((z,M)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:z.materialName}),a.jsxs("span",{className:z.isAvailable?"text-green-700":"text-red-700 font-bold",children:[z.requiredQty," ",z.unit," (Available: ",z.availableQty,")"]})]},M))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"notes",children:"Notes"}),a.jsx(Bt,{id:"notes",value:b.notes,onChange:z=>N({...b,notes:z.target.value}),placeholder:"Add any production notes...",rows:3})]})]}),a.jsxs(Yt,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:G,children:"Cancel"}),a.jsx(ce,{type:"submit",disabled:!(E!=null&&E.valid),className:E!=null&&E.valid?"":"opacity-50 cursor-not-allowed",children:"Start Production"})]})]})]})}),x&&a.jsx(Ft,{open:!!x,onOpenChange:()=>v(null),children:a.jsxs(Vt,{className:"max-w-2xl",children:[a.jsx(Gt,{children:a.jsxs($t,{children:["Production Details - ",x.productionNumber]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-semibold",children:x.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsxs("p",{className:"font-semibold",children:[x.quantity," units"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),ee(x.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold capitalize",children:x.productionType})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Materials Needed"}),a.jsx("div",{className:"space-y-2",children:(B=x.materialsNeeded)==null?void 0:B.map((z,M)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:z.materialName}),a.jsxs("span",{className:"font-semibold",children:[z.requiredQty," ",z.unit]})]})},M))})]}),x.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-700",children:x.notes})]})]}),a.jsx(Yt,{children:a.jsx(ce,{onClick:()=>v(null),children:"Close"})})]})})]})}var fc="Switch",[LT]=An(fc),[IT,zT]=LT(fc),I0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:f,required:h,disabled:p,value:g="on",onCheckedChange:m,form:x,...v}=s,[b,N]=j.useState(null),E=it(r,T=>N(T)),S=j.useRef(!1),w=b?x||!!b.closest("form"):!0,[P,R]=_s({prop:d,defaultProp:f??!1,onChange:m,caller:fc});return a.jsxs(IT,{scope:i,checked:P,disabled:p,children:[a.jsx(qe.button,{type:"button",role:"switch","aria-checked":P,"aria-required":h,"data-state":B0(P),"data-disabled":p?"":void 0,disabled:p,value:g,...v,ref:E,onClick:Ee(s.onClick,T=>{R(_=>!_),w&&(S.current=T.isPropagationStopped(),S.current||T.stopPropagation())})}),w&&a.jsx(q0,{control:b,bubbles:!S.current,name:o,value:g,checked:P,required:h,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});I0.displayName=fc;var z0="SwitchThumb",U0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,d=zT(z0,i);return a.jsx(qe.span,{"data-state":B0(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});U0.displayName=z0;var UT="SwitchBubbleInput",q0=j.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...d},f)=>{const h=j.useRef(null),p=it(h,f),g=Gy(i),m=Oy(r);return j.useEffect(()=>{const x=h.current;if(!x)return;const v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set;if(g!==i&&N){const E=new Event("click",{bubbles:o});N.call(x,i),x.dispatchEvent(E)}},[g,i,o]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:p,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q0.displayName=UT;function B0(s){return s?"checked":"unchecked"}var qT=I0,BT=U0;function zg({className:s,...r}){return a.jsx(qT,{"data-slot":"switch",className:He("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:a.jsx(BT,{"data-slot":"switch-thumb",className:He("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function HT(){const{state:s,actions:r}=yt(),[i,o]=j.useState(null),[d,f]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await r.getItems("notificationSettings");if(b&&b.length>0)o(b[0]);else{const N=Ig();await r.addItem("notificationSettings",N),o(N)}}catch(b){console.error("Error loading notification settings:",b),o(Ig())}},p=async()=>{try{if(f(!0),i.adminPhoneNumber&&!yT(i.adminPhoneNumber)){alert("Please enter a valid 10-digit phone number"),f(!1);return}await r.updateItem("notificationSettings",i),alert("Settings saved successfully!")}catch(b){console.error("Error saving settings:",b),alert("Failed to save settings. Please try again.")}finally{f(!1)}},g=b=>{o({...i,notificationTypes:{...i.notificationTypes,[b]:!i.notificationTypes[b]}})},m=(b,N)=>{o({...i,messageTemplates:{...i.messageTemplates,[b]:{...i.messageTemplates[b],template:N}}})},x=b=>{window.confirm("Reset this template to default?")&&o({...i,messageTemplates:{...i.messageTemplates,[b]:qr[b]}})};if(!i)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading settings..."})});const v={orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order Created",lowStockAlert:"Low Stock Alert"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Rl,{className:"w-8 h-8 text-blue-600"}),"WhatsApp Notifications"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure automated WhatsApp notifications for customers and suppliers"})]}),a.jsxs(ce,{onClick:p,disabled:d,children:[a.jsx(xS,{className:"w-4 h-4 mr-2"}),d?"Saving...":"Save Settings"]})]}),a.jsxs(ql,{defaultValue:"general",className:"w-full",children:[a.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[a.jsx(Ut,{value:"general",children:"General"}),a.jsx(Ut,{value:"types",children:"Notification Types"}),a.jsx(Ut,{value:"templates",children:"Message Templates"})]}),a.jsx(qt,{value:"general",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"General Settings"}),a.jsx(ke,{children:"Configure basic WhatsApp notification settings"})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(te,{className:"text-base font-semibold",children:"Enable WhatsApp Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Turn on/off all WhatsApp notifications"})]}),a.jsx(zg,{checked:i.whatsappEnabled,onCheckedChange:b=>o({...i,whatsappEnabled:b})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Company Name"}),a.jsx(ge,{value:i.companyName,onChange:b=>o({...i,companyName:b.target.value}),placeholder:"Your Company Name"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will appear in notification messages"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Default Country Code"}),a.jsx(ge,{value:i.defaultCountryCode,onChange:b=>o({...i,defaultCountryCode:b.target.value}),placeholder:"977"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Country code for phone numbers (Nepal: 977)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Admin Phone Number"}),a.jsx(ge,{value:i.adminPhoneNumber,onChange:b=>o({...i,adminPhoneNumber:b.target.value}),placeholder:"9800000000"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Phone number for receiving admin notifications (10 digits, without country code)"})]}),a.jsx(de,{className:"bg-blue-50 border-blue-200",children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Yg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How it works"}),a.jsx("p",{className:"text-sm text-blue-800",children:"When an event occurs (like a new order), the system generates a WhatsApp message and adds it to the notification queue. You can then send it with one click, which opens WhatsApp Web/App with the pre-filled message ready to send."})]})]})})})]})]})}),a.jsx(qt,{value:"types",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(be,{children:[a.jsx(Ne,{children:"Notification Types"}),a.jsx(ke,{children:"Enable or disable specific notification types"})]}),a.jsx(ye,{className:"space-y-3",children:Object.keys(v).map(b=>{var N;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(te,{className:"font-medium",children:v[b]}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:((N=qr[b])==null?void 0:N.title)||""})]}),a.jsx(zg,{checked:i.notificationTypes[b],onCheckedChange:()=>g(b)})]},b)})})]})}),a.jsx(qt,{value:"templates",className:"space-y-4",children:Object.keys(qr).map(b=>{var N;return a.jsxs(de,{children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ne,{children:v[b]}),a.jsxs(ke,{children:["Customize the message template. Use ","{variable}"," for dynamic content."]})]}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>x(b),children:"Reset to Default"})]})}),a.jsxs(ye,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Message Template"}),a.jsx(Bt,{value:((N=i.messageTemplates[b])==null?void 0:N.template)||"",onChange:E=>m(b,E.target.value),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(te,{className:"text-sm font-semibold mb-2 block",children:"Available Variables:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:qr[b].variables.map(E=>a.jsx("code",{className:"px-2 py-1 bg-white border rounded text-xs",children:"{"+E+"}"},E))})]})]})]},b)})})]})]})}function FT(){const{state:s,actions:r}=yt(),[i,o]=j.useState([]),[d,f]=j.useState("all"),[h,p]=j.useState("all");j.useEffect(()=>{g()},[]);const g=async()=>{try{const T=(await r.getItems("notificationQueue")||[]).sort((_,A)=>new Date(A.createdAt)-new Date(_.createdAt));o(T)}catch(R){console.error("Error loading notifications:",R),o([])}},m=async R=>{try{jT(R.recipient.phone,R.message),await r.updateItem("notificationQueue",{...R,status:"sent",sentAt:new Date().toISOString()}),await g()}catch(T){console.error("Error sending notification:",T),alert("Failed to send notification. Please try again.")}},x=async R=>{if(window.confirm("Delete this notification?"))try{await r.deleteItem("notificationQueue",R.id),await g()}catch(T){console.error("Error deleting notification:",T),alert("Failed to delete notification. Please try again.")}},v=async()=>{if(window.confirm("Clear all sent notifications?"))try{const R=i.filter(T=>T.status==="sent");for(const T of R)await r.deleteItem("notificationQueue",T.id);await g()}catch(R){console.error("Error clearing sent notifications:",R),alert("Failed to clear notifications. Please try again.")}},b=i.filter(R=>!(d!=="all"&&R.status!==d||h!=="all"&&R.type!==h)),N=i.filter(R=>R.status==="pending").length,E=i.filter(R=>R.status==="sent").length,S=R=>{const T={pending:{variant:"secondary",icon:Mo,label:"Pending"},sent:{variant:"success",icon:ts,label:"Sent"},failed:{variant:"destructive",icon:uf,label:"Failed"}},_=T[R]||T.pending,A=_.icon;return a.jsxs(Pe,{variant:_.variant,className:"flex items-center gap-1",children:[a.jsx(A,{className:"w-3 h-3"}),_.label]})},w=R=>({orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order",lowStockAlert:"Low Stock Alert"})[R]||R,P=R=>new Date(R).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Rl,{className:"w-8 h-8 text-blue-600"}),"Notification Queue"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and send WhatsApp notifications"})]}),E>0&&a.jsxs(ce,{variant:"outline",onClick:v,children:[a.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Clear Sent (",E,")"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(Rl,{className:"w-8 h-8 text-gray-400"})]})})}),a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N})]}),a.jsx(Mo,{className:"w-8 h-8 text-orange-400"})]})})}),a.jsx(de,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),a.jsx(ts,{className:"w-8 h-8 text-green-400"})]})})})]}),a.jsxs(de,{children:[a.jsx(be,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(tS,{className:"w-5 h-5"}),"Filters"]})}),a.jsx(ye,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(nt,{value:d,onValueChange:f,children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Status"}),a.jsx(pe,{value:"pending",children:"Pending"}),a.jsx(pe,{value:"sent",children:"Sent"}),a.jsx(pe,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(nt,{value:h,onValueChange:p,children:[a.jsx(lt,{children:a.jsx(st,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Types"}),a.jsx(pe,{value:"orderConfirmation",children:"Order Confirmation"}),a.jsx(pe,{value:"productionStarted",children:"Production Started"}),a.jsx(pe,{value:"productionCompleted",children:"Production Completed"}),a.jsx(pe,{value:"paymentReminder",children:"Payment Reminder"}),a.jsx(pe,{value:"deliveryScheduled",children:"Delivery Scheduled"}),a.jsx(pe,{value:"orderDelivered",children:"Order Delivered"}),a.jsx(pe,{value:"lowStockAlert",children:"Low Stock Alert"})]})]})]})]})})]}),a.jsx("div",{className:"space-y-4",children:b.length===0?a.jsx(de,{children:a.jsxs(ye,{className:"py-12 text-center",children:[a.jsx(Yg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No notifications found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications will appear here when events occur"})]})}):b.map(R=>a.jsx(de,{className:"hover:shadow-md transition-shadow",children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pe,{variant:"outline",children:w(R.type)}),S(R.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg",children:R.recipient.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",R.recipient.phone]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap font-mono",children:R.message.length>200?R.message.substring(0,200)+"...":R.message})}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created: ",P(R.createdAt)]}),R.sentAt&&a.jsxs("span",{children:["Sent: ",P(R.sentAt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[R.status==="pending"&&a.jsxs(ce,{onClick:()=>m(R),className:"whitespace-nowrap",children:[a.jsx(vS,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),a.jsxs(ce,{variant:"outline",onClick:()=>x(R),children:[a.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})},R.id))})]})}function VT(){const{state:s,auth:r,actions:i}=yt(),{isAuthenticated:o,isLoading:d,currentView:f,company:h,user:p}=s,[g,m]=Da.useState(null);if(Da.useEffect(()=>{r&&(async()=>{try{const v=await r.isFirstTimeSetup();m(v)}catch(v){console.error("Error checking first time setup:",v),m(!1)}})()},[r]),d||g===null)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(g)return a.jsx(Pg,{});if(!o)return a.jsx(IE,{});if(!h)return a.jsx(Pg,{});switch(f){case"dashboard":return a.jsx(Lg,{});case"inventory":return a.jsx(ET,{});case"raw-materials":return a.jsx(TT,{});case"finished-products":return a.jsx(pT,{});case"suppliers":return a.jsx(MT,{});case"customers":return a.jsx(hT,{});case"labour":return a.jsx(AT,{});case"sales":return a.jsx(wT,{});case"purchases":return a.jsx(RT,{});case"financials":return a.jsx(_T,{});case"cleaning":return a.jsx(CT,{});case"orders":return a.jsx(xT,{});case"production":return a.jsx(PT,{});case"reports":return a.jsx(kT,{});case"settings":return a.jsx(QE,{});case"notification-settings":return a.jsx(HT,{});case"notification-queue":return a.jsx(FT,{});default:return a.jsx(Lg,{})}}async function GT(){try{if((await he.getAll("users")).some(f=>f.role==="admin"))return!1;const i={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()},o={id:"default-company",name:"Sofa Factory",address:"Kathmandu, Nepal",phone:"9851234567",email:"info@sofafactory.com",labourManagerName:"Manager",labourManagerPhone:"9841234567",createdAt:new Date().toISOString()},d={id:"default-location",name:"Main Factory",address:"Kathmandu",createdAt:new Date().toISOString()};return await he.add("users",i),await he.update("company","company-profile",o),await he.add("locations",d),console.log("Default admin account created successfully"),!0}catch(s){return console.error("Failed to create default admin:",s),!1}}function YT(){return Da.useEffect(()=>{GT().catch(console.error)},[]),a.jsx(jN,{children:a.jsx(LE,{children:a.jsx(VT,{})})})}xN.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(YT,{})}));
