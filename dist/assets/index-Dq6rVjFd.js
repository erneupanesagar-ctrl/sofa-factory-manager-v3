function rN(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Pg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var vd={exports:{}},Tr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function iN(){if(kx)return Tr;kx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:h,ref:d!==void 0?d:null,props:f}}return Tr.Fragment=r,Tr.jsx=i,Tr.jsxs=i,Tr}var Px;function oN(){return Px||(Px=1,vd.exports=iN()),vd.exports}var a=oN(),jd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function cN(){if(Lx)return Re;Lx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function N(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function P(_,Z,ie){this.props=_,this.context=Z,this.refs=w,this.updater=ie||E}P.prototype.isReactComponent={},P.prototype.setState=function(_,Z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Z,"setState")},P.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function k(){}k.prototype=P.prototype;function D(_,Z,ie){this.props=_,this.context=Z,this.refs=w,this.updater=ie||E}var T=D.prototype=new k;T.constructor=D,S(T,P.prototype),T.isPureReactComponent=!0;var A=Array.isArray;function U(){}var q={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function le(_,Z,ie){var fe=ie.ref;return{$$typeof:s,type:_,key:Z,ref:fe!==void 0?fe:null,props:ie}}function F(_,Z){return le(_.type,Z,_.props)}function G(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function J(_){var Z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ie){return Z[ie]})}var Y=/\/+/g;function H(_,Z){return typeof _=="object"&&_!==null&&_.key!=null?J(""+_.key):Z.toString(36)}function I(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(U,U):(_.status="pending",_.then(function(Z){_.status==="pending"&&(_.status="fulfilled",_.value=Z)},function(Z){_.status==="pending"&&(_.status="rejected",_.reason=Z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function O(_,Z,ie,fe,M){var ne=typeof _;(ne==="undefined"||ne==="boolean")&&(_=null);var te=!1;if(_===null)te=!0;else switch(ne){case"bigint":case"string":case"number":te=!0;break;case"object":switch(_.$$typeof){case s:case r:te=!0;break;case x:return te=_._init,O(te(_._payload),Z,ie,fe,M)}}if(te)return M=M(_),te=fe===""?"."+H(_,0):fe,A(M)?(ie="",te!=null&&(ie=te.replace(Y,"$&/")+"/"),O(M,Z,ie,"",function(Pe){return Pe})):M!=null&&(G(M)&&(M=F(M,ie+(M.key==null||_&&_.key===M.key?"":(""+M.key).replace(Y,"$&/")+"/")+te)),Z.push(M)),1;te=0;var ye=fe===""?".":fe+":";if(A(_))for(var ge=0;ge<_.length;ge++)fe=_[ge],ne=ye+H(fe,ge),te+=O(fe,Z,ie,ne,M);else if(ge=N(_),typeof ge=="function")for(_=ge.call(_),ge=0;!(fe=_.next()).done;)fe=fe.value,ne=ye+H(fe,ge++),te+=O(fe,Z,ie,ne,M);else if(ne==="object"){if(typeof _.then=="function")return O(I(_),Z,ie,fe,M);throw Z=String(_),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return te}function z(_,Z,ie){if(_==null)return _;var fe=[],M=0;return O(_,fe,"","",function(ne){return Z.call(ie,ne,M++)}),fe}function R(_){if(_._status===-1){var Z=_._result;Z=Z(),Z.then(function(ie){(_._status===0||_._status===-1)&&(_._status=1,_._result=ie)},function(ie){(_._status===0||_._status===-1)&&(_._status=2,_._result=ie)}),_._status===-1&&(_._status=0,_._result=Z)}if(_._status===1)return _._result.default;throw _._result}var $=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ce={map:z,forEach:function(_,Z,ie){z(_,function(){Z.apply(this,arguments)},ie)},count:function(_){var Z=0;return z(_,function(){Z++}),Z},toArray:function(_){return z(_,function(Z){return Z})||[]},only:function(_){if(!G(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Re.Activity=v,Re.Children=ce,Re.Component=P,Re.Fragment=i,Re.Profiler=d,Re.PureComponent=D,Re.StrictMode=o,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Re.__COMPILER_RUNTIME={__proto__:null,c:function(_){return q.H.useMemoCache(_)}},Re.cache=function(_){return function(){return _.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(_,Z,ie){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var fe=S({},_.props),M=_.key;if(Z!=null)for(ne in Z.key!==void 0&&(M=""+Z.key),Z)!V.call(Z,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&Z.ref===void 0||(fe[ne]=Z[ne]);var ne=arguments.length-2;if(ne===1)fe.children=ie;else if(1<ne){for(var te=Array(ne),ye=0;ye<ne;ye++)te[ye]=arguments[ye+2];fe.children=te}return le(_.type,M,fe)},Re.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},Re.createElement=function(_,Z,ie){var fe,M={},ne=null;if(Z!=null)for(fe in Z.key!==void 0&&(ne=""+Z.key),Z)V.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(M[fe]=Z[fe]);var te=arguments.length-2;if(te===1)M.children=ie;else if(1<te){for(var ye=Array(te),ge=0;ge<te;ge++)ye[ge]=arguments[ge+2];M.children=ye}if(_&&_.defaultProps)for(fe in te=_.defaultProps,te)M[fe]===void 0&&(M[fe]=te[fe]);return le(_,ne,M)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(_){return{$$typeof:p,render:_}},Re.isValidElement=G,Re.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:R}},Re.memo=function(_,Z){return{$$typeof:m,type:_,compare:Z===void 0?null:Z}},Re.startTransition=function(_){var Z=q.T,ie={};q.T=ie;try{var fe=_(),M=q.S;M!==null&&M(ie,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(U,$)}catch(ne){$(ne)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),q.T=Z}},Re.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Re.use=function(_){return q.H.use(_)},Re.useActionState=function(_,Z,ie){return q.H.useActionState(_,Z,ie)},Re.useCallback=function(_,Z){return q.H.useCallback(_,Z)},Re.useContext=function(_){return q.H.useContext(_)},Re.useDebugValue=function(){},Re.useDeferredValue=function(_,Z){return q.H.useDeferredValue(_,Z)},Re.useEffect=function(_,Z){return q.H.useEffect(_,Z)},Re.useEffectEvent=function(_){return q.H.useEffectEvent(_)},Re.useId=function(){return q.H.useId()},Re.useImperativeHandle=function(_,Z,ie){return q.H.useImperativeHandle(_,Z,ie)},Re.useInsertionEffect=function(_,Z){return q.H.useInsertionEffect(_,Z)},Re.useLayoutEffect=function(_,Z){return q.H.useLayoutEffect(_,Z)},Re.useMemo=function(_,Z){return q.H.useMemo(_,Z)},Re.useOptimistic=function(_,Z){return q.H.useOptimistic(_,Z)},Re.useReducer=function(_,Z,ie){return q.H.useReducer(_,Z,ie)},Re.useRef=function(_){return q.H.useRef(_)},Re.useState=function(_){return q.H.useState(_)},Re.useSyncExternalStore=function(_,Z,ie){return q.H.useSyncExternalStore(_,Z,ie)},Re.useTransition=function(){return q.H.useTransition()},Re.version="19.2.3",Re}var zx;function ef(){return zx||(zx=1,jd.exports=cN()),jd.exports}var j=ef();const wa=Pg(j),tf=rN({__proto__:null,default:wa},[j]);var bd={exports:{}},Mr={},Nd={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function uN(){return Ix||(Ix=1,(function(s){function r(O,z){var R=O.length;O.push(z);e:for(;0<R;){var $=R-1>>>1,ce=O[$];if(0<d(ce,z))O[$]=z,O[R]=ce,R=$;else break e}}function i(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var z=O[0],R=O.pop();if(R!==z){O[0]=R;e:for(var $=0,ce=O.length,_=ce>>>1;$<_;){var Z=2*($+1)-1,ie=O[Z],fe=Z+1,M=O[fe];if(0>d(ie,R))fe<ce&&0>d(M,ie)?(O[$]=M,O[fe]=R,$=fe):(O[$]=ie,O[Z]=R,$=Z);else if(fe<ce&&0>d(M,R))O[$]=M,O[fe]=R,$=fe;else break e}}return z}function d(O,z){var R=O.sortIndex-z.sortIndex;return R!==0?R:O.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,v=null,b=3,N=!1,E=!1,S=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function T(O){for(var z=i(m);z!==null;){if(z.callback===null)o(m);else if(z.startTime<=O)o(m),z.sortIndex=z.expirationTime,r(g,z);else break;z=i(m)}}function A(O){if(S=!1,T(O),!E)if(i(g)!==null)E=!0,U||(U=!0,J());else{var z=i(m);z!==null&&I(A,z.startTime-O)}}var U=!1,q=-1,V=5,le=-1;function F(){return w?!0:!(s.unstable_now()-le<V)}function G(){if(w=!1,U){var O=s.unstable_now();le=O;var z=!0;try{e:{E=!1,S&&(S=!1,k(q),q=-1),N=!0;var R=b;try{t:{for(T(O),v=i(g);v!==null&&!(v.expirationTime>O&&F());){var $=v.callback;if(typeof $=="function"){v.callback=null,b=v.priorityLevel;var ce=$(v.expirationTime<=O);if(O=s.unstable_now(),typeof ce=="function"){v.callback=ce,T(O),z=!0;break t}v===i(g)&&o(g),T(O)}else o(g);v=i(g)}if(v!==null)z=!0;else{var _=i(m);_!==null&&I(A,_.startTime-O),z=!1}}break e}finally{v=null,b=R,N=!1}z=void 0}}finally{z?J():U=!1}}}var J;if(typeof D=="function")J=function(){D(G)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,H=Y.port2;Y.port1.onmessage=G,J=function(){H.postMessage(null)}}else J=function(){P(G,0)};function I(O,z){q=P(function(){O(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var R=b;b=z;try{return O()}finally{b=R}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=b;b=O;try{return z()}finally{b=R}},s.unstable_scheduleCallback=function(O,z,R){var $=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,O){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=R+ce,O={id:x++,callback:z,priorityLevel:O,startTime:R,expirationTime:ce,sortIndex:-1},R>$?(O.sortIndex=R,r(m,O),i(g)===null&&O===i(m)&&(S?(k(q),q=-1):S=!0,I(A,R-$))):(O.sortIndex=ce,r(g,O),E||N||(E=!0,U||(U=!0,J()))),O},s.unstable_shouldYield=F,s.unstable_wrapCallback=function(O){var z=b;return function(){var R=b;b=z;try{return O.apply(this,arguments)}finally{b=R}}}})(Sd)),Sd}var Ux;function dN(){return Ux||(Ux=1,Nd.exports=uN()),Nd.exports}var wd={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function fN(){if(qx)return zt;qx=1;var s=ef();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,zt.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,x)},zt.flushSync=function(g){var m=h.T,x=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=m,o.p=x,o.d.f()}},zt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},zt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},zt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:N}):x==="script"&&o.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},zt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},zt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin);o.d.L(g,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},zt.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},zt.requestFormReset=function(g){o.d.r(g)},zt.unstable_batchedUpdates=function(g,m){return g(m)},zt.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var Bx;function Lg(){if(Bx)return wd.exports;Bx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),wd.exports=fN(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function mN(){if(Hx)return Mr;Hx=1;var s=dN(),r=ef(),i=Lg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return g(c),e;if(u===l)return g(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=u;else{for(var y=!1,C=c.child;C;){if(C===n){y=!0,n=c,l=u;break}if(C===l){y=!0,l=c,n=u;break}C=C.sibling}if(!y){for(C=u.child;C;){if(C===n){y=!0,n=u,l=c;break}if(C===l){y=!0,l=u,n=c;break}C=C.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function H(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case P:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case U:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case D:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:H(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return H(e(t))}catch{}}return null}var I=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},$=[],ce=-1;function _(e){return{current:e}}function Z(e){0>ce||(e.current=$[ce],$[ce]=null,ce--)}function ie(e,t){ce++,$[ce]=e.current,e.current=t}var fe=_(null),M=_(null),ne=_(null),te=_(null);function ye(e,t){switch(ie(ne,t),ie(M,e),ie(fe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nx(t),e=sx(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(fe),ie(fe,e)}function ge(){Z(fe),Z(M),Z(ne)}function Pe(e){e.memoizedState!==null&&ie(te,e);var t=fe.current,n=sx(t,e.type);t!==n&&(ie(M,e),ie(fe,n))}function Be(e){M.current===e&&(Z(fe),Z(M)),te.current===e&&(Z(te),wr._currentValue=R)}var He,Lt;function Ct(e){if(He===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);He=t&&t[1]||"",Lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+e+Lt}var Xa=!1;function Ka(e,t){if(!e||Xa)return"";Xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var W=ee}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(ee){W=ee}e.call(oe.prototype)}}else{try{throw Error()}catch(ee){W=ee}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),y=u[0],C=u[1];if(y&&C){var L=y.split(`
`),K=C.split(`
`);for(c=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;c<K.length&&!K[c].includes("DetermineComponentFrameRoot");)c++;if(l===L.length||c===K.length)for(l=L.length-1,c=K.length-1;1<=l&&0<=c&&L[l]!==K[c];)c--;for(;1<=l&&0<=c;l--,c--)if(L[l]!==K[c]){if(l!==1||c!==1)do if(l--,c--,0>c||L[l]!==K[c]){var se=`
`+L[l].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=l&&0<=c);break}}}finally{Xa=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ct(n):""}function ts(e,t){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct("Lazy");case 13:return e.child!==t&&t!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Ka(e.type,!1);case 11:return Ka(e.type.render,!1);case 1:return Ka(e.type,!0);case 31:return Ct("Activity");default:return""}}function Gr(e){try{var t="",n=null;do t+=ts(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Nn=Object.prototype.hasOwnProperty,lc=s.unstable_scheduleCallback,rc=s.unstable_cancelCallback,I0=s.unstable_shouldYield,U0=s.unstable_requestPaint,ta=s.unstable_now,q0=s.unstable_getCurrentPriorityLevel,Pf=s.unstable_ImmediatePriority,Lf=s.unstable_UserBlockingPriority,Yr=s.unstable_NormalPriority,B0=s.unstable_LowPriority,zf=s.unstable_IdlePriority,H0=s.log,F0=s.unstable_setDisableYieldValue,Ll=null,aa=null;function Sn(e){if(typeof H0=="function"&&F0(e),aa&&typeof aa.setStrictMode=="function")try{aa.setStrictMode(Ll,e)}catch{}}var na=Math.clz32?Math.clz32:Y0,V0=Math.log,G0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(V0(e)/G0|0)|0}var Qr=256,$r=262144,Xr=4194304;function as(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kr(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~u,l!==0?c=as(l):(y&=C,y!==0?c=as(y):n||(n=C&~e,n!==0&&(c=as(n))))):(C=l&~u,C!==0?c=as(C):y!==0?c=as(y):n||(n=l&~e,n!==0&&(c=as(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Q0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(){var e=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),e}function ic(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $0(e,t,n,l,c,u){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,K=e.hiddenUpdates;for(n=y&~n;0<n;){var se=31-na(n),oe=1<<se;C[se]=0,L[se]=-1;var W=K[se];if(W!==null)for(K[se]=null,se=0;se<W.length;se++){var ee=W[se];ee!==null&&(ee.lane&=-536870913)}n&=~oe}l!==0&&Uf(e,l,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~t))}function Uf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-na(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-na(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function Bf(e,t){var n=t&-t;return n=(n&42)!==0?1:oc(n),(n&(e.suspendedLanes|t))!==0?0:n}function oc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hf(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:Ex(e.type))}function Ff(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var wn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+wn,Yt="__reactProps$"+wn,ks="__reactContainer$"+wn,uc="__reactEvents$"+wn,X0="__reactListeners$"+wn,K0="__reactHandles$"+wn,Vf="__reactResources$"+wn,Ul="__reactMarker$"+wn;function dc(e){delete e[Tt],delete e[Yt],delete e[uc],delete e[X0],delete e[K0]}function Ps(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ks]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dx(e);e!==null;){if(n=e[Tt])return n;e=dx(e)}return t}e=n,n=e.parentNode}return null}function Ls(e){if(e=e[Tt]||e[ks]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function zs(e){var t=e[Vf];return t||(t=e[Vf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[Ul]=!0}var Gf=new Set,Yf={};function ns(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(Yf[e]=t,e=0;e<t.length;e++)Gf.add(t[e])}var Z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qf={},$f={};function W0(e){return Nn.call($f,e)?!0:Nn.call(Qf,e)?!1:Z0.test(e)?$f[e]=!0:(Qf[e]=!0,!1)}function Zr(e,t,n){if(W0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Wr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Za(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function ma(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J0(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,u.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=Xf(e)?"checked":"value";e._valueTracker=J0(e,t,""+e[t])}}function Kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Xf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ej=/[\n"\\]/g;function ha(e){return e.replace(ej,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mc(e,t,n,l,c,u,y,C){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ma(t)):e.value!==""+ma(t)&&(e.value=""+ma(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?hc(e,y,ma(t)):n!=null?hc(e,y,ma(n)):l!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+ma(C):e.removeAttribute("name")}function Zf(e,t,n,l,c,u,y,C){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){fc(e);return}n=n!=null?""+ma(n):"",t=t!=null?""+ma(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),fc(e)}function hc(e,t,n){t==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Us(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+ma(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Wf(e,t,n){if(t!=null&&(t=""+ma(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ma(n):""}function Jf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(I(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=ma(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),fc(e)}function qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function em(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||tj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tm(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&em(e,c,l)}else for(var u in t)t.hasOwnProperty(u)&&em(e,u,t[u])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return nj.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wa(){}var xc=null;function gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bs=null,Hs=null;function am(e){var t=Ls(e);if(t&&(e=t.stateNode)){var n=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ha(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Yt]||null;if(!c)throw Error(o(90));mc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kf(l)}break e;case"textarea":Wf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Us(e,!!n.multiple,t,!1)}}}var yc=!1;function nm(e,t,n){if(yc)return e(t,n);yc=!0;try{var l=e(t);return l}finally{if(yc=!1,(Bs!==null||Hs!==null)&&(Bi(),Bs&&(t=Bs,e=Hs,Hs=Bs=null,am(t),e)))for(t=0;t<e.length;t++)am(e[t])}}function Bl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(Ja)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{vc=!1}var Cn=null,jc=null,ti=null;function sm(){if(ti)return ti;var e,t=jc,n=t.length,l,c="value"in Cn?Cn.value:Cn.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[u-l];l++);return ti=c.slice(e,1<l?1-l:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function lm(){return!1}function Qt(e){function t(n,l,c,u,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ni:lm,this.isPropagationStopped=lm,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Qt(ss),Fl=v({},ss,{view:0,detail:0}),sj=Qt(Fl),bc,Nc,Vl,li=v({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(bc=e.screenX-Vl.screenX,Nc=e.screenY-Vl.screenY):Nc=bc=0,Vl=e),bc)},movementY:function(e){return"movementY"in e?e.movementY:Nc}}),rm=Qt(li),lj=v({},li,{dataTransfer:0}),rj=Qt(lj),ij=v({},Fl,{relatedTarget:0}),Sc=Qt(ij),oj=v({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),cj=Qt(oj),uj=v({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dj=Qt(uj),fj=v({},ss,{data:0}),im=Qt(fj),mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pj[e])?!!t[e]:!1}function wc(){return xj}var gj=v({},Fl,{key:function(e){if(e.key){var t=mj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yj=Qt(gj),vj=v({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=Qt(vj),jj=v({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),bj=Qt(jj),Nj=v({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sj=Qt(Nj),wj=v({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cj=Qt(wj),Aj=v({},ss,{newState:0,oldState:0}),Ej=Qt(Aj),Tj=[9,13,27,32],Cc=Ja&&"CompositionEvent"in window,Gl=null;Ja&&"documentMode"in document&&(Gl=document.documentMode);var Mj=Ja&&"TextEvent"in window&&!Gl,cm=Ja&&(!Cc||Gl&&8<Gl&&11>=Gl),um=" ",dm=!1;function fm(e,t){switch(e){case"keyup":return Tj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function Dj(e,t){switch(e){case"compositionend":return mm(t);case"keypress":return t.which!==32?null:(dm=!0,um);case"textInput":return e=t.data,e===um&&dm?null:e;default:return null}}function Oj(e,t){if(Fs)return e==="compositionend"||!Cc&&fm(e,t)?(e=sm(),ti=jc=Cn=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cm&&t.locale!=="ko"?null:t.data;default:return null}}var _j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_j[e.type]:t==="textarea"}function pm(e,t,n,l){Bs?Hs?Hs.push(l):Hs=[l]:Bs=l,t=$i(t,"onChange"),0<t.length&&(n=new si("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Yl=null,Ql=null;function Rj(e){Zp(e,0)}function ri(e){var t=ql(e);if(Kf(t))return e}function xm(e,t){if(e==="change")return t}var gm=!1;if(Ja){var Ac;if(Ja){var Ec="oninput"in document;if(!Ec){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Ec=typeof ym.oninput=="function"}Ac=Ec}else Ac=!1;gm=Ac&&(!document.documentMode||9<document.documentMode)}function vm(){Yl&&(Yl.detachEvent("onpropertychange",jm),Ql=Yl=null)}function jm(e){if(e.propertyName==="value"&&ri(Ql)){var t=[];pm(t,Ql,e,gc(e)),nm(Rj,t)}}function kj(e,t,n){e==="focusin"?(vm(),Yl=t,Ql=n,Yl.attachEvent("onpropertychange",jm)):e==="focusout"&&vm()}function Pj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(Ql)}function Lj(e,t){if(e==="click")return ri(t)}function zj(e,t){if(e==="input"||e==="change")return ri(t)}function Ij(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:Ij;function $l(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Nn.call(t,c)||!sa(e[c],t[c]))return!1}return!0}function bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nm(e,t){var n=bm(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function Sm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jr(e.document)}return t}function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Uj=Ja&&"documentMode"in document&&11>=document.documentMode,Vs=null,Mc=null,Xl=null,Dc=!1;function Cm(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dc||Vs==null||Vs!==Jr(l)||(l=Vs,"selectionStart"in l&&Tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&$l(Xl,l)||(Xl=l,l=$i(Mc,"onSelect"),0<l.length&&(t=new si("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Vs)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Oc={},Am={};Ja&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function rs(e){if(Oc[e])return Oc[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Am)return Oc[e]=t[n];return e}var Em=rs("animationend"),Tm=rs("animationiteration"),Mm=rs("animationstart"),qj=rs("transitionrun"),Bj=rs("transitionstart"),Hj=rs("transitioncancel"),Dm=rs("transitionend"),Om=new Map,_c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_c.push("scrollEnd");function Aa(e,t){Om.set(e,t),ns(t,[e])}var ii=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pa=[],Ys=0,Rc=0;function oi(){for(var e=Ys,t=Rc=Ys=0;t<e;){var n=pa[t];pa[t++]=null;var l=pa[t];pa[t++]=null;var c=pa[t];pa[t++]=null;var u=pa[t];if(pa[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}u!==0&&_m(n,c,u)}}function ci(e,t,n,l){pa[Ys++]=e,pa[Ys++]=t,pa[Ys++]=n,pa[Ys++]=l,Rc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function kc(e,t,n,l){return ci(e,t,n,l),ui(e)}function is(e,t){return ci(e,null,null,t),ui(e)}function _m(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-na(n),e=u.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),u):null}function ui(e){if(50<gr)throw gr=0,Fu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qs={};function Fj(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,n,l){return new Fj(e,t,n,l)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,t){var n=e.alternate;return n===null?(n=la(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function di(e,t,n,l,c,u){var y=0;if(l=e,typeof e=="function")Pc(e)&&(y=1);else if(typeof e=="string")y=$b(e,n,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=la(31,n,t,c),e.elementType=le,e.lanes=u,e;case S:return os(n.children,c,u,t);case w:y=8,c|=24;break;case P:return e=la(12,n,t,c|2),e.elementType=P,e.lanes=u,e;case A:return e=la(13,n,t,c),e.elementType=A,e.lanes=u,e;case U:return e=la(19,n,t,c),e.elementType=U,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case k:y=9;break e;case T:y=11;break e;case q:y=14;break e;case V:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=la(y,n,t,c),t.elementType=e,t.type=l,t.lanes=u,t}function os(e,t,n,l){return e=la(7,e,l,t),e.lanes=n,e}function Lc(e,t,n){return e=la(6,e,null,t),e.lanes=n,e}function km(e){var t=la(18,null,null,0);return t.stateNode=e,t}function zc(e,t,n){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pm=new WeakMap;function xa(e,t){if(typeof e=="object"&&e!==null){var n=Pm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Gr(t)},Pm.set(e,t),t)}return{value:e,source:t,stack:Gr(t)}}var $s=[],Xs=0,fi=null,Kl=0,ga=[],ya=0,An=null,Pa=1,La="";function tn(e,t){$s[Xs++]=Kl,$s[Xs++]=fi,fi=e,Kl=t}function Lm(e,t,n){ga[ya++]=Pa,ga[ya++]=La,ga[ya++]=An,An=e;var l=Pa;e=La;var c=32-na(l)-1;l&=~(1<<c),n+=1;var u=32-na(t)+c;if(30<u){var y=c-c%5;u=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Pa=1<<32-na(t)+c|n<<c|l,La=u+e}else Pa=1<<u|n<<c|l,La=e}function Ic(e){e.return!==null&&(tn(e,1),Lm(e,1,0))}function Uc(e){for(;e===fi;)fi=$s[--Xs],$s[Xs]=null,Kl=$s[--Xs],$s[Xs]=null;for(;e===An;)An=ga[--ya],ga[ya]=null,La=ga[--ya],ga[ya]=null,Pa=ga[--ya],ga[ya]=null}function zm(e,t){ga[ya++]=Pa,ga[ya++]=La,ga[ya++]=An,Pa=t.id,La=t.overflow,An=e}var Mt=null,ut=null,Qe=!1,En=null,va=!1,qc=Error(o(519));function Tn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(xa(t,e)),qc}function Im(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Tt]=e,t[Yt]=l,n){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(n=0;n<vr.length;n++)Ve(vr[n],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),Zf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),Jf(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||tx(t.textContent,n)?(l.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),l.onScroll!=null&&Ve("scroll",t),l.onScrollEnd!=null&&Ve("scrollend",t),l.onClick!=null&&(t.onclick=Wa),t=!0):t=!1,t||Tn(e,!0)}function Um(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:va=!1;return;case 27:case 3:va=!0;return;default:Mt=Mt.return}}function Ks(e){if(e!==Mt)return!1;if(!Qe)return Um(e),Qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sd(e.type,e.memoizedProps)),n=!n),n&&ut&&Tn(e),Um(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ut=ux(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ut=ux(e)}else t===27?(t=ut,Hn(e.type)?(e=cd,cd=null,ut=e):ut=t):ut=Mt?ba(e.stateNode.nextSibling):null;return!0}function cs(){ut=Mt=null,Qe=!1}function Bc(){var e=En;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),En=null),e}function Zl(e){En===null?En=[e]:En.push(e)}var Hc=_(null),us=null,an=null;function Mn(e,t,n){ie(Hc,t._currentValue),t._currentValue=n}function nn(e){e._currentValue=Hc.current,Z(Hc)}function Fc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Vc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var C=u;u=c;for(var L=0;L<t.length;L++)if(C.context===t[L]){u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),Fc(u.return,n,e),l||(y=null);break e}u=C.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,u=y.alternate,u!==null&&(u.lanes|=n),Fc(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(e,t,n,l){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var C=c.type;sa(c.pendingProps.value,y.value)||(e!==null?e.push(C):e=[C])}}else if(c===te.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wr):e=[wr])}c=c.return}e!==null&&Vc(t,e,n,l),t.flags|=262144}function mi(e){for(e=e.firstContext;e!==null;){if(!sa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){us=e,an=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return qm(us,e)}function hi(e,t){return us===null&&ds(e),qm(e,t)}function qm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},an===null){if(e===null)throw Error(o(308));an=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else an=an.next=t;return n}var Vj=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gj=s.unstable_scheduleCallback,Yj=s.unstable_NormalPriority,vt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new Vj,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&Gj(Yj,function(){e.controller.abort()})}var Jl=null,Yc=0,Ws=0,Js=null;function Qj(e,t){if(Jl===null){var n=Jl=[];Yc=0,Ws=Xu(),Js={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Yc++,t.then(Bm,Bm),t}function Bm(){if(--Yc===0&&Jl!==null){Js!==null&&(Js.status="fulfilled");var e=Jl;Jl=null,Ws=0,Js=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $j(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Hm=O.S;O.S=function(e,t){Cp=ta(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qj(e,t),Hm!==null&&Hm(e,t)};var fs=_(null);function Qc(){var e=fs.current;return e!==null?e:ct.pooledCache}function pi(e,t){t===null?ie(fs,fs.current):ie(fs,t.pool)}function Fm(){var e=Qc();return e===null?null:{parent:vt._currentValue,pool:e}}var el=Error(o(460)),$c=Error(o(474)),xi=Error(o(542)),gi={then:function(){}};function Vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wa,Wa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qm(e),e;default:if(typeof t.status=="string")t.then(Wa,Wa);else{if(e=ct,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qm(e),e}throw hs=t,el}}function ms(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(hs=n,el):n}}var hs=null;function Ym(){if(hs===null)throw Error(o(459));var e=hs;return hs=null,e}function Qm(e){if(e===el||e===xi)throw Error(o(483))}var tl=null,er=0;function yi(e){var t=er;return er+=1,tl===null&&(tl=[]),Gm(tl,e,t)}function tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vi(e,t){throw t.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $m(e){function t(Q,B){if(e){var X=Q.deletions;X===null?(Q.deletions=[B],Q.flags|=16):X.push(B)}}function n(Q,B){if(!e)return null;for(;B!==null;)t(Q,B),B=B.sibling;return null}function l(Q){for(var B=new Map;Q!==null;)Q.key!==null?B.set(Q.key,Q):B.set(Q.index,Q),Q=Q.sibling;return B}function c(Q,B){return Q=en(Q,B),Q.index=0,Q.sibling=null,Q}function u(Q,B,X){return Q.index=X,e?(X=Q.alternate,X!==null?(X=X.index,X<B?(Q.flags|=67108866,B):X):(Q.flags|=67108866,B)):(Q.flags|=1048576,B)}function y(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function C(Q,B,X,re){return B===null||B.tag!==6?(B=Lc(X,Q.mode,re),B.return=Q,B):(B=c(B,X),B.return=Q,B)}function L(Q,B,X,re){var Ee=X.type;return Ee===S?se(Q,B,X.props.children,re,X.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===V&&ms(Ee)===B.type)?(B=c(B,X.props),tr(B,X),B.return=Q,B):(B=di(X.type,X.key,X.props,null,Q.mode,re),tr(B,X),B.return=Q,B)}function K(Q,B,X,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=zc(X,Q.mode,re),B.return=Q,B):(B=c(B,X.children||[]),B.return=Q,B)}function se(Q,B,X,re,Ee){return B===null||B.tag!==7?(B=os(X,Q.mode,re,Ee),B.return=Q,B):(B=c(B,X),B.return=Q,B)}function oe(Q,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Lc(""+B,Q.mode,X),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return X=di(B.type,B.key,B.props,null,Q.mode,X),tr(X,B),X.return=Q,X;case E:return B=zc(B,Q.mode,X),B.return=Q,B;case V:return B=ms(B),oe(Q,B,X)}if(I(B)||J(B))return B=os(B,Q.mode,X,null),B.return=Q,B;if(typeof B.then=="function")return oe(Q,yi(B),X);if(B.$$typeof===D)return oe(Q,hi(Q,B),X);vi(Q,B)}return null}function W(Q,B,X,re){var Ee=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:C(Q,B,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return X.key===Ee?L(Q,B,X,re):null;case E:return X.key===Ee?K(Q,B,X,re):null;case V:return X=ms(X),W(Q,B,X,re)}if(I(X)||J(X))return Ee!==null?null:se(Q,B,X,re,null);if(typeof X.then=="function")return W(Q,B,yi(X),re);if(X.$$typeof===D)return W(Q,B,hi(Q,X),re);vi(Q,X)}return null}function ee(Q,B,X,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get(X)||null,C(B,Q,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return Q=Q.get(re.key===null?X:re.key)||null,L(B,Q,re,Ee);case E:return Q=Q.get(re.key===null?X:re.key)||null,K(B,Q,re,Ee);case V:return re=ms(re),ee(Q,B,X,re,Ee)}if(I(re)||J(re))return Q=Q.get(X)||null,se(B,Q,re,Ee,null);if(typeof re.then=="function")return ee(Q,B,X,yi(re),Ee);if(re.$$typeof===D)return ee(Q,B,X,hi(B,re),Ee);vi(B,re)}return null}function Ne(Q,B,X,re){for(var Ee=null,Ke=null,Ce=B,ze=B=0,Ye=null;Ce!==null&&ze<X.length;ze++){Ce.index>ze?(Ye=Ce,Ce=null):Ye=Ce.sibling;var Ze=W(Q,Ce,X[ze],re);if(Ze===null){Ce===null&&(Ce=Ye);break}e&&Ce&&Ze.alternate===null&&t(Q,Ce),B=u(Ze,B,ze),Ke===null?Ee=Ze:Ke.sibling=Ze,Ke=Ze,Ce=Ye}if(ze===X.length)return n(Q,Ce),Qe&&tn(Q,ze),Ee;if(Ce===null){for(;ze<X.length;ze++)Ce=oe(Q,X[ze],re),Ce!==null&&(B=u(Ce,B,ze),Ke===null?Ee=Ce:Ke.sibling=Ce,Ke=Ce);return Qe&&tn(Q,ze),Ee}for(Ce=l(Ce);ze<X.length;ze++)Ye=ee(Ce,Q,ze,X[ze],re),Ye!==null&&(e&&Ye.alternate!==null&&Ce.delete(Ye.key===null?ze:Ye.key),B=u(Ye,B,ze),Ke===null?Ee=Ye:Ke.sibling=Ye,Ke=Ye);return e&&Ce.forEach(function(Qn){return t(Q,Qn)}),Qe&&tn(Q,ze),Ee}function Te(Q,B,X,re){if(X==null)throw Error(o(151));for(var Ee=null,Ke=null,Ce=B,ze=B=0,Ye=null,Ze=X.next();Ce!==null&&!Ze.done;ze++,Ze=X.next()){Ce.index>ze?(Ye=Ce,Ce=null):Ye=Ce.sibling;var Qn=W(Q,Ce,Ze.value,re);if(Qn===null){Ce===null&&(Ce=Ye);break}e&&Ce&&Qn.alternate===null&&t(Q,Ce),B=u(Qn,B,ze),Ke===null?Ee=Qn:Ke.sibling=Qn,Ke=Qn,Ce=Ye}if(Ze.done)return n(Q,Ce),Qe&&tn(Q,ze),Ee;if(Ce===null){for(;!Ze.done;ze++,Ze=X.next())Ze=oe(Q,Ze.value,re),Ze!==null&&(B=u(Ze,B,ze),Ke===null?Ee=Ze:Ke.sibling=Ze,Ke=Ze);return Qe&&tn(Q,ze),Ee}for(Ce=l(Ce);!Ze.done;ze++,Ze=X.next())Ze=ee(Ce,Q,ze,Ze.value,re),Ze!==null&&(e&&Ze.alternate!==null&&Ce.delete(Ze.key===null?ze:Ze.key),B=u(Ze,B,ze),Ke===null?Ee=Ze:Ke.sibling=Ze,Ke=Ze);return e&&Ce.forEach(function(lN){return t(Q,lN)}),Qe&&tn(Q,ze),Ee}function ot(Q,B,X,re){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case N:e:{for(var Ee=X.key;B!==null;){if(B.key===Ee){if(Ee=X.type,Ee===S){if(B.tag===7){n(Q,B.sibling),re=c(B,X.props.children),re.return=Q,Q=re;break e}}else if(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===V&&ms(Ee)===B.type){n(Q,B.sibling),re=c(B,X.props),tr(re,X),re.return=Q,Q=re;break e}n(Q,B);break}else t(Q,B);B=B.sibling}X.type===S?(re=os(X.props.children,Q.mode,re,X.key),re.return=Q,Q=re):(re=di(X.type,X.key,X.props,null,Q.mode,re),tr(re,X),re.return=Q,Q=re)}return y(Q);case E:e:{for(Ee=X.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){n(Q,B.sibling),re=c(B,X.children||[]),re.return=Q,Q=re;break e}else{n(Q,B);break}else t(Q,B);B=B.sibling}re=zc(X,Q.mode,re),re.return=Q,Q=re}return y(Q);case V:return X=ms(X),ot(Q,B,X,re)}if(I(X))return Ne(Q,B,X,re);if(J(X)){if(Ee=J(X),typeof Ee!="function")throw Error(o(150));return X=Ee.call(X),Te(Q,B,X,re)}if(typeof X.then=="function")return ot(Q,B,yi(X),re);if(X.$$typeof===D)return ot(Q,B,hi(Q,X),re);vi(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(n(Q,B.sibling),re=c(B,X),re.return=Q,Q=re):(n(Q,B),re=Lc(X,Q.mode,re),re.return=Q,Q=re),y(Q)):n(Q,B)}return function(Q,B,X,re){try{er=0;var Ee=ot(Q,B,X,re);return tl=null,Ee}catch(Ce){if(Ce===el||Ce===xi)throw Ce;var Ke=la(29,Ce,null,Q.mode);return Ke.lanes=re,Ke.return=Q,Ke}finally{}}}var ps=$m(!0),Xm=$m(!1),Dn=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=ui(e),_m(e,null,n),t}return ci(e,l,t,n),ui(e)}function ar(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,qf(e,n)}}function Zc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wc=!1;function nr(){if(Wc){var e=Js;if(e!==null)throw e}}function sr(e,t,n,l){Wc=!1;var c=e.updateQueue;Dn=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var L=C,K=L.next;L.next=null,y===null?u=K:y.next=K,y=L;var se=e.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==y&&(C===null?se.firstBaseUpdate=K:C.next=K,se.lastBaseUpdate=L))}if(u!==null){var oe=c.baseState;y=0,se=K=L=null,C=u;do{var W=C.lane&-536870913,ee=W!==C.lane;if(ee?(Ge&W)===W:(l&W)===W){W!==0&&W===Ws&&(Wc=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ne=e,Te=C;W=t;var ot=n;switch(Te.tag){case 1:if(Ne=Te.payload,typeof Ne=="function"){oe=Ne.call(ot,oe,W);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Te.payload,W=typeof Ne=="function"?Ne.call(ot,oe,W):Ne,W==null)break e;oe=v({},oe,W);break e;case 2:Dn=!0}}W=C.callback,W!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=c.callbacks,ee===null?c.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(K=se=ee,L=oe):se=se.next=ee,y|=W;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,c.lastBaseUpdate=ee,c.shared.pending=null}}while(!0);se===null&&(L=oe),c.baseState=L,c.firstBaseUpdate=K,c.lastBaseUpdate=se,u===null&&(c.shared.lanes=0),zn|=y,e.lanes=y,e.memoizedState=oe}}function Km(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Zm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Km(n[e],t)}var al=_(null),ji=_(0);function Wm(e,t){e=mn,ie(ji,e),ie(al,t),mn=e|t.baseLanes}function Jc(){ie(ji,mn),ie(al,al.current)}function eu(){mn=ji.current,Z(al),Z(ji)}var ra=_(null),ja=null;function Rn(e){var t=e.alternate;ie(gt,gt.current&1),ie(ra,e),ja===null&&(t===null||al.current!==null||t.memoizedState!==null)&&(ja=e)}function tu(e){ie(gt,gt.current),ie(ra,e),ja===null&&(ja=e)}function Jm(e){e.tag===22?(ie(gt,gt.current),ie(ra,e),ja===null&&(ja=e)):kn()}function kn(){ie(gt,gt.current),ie(ra,ra.current)}function ia(e){Z(ra),ja===e&&(ja=null),Z(gt)}var gt=_(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||id(n)||od(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sn=0,Le=null,rt=null,jt=null,Ni=!1,nl=!1,xs=!1,Si=0,lr=0,sl=null,Xj=0;function pt(){throw Error(o(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sa(e[n],t[n]))return!1;return!0}function nu(e,t,n,l,c,u){return sn=u,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Lh:yu,xs=!1,u=n(l,c),xs=!1,nl&&(u=th(t,n,l,c)),eh(e),u}function eh(e){O.H=or;var t=rt!==null&&rt.next!==null;if(sn=0,jt=rt=Le=null,Ni=!1,lr=0,sl=null,t)throw Error(o(300));e===null||bt||(e=e.dependencies,e!==null&&mi(e)&&(bt=!0))}function th(e,t,n,l){Le=e;var c=0;do{if(nl&&(sl=null),lr=0,nl=!1,25<=c)throw Error(o(301));if(c+=1,jt=rt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=zh,u=t(n,l)}while(nl);return u}function Kj(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(Le.flags|=1024),t}function su(){var e=Si!==0;return Si=0,e}function lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ru(e){if(Ni){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ni=!1}sn=0,jt=rt=Le=null,nl=!1,lr=Si=0,sl=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=e:jt=jt.next=e,jt}function yt(){if(rt===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=jt===null?Le.memoizedState:jt.next;if(t!==null)jt=t,rt=e;else{if(e===null)throw Le.alternate===null?Error(o(467)):Error(o(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},jt===null?Le.memoizedState=jt=e:jt=jt.next=e}return jt}function wi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=lr;return lr+=1,sl===null&&(sl=[]),e=Gm(sl,e,t),t=Le,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Lh:yu),e}function Ci(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===D)return Dt(e)}throw Error(o(438,String(e)))}function iu(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wi(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=F;return t.index++,n}function ln(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=yt();return ou(t,rt,e)}function ou(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,u=l.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}t.baseQueue=c=u,l.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var C=y=null,L=null,K=t,se=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Ge&oe)===oe:(sn&oe)===oe){var W=K.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===Ws&&(se=!0);else if((sn&W)===W){K=K.next,W===Ws&&(se=!0);continue}else oe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=oe,y=u):L=L.next=oe,Le.lanes|=W,zn|=W;oe=K.action,xs&&n(u,oe),u=K.hasEagerState?K.eagerState:n(u,oe)}else W={lane:oe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=W,y=u):L=L.next=W,Le.lanes|=oe,zn|=oe;K=K.next}while(K!==null&&K!==t);if(L===null?y=u:L.next=C,!sa(u,e.memoizedState)&&(bt=!0,se&&(n=Js,n!==null)))throw n;e.memoizedState=u,e.baseState=y,e.baseQueue=L,l.lastRenderedState=u}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cu(e){var t=yt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);sa(u,t.memoizedState)||(bt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function ah(e,t,n){var l=Le,c=yt(),u=Qe;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!sa((rt||c).memoizedState,n);if(y&&(c.memoizedState=n,bt=!0),c=c.queue,fu(lh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,ll(9,{destroy:void 0},sh.bind(null,l,c,n,t),null),ct===null)throw Error(o(349));u||(sn&127)!==0||nh(l,t,n)}return n}function nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=wi(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sh(e,t,n,l){t.value=n,t.getSnapshot=l,rh(t)&&ih(e)}function lh(e,t,n){return n(function(){rh(t)&&ih(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sa(e,n)}catch{return!0}}function ih(e){var t=is(e,2);t!==null&&Wt(t,e,2)}function uu(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),xs){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function oh(e,t,n,l){return e.baseState=n,ou(e,rt,typeof l=="function"?l:ln)}function Zj(e,t,n,l,c){if(Mi(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};O.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,ch(t,u)):(u.next=n.next,t.pending=n.next=u)}}function ch(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var u=O.T,y={};O.T=y;try{var C=n(c,l),L=O.S;L!==null&&L(y,C),uh(e,t,C)}catch(K){du(e,t,K)}finally{u!==null&&y.types!==null&&(u.types=y.types),O.T=u}}else try{u=n(c,l),uh(e,t,u)}catch(K){du(e,t,K)}}function uh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){dh(e,t,l)},function(l){return du(e,t,l)}):dh(e,t,n)}function dh(e,t,n){t.status="fulfilled",t.value=n,fh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ch(e,n)))}function du(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,fh(t),t=t.next;while(t!==l)}e.action=null}function fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function hh(e,t){if(Qe){var n=ct.formState;if(n!==null){e:{var l=Le;if(Qe){if(ut){t:{for(var c=ut,u=va;c.nodeType!==8;){if(!u){c=null;break t}if(c=ba(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){ut=ba(c.nextSibling),l=c.data==="F!";break e}}Tn(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},n.queue=l,n=Rh.bind(null,Le,l),l.dispatch=n,l=uu(!1),u=gu.bind(null,Le,!1,l.queue),l=Vt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=Zj.bind(null,Le,c,u,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ph(e){var t=yt();return xh(t,rt,e)}function xh(e,t,n){if(t=ou(e,t,mh)[0],e=Ai(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=rr(t)}catch(y){throw y===el?xi:y}else l=t;t=yt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,ll(9,{destroy:void 0},Wj.bind(null,c,n),null)),[l,u,e]}function Wj(e,t){e.action=t}function gh(e){var t=yt(),n=rt;if(n!==null)return xh(t,n,e);yt(),t=t.memoizedState,n=yt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function ll(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=wi(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function yh(){return yt().memoizedState}function Ei(e,t,n,l){var c=Vt();Le.flags|=e,c.memoizedState=ll(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ti(e,t,n,l){var c=yt();l=l===void 0?null:l;var u=c.memoizedState.inst;rt!==null&&l!==null&&au(l,rt.memoizedState.deps)?c.memoizedState=ll(t,u,n,l):(Le.flags|=e,c.memoizedState=ll(1|t,u,n,l))}function vh(e,t){Ei(8390656,8,e,t)}function fu(e,t){Ti(2048,8,e,t)}function Jj(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=wi(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function jh(e){var t=yt().memoizedState;return Jj({ref:t,nextImpl:e}),function(){if((We&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function bh(e,t){return Ti(4,2,e,t)}function Nh(e,t){return Ti(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,n){n=n!=null?n.concat([e]):null,Ti(4,4,Sh.bind(null,t,e),n)}function mu(){}function Ch(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&au(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ah(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&au(t,l[1]))return l[0];if(l=e(),xs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l}function hu(e,t,n){return n===void 0||(sn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ep(),Le.lanes|=e,zn|=e,n)}function Eh(e,t,n,l){return sa(n,t)?n:al.current!==null?(e=hu(e,n,l),sa(e,t)||(bt=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(Ge&261930)===0?(bt=!0,e.memoizedState=n):(e=Ep(),Le.lanes|=e,zn|=e,t)}function Th(e,t,n,l,c){var u=z.p;z.p=u!==0&&8>u?u:8;var y=O.T,C={};O.T=C,gu(e,!1,t,n);try{var L=c(),K=O.S;if(K!==null&&K(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=$j(L,l);ir(e,t,se,ua(e))}else ir(e,t,l,ua(e))}catch(oe){ir(e,t,{then:function(){},status:"rejected",reason:oe},ua())}finally{z.p=u,y!==null&&C.types!==null&&(y.types=C.types),O.T=y}}function eb(){}function pu(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=Mh(e).queue;Th(e,c,t,R,n===null?eb:function(){return Dh(e),n(l)})}function Mh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dh(e){var t=Mh(e);t.next===null&&(t=e.alternate.memoizedState),ir(e,t.next.queue,{},ua())}function xu(){return Dt(wr)}function Oh(){return yt().memoizedState}function _h(){return yt().memoizedState}function tb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ua();e=On(n);var l=_n(t,e,n);l!==null&&(Wt(l,t,n),ar(l,t,n)),t={cache:Gc()},e.payload=t;return}t=t.return}}function ab(e,t,n){var l=ua();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Mi(e)?kh(t,n):(n=kc(e,t,n,l),n!==null&&(Wt(n,e,l),Ph(n,t,l)))}function Rh(e,t,n){var l=ua();ir(e,t,n,l)}function ir(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mi(e))kh(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var y=t.lastRenderedState,C=u(y,n);if(c.hasEagerState=!0,c.eagerState=C,sa(C,y))return ci(e,t,c,0),ct===null&&oi(),!1}catch{}finally{}if(n=kc(e,t,c,l),n!==null)return Wt(n,e,l),Ph(n,t,l),!0}return!1}function gu(e,t,n,l){if(l={lane:2,revertLane:Xu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mi(e)){if(t)throw Error(o(479))}else t=kc(e,n,l,2),t!==null&&Wt(t,e,2)}function Mi(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function kh(e,t){nl=Ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ph(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,qf(e,n)}}var or={readContext:Dt,use:Ci,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};or.useEffectEvent=pt;var Lh={readContext:Dt,use:Ci,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:vh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ei(4194308,4,Sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){Ei(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(xs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var c=n(t);if(xs){Sn(!0);try{n(t)}finally{Sn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=ab.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,n=Rh.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mu,useDeferredValue:function(e,t){var n=Vt();return hu(n,e,t)},useTransition:function(){var e=uu(!1);return e=Th.bind(null,Le,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,c=Vt();if(Qe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ct===null)throw Error(o(349));(Ge&127)!==0||nh(l,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,vh(lh.bind(null,l,u,e),[e]),l.flags|=2048,ll(9,{destroy:void 0},sh.bind(null,l,u,n,t),null),n},useId:function(){var e=Vt(),t=ct.identifierPrefix;if(Qe){var n=La,l=Pa;n=(l&~(1<<32-na(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Si++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Xj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xu,useFormState:hh,useActionState:hh,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gu.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:iu,useCacheRefresh:function(){return Vt().memoizedState=tb.bind(null,Le)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if((We&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},yu={readContext:Dt,use:Ci,useCallback:Ch,useContext:Dt,useEffect:fu,useImperativeHandle:wh,useInsertionEffect:bh,useLayoutEffect:Nh,useMemo:Ah,useReducer:Ai,useRef:yh,useState:function(){return Ai(ln)},useDebugValue:mu,useDeferredValue:function(e,t){var n=yt();return Eh(n,rt.memoizedState,e,t)},useTransition:function(){var e=Ai(ln)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:ah,useId:Oh,useHostTransitionStatus:xu,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var n=yt();return oh(n,rt,e,t)},useMemoCache:iu,useCacheRefresh:_h};yu.useEffectEvent=jh;var zh={readContext:Dt,use:Ci,useCallback:Ch,useContext:Dt,useEffect:fu,useImperativeHandle:wh,useInsertionEffect:bh,useLayoutEffect:Nh,useMemo:Ah,useReducer:cu,useRef:yh,useState:function(){return cu(ln)},useDebugValue:mu,useDeferredValue:function(e,t){var n=yt();return rt===null?hu(n,e,t):Eh(n,rt.memoizedState,e,t)},useTransition:function(){var e=cu(ln)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:ah,useId:Oh,useHostTransitionStatus:xu,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var n=yt();return rt!==null?oh(n,rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:iu,useCacheRefresh:_h};zh.useEffectEvent=jh;function vu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ju={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=ua(),c=On(l);c.payload=t,n!=null&&(c.callback=n),t=_n(e,c,l),t!==null&&(Wt(t,e,l),ar(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=ua(),c=On(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=_n(e,c,l),t!==null&&(Wt(t,e,l),ar(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ua(),l=On(n);l.tag=2,t!=null&&(l.callback=t),t=_n(e,l,n),t!==null&&(Wt(t,e,n),ar(t,e,n))}};function Ih(e,t,n,l,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,y):t.prototype&&t.prototype.isPureReactComponent?!$l(n,l)||!$l(c,u):!0}function Uh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function qh(e){ii(e)}function Bh(e){console.error(e)}function Hh(e){ii(e)}function Di(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Fh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bu(e,t,n){return n=On(n),n.tag=3,n.payload={element:null},n.callback=function(){Di(e,t)},n}function Vh(e){return e=On(e),e.tag=3,e}function Gh(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){Fh(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Fh(t,n,l),typeof c!="function"&&(In===null?In=new Set([this]):In.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function nb(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Zs(t,n,c,!0),n=ra.current,n!==null){switch(n.tag){case 31:case 13:return ja===null?Hi():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===gi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Yu(e,l,c)),!1;case 22:return n.flags|=65536,l===gi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Yu(e,l,c)),!1}throw Error(o(435,n.tag))}return Yu(e,l,c),Hi(),!1}if(Qe)return t=ra.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==qc&&(e=Error(o(422),{cause:l}),Zl(xa(e,n)))):(l!==qc&&(t=Error(o(423),{cause:l}),Zl(xa(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=xa(l,n),c=bu(e.stateNode,l,c),Zc(e,c),xt!==4&&(xt=2)),!1;var u=Error(o(520),{cause:l});if(u=xa(u,n),xr===null?xr=[u]:xr.push(u),xt!==4&&(xt=2),t===null)return!0;l=xa(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=bu(n.stateNode,l,e),Zc(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(In===null||!In.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Vh(c),Gh(c,e,n,l),Zc(n,c),!1}n=n.return}while(n!==null);return!1}var Nu=Error(o(461)),bt=!1;function Ot(e,t,n,l){t.child=e===null?Xm(t,null,n,l):ps(t,e.child,n,l)}function Yh(e,t,n,l,c){n=n.render;var u=t.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return ds(t),l=nu(e,t,n,y,u,c),C=su(),e!==null&&!bt?(lu(e,t,c),rn(e,t,c)):(Qe&&C&&Ic(t),t.flags|=1,Ot(e,t,l,c),t.child)}function Qh(e,t,n,l,c){if(e===null){var u=n.type;return typeof u=="function"&&!Pc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,$h(e,t,u,l,c)):(e=di(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Du(e,c)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(y,l)&&e.ref===t.ref)return rn(e,t,c)}return t.flags|=1,e=en(u,l),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,l,c){if(e!==null){var u=e.memoizedProps;if($l(u,l)&&e.ref===t.ref)if(bt=!1,t.pendingProps=l=u,Du(e,c))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,rn(e,t,c)}return Su(e,t,n,l,c)}function Xh(e,t,n,l){var c=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,t.child=null;return Kh(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,u!==null?u.cachePool:null),u!==null?Wm(t,u):Jc(),Jm(t);else return l=t.lanes=536870912,Kh(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(pi(t,u.cachePool),Wm(t,u),kn(),t.memoizedState=null):(e!==null&&pi(t,null),Jc(),kn());return Ot(e,t,c,n),t.child}function cr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kh(e,t,n,l,c){var u=Qc();return u=u===null?null:{parent:vt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&pi(t,null),Jc(),Jm(t),e!==null&&Zs(e,t,l,!0),t.childLanes=c,null}function Oi(e,t){return t=Ri({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zh(e,t,n){return ps(t,e.child,null,n),e=Oi(t,t.pendingProps),e.flags|=2,ia(t),t.memoizedState=null,e}function sb(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Qe){if(l.mode==="hidden")return e=Oi(t,l),t.lanes=536870912,cr(null,e);if(tu(t),(e=ut)?(e=cx(e,va),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Pa,overflow:La}:null,retryLane:536870912,hydrationErrors:null},n=km(e),n.return=t,t.child=n,Mt=t,ut=null)):e=null,e===null)throw Tn(t);return t.lanes=536870912,null}return Oi(t,l)}var u=e.memoizedState;if(u!==null){var y=u.dehydrated;if(tu(t),c)if(t.flags&256)t.flags&=-257,t=Zh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(bt||Zs(e,t,n,!1),c=(n&e.childLanes)!==0,bt||c){if(l=ct,l!==null&&(y=Bf(l,n),y!==0&&y!==u.retryLane))throw u.retryLane=y,is(e,y),Wt(l,e,y),Nu;Hi(),t=Zh(e,t,n)}else e=u.treeContext,ut=ba(y.nextSibling),Mt=t,Qe=!0,En=null,va=!1,e!==null&&zm(t,e),t=Oi(t,l),t.flags|=4096;return t}return e=en(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _i(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Su(e,t,n,l,c){return ds(t),n=nu(e,t,n,l,void 0,c),l=su(),e!==null&&!bt?(lu(e,t,c),rn(e,t,c)):(Qe&&l&&Ic(t),t.flags|=1,Ot(e,t,n,c),t.child)}function Wh(e,t,n,l,c,u){return ds(t),t.updateQueue=null,n=th(t,l,n,c),eh(e),l=su(),e!==null&&!bt?(lu(e,t,u),rn(e,t,u)):(Qe&&l&&Ic(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Jh(e,t,n,l,c){if(ds(t),t.stateNode===null){var u=Qs,y=n.contextType;typeof y=="object"&&y!==null&&(u=Dt(y)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ju,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Xc(t),y=n.contextType,u.context=typeof y=="object"&&y!==null?Dt(y):Qs,u.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(vu(t,n,y,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&ju.enqueueReplaceState(u,u.state,null),sr(t,l,u,c),nr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var C=t.memoizedProps,L=gs(n,C);u.props=L;var K=u.context,se=n.contextType;y=Qs,typeof se=="object"&&se!==null&&(y=Dt(se));var oe=n.getDerivedStateFromProps;se=typeof oe=="function"||typeof u.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,se||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C||K!==y)&&Uh(t,u,l,y),Dn=!1;var W=t.memoizedState;u.state=W,sr(t,l,u,c),nr(),K=t.memoizedState,C||W!==K||Dn?(typeof oe=="function"&&(vu(t,n,oe,l),K=t.memoizedState),(L=Dn||Ih(t,n,L,l,W,K,y))?(se||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=K),u.props=l,u.state=K,u.context=y,l=L):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Kc(e,t),y=t.memoizedProps,se=gs(n,y),u.props=se,oe=t.pendingProps,W=u.context,K=n.contextType,L=Qs,typeof K=="object"&&K!==null&&(L=Dt(K)),C=n.getDerivedStateFromProps,(K=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==oe||W!==L)&&Uh(t,u,l,L),Dn=!1,W=t.memoizedState,u.state=W,sr(t,l,u,c),nr();var ee=t.memoizedState;y!==oe||W!==ee||Dn||e!==null&&e.dependencies!==null&&mi(e.dependencies)?(typeof C=="function"&&(vu(t,n,C,l),ee=t.memoizedState),(se=Dn||Ih(t,n,se,l,W,ee,L)||e!==null&&e.dependencies!==null&&mi(e.dependencies))?(K||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,ee,L),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,ee,L)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ee),u.props=l,u.state=ee,u.context=L,l=se):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,_i(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=ps(t,e.child,null,c),t.child=ps(t,null,n,c)):Ot(e,t,n,c),t.memoizedState=u.state,e=t.child):e=rn(e,t,c),e}function ep(e,t,n,l){return cs(),t.flags|=256,Ot(e,t,n,l),t.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:Fm()}}function Au(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ca),e}function tp(e,t,n){var l=t.pendingProps,c=!1,u=(t.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Qe){if(c?Rn(t):kn(),(e=ut)?(e=cx(e,va),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Pa,overflow:La}:null,retryLane:536870912,hydrationErrors:null},n=km(e),n.return=t,t.child=n,Mt=t,ut=null)):e=null,e===null)throw Tn(t);return od(e)?t.lanes=32:t.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(kn(),c=t.mode,C=Ri({mode:"hidden",children:C},c),l=os(l,c,n,null),C.return=t,l.return=t,C.sibling=l,t.child=C,l=t.child,l.memoizedState=Cu(n),l.childLanes=Au(e,y,n),t.memoizedState=wu,cr(null,l)):(Rn(t),Eu(t,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(u)t.flags&256?(Rn(t),t.flags&=-257,t=Tu(e,t,n)):t.memoizedState!==null?(kn(),t.child=e.child,t.flags|=128,t=null):(kn(),C=l.fallback,c=t.mode,l=Ri({mode:"visible",children:l.children},c),C=os(C,c,n,null),C.flags|=2,l.return=t,C.return=t,l.sibling=C,t.child=l,ps(t,e.child,null,n),l=t.child,l.memoizedState=Cu(n),l.childLanes=Au(e,y,n),t.memoizedState=wu,t=cr(null,l));else if(Rn(t),od(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var K=y.dgst;y=K,l=Error(o(419)),l.stack="",l.digest=y,Zl({value:l,source:null,stack:null}),t=Tu(e,t,n)}else if(bt||Zs(e,t,n,!1),y=(n&e.childLanes)!==0,bt||y){if(y=ct,y!==null&&(l=Bf(y,n),l!==0&&l!==L.retryLane))throw L.retryLane=l,is(e,l),Wt(y,e,l),Nu;id(C)||Hi(),t=Tu(e,t,n)}else id(C)?(t.flags|=192,t.child=e.child,t=null):(e=L.treeContext,ut=ba(C.nextSibling),Mt=t,Qe=!0,En=null,va=!1,e!==null&&zm(t,e),t=Eu(t,l.children),t.flags|=4096);return t}return c?(kn(),C=l.fallback,c=t.mode,L=e.child,K=L.sibling,l=en(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,K!==null?C=en(K,C):(C=os(C,c,n,null),C.flags|=2),C.return=t,l.return=t,l.sibling=C,t.child=l,cr(null,l),l=t.child,C=e.child.memoizedState,C===null?C=Cu(n):(c=C.cachePool,c!==null?(L=vt._currentValue,c=c.parent!==L?{parent:L,pool:L}:c):c=Fm(),C={baseLanes:C.baseLanes|n,cachePool:c}),l.memoizedState=C,l.childLanes=Au(e,y,n),t.memoizedState=wu,cr(e.child,l)):(Rn(t),n=e.child,e=n.sibling,n=en(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Eu(e,t){return t=Ri({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ri(e,t){return e=la(22,e,null,t),e.lanes=0,e}function Tu(e,t,n){return ps(t,e.child,null,n),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ap(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Fc(e.return,t,n)}function Mu(e,t,n,l,c,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:u}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=u)}function np(e,t,n){var l=t.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var y=gt.current,C=(y&2)!==0;if(C?(y=y&1|2,t.flags|=128):y&=1,ie(gt,y),Ot(e,t,l,n),l=Qe?Kl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,n,t);else if(e.tag===19)ap(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Mu(t,!1,c,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&bi(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Mu(t,!0,n,null,u,l);break;case"together":Mu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Zs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Du(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&mi(e)))}function lb(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Mn(t,vt,e.memoizedState.cache),cs();break;case 27:case 5:Pe(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Mn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Rn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?tp(e,t,n):(Rn(t),e=rn(e,t,n),e!==null?e.sibling:null);Rn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Zs(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return np(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(gt,gt.current),l)break;return null;case 22:return t.lanes=0,Xh(e,t,n,t.pendingProps);case 24:Mn(t,vt,e.memoizedState.cache)}return rn(e,t,n)}function sp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!Du(e,n)&&(t.flags&128)===0)return bt=!1,lb(e,t,n);bt=(e.flags&131072)!==0}else bt=!1,Qe&&(t.flags&1048576)!==0&&Lm(t,Kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ms(t.elementType),t.type=e,typeof e=="function")Pc(e)?(l=gs(e,l),t.tag=1,t=Jh(null,t,e,l,n)):(t.tag=0,t=Su(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===T){t.tag=11,t=Yh(null,t,e,l,n);break e}else if(c===q){t.tag=14,t=Qh(null,t,e,l,n);break e}}throw t=H(e)||e,Error(o(306,t,""))}}return t;case 0:return Su(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=gs(l,t.pendingProps),Jh(e,t,l,c,n);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;c=u.element,Kc(e,t),sr(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Mn(t,vt,l),l!==u.cache&&Vc(t,[vt],n,!0),nr(),l=y.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ep(e,t,l,n);break e}else if(l!==c){c=xa(Error(o(424)),t),Zl(c),t=ep(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=ba(e.firstChild),Mt=t,Qe=!0,En=null,va=!0,n=Xm(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cs(),l===c){t=rn(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return _i(e,t),e===null?(n=px(t.type,null,t.pendingProps,null))?t.memoizedState=n:Qe||(n=t.type,e=t.pendingProps,l=Xi(ne.current).createElement(n),l[Tt]=t,l[Yt]=e,_t(l,n,e),At(l),t.stateNode=l):t.memoizedState=px(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pe(t),e===null&&Qe&&(l=t.stateNode=fx(t.type,t.pendingProps,ne.current),Mt=t,va=!0,c=ut,Hn(t.type)?(cd=c,ut=ba(l.firstChild)):ut=c),Ot(e,t,t.pendingProps.children,n),_i(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Qe&&((c=l=ut)&&(l=Pb(l,t.type,t.pendingProps,va),l!==null?(t.stateNode=l,Mt=t,ut=ba(l.firstChild),va=!1,c=!0):c=!1),c||Tn(t)),Pe(t),c=t.type,u=t.pendingProps,y=e!==null?e.memoizedProps:null,l=u.children,sd(c,u)?l=null:y!==null&&sd(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=nu(e,t,Kj,null,null,n),wr._currentValue=c),_i(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&Qe&&((e=n=ut)&&(n=Lb(n,t.pendingProps,va),n!==null?(t.stateNode=n,Mt=t,ut=null,e=!0):e=!1),e||Tn(t)),null;case 13:return tp(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ps(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Yh(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Mn(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ds(t),c=Dt(c),l=l(c),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return Qh(e,t,t.type,t.pendingProps,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 19:return np(e,t,n);case 31:return sb(e,t,n);case 22:return Xh(e,t,n,t.pendingProps);case 24:return ds(t),l=Dt(vt),e===null?(c=Qc(),c===null&&(c=ct,u=Gc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:l,cache:c},Xc(t),Mn(t,vt,c)):((e.lanes&n)!==0&&(Kc(e,t),sr(t,null,null,n),nr()),c=e.memoizedState,u=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Mn(t,vt,l)):(l=u.cache,Mn(t,vt,l),l!==c.cache&&Vc(t,[vt],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function on(e){e.flags|=4}function Ou(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Op())e.flags|=8192;else throw hs=gi,$c}else e.flags&=-16777217}function lp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jx(t))if(Op())e.flags|=8192;else throw hs=gi,$c}function ki(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?If():536870912,e.lanes|=t,cl|=t)}function ur(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function rb(e,t,n){var l=t.pendingProps;switch(Uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nn(vt),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ks(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bc())),dt(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(on(t),u!==null?(dt(t),lp(t,u)):(dt(t),Ou(t,c,null,l,n))):u?u!==e.memoizedState?(on(t),dt(t),lp(t,u)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&on(t),dt(t),Ou(t,c,e,l,n)),null;case 27:if(Be(t),n=ne.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&on(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return dt(t),null}e=fe.current,Ks(t)?Im(t):(e=fx(c,l,n),t.stateNode=e,on(t))}return dt(t),null;case 5:if(Be(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&on(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return dt(t),null}if(u=fe.current,Ks(t))Im(t);else{var y=Xi(ne.current);switch(u){case 1:u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}u[Tt]=t,u[Yt]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=u;e:switch(_t(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&on(t)}}return dt(t),Ou(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&on(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ne.current,Ks(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Mt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||tx(e.nodeValue,n)),e||Tn(t,!0)}else e=Xi(e).createTextNode(l),e[Tt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ks(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Tt]=t}else cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ia(t),t):(ia(t),null);if((t.flags&128)!==0)throw Error(o(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ks(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Tt]=t}else cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),c=!1}else c=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ia(t),t):(ia(t),null)}return ia(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ki(t,t.updateQueue),dt(t),null);case 4:return ge(),e===null&&Ju(t.stateNode.containerInfo),dt(t),null;case 10:return nn(t.type),dt(t),null;case 19:if(Z(gt),l=t.memoizedState,l===null)return dt(t),null;if(c=(t.flags&128)!==0,u=l.rendering,u===null)if(c)ur(l,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=bi(e),u!==null){for(t.flags|=128,ur(l,!1),e=u.updateQueue,t.updateQueue=e,ki(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rm(n,e),n=n.sibling;return ie(gt,gt.current&1|2),Qe&&tn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ta()>Ui&&(t.flags|=128,c=!0,ur(l,!1),t.lanes=4194304)}else{if(!c)if(e=bi(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,ki(t,e),ur(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Qe)return dt(t),null}else 2*ta()-l.renderingStartTime>Ui&&n!==536870912&&(t.flags|=128,c=!0,ur(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ta(),e.sibling=null,n=gt.current,ie(gt,c?n&1|2:n&1),Qe&&tn(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return ia(t),eu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&ki(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&Z(fs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nn(vt),dt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function ib(e,t){switch(Uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(vt),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Be(t),null;case 31:if(t.memoizedState!==null){if(ia(t),t.alternate===null)throw Error(o(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ia(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(gt),null;case 4:return ge(),null;case 10:return nn(t.type),null;case 22:case 23:return ia(t),eu(),e!==null&&Z(fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(vt),null;case 25:return null;default:return null}}function rp(e,t){switch(Uc(t),t.tag){case 3:nn(vt),ge();break;case 26:case 27:case 5:Be(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&ia(t);break;case 13:ia(t);break;case 19:Z(gt);break;case 10:nn(t.type);break;case 22:case 23:ia(t),eu(),e!==null&&Z(fs);break;case 24:nn(vt)}}function dr(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var u=n.create,y=n.inst;l=u(),y.destroy=l}n=n.next}while(n!==c)}}catch(C){et(t,t.return,C)}}function Pn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&e)===e){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,c=t;var L=n,K=C;try{K()}catch(se){et(c,L,se)}}}l=l.next}while(l!==u)}}catch(se){et(t,t.return,se)}}function ip(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zm(t,n)}catch(l){et(e,e.return,l)}}}function op(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){et(e,t,l)}}function fr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){et(e,t,c)}}function za(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){et(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){et(e,t,c)}else n.current=null}function cp(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){et(e,e.return,c)}}function _u(e,t,n){try{var l=e.stateNode;Mb(l,e.type,n,t),l[Yt]=t}catch(c){et(e,e.return,c)}}function up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wa));else if(l!==4&&(l===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function Pi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pi(e,t,n),e=e.sibling;e!==null;)Pi(e,t,n),e=e.sibling}function dp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);_t(t,l,n),t[Tt]=e,t[Yt]=n}catch(u){et(e,e.return,u)}}var cn=!1,Nt=!1,Pu=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Et=null;function ob(e,t){if(e=e.containerInfo,ad=ao,e=wm(e),Tc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,C=-1,L=-1,K=0,se=0,oe=e,W=null;t:for(;;){for(var ee;oe!==n||c!==0&&oe.nodeType!==3||(C=y+c),oe!==u||l!==0&&oe.nodeType!==3||(L=y+l),oe.nodeType===3&&(y+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)W=oe,oe=ee;for(;;){if(oe===e)break t;if(W===n&&++K===c&&(C=y),W===u&&++se===l&&(L=y),(ee=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=ee}n=C===-1||L===-1?null:{start:C,end:L}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},ao=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Ne=gs(n.type,c);e=l.getSnapshotBeforeUpdate(Ne,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Te){et(n,n.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function mp(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n),l&4&&dr(5,n);break;case 1:if(dn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){et(n,n.return,y)}else{var c=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){et(n,n.return,y)}}l&64&&ip(n),l&512&&fr(n,n.return);break;case 3:if(dn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zm(e,t)}catch(y){et(n,n.return,y)}}break;case 27:t===null&&l&4&&dp(n);case 26:case 5:dn(e,n),t===null&&l&4&&cp(n),l&512&&fr(n,n.return);break;case 12:dn(e,n);break;case 31:dn(e,n),l&4&&xp(e,n);break;case 13:dn(e,n),l&4&&gp(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=gb.bind(null,n),zb(e,n))));break;case 22:if(l=n.memoizedState!==null||cn,!l){t=t!==null&&t.memoizedState!==null||Nt,c=cn;var u=Nt;cn=l,(Nt=t)&&!u?fn(e,n,(n.subtreeFlags&8772)!==0):dn(e,n),cn=c,Nt=u}break;case 30:break;default:dn(e,n)}}function hp(e){var t=e.alternate;t!==null&&(e.alternate=null,hp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,$t=!1;function un(e,t,n){for(n=n.child;n!==null;)pp(e,t,n),n=n.sibling}function pp(e,t,n){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 26:Nt||za(n,t),un(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Nt||za(n,t);var l=ft,c=$t;Hn(n.type)&&(ft=n.stateNode,$t=!1),un(e,t,n),br(n.stateNode),ft=l,$t=c;break;case 5:Nt||za(n,t);case 6:if(l=ft,c=$t,ft=null,un(e,t,n),ft=l,$t=c,ft!==null)if($t)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(u){et(n,t,u)}else try{ft.removeChild(n.stateNode)}catch(u){et(n,t,u)}break;case 18:ft!==null&&($t?(e=ft,ix(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),gl(e)):ix(ft,n.stateNode));break;case 4:l=ft,c=$t,ft=n.stateNode.containerInfo,$t=!0,un(e,t,n),ft=l,$t=c;break;case 0:case 11:case 14:case 15:Pn(2,n,t),Nt||Pn(4,n,t),un(e,t,n);break;case 1:Nt||(za(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&op(n,t,l)),un(e,t,n);break;case 21:un(e,t,n);break;case 22:Nt=(l=Nt)||n.memoizedState!==null,un(e,t,n),Nt=l;break;default:un(e,t,n)}}function xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gl(e)}catch(n){et(t,t.return,n)}}}function gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(n){et(t,t.return,n)}}function cb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fp),t;default:throw Error(o(435,e.tag))}}function Li(e,t){var n=cb(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=yb.bind(null,e,l);l.then(c,c)}})}function Xt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],u=e,y=t,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(Hn(C.type)){ft=C.stateNode,$t=!1;break e}break;case 5:ft=C.stateNode,$t=!1;break e;case 3:case 4:ft=C.stateNode.containerInfo,$t=!0;break e}C=C.return}if(ft===null)throw Error(o(160));pp(u,y,c),ft=null,$t=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yp(t,e),t=t.sibling}var Ea=null;function yp(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Kt(e),l&4&&(Pn(3,e,e.return),dr(3,e),Pn(5,e,e.return));break;case 1:Xt(t,e),Kt(e),l&512&&(Nt||n===null||za(n,n.return)),l&64&&cn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Ea;if(Xt(t,e),Kt(e),l&512&&(Nt||n===null||za(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Ul]||u[Tt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),_t(u,l,n),u[Tt]=e,At(u),l=u;break e;case"link":var y=yx("link","href",c).get(l+(n.href||""));if(y){for(var C=0;C<y.length;C++)if(u=y[C],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(C,1);break t}}u=c.createElement(l),_t(u,l,n),c.head.appendChild(u);break;case"meta":if(y=yx("meta","content",c).get(l+(n.content||""))){for(C=0;C<y.length;C++)if(u=y[C],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(C,1);break t}}u=c.createElement(l),_t(u,l,n),c.head.appendChild(u);break;default:throw Error(o(468,l))}u[Tt]=e,At(u),l=u}e.stateNode=l}else vx(c,e.type,e.stateNode);else e.stateNode=gx(c,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?vx(c,e.type,e.stateNode):gx(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_u(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xt(t,e),Kt(e),l&512&&(Nt||n===null||za(n,n.return)),n!==null&&l&4&&_u(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xt(t,e),Kt(e),l&512&&(Nt||n===null||za(n,n.return)),e.flags&32){c=e.stateNode;try{qs(c,"")}catch(Ne){et(e,e.return,Ne)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,_u(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Pu=!0);break;case 6:if(Xt(t,e),Kt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Ne){et(e,e.return,Ne)}}break;case 3:if(Wi=null,c=Ea,Ea=Ki(t.containerInfo),Xt(t,e),Ea=c,Kt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(Ne){et(e,e.return,Ne)}Pu&&(Pu=!1,vp(e));break;case 4:l=Ea,Ea=Ki(e.stateNode.containerInfo),Xt(t,e),Kt(e),Ea=l;break;case 12:Xt(t,e),Kt(e);break;case 31:Xt(t,e),Kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 13:Xt(t,e),Kt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ii=ta()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 22:c=e.memoizedState!==null;var L=n!==null&&n.memoizedState!==null,K=cn,se=Nt;if(cn=K||c,Nt=se||L,Xt(t,e),Nt=se,cn=K,Kt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||L||cn||Nt||ys(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){L=n=t;try{if(u=L.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=L.stateNode;var oe=L.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ne){et(L,L.return,Ne)}}}else if(t.tag===6){if(n===null){L=t;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(Ne){et(L,L.return,Ne)}}}else if(t.tag===18){if(n===null){L=t;try{var ee=L.stateNode;c?ox(ee,!0):ox(L.stateNode,!1)}catch(Ne){et(L,L.return,Ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Li(e,n))));break;case 19:Xt(t,e),Kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 30:break;case 21:break;default:Xt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(up(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=Ru(e);Pi(e,u,c);break;case 5:var y=n.stateNode;n.flags&32&&(qs(y,""),n.flags&=-33);var C=Ru(e);Pi(e,C,y);break;case 3:case 4:var L=n.stateNode.containerInfo,K=Ru(e);ku(e,K,L);break;default:throw Error(o(161))}}catch(se){et(e,e.return,se)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mp(e,t.alternate,t),t=t.sibling}function ys(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pn(4,t,t.return),ys(t);break;case 1:za(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&op(t,t.return,n),ys(t);break;case 27:br(t.stateNode);case 26:case 5:za(t,t.return),ys(t);break;case 22:t.memoizedState===null&&ys(t);break;case 30:ys(t);break;default:ys(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,u=t,y=u.flags;switch(u.tag){case 0:case 11:case 15:fn(c,u,n),dr(4,u);break;case 1:if(fn(c,u,n),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(K){et(l,l.return,K)}if(l=u,c=l.updateQueue,c!==null){var C=l.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)Km(L[c],C)}catch(K){et(l,l.return,K)}}n&&y&64&&ip(u),fr(u,u.return);break;case 27:dp(u);case 26:case 5:fn(c,u,n),n&&l===null&&y&4&&cp(u),fr(u,u.return);break;case 12:fn(c,u,n);break;case 31:fn(c,u,n),n&&y&4&&xp(c,u);break;case 13:fn(c,u,n),n&&y&4&&gp(c,u);break;case 22:u.memoizedState===null&&fn(c,u,n),fr(u,u.return);break;case 30:break;default:fn(c,u,n)}t=t.sibling}}function Lu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wl(n))}function zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Ta(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jp(e,t,n,l),t=t.sibling}function jp(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Ta(e,t,n,l),c&2048&&dr(9,t);break;case 1:Ta(e,t,n,l);break;case 3:Ta(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(c&2048){Ta(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,y=u.id,C=u.onPostCommit;typeof C=="function"&&C(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){et(t,t.return,L)}}else Ta(e,t,n,l);break;case 31:Ta(e,t,n,l);break;case 13:Ta(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,y=t.alternate,t.memoizedState!==null?u._visibility&2?Ta(e,t,n,l):mr(e,t):u._visibility&2?Ta(e,t,n,l):(u._visibility|=2,rl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Lu(y,t);break;case 24:Ta(e,t,n,l),c&2048&&zu(t.alternate,t);break;default:Ta(e,t,n,l)}}function rl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,y=t,C=n,L=l,K=y.flags;switch(y.tag){case 0:case 11:case 15:rl(u,y,C,L,c),dr(8,y);break;case 23:break;case 22:var se=y.stateNode;y.memoizedState!==null?se._visibility&2?rl(u,y,C,L,c):mr(u,y):(se._visibility|=2,rl(u,y,C,L,c)),c&&K&2048&&Lu(y.alternate,y);break;case 24:rl(u,y,C,L,c),c&&K&2048&&zu(y.alternate,y);break;default:rl(u,y,C,L,c)}t=t.sibling}}function mr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:mr(n,l),c&2048&&Lu(l.alternate,l);break;case 24:mr(n,l),c&2048&&zu(l.alternate,l);break;default:mr(n,l)}t=t.sibling}}var hr=8192;function il(e,t,n){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)bp(e,t,n),e=e.sibling}function bp(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&hr&&e.memoizedState!==null&&Xb(n,Ea,e.memoizedState,e.memoizedProps);break;case 5:il(e,t,n);break;case 3:case 4:var l=Ea;Ea=Ki(e.stateNode.containerInfo),il(e,t,n),Ea=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hr,hr=16777216,il(e,t,n),hr=l):il(e,t,n));break;default:il(e,t,n)}}function Np(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,wp(l,e)}Np(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sp(e),e=e.sibling}function Sp(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zi(e)):pr(e);break;default:pr(e)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,wp(l,e)}Np(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pn(8,t,t.return),zi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zi(t));break;default:zi(t)}e=e.sibling}}function wp(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Pn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var c=l.sibling,u=l.return;if(hp(l),l===n){Et=null;break e}if(c!==null){c.return=u,Et=c;break e}Et=u}}}var ub={getCacheForType:function(e){var t=Dt(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Dt(vt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Fe=null,Ge=0,Je=0,oa=null,Ln=!1,ol=!1,Iu=!1,mn=0,xt=0,zn=0,vs=0,Uu=0,ca=0,cl=0,xr=null,Zt=null,qu=!1,Ii=0,Cp=0,Ui=1/0,qi=null,In=null,St=0,Un=null,ul=null,hn=0,Bu=0,Hu=null,Ap=null,gr=0,Fu=null;function ua(){return(We&2)!==0&&Ge!==0?Ge&-Ge:O.T!==null?Xu():Hf()}function Ep(){if(ca===0)if((Ge&536870912)===0||Qe){var e=$r;$r<<=1,($r&3932160)===0&&($r=262144),ca=e}else ca=536870912;return e=ra.current,e!==null&&(e.flags|=32),ca}function Wt(e,t,n){(e===ct&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(dl(e,0),qn(e,Ge,ca,!1)),Il(e,n),((We&2)===0||e!==ct)&&(e===ct&&((We&2)===0&&(vs|=n),xt===4&&qn(e,Ge,ca,!1)),Ia(e))}function Tp(e,t,n){if((We&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||zl(e,t),c=l?hb(e,t):Gu(e,t,!0),u=l;do{if(c===0){ol&&!l&&qn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!fb(n)){c=Gu(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var C=e;c=xr;var L=C.current.memoizedState.isDehydrated;if(L&&(dl(C,y).flags|=256),y=Gu(C,y,!1),y!==2){if(Iu&&!L){C.errorRecoveryDisabledLanes|=u,vs|=u,c=4;break e}u=Zt,Zt=c,u!==null&&(Zt===null?Zt=u:Zt.push.apply(Zt,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){dl(e,0),qn(e,t,0,!0);break}e:{switch(l=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:qn(l,t,ca,!Ln);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Ii+300-ta(),10<c)){if(qn(l,t,ca,!Ln),Kr(l,0,!0)!==0)break e;hn=t,l.timeoutHandle=lx(Mp.bind(null,l,n,Zt,qi,qu,t,ca,vs,cl,Ln,u,"Throttled",-0,0),c);break e}Mp(l,n,Zt,qi,qu,t,ca,vs,cl,Ln,u,null,-0,0)}}break}while(!0);Ia(e)}function Mp(e,t,n,l,c,u,y,C,L,K,se,oe,W,ee){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wa},bp(t,u,oe);var Ne=(u&62914560)===u?Ii-ta():(u&4194048)===u?Cp-ta():0;if(Ne=Kb(oe,Ne),Ne!==null){hn=u,e.cancelPendingCommit=Ne(zp.bind(null,e,t,u,n,l,c,y,C,L,se,oe,null,W,ee)),qn(e,u,y,!K);return}}zp(e,t,u,n,l,c,y,C,L)}function fb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!sa(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,n,l){t&=~Uu,t&=~vs,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var u=31-na(c),y=1<<u;l[u]=-1,c&=~y}n!==0&&Uf(e,n,t)}function Bi(){return(We&6)===0?(yr(0),!1):!0}function Vu(){if(Fe!==null){if(Je===0)var e=Fe.return;else e=Fe,an=us=null,ru(e),tl=null,er=0,e=Fe;for(;e!==null;)rp(e.alternate,e),e=e.return;Fe=null}}function dl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_b(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hn=0,Vu(),ct=e,Fe=n=en(e.current,null),Ge=t,Je=0,oa=null,Ln=!1,ol=zl(e,t),Iu=!1,cl=ca=Uu=vs=zn=xt=0,Zt=xr=null,qu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-na(l),u=1<<c;t|=e[c],l&=~u}return mn=t,oi(),n}function Dp(e,t){Le=null,O.H=or,t===el||t===xi?(t=Ym(),Je=3):t===$c?(t=Ym(),Je=4):Je=t===Nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,oa=t,Fe===null&&(xt=1,Di(e,xa(t,e.current)))}function Op(){var e=ra.current;return e===null?!0:(Ge&4194048)===Ge?ja===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===ja:!1}function _p(){var e=O.H;return O.H=or,e===null?or:e}function Rp(){var e=O.A;return O.A=ub,e}function Hi(){xt=4,Ln||(Ge&4194048)!==Ge&&ra.current!==null||(ol=!0),(zn&134217727)===0&&(vs&134217727)===0||ct===null||qn(ct,Ge,ca,!1)}function Gu(e,t,n){var l=We;We|=2;var c=_p(),u=Rp();(ct!==e||Ge!==t)&&(qi=null,dl(e,t)),t=!1;var y=xt;e:do try{if(Je!==0&&Fe!==null){var C=Fe,L=oa;switch(Je){case 8:Vu(),y=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(t=!0);var K=Je;if(Je=0,oa=null,fl(e,C,L,K),n&&ol){y=0;break e}break;default:K=Je,Je=0,oa=null,fl(e,C,L,K)}}mb(),y=xt;break}catch(se){Dp(e,se)}while(!0);return t&&e.shellSuspendCounter++,an=us=null,We=l,O.H=c,O.A=u,Fe===null&&(ct=null,Ge=0,oi()),y}function mb(){for(;Fe!==null;)kp(Fe)}function hb(e,t){var n=We;We|=2;var l=_p(),c=Rp();ct!==e||Ge!==t?(qi=null,Ui=ta()+500,dl(e,t)):ol=zl(e,t);e:do try{if(Je!==0&&Fe!==null){t=Fe;var u=oa;t:switch(Je){case 1:Je=0,oa=null,fl(e,t,u,1);break;case 2:case 9:if(Vm(u)){Je=0,oa=null,Pp(t);break}t=function(){Je!==2&&Je!==9||ct!==e||(Je=7),Ia(e)},u.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Vm(u)?(Je=0,oa=null,Pp(t)):(Je=0,oa=null,fl(e,t,u,7));break;case 5:var y=null;switch(Fe.tag){case 26:y=Fe.memoizedState;case 5:case 27:var C=Fe;if(y?jx(y):C.stateNode.complete){Je=0,oa=null;var L=C.sibling;if(L!==null)Fe=L;else{var K=C.return;K!==null?(Fe=K,Fi(K)):Fe=null}break t}}Je=0,oa=null,fl(e,t,u,5);break;case 6:Je=0,oa=null,fl(e,t,u,6);break;case 8:Vu(),xt=6;break e;default:throw Error(o(462))}}pb();break}catch(se){Dp(e,se)}while(!0);return an=us=null,O.H=l,O.A=c,We=n,Fe!==null?0:(ct=null,Ge=0,oi(),xt)}function pb(){for(;Fe!==null&&!I0();)kp(Fe)}function kp(e){var t=sp(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?Fi(e):Fe=t}function Pp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wh(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=Wh(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:ru(t);default:rp(n,t),t=Fe=Rm(t,mn),t=sp(n,t,mn)}e.memoizedProps=e.pendingProps,t===null?Fi(e):Fe=t}function fl(e,t,n,l){an=us=null,ru(t),tl=null,er=0;var c=t.return;try{if(nb(e,c,t,n,Ge)){xt=1,Di(e,xa(n,e.current)),Fe=null;return}}catch(u){if(c!==null)throw Fe=c,u;xt=1,Di(e,xa(n,e.current)),Fe=null;return}t.flags&32768?(Qe||l===1?e=!0:ol||(Ge&536870912)!==0?e=!1:(Ln=e=!0,(l===2||l===9||l===3||l===6)&&(l=ra.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lp(t,e)):Fi(t)}function Fi(e){var t=e;do{if((t.flags&32768)!==0){Lp(t,Ln);return}e=t.return;var n=rb(t.alternate,t,mn);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);xt===0&&(xt=5)}function Lp(e,t){do{var n=ib(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);xt=6,Fe=null}function zp(e,t,n,l,c,u,y,C,L){e.cancelPendingCommit=null;do Vi();while(St!==0);if((We&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Rc,$0(e,n,u,y,C,L),e===ct&&(Fe=ct=null,Ge=0),ul=t,Un=e,hn=n,Bu=u,Hu=c,Ap=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(Yr,function(){return Hp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=z.p,z.p=2,y=We,We|=4;try{ob(e,t,n)}finally{We=y,z.p=c,O.T=l}}St=1,Ip(),Up(),qp()}}function Ip(){if(St===1){St=0;var e=Un,t=ul,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null;var l=z.p;z.p=2;var c=We;We|=4;try{yp(t,e);var u=nd,y=wm(e.containerInfo),C=u.focusedElem,L=u.selectionRange;if(y!==C&&C&&C.ownerDocument&&Sm(C.ownerDocument.documentElement,C)){if(L!==null&&Tc(C)){var K=L.start,se=L.end;if(se===void 0&&(se=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(se,C.value.length);else{var oe=C.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Ne=C.textContent.length,Te=Math.min(L.start,Ne),ot=L.end===void 0?Te:Math.min(L.end,Ne);!ee.extend&&Te>ot&&(y=ot,ot=Te,Te=y);var Q=Nm(C,Te),B=Nm(C,ot);if(Q&&B&&(ee.rangeCount!==1||ee.anchorNode!==Q.node||ee.anchorOffset!==Q.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var X=oe.createRange();X.setStart(Q.node,Q.offset),ee.removeAllRanges(),Te>ot?(ee.addRange(X),ee.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),ee.addRange(X))}}}}for(oe=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var re=oe[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ao=!!ad,nd=ad=null}finally{We=c,z.p=l,O.T=n}}e.current=t,St=2}}function Up(){if(St===2){St=0;var e=Un,t=ul,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=O.T,O.T=null;var l=z.p;z.p=2;var c=We;We|=4;try{mp(e,t.alternate,t)}finally{We=c,z.p=l,O.T=n}}St=3}}function qp(){if(St===4||St===3){St=0,U0();var e=Un,t=ul,n=hn,l=Ap;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?St=5:(St=0,ul=Un=null,Bp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(In=null),cc(n),t=t.stateNode,aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=O.T,c=z.p,z.p=2,O.T=null;try{for(var u=e.onRecoverableError,y=0;y<l.length;y++){var C=l[y];u(C.value,{componentStack:C.stack})}}finally{O.T=t,z.p=c}}(hn&3)!==0&&Vi(),Ia(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Fu?gr++:(gr=0,Fu=e):gr=0,yr(0)}}function Bp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function Vi(){return Ip(),Up(),qp(),Hp()}function Hp(){if(St!==5)return!1;var e=Un,t=Bu;Bu=0;var n=cc(hn),l=O.T,c=z.p;try{z.p=32>n?32:n,O.T=null,n=Hu,Hu=null;var u=Un,y=hn;if(St=0,ul=Un=null,hn=0,(We&6)!==0)throw Error(o(331));var C=We;if(We|=4,Sp(u.current),jp(u,u.current,y,n),We=C,yr(0,!1),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(Ll,u)}catch{}return!0}finally{z.p=c,O.T=l,Bp(e,t)}}function Fp(e,t,n){t=xa(n,t),t=bu(e.stateNode,t,2),e=_n(e,t,2),e!==null&&(Il(e,2),Ia(e))}function et(e,t,n){if(e.tag===3)Fp(e,e,n);else for(;t!==null;){if(t.tag===3){Fp(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=xa(n,e),n=Vh(2),l=_n(t,n,2),l!==null&&(Gh(n,l,t,e),Il(l,2),Ia(l));break}}t=t.return}}function Yu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new db;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Iu=!0,c.add(n),e=xb.bind(null,e,t,n),t.then(e,e))}function xb(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ct===e&&(Ge&n)===n&&(xt===4||xt===3&&(Ge&62914560)===Ge&&300>ta()-Ii?(We&2)===0&&dl(e,0):Uu|=n,cl===Ge&&(cl=0)),Ia(e)}function Vp(e,t){t===0&&(t=If()),e=is(e,t),e!==null&&(Il(e,t),Ia(e))}function gb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vp(e,n)}function yb(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Vp(e,n)}function vb(e,t){return lc(e,t)}var Gi=null,ml=null,Qu=!1,Yi=!1,$u=!1,Bn=0;function Ia(e){e!==ml&&e.next===null&&(ml===null?Gi=ml=e:ml=ml.next=e),Yi=!0,Qu||(Qu=!0,bb())}function yr(e,t){if(!$u&&Yi){$u=!0;do for(var n=!1,l=Gi;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var y=l.suspendedLanes,C=l.pingedLanes;u=(1<<31-na(42|e)+1)-1,u&=c&~(y&~C),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,$p(l,u))}else u=Ge,u=Kr(l,l===ct?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||zl(l,u)||(n=!0,$p(l,u));l=l.next}while(n);$u=!1}}function jb(){Gp()}function Gp(){Yi=Qu=!1;var e=0;Bn!==0&&Ob()&&(e=Bn);for(var t=ta(),n=null,l=Gi;l!==null;){var c=l.next,u=Yp(l,t);u===0?(l.next=null,n===null?Gi=c:n.next=c,c===null&&(ml=n)):(n=l,(e!==0||(u&3)!==0)&&(Yi=!0)),l=c}St!==0&&St!==5||yr(e),Bn!==0&&(Bn=0)}function Yp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-na(u),C=1<<y,L=c[y];L===-1?((C&n)===0||(C&l)!==0)&&(c[y]=Q0(C,t)):L<=t&&(e.expiredLanes|=C),u&=~C}if(t=ct,n=Ge,n=Kr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rc(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||zl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&rc(l),cc(n)){case 2:case 8:n=Lf;break;case 32:n=Yr;break;case 268435456:n=zf;break;default:n=Yr}return l=Qp.bind(null,e),n=lc(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&rc(l),e.callbackPriority=2,e.callbackNode=null,2}function Qp(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vi()&&e.callbackNode!==n)return null;var l=Ge;return l=Kr(e,e===ct?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tp(e,l,t),Yp(e,ta()),e.callbackNode!=null&&e.callbackNode===n?Qp.bind(null,e):null)}function $p(e,t){if(Vi())return null;Tp(e,t,!0)}function bb(){Rb(function(){(We&6)!==0?lc(Pf,jb):Gp()})}function Xu(){if(Bn===0){var e=Ws;e===0&&(e=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Bn=e}return Bn}function Xp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function Kp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nb(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var u=Xp((c[Yt]||null).action),y=l.submitter;y&&(t=(t=y[Yt]||null)?Xp(t.formAction):y.getAttribute("formAction"),t!==null&&(u=t,y=null));var C=new si("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bn!==0){var L=y?Kp(c,y):new FormData(c);pu(n,{pending:!0,data:L,method:c.method,action:u},null,L)}}else typeof u=="function"&&(C.preventDefault(),L=y?Kp(c,y):new FormData(c),pu(n,{pending:!0,data:L,method:c.method,action:u},u,L))},currentTarget:c}]})}}for(var Ku=0;Ku<_c.length;Ku++){var Zu=_c[Ku],Sb=Zu.toLowerCase(),wb=Zu[0].toUpperCase()+Zu.slice(1);Aa(Sb,"on"+wb)}Aa(Em,"onAnimationEnd"),Aa(Tm,"onAnimationIteration"),Aa(Mm,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(qj,"onTransitionRun"),Aa(Bj,"onTransitionStart"),Aa(Hj,"onTransitionCancel"),Aa(Dm,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function Zp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var y=l.length-1;0<=y;y--){var C=l[y],L=C.instance,K=C.currentTarget;if(C=C.listener,L!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=K;try{u(c)}catch(se){ii(se)}c.currentTarget=null,u=L}else for(y=0;y<l.length;y++){if(C=l[y],L=C.instance,K=C.currentTarget,C=C.listener,L!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=K;try{u(c)}catch(se){ii(se)}c.currentTarget=null,u=L}}}}function Ve(e,t){var n=t[uc];n===void 0&&(n=t[uc]=new Set);var l=e+"__bubble";n.has(l)||(Wp(t,e,2,!1),n.add(l))}function Wu(e,t,n){var l=0;t&&(l|=4),Wp(n,e,l,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Qi]){e[Qi]=!0,Gf.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qi]||(t[Qi]=!0,Wu("selectionchange",!1,t))}}function Wp(e,t,n,l){switch(Ex(t)){case 2:var c=Jb;break;case 8:c=eN;break;default:c=hd}n=c.bind(null,t,n,e),c=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function ed(e,t,n,l,c){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c)break;if(y===4)for(y=l.return;y!==null;){var L=y.tag;if((L===3||L===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;C!==null;){if(y=Ps(C),y===null)return;if(L=y.tag,L===5||L===6||L===26||L===27){l=u=y;continue e}C=C.parentNode}}l=l.return}nm(function(){var K=u,se=gc(n),oe=[];e:{var W=Om.get(e);if(W!==void 0){var ee=si,Ne=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":ee=yj;break;case"focusin":Ne="focus",ee=Sc;break;case"focusout":Ne="blur",ee=Sc;break;case"beforeblur":case"afterblur":ee=Sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=rj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=bj;break;case Em:case Tm:case Mm:ee=cj;break;case Dm:ee=Sj;break;case"scroll":case"scrollend":ee=sj;break;case"wheel":ee=Cj;break;case"copy":case"cut":case"paste":ee=dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=om;break;case"toggle":case"beforetoggle":ee=Ej}var Te=(t&4)!==0,ot=!Te&&(e==="scroll"||e==="scrollend"),Q=Te?W!==null?W+"Capture":null:W;Te=[];for(var B=K,X;B!==null;){var re=B;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||Q===null||(re=Bl(B,Q),re!=null&&Te.push(jr(B,re,X))),ot)break;B=B.return}0<Te.length&&(W=new ee(W,Ne,null,n,se),oe.push({event:W,listeners:Te}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",W&&n!==xc&&(Ne=n.relatedTarget||n.fromElement)&&(Ps(Ne)||Ne[ks]))break e;if((ee||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Ne=n.relatedTarget||n.toElement,ee=K,Ne=Ne?Ps(Ne):null,Ne!==null&&(ot=f(Ne),Te=Ne.tag,Ne!==ot||Te!==5&&Te!==27&&Te!==6)&&(Ne=null)):(ee=null,Ne=K),ee!==Ne)){if(Te=rm,re="onMouseLeave",Q="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Te=om,re="onPointerLeave",Q="onPointerEnter",B="pointer"),ot=ee==null?W:ql(ee),X=Ne==null?W:ql(Ne),W=new Te(re,B+"leave",ee,n,se),W.target=ot,W.relatedTarget=X,re=null,Ps(se)===K&&(Te=new Te(Q,B+"enter",Ne,n,se),Te.target=X,Te.relatedTarget=ot,re=Te),ot=re,ee&&Ne)t:{for(Te=Ab,Q=ee,B=Ne,X=0,re=Q;re;re=Te(re))X++;re=0;for(var Ee=B;Ee;Ee=Te(Ee))re++;for(;0<X-re;)Q=Te(Q),X--;for(;0<re-X;)B=Te(B),re--;for(;X--;){if(Q===B||B!==null&&Q===B.alternate){Te=Q;break t}Q=Te(Q),B=Te(B)}Te=null}else Te=null;ee!==null&&Jp(oe,W,ee,Te,!1),Ne!==null&&ot!==null&&Jp(oe,ot,Ne,Te,!0)}}e:{if(W=K?ql(K):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var Ke=xm;else if(hm(W))if(gm)Ke=zj;else{Ke=Pj;var Ce=kj}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&pc(K.elementType)&&(Ke=xm):Ke=Lj;if(Ke&&(Ke=Ke(e,K))){pm(oe,Ke,n,se);break e}Ce&&Ce(e,W,K),e==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&hc(W,"number",W.value)}switch(Ce=K?ql(K):window,e){case"focusin":(hm(Ce)||Ce.contentEditable==="true")&&(Vs=Ce,Mc=K,Xl=null);break;case"focusout":Xl=Mc=Vs=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,Cm(oe,n,se);break;case"selectionchange":if(Uj)break;case"keydown":case"keyup":Cm(oe,n,se)}var ze;if(Cc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Fs?fm(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(cm&&n.locale!=="ko"&&(Fs||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Fs&&(ze=sm()):(Cn=se,jc="value"in Cn?Cn.value:Cn.textContent,Fs=!0)),Ce=$i(K,Ye),0<Ce.length&&(Ye=new im(Ye,e,null,n,se),oe.push({event:Ye,listeners:Ce}),ze?Ye.data=ze:(ze=mm(n),ze!==null&&(Ye.data=ze)))),(ze=Mj?Dj(e,n):Oj(e,n))&&(Ye=$i(K,"onBeforeInput"),0<Ye.length&&(Ce=new im("onBeforeInput","beforeinput",null,n,se),oe.push({event:Ce,listeners:Ye}),Ce.data=ze)),Nb(oe,e,K,n,se)}Zp(oe,t)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Bl(e,n),c!=null&&l.unshift(jr(e,c,u)),c=Bl(e,t),c!=null&&l.push(jr(e,c,u))),e.tag===3)return l;e=e.return}return[]}function Ab(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jp(e,t,n,l,c){for(var u=t._reactName,y=[];n!==null&&n!==l;){var C=n,L=C.alternate,K=C.stateNode;if(C=C.tag,L!==null&&L===l)break;C!==5&&C!==26&&C!==27||K===null||(L=K,c?(K=Bl(n,u),K!=null&&y.unshift(jr(n,K,L))):c||(K=Bl(n,u),K!=null&&y.push(jr(n,K,L)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function ex(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Tb,"")}function tx(e,t){return t=ex(t),ex(e)===t}function it(e,t,n,l,c,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||qs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&qs(e,""+l);break;case"className":Wr(e,"class",l);break;case"tabIndex":Wr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(e,n,l);break;case"style":tm(e,l,u);break;case"data":if(t!=="object"){Wr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ei(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",c.name,c,null),it(e,t,"formEncType",c.formEncType,c,null),it(e,t,"formMethod",c.formMethod,c,null),it(e,t,"formTarget",c.formTarget,c,null)):(it(e,t,"encType",c.encType,c,null),it(e,t,"method",c.method,c,null),it(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ei(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Wa);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Zr(e,"popover",l);break;case"xlinkActuate":Za(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Za(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Za(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Za(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Za(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Za(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Za(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Za(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Za(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aj.get(n)||n,Zr(e,n,l))}}function td(e,t,n,l,c,u){switch(n){case"style":tm(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?qs(e,l):(typeof l=="number"||typeof l=="bigint")&&qs(e,""+l);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[Yt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Zr(e,n,l)}}}function _t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var l=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var y=n[u];if(y!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:it(e,t,u,y,n,null)}}c&&it(e,t,"srcSet",n.srcSet,n,null),l&&it(e,t,"src",n.src,n,null);return;case"input":Ve("invalid",e);var C=u=y=c=null,L=null,K=null;for(l in n)if(n.hasOwnProperty(l)){var se=n[l];if(se!=null)switch(l){case"name":c=se;break;case"type":y=se;break;case"checked":L=se;break;case"defaultChecked":K=se;break;case"value":u=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(o(137,t));break;default:it(e,t,l,se,n,null)}}Zf(e,u,C,L,K,y,c,!1);return;case"select":Ve("invalid",e),l=y=u=null;for(c in n)if(n.hasOwnProperty(c)&&(C=n[c],C!=null))switch(c){case"value":u=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:it(e,t,c,C,n,null)}t=u,n=y,e.multiple=!!l,t!=null?Us(e,!!l,t,!1):n!=null&&Us(e,!!l,n,!0);return;case"textarea":Ve("invalid",e),u=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(C=n[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":c=C;break;case"children":u=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:it(e,t,y,C,n,null)}Jf(e,l,c,u);return;case"option":for(L in n)if(n.hasOwnProperty(L)&&(l=n[L],l!=null))switch(L){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(e,t,L,l,n,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(l=0;l<vr.length;l++)Ve(vr[l],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in n)if(n.hasOwnProperty(K)&&(l=n[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:it(e,t,K,l,n,null)}return;default:if(pc(t)){for(se in n)n.hasOwnProperty(se)&&(l=n[se],l!==void 0&&td(e,t,se,l,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null&&it(e,t,C,l,n,null))}function Mb(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,C=null,L=null,K=null,se=null;for(ee in n){var oe=n[ee];if(n.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=oe;default:l.hasOwnProperty(ee)||it(e,t,ee,null,l,oe)}}for(var W in l){var ee=l[W];if(oe=n[W],l.hasOwnProperty(W)&&(ee!=null||oe!=null))switch(W){case"type":u=ee;break;case"name":c=ee;break;case"checked":K=ee;break;case"defaultChecked":se=ee;break;case"value":y=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:ee!==oe&&it(e,t,W,ee,l,oe)}}mc(e,y,C,L,K,se,u,c);return;case"select":ee=y=C=W=null;for(u in n)if(L=n[u],n.hasOwnProperty(u)&&L!=null)switch(u){case"value":break;case"multiple":ee=L;default:l.hasOwnProperty(u)||it(e,t,u,null,l,L)}for(c in l)if(u=l[c],L=n[c],l.hasOwnProperty(c)&&(u!=null||L!=null))switch(c){case"value":W=u;break;case"defaultValue":C=u;break;case"multiple":y=u;default:u!==L&&it(e,t,c,u,l,L)}t=C,n=y,l=ee,W!=null?Us(e,!!n,W,!1):!!l!=!!n&&(t!=null?Us(e,!!n,t,!0):Us(e,!!n,n?[]:"",!1));return;case"textarea":ee=W=null;for(C in n)if(c=n[C],n.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:it(e,t,C,null,l,c)}for(y in l)if(c=l[y],u=n[y],l.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":W=c;break;case"defaultValue":ee=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&it(e,t,y,c,l,u)}Wf(e,W,ee);return;case"option":for(var Ne in n)if(W=n[Ne],n.hasOwnProperty(Ne)&&W!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:it(e,t,Ne,null,l,W)}for(L in l)if(W=l[L],ee=n[L],l.hasOwnProperty(L)&&W!==ee&&(W!=null||ee!=null))switch(L){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:it(e,t,L,W,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in n)W=n[Te],n.hasOwnProperty(Te)&&W!=null&&!l.hasOwnProperty(Te)&&it(e,t,Te,null,l,W);for(K in l)if(W=l[K],ee=n[K],l.hasOwnProperty(K)&&W!==ee&&(W!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:it(e,t,K,W,l,ee)}return;default:if(pc(t)){for(var ot in n)W=n[ot],n.hasOwnProperty(ot)&&W!==void 0&&!l.hasOwnProperty(ot)&&td(e,t,ot,void 0,l,W);for(se in l)W=l[se],ee=n[se],!l.hasOwnProperty(se)||W===ee||W===void 0&&ee===void 0||td(e,t,se,W,l,ee);return}}for(var Q in n)W=n[Q],n.hasOwnProperty(Q)&&W!=null&&!l.hasOwnProperty(Q)&&it(e,t,Q,null,l,W);for(oe in l)W=l[oe],ee=n[oe],!l.hasOwnProperty(oe)||W===ee||W==null&&ee==null||it(e,t,oe,W,l,ee)}function ax(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],u=c.transferSize,y=c.initiatorType,C=c.duration;if(u&&C&&ax(y)){for(y=0,C=c.responseEnd,l+=1;l<n.length;l++){var L=n[l],K=L.startTime;if(K>C)break;var se=L.transferSize,oe=L.initiatorType;se&&ax(oe)&&(L=L.responseEnd,y+=se*(L<C?1:(C-K)/(L-K)))}if(--l,t+=8*(u+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,nd=null;function Xi(e){return e.nodeType===9?e:e.ownerDocument}function nx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sx(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var lx=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(e){return rx.resolve(null).then(e).catch(kb)}:lx;function kb(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function ix(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),gl(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")br(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,br(n);for(var u=n.firstChild;u;){var y=u.nextSibling,C=u.nodeName;u[Ul]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=y}}else n==="body"&&br(e.ownerDocument.body);n=c}while(n);gl(t)}function ox(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rd(n),dc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Pb(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ul])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ba(e.nextSibling),e===null)break}return null}function Lb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ba(e.nextSibling),e===null))return null;return e}function cx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ba(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cd=null;function ux(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ba(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function dx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function fx(e,t,n){switch(t=Xi(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function br(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dc(e)}var Na=new Map,mx=new Set;function Ki(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=z.d;z.d={f:Ib,r:Ub,D:qb,C:Bb,L:Hb,m:Fb,X:Gb,S:Vb,M:Yb};function Ib(){var e=pn.f(),t=Bi();return e||t}function Ub(e){var t=Ls(e);t!==null&&t.tag===5&&t.type==="form"?Dh(t):pn.r(e)}var hl=typeof document>"u"?null:document;function hx(e,t,n){var l=hl;if(l&&typeof t=="string"&&t){var c=ha(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),mx.has(c)||(mx.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),_t(t,"link",e),At(t),l.head.appendChild(t)))}}function qb(e){pn.D(e),hx("dns-prefetch",e,null)}function Bb(e,t){pn.C(e,t),hx("preconnect",e,t)}function Hb(e,t,n){pn.L(e,t,n);var l=hl;if(l&&e&&t){var c='link[rel="preload"][as="'+ha(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+ha(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+ha(n.imageSizes)+'"]')):c+='[href="'+ha(e)+'"]';var u=c;switch(t){case"style":u=pl(e);break;case"script":u=xl(e)}Na.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Na.set(u,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Nr(u))||t==="script"&&l.querySelector(Sr(u))||(t=l.createElement("link"),_t(t,"link",e),At(t),l.head.appendChild(t)))}}function Fb(e,t){pn.m(e,t);var n=hl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ha(l)+'"][href="'+ha(e)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=xl(e)}if(!Na.has(u)&&(e=v({rel:"modulepreload",href:e},t),Na.set(u,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sr(u)))return}l=n.createElement("link"),_t(l,"link",e),At(l),n.head.appendChild(l)}}}function Vb(e,t,n){pn.S(e,t,n);var l=hl;if(l&&e){var c=zs(l).hoistableStyles,u=pl(e);t=t||"default";var y=c.get(u);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(Nr(u)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Na.get(u))&&ud(e,n);var L=y=l.createElement("link");At(L),_t(L,"link",e),L._p=new Promise(function(K,se){L.onload=K,L.onerror=se}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Zi(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:C},c.set(u,y)}}}function Gb(e,t){pn.X(e,t);var n=hl;if(n&&e){var l=zs(n).hoistableScripts,c=xl(e),u=l.get(c);u||(u=n.querySelector(Sr(c)),u||(e=v({src:e,async:!0},t),(t=Na.get(c))&&dd(e,t),u=n.createElement("script"),At(u),_t(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function Yb(e,t){pn.M(e,t);var n=hl;if(n&&e){var l=zs(n).hoistableScripts,c=xl(e),u=l.get(c);u||(u=n.querySelector(Sr(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Na.get(c))&&dd(e,t),u=n.createElement("script"),At(u),_t(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function px(e,t,n,l){var c=(c=ne.current)?Ki(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=pl(n.href),n=zs(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pl(n.href);var u=zs(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(Nr(e)))&&!u._p&&(y.instance=u,y.state.loading=5),Na.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Na.set(e,n),u||Qb(c,e,n,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xl(n),n=zs(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function pl(e){return'href="'+ha(e)+'"'}function Nr(e){return'link[rel="stylesheet"]['+e+"]"}function xx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),_t(t,"link",n),At(t),e.head.appendChild(t))}function xl(e){return'[src="'+ha(e)+'"]'}function Sr(e){return"script[async]"+e}function gx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ha(n.href)+'"]');if(l)return t.instance=l,At(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),At(l),_t(l,"style",c),Zi(l,n.precedence,e),t.instance=l;case"stylesheet":c=pl(n.href);var u=e.querySelector(Nr(c));if(u)return t.state.loading|=4,t.instance=u,At(u),u;l=xx(n),(c=Na.get(c))&&ud(l,c),u=(e.ownerDocument||e).createElement("link"),At(u);var y=u;return y._p=new Promise(function(C,L){y.onload=C,y.onerror=L}),_t(u,"link",l),t.state.loading|=4,Zi(u,n.precedence,e),t.instance=u;case"script":return u=xl(n.src),(c=e.querySelector(Sr(u)))?(t.instance=c,At(c),c):(l=n,(c=Na.get(u))&&(l=v({},n),dd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),At(c),_t(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zi(l,n.precedence,e));return t.instance}function Zi(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===t)u=C;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wi=null;function yx(e,t,n){if(Wi===null){var l=new Map,c=Wi=new Map;c.set(n,l)}else c=Wi,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[Ul]||u[Tt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(t)||"";y=e+y;var C=l.get(y);C?C.push(u):l.set(y,[u])}}return l}function vx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $b(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xb(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=pl(l.href),u=t.querySelector(Nr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ji.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,At(u);return}u=t.ownerDocument||t,l=xx(l),(c=Na.get(c))&&ud(l,c),u=u.createElement("link"),At(u);var y=u;y._p=new Promise(function(C,L){y.onload=C,y.onerror=L}),_t(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ji.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var fd=0;function Kb(e,t){return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&fd===0&&(fd=62500*Db());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&to(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>fd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function to(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,t.forEach(Zb,e),eo=null,Ji.call(e))}function Zb(e,t){if(!(t.state.loading&4)){var n=eo.get(e);if(n)var l=n.get(null);else{n=new Map,eo.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),u=n.get(y)||l,u===l&&n.set(null,c),n.set(y,c),this.count++,l=Ji.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var wr={$$typeof:D,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Wb(e,t,n,l,c,u,y,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function bx(e,t,n,l,c,u,y,C,L,K,se,oe){return e=new Wb(e,t,n,y,L,K,se,oe,C),t=1,u===!0&&(t|=24),u=la(3,null,null,t),e.current=u,u.stateNode=e,t=Gc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},Xc(u),e}function Nx(e){return e?(e=Qs,e):Qs}function Sx(e,t,n,l,c,u){c=Nx(c),l.context===null?l.context=c:l.pendingContext=c,l=On(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=_n(e,l,t),n!==null&&(Wt(n,e,t),ar(n,e,t))}function wx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){wx(e,t),(e=e.alternate)&&wx(e,t)}function Cx(e){if(e.tag===13||e.tag===31){var t=is(e,67108864);t!==null&&Wt(t,e,67108864),md(e,67108864)}}function Ax(e){if(e.tag===13||e.tag===31){var t=ua();t=oc(t);var n=is(e,t);n!==null&&Wt(n,e,t),md(e,t)}}var ao=!0;function Jb(e,t,n,l){var c=O.T;O.T=null;var u=z.p;try{z.p=2,hd(e,t,n,l)}finally{z.p=u,O.T=c}}function eN(e,t,n,l){var c=O.T;O.T=null;var u=z.p;try{z.p=8,hd(e,t,n,l)}finally{z.p=u,O.T=c}}function hd(e,t,n,l){if(ao){var c=pd(l);if(c===null)ed(e,t,l,no,n),Tx(e,l);else if(aN(c,e,t,n,l))l.stopPropagation();else if(Tx(e,l),t&4&&-1<tN.indexOf(e)){for(;c!==null;){var u=Ls(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=as(u.pendingLanes);if(y!==0){var C=u;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var L=1<<31-na(y);C.entanglements[1]|=L,y&=~L}Ia(u),(We&6)===0&&(Ui=ta()+500,yr(0))}}break;case 31:case 13:C=is(u,2),C!==null&&Wt(C,u,2),Bi(),md(u,2)}if(u=pd(l),u===null&&ed(e,t,l,no,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else ed(e,t,l,null,n)}}function pd(e){return e=gc(e),xd(e)}var no=null;function xd(e){if(no=null,e=Ps(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return no=e,null}function Ex(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q0()){case Pf:return 2;case Lf:return 8;case Yr:case B0:return 32;case zf:return 268435456;default:return 32}default:return 32}}var gd=!1,Fn=null,Vn=null,Gn=null,Cr=new Map,Ar=new Map,Yn=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tx(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function Er(e,t,n,l,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Ls(t),t!==null&&Cx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function aN(e,t,n,l,c){switch(t){case"focusin":return Fn=Er(Fn,e,t,n,l,c),!0;case"dragenter":return Vn=Er(Vn,e,t,n,l,c),!0;case"mouseover":return Gn=Er(Gn,e,t,n,l,c),!0;case"pointerover":var u=c.pointerId;return Cr.set(u,Er(Cr.get(u)||null,e,t,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,Ar.set(u,Er(Ar.get(u)||null,e,t,n,l,c)),!0}return!1}function Mx(e){var t=Ps(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Ff(e.priority,function(){Ax(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ff(e.priority,function(){Ax(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);xc=l,n.target.dispatchEvent(l),xc=null}else return t=Ls(n),t!==null&&Cx(t),e.blockedOn=n,!1;t.shift()}return!0}function Dx(e,t,n){so(e)&&n.delete(t)}function nN(){gd=!1,Fn!==null&&so(Fn)&&(Fn=null),Vn!==null&&so(Vn)&&(Vn=null),Gn!==null&&so(Gn)&&(Gn=null),Cr.forEach(Dx),Ar.forEach(Dx)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nN)))}var ro=null;function Ox(e){ro!==e&&(ro=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(xd(l||n)===null)continue;break}var u=Ls(n);u!==null&&(e.splice(t,3),t-=3,pu(u,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function gl(e){function t(L){return lo(L,e)}Fn!==null&&lo(Fn,e),Vn!==null&&lo(Vn,e),Gn!==null&&lo(Gn,e),Cr.forEach(t),Ar.forEach(t);for(var n=0;n<Yn.length;n++){var l=Yn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&Yn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],u=n[l+1],y=c[Yt]||null;if(typeof u=="function")y||Ox(n);else if(y){var C=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[Yt]||null)C=y.formAction;else if(xd(c)!==null)continue}else C=y.action;typeof C=="function"?n[l+1]=C:(n.splice(l,3),l-=3),Ox(n)}}}function _x(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function yd(e){this._internalRoot=e}io.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=ua();Sx(n,l,e,t,null,null)},io.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sx(e.current,2,null,e,null,null),Bi(),t[ks]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&Mx(e)}};var Rx=r.version;if(Rx!=="19.2.3")throw Error(o(527,Rx,"19.2.3"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var sN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Ll=oo.inject(sN),aa=oo}catch{}}return Mr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,l="",c=qh,u=Bh,y=Hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=bx(e,1,!1,null,null,n,l,null,c,u,y,_x),e[ks]=t.current,Ju(e),new yd(t)},Mr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var l=!1,c="",u=qh,y=Bh,C=Hh,L=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.formState!==void 0&&(L=n.formState)),t=bx(e,1,!0,t,n??null,l,c,L,u,y,C,_x),t.context=Nx(null),n=t.current,l=ua(),l=oc(l),c=On(l),c.callback=null,_n(n,c,l),n=l,t.current.lanes=n,Il(t,n),Ia(t),e[ks]=t.current,Ju(e),new io(t)},Mr.version="19.2.3",Mr}var Fx;function hN(){if(Fx)return bd.exports;Fx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),bd.exports=mN(),bd.exports}var pN=hN();class xN{constructor(){this.dbName="SofaFactoryManager",this.version=2,this.db=null}async init(){return new Promise((r,i)=>{const o=indexedDB.open(this.dbName,this.version);o.onerror=()=>i(o.error),o.onsuccess=()=>{this.db=o.result,r(this.db)},o.onupgradeneeded=d=>{const f=d.target.result;if(f.objectStoreNames.contains("company")||f.createObjectStore("company",{keyPath:"id"}),f.objectStoreNames.contains("locations")||f.createObjectStore("locations",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!0}),!f.objectStoreNames.contains("users")){const h=f.createObjectStore("users",{keyPath:"id",autoIncrement:!0});h.createIndex("email","email",{unique:!0}),h.createIndex("role","role",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1})}if(!f.objectStoreNames.contains("suppliers")){const h=f.createObjectStore("suppliers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("customers")){const h=f.createObjectStore("customers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("phone","phone",{unique:!1})}if(!f.objectStoreNames.contains("rawMaterials")){const h=f.createObjectStore("rawMaterials",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("labourers")){const h=f.createObjectStore("labourers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("sofaModels")){const h=f.createObjectStore("sofaModels",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("orders")){const h=f.createObjectStore("orders",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("orderDate","orderDate",{unique:!1})}if(!f.objectStoreNames.contains("labourCosts")){const h=f.createObjectStore("labourCosts",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("month","month",{unique:!1})}if(!f.objectStoreNames.contains("purchases")){const h=f.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0});h.createIndex("supplierId","supplierId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("sales")){const h=f.createObjectStore("sales",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("cleaningServices")){const h=f.createObjectStore("cleaningServices",{keyPath:"id",autoIncrement:!0});h.createIndex("saleId","saleId",{unique:!1}),h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("scheduledDate","scheduledDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("linkedEntities")){const h=f.createObjectStore("linkedEntities",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("supplierId","supplierId",{unique:!1})}if(!f.objectStoreNames.contains("notifications")){const h=f.createObjectStore("notifications",{keyPath:"id",autoIncrement:!0});h.createIndex("userId","userId",{unique:!1}),h.createIndex("type","type",{unique:!1}),h.createIndex("read","read",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("syncRecords")){const h=f.createObjectStore("syncRecords",{keyPath:"id",autoIncrement:!0});h.createIndex("tableName","tableName",{unique:!1}),h.createIndex("recordId","recordId",{unique:!1}),h.createIndex("action","action",{unique:!1}),h.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains("productions")){const h=f.createObjectStore("productions",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("productionType","productionType",{unique:!1}),h.createIndex("startDate","startDate",{unique:!1})}if(!f.objectStoreNames.contains("labourPayments")){const h=f.createObjectStore("labourPayments",{keyPath:"id",autoIncrement:!0});h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentDate","paymentDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}}})}async add(r,i){this.db||await this.init();const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.createdAt=new Date().toISOString(),i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.add(i);g.onsuccess=()=>h(g.result),g.onerror=()=>p(g.error)});return await this.trackSync(r,f,"create"),f}async get(r,i){this.db||await this.init();const d=this.db.transaction([r],"readonly").objectStore(r);return new Promise((f,h)=>{const p=d.get(i);p.onsuccess=()=>f(p.result),p.onerror=()=>h(p.error)})}async getAll(r,i=null,o=null){try{if(this.db||await this.init(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist, returning empty array`),[];const f=this.db.transaction([r],"readonly").objectStore(r);return new Promise((h,p)=>{let g;if(i&&o!==null)try{g=f.index(i).getAll(o)}catch{g=f.getAll()}else g=f.getAll();g.onsuccess=()=>h(g.result||[]),g.onerror=()=>{console.error(`Error getting all from ${r}:`,g.error),h([])}})}catch(d){return console.error(`Error in getAll for ${r}:`,d),[]}}async update(r,i){this.db||await this.init();const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.put(i);g.onsuccess=()=>h(g.result),g.onerror=()=>p(g.error)});return await this.trackSync(r,i.id,"update"),f}async delete(r,i){this.db||await this.init();const d=this.db.transaction([r],"readwrite").objectStore(r),f=await new Promise((h,p)=>{const g=d.delete(i);g.onsuccess=()=>h(g.result),g.onerror=()=>p(g.error)});return await this.trackSync(r,i,"delete"),f}async trackSync(r,i,o){const d={tableName:r,recordId:i,action:o,timestamp:new Date().toISOString(),synced:!1};this.db||await this.init();const h=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords");return new Promise((p,g)=>{const m=h.add(d);m.onsuccess=()=>p(m.result),m.onerror=()=>g(m.error)})}async getUnsyncedRecords(){const i=this.db.transaction(["syncRecords"],"readonly").objectStore("syncRecords");return new Promise((o,d)=>{const f=i.getAll();f.onsuccess=()=>{const p=f.result.filter(g=>!g.synced);o(p)},f.onerror=()=>d(f.error)})}async markSynced(r){const o=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords"),d=r.map(f=>new Promise((h,p)=>{const g=o.get(f);g.onsuccess=()=>{const m=g.result;if(m){m.synced=!0;const x=o.put(m);x.onsuccess=()=>h(),x.onerror=()=>p(x.error)}else h()},g.onerror=()=>p(g.error)}));return Promise.all(d)}async getCurrentUser(){return(await this.getAll("users")).find(i=>i.isCurrentUser)||null}async getCompanyProfile(){return await this.get("company","profile")}async getPendingPayments(r=null){const i=await this.getAll("purchases","paymentStatus","unpaid"),o=await this.getAll("sales","paymentStatus","unpaid");let d={purchases:[],sales:[]};return r?(d.purchases=i.filter(f=>f.locationId===r),d.sales=o.filter(f=>f.locationId===r)):(d.purchases=i,d.sales=o),d}async getMonthlyLabourReport(r,i,o=null){const d=await this.getAll("labourCosts","month",`${i}-${r.toString().padStart(2,"0")}`);if(o){const h=(await this.getAll("sofaModels","locationId",o)).map(p=>p.id);return d.filter(p=>h.includes(p.sofaModelId))}return d}async calculateProfit(r){const i=await this.get("sales",r);if(!i)return null;const o=await this.get("sofaModels",i.sofaModelId);if(!o)return null;const d=i.finalPrice-o.totalProductionCost;return{revenue:i.finalPrice,cost:o.totalProductionCost,profit:d,margin:d/i.finalPrice*100}}}const he=new xN,Ua={ADMIN:"admin",STAFF:"staff",LABOUR_MANAGER:"labour_manager"},yl={VIEW_PROFITS:"view_profits",MANAGE_COSTS:"manage_costs",APPROVE_SALES:"approve_sales",MANAGE_USERS:"manage_users",MANAGE_COMPANY:"manage_company",MANAGE_LABOUR:"manage_labour",VIEW_ALL_LOCATIONS:"view_all_locations",SEND_NOTIFICATIONS:"send_notifications"};class gN{constructor(){this.currentUser=null,this.isInitialized=!1}async init(){this.isInitialized||(await he.init(),this.currentUser=await he.getCurrentUser(),this.isInitialized=!0)}async isFirstTimeSetup(){return(await he.getAll("users")).length===0}async createAdminAccount(r){const i={...r,role:Ua.ADMIN,isCurrentUser:!0,permissions:this.getPermissionsForRole(Ua.ADMIN),setupCode:null,locationId:null},o=await he.add("users",i);return this.currentUser=await he.get("users",o),this.currentUser}generateSetupCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}async createUserProfile(r){const i=this.generateSetupCode(),o={...r,setupCode:i,permissions:this.getPermissionsForRole(r.role),isActive:!1,isCurrentUser:!1};return{userId:await he.add("users",o),setupCode:i}}async activateUserAccount(r,i={}){const o=await he.getAll("users"),d=o.find(h=>h.setupCode===r&&!h.isActive);if(!d)throw new Error("Invalid or expired setup code");d.isActive=!0,d.isCurrentUser=!0,d.deviceInfo=i,d.lastLogin=new Date().toISOString();const f=o.filter(h=>h.id!==d.id&&h.isCurrentUser);for(const h of f)h.isCurrentUser=!1,await he.update("users",h);return await he.update("users",d),this.currentUser=d,d}async login(r){const i=await he.get("users",r);if(!i||!i.isActive)throw new Error("User not found or inactive");const o=await he.getAll("users");for(const d of o)d.isCurrentUser=d.id===r,await he.update("users",d);return i.lastLogin=new Date().toISOString(),await he.update("users",i),this.currentUser=i,i}async logout(){this.currentUser&&(this.currentUser.isCurrentUser=!1,await he.update("users",this.currentUser),this.currentUser=null)}getPermissionsForRole(r){switch(r){case Ua.ADMIN:return Object.values(yl);case Ua.LABOUR_MANAGER:return[yl.MANAGE_LABOUR,yl.MANAGE_COSTS];case Ua.STAFF:return[];default:return[]}}hasPermission(r){return this.currentUser?this.currentUser.permissions.includes(r):!1}canAccessLocation(r){return this.currentUser?this.currentUser.role===Ua.ADMIN?!0:this.currentUser.locationId===r:!1}async getAccessibleLocations(){if(!this.currentUser)return[];const r=await he.getAll("locations");return this.currentUser.role===Ua.ADMIN?r:r.filter(i=>i.id===this.currentUser.locationId)}getCurrentUser(){return this.currentUser}async updateUserPermissions(r,i){if(!this.hasPermission(yl.MANAGE_USERS))throw new Error("Insufficient permissions");const o=await he.get("users",r);if(!o)throw new Error("User not found");return o.permissions=i,await he.update("users",o),o}async getAllUsers(){if(!this.hasPermission(yl.MANAGE_USERS))throw new Error("Insufficient permissions");return await he.getAll("users")}async deleteUser(r){if(!this.hasPermission(yl.MANAGE_USERS))throw new Error("Insufficient permissions");if(r===this.currentUser.id)throw new Error("Cannot delete current user");await he.delete("users",r)}isAdmin(){return this.currentUser&&this.currentUser.role===Ua.ADMIN}isStaff(){return this.currentUser&&this.currentUser.role===Ua.STAFF}isLabourManager(){return this.currentUser&&this.currentUser.role===Ua.LABOUR_MANAGER}}const Sa=new gN,zg={user:null,isAuthenticated:!1,isLoading:!0,company:null,locations:[],currentLocation:null,suppliers:[],customers:[],rawMaterials:[],labourers:[],sofaModels:[],purchases:[],sales:[],cleaningServices:[],notifications:[],productions:[],orders:[],sidebarOpen:!1,currentView:"dashboard",locationFilter:"all",dateFilter:"all"},ve={SET_USER:"SET_USER",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_COMPANY:"SET_COMPANY",SET_LOCATIONS:"SET_LOCATIONS",SET_CURRENT_LOCATION:"SET_CURRENT_LOCATION",SET_SUPPLIERS:"SET_SUPPLIERS",SET_CUSTOMERS:"SET_CUSTOMERS",SET_RAW_MATERIALS:"SET_RAW_MATERIALS",SET_LABOURERS:"SET_LABOURERS",SET_SOFA_MODELS:"SET_SOFA_MODELS",SET_PURCHASES:"SET_PURCHASES",SET_SALES:"SET_SALES",SET_CLEANING_SERVICES:"SET_CLEANING_SERVICES",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_PRODUCTIONS:"SET_PRODUCTIONS",SET_ORDERS:"SET_ORDERS",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SET_SIDEBAR_OPEN:"SET_SIDEBAR_OPEN",SET_CURRENT_VIEW:"SET_CURRENT_VIEW",SET_LOCATION_FILTER:"SET_LOCATION_FILTER",SET_DATE_FILTER:"SET_DATE_FILTER",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ"};function yN(s,r){switch(r.type){case ve.SET_USER:return{...s,user:r.payload,isAuthenticated:!!r.payload,isLoading:!1};case ve.SET_LOADING:return{...s,isLoading:r.payload};case ve.LOGOUT:return{...zg,isLoading:!1};case ve.SET_COMPANY:return{...s,company:r.payload};case ve.SET_LOCATIONS:return{...s,locations:r.payload};case ve.SET_CURRENT_LOCATION:return{...s,currentLocation:r.payload};case ve.SET_SUPPLIERS:return{...s,suppliers:r.payload};case ve.SET_CUSTOMERS:return{...s,customers:r.payload};case ve.SET_RAW_MATERIALS:return{...s,rawMaterials:r.payload};case ve.SET_LABOURERS:return{...s,labourers:r.payload};case ve.SET_SOFA_MODELS:return{...s,sofaModels:r.payload};case ve.SET_PURCHASES:return{...s,purchases:r.payload};case ve.SET_SALES:return{...s,sales:r.payload};case ve.SET_CLEANING_SERVICES:return{...s,cleaningServices:r.payload};case ve.SET_NOTIFICATIONS:return{...s,notifications:r.payload};case ve.SET_PRODUCTIONS:return{...s,productions:r.payload};case ve.SET_ORDERS:return{...s,orders:r.payload};case ve.ADD_ITEM:const{collection:i,item:o}=r.payload;return{...s,[i]:[...s[i],o]};case ve.UPDATE_ITEM:const{collection:d,item:f}=r.payload;return{...s,[d]:s[d].map(g=>g.id===f.id?f:g)};case ve.DELETE_ITEM:const{collection:h,id:p}=r.payload;return{...s,[h]:s[h].filter(g=>g.id!==p)};case ve.SET_SIDEBAR_OPEN:return{...s,sidebarOpen:r.payload};case ve.SET_CURRENT_VIEW:return{...s,currentView:r.payload};case ve.SET_LOCATION_FILTER:return{...s,locationFilter:r.payload};case ve.SET_DATE_FILTER:return{...s,dateFilter:r.payload};case ve.ADD_NOTIFICATION:return{...s,notifications:[r.payload,...s.notifications]};case ve.MARK_NOTIFICATION_READ:return{...s,notifications:s.notifications.map(g=>g.id===r.payload?{...g,read:!0}:g)};default:return s}}const Ig=j.createContext();function vN({children:s}){const[r,i]=j.useReducer(yN,zg);j.useEffect(()=>{o()},[]);const o=async()=>{try{i({type:ve.SET_LOADING,payload:!0}),await Sa.init();const m=Sa.getCurrentUser();m?(i({type:ve.SET_USER,payload:m}),await d()):i({type:ve.SET_LOADING,payload:!1})}catch(m){console.error("Failed to initialize app:",m),i({type:ve.SET_LOADING,payload:!1})}},d=async()=>{try{const m=await he.getCompanyProfile();m&&i({type:ve.SET_COMPANY,payload:m});const x=await he.getAll("locations");i({type:ve.SET_LOCATIONS,payload:x});const v=Sa.getCurrentUser();if(v){const b=await Sa.getAccessibleLocations();Sa.hasPermission("VIEW_ALL_LOCATIONS")?await f():await h(v.locationId)}}catch(m){console.error("Failed to load app data:",m)}},f=async()=>{try{const[m,x,v,b,N,E,S,w,P,k,D]=await Promise.all([he.getAll("suppliers"),he.getAll("customers"),he.getAll("rawMaterials"),he.getAll("labourers"),he.getAll("sofaModels"),he.getAll("purchases"),he.getAll("sales"),he.getAll("cleaningServices"),he.getAll("notifications"),he.getAll("productions"),he.getAll("orders")]);i({type:ve.SET_SUPPLIERS,payload:m||[]}),i({type:ve.SET_CUSTOMERS,payload:x||[]}),i({type:ve.SET_RAW_MATERIALS,payload:v||[]}),i({type:ve.SET_LABOURERS,payload:b||[]}),i({type:ve.SET_SOFA_MODELS,payload:N||[]}),i({type:ve.SET_PURCHASES,payload:E||[]}),i({type:ve.SET_SALES,payload:S||[]}),i({type:ve.SET_CLEANING_SERVICES,payload:w||[]}),i({type:ve.SET_NOTIFICATIONS,payload:P||[]}),i({type:ve.SET_PRODUCTIONS,payload:k||[]}),i({type:ve.SET_ORDERS,payload:D||[]})}catch(m){console.error("Failed to load all data:",m)}},h=async m=>{var x;try{const[v,b,N,E,S,w,P,k,D,T,A]=await Promise.all([he.getAll("suppliers","locationId",m),he.getAll("customers","locationId",m),he.getAll("rawMaterials","locationId",m),he.getAll("labourers","locationId",m),he.getAll("sofaModels","locationId",m),he.getAll("purchases","locationId",m),he.getAll("sales","locationId",m),he.getAll("cleaningServices","locationId",m),he.getAll("notifications","userId",(x=Sa.getCurrentUser())==null?void 0:x.id),he.getAll("productions","locationId",m),he.getAll("orders","locationId",m)]);i({type:ve.SET_SUPPLIERS,payload:v||[]}),i({type:ve.SET_CUSTOMERS,payload:b||[]}),i({type:ve.SET_RAW_MATERIALS,payload:N||[]}),i({type:ve.SET_LABOURERS,payload:E||[]}),i({type:ve.SET_SOFA_MODELS,payload:S||[]}),i({type:ve.SET_PURCHASES,payload:w||[]}),i({type:ve.SET_SALES,payload:P||[]}),i({type:ve.SET_CLEANING_SERVICES,payload:k||[]}),i({type:ve.SET_NOTIFICATIONS,payload:D||[]}),i({type:ve.SET_PRODUCTIONS,payload:T||[]}),i({type:ve.SET_ORDERS,payload:A||[]})}catch(v){console.error("Failed to load location data:",v)}},g={state:r,actions:{login:async m=>{try{const x=await Sa.login(m);return i({type:ve.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},logout:async()=>{try{await Sa.logout(),i({type:ve.LOGOUT})}catch(m){console.error("Logout failed:",m)}},createAdminAccount:async m=>{try{const x=await Sa.createAdminAccount(m);return i({type:ve.SET_USER,payload:x}),x}catch(x){throw console.error("Failed to create admin account:",x),x}},activateUserAccount:async(m,x)=>{try{const v=await Sa.activateUserAccount(m,x);return i({type:ve.SET_USER,payload:v}),await d(),v}catch(v){throw console.error("Failed to activate user account:",v),v}},getAllUsers:async()=>{try{return await he.getAll("users")}catch(m){throw console.error("Failed to get all users:",m),m}},loginUser:async m=>{try{const x=await Sa.login(m);return i({type:ve.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},addItem:async(m,x)=>{try{const v=await he.add(m,x),b=await he.get(m,v);return i({type:ve.ADD_ITEM,payload:{collection:m,item:b}}),b}catch(v){throw console.error(`Failed to add ${m} item:`,v),v}},updateItem:async(m,x)=>{try{return await he.update(m,x),i({type:ve.UPDATE_ITEM,payload:{collection:m,item:x}}),x}catch(v){throw console.error(`Failed to update ${m} item:`,v),v}},deleteItem:async(m,x)=>{try{await he.delete(m,x),i({type:ve.DELETE_ITEM,payload:{collection:m,id:x}})}catch(v){throw console.error(`Failed to delete ${m} item:`,v),v}},getAllOrders:async()=>{try{return await he.getAll("orders")||[]}catch(m){return console.error("Failed to get all orders:",m),[]}},setSidebarOpen:m=>{i({type:ve.SET_SIDEBAR_OPEN,payload:m})},setCurrentView:m=>{i({type:ve.SET_CURRENT_VIEW,payload:m})},setLocationFilter:m=>{i({type:ve.SET_LOCATION_FILTER,payload:m})},setDateFilter:m=>{i({type:ve.SET_DATE_FILTER,payload:m})},addNotification:async m=>{try{const x=await he.add("notifications",m),v=await he.get("notifications",x);return i({type:ve.ADD_NOTIFICATION,payload:v}),v}catch(x){throw console.error("Failed to add notification:",x),x}},markNotificationRead:async m=>{try{const x=await he.get("notifications",m);x&&(x.read=!0,await he.update("notifications",x),i({type:ve.MARK_NOTIFICATION_READ,payload:m}))}catch(x){console.error("Failed to mark notification as read:",x)}},updateCompany:async m=>{try{const x=await he.getAll("companies");if(x.length>0){const b={...x[0],...m};return await he.update("companies",b),i({type:ve.SET_COMPANY,payload:b}),b}else{const v=await he.add("companies",m),b=await he.get("companies",v);return i({type:ve.SET_COMPANY,payload:b}),b}}catch(x){throw console.error("Failed to update company:",x),x}},updateLocations:async m=>{try{const x=await he.getAll("locations");for(const b of x)await he.delete("locations",b.id);const v=[];for(const b of m){const N=await he.add("locations",b),E=await he.get("locations",N);v.push(E)}return i({type:ve.SET_LOCATIONS,payload:v}),v}catch(x){throw console.error("Failed to update locations:",x),x}},refreshData:async()=>{await d()}},auth:Sa};return a.jsx(Ig.Provider,{value:g,children:s})}function mt(){const s=j.useContext(Ig);if(!s)throw new Error("useApp must be used within an AppProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Vx=s=>{const r=bN(s);return r.charAt(0).toUpperCase()+r.slice(1)},Ug=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),NN=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},g)=>j.createElement("svg",{ref:g,...SN,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:Ug("lucide",d),...!f&&!NN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,x])=>j.createElement(m,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(s,r)=>{const i=j.forwardRef(({className:o,...d},f)=>j.createElement(wN,{ref:f,iconNode:r,className:Ug(`lucide-${jN(Vx(s))}`,`lucide-${s}`,o),...d}));return i.displayName=Vx(s),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Al=Oe("bell",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],EN=Oe("boxes",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Gx=Oe("building-2",TN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],DN=Oe("building",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ws=Oe("calendar",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yx=Oe("chart-column",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kN=Oe("chart-pie",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],LN=Oe("check",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qg=Oe("chevron-down",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qx=Oe("chevron-right",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qN=Oe("chevron-up",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kn=Oe("circle-check-big",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],af=Oe("circle-x",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],VN=Oe("clipboard-list",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],No=Oe("clock",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],co=Oe("database",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Da=Oe("dollar-sign",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],XN=Oe("download",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nf=Oe("eye",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Cs=Oe("factory",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cd=Oe("file-text",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eS=Oe("funnel",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],aS=Oe("house",tS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sS=Oe("image",nS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bg=Oe("mail",lS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sl=Oe("map-pin",rS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],oS=Oe("menu",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Id=Oe("message-circle",cS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Hg=Oe("message-square",uS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gn=Oe("package",dS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fg=Oe("phone",fS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ht=Oe("plus",mS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pS=Oe("save",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qa=Oe("search",xS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yS=Oe("send",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ud=Oe("settings",vS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],So=Oe("shopping-cart",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Os=Oe("square-pen",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Va=Oe("trash-2",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],$x=Oe("trending-down",SS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wo=Oe("trending-up",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sf=Oe("triangle-alert",CS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Vg=Oe("truck",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],TS=Oe("upload",ES);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],qd=Oe("user-check",MS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Co=Oe("user",DS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ao=Oe("users",OS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lf=Oe("x",_S);function Xx(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Ur(...s){return r=>{let i=!1;const o=s.map(d=>{const f=Xx(d,r);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():Xx(s[d],null)}}}}function lt(...s){return j.useCallback(Ur(...s),s)}var RS=Symbol.for("react.lazy"),Eo=tf[" use ".trim().toString()];function kS(s){return typeof s=="object"&&s!==null&&"then"in s}function Gg(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===RS&&"_payload"in s&&kS(s._payload)}function Yg(s){const r=PS(s),i=j.forwardRef((o,d)=>{let{children:f,...h}=o;Gg(f)&&typeof Eo=="function"&&(f=Eo(f._payload));const p=j.Children.toArray(f),g=p.find(zS);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}var Qg=Yg("Slot");function PS(s){const r=j.forwardRef((i,o)=>{let{children:d,...f}=i;if(Gg(d)&&typeof Eo=="function"&&(d=Eo(d._payload)),j.isValidElement(d)){const h=US(d),p=IS(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Ur(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var LS=Symbol("radix.slottable");function zS(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===LS}function IS(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function US(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function $g(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(r=0;r<d;r++)s[r]&&(i=$g(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function Xg(){for(var s,r,i=0,o="",d=arguments.length;i<d;i++)(s=arguments[i])&&(r=$g(s))&&(o&&(o+=" "),o+=r);return o}const Kx=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Zx=Xg,Kg=(s,r)=>i=>{var o;if((r==null?void 0:r.variants)==null)return Zx(s,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:d,defaultVariants:f}=r,h=Object.keys(d).map(m=>{const x=i==null?void 0:i[m],v=f==null?void 0:f[m];if(x===null)return null;const b=Kx(x)||Kx(v);return d[m][b]}),p=i&&Object.entries(i).reduce((m,x)=>{let[v,b]=x;return b===void 0||(m[v]=b),m},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((m,x)=>{let{class:v,className:b,...N}=x;return Object.entries(N).every(E=>{let[S,w]=E;return Array.isArray(w)?w.includes({...f,...p}[S]):{...f,...p}[S]===w})?[...m,v,b]:m},[]);return Zx(s,h,g,i==null?void 0:i.class,i==null?void 0:i.className)},qS=(s,r)=>{const i=new Array(s.length+r.length);for(let o=0;o<s.length;o++)i[o]=s[o];for(let o=0;o<r.length;o++)i[s.length+o]=r[o];return i},BS=(s,r)=>({classGroupId:s,validator:r}),Zg=(s=new Map,r=null,i)=>({nextPart:s,validators:r,classGroupId:i}),To="-",Wx=[],HS="arbitrary..",FS=s=>{const r=GS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return VS(h);const p=h.split(To),g=p[0]===""&&p.length>1?1:0;return Wg(p,g,r)},getConflictingClassGroupIds:(h,p)=>{if(p){const g=o[h],m=i[h];return g?m?qS(m,g):g:m||Wx}return i[h]||Wx}}},Wg=(s,r,i)=>{if(s.length-r===0)return i.classGroupId;const d=s[r],f=i.nextPart.get(d);if(f){const m=Wg(s,r+1,f);if(m)return m}const h=i.validators;if(h===null)return;const p=r===0?s.join(To):s.slice(r).join(To),g=h.length;for(let m=0;m<g;m++){const x=h[m];if(x.validator(p))return x.classGroupId}},VS=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=s.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?HS+o:void 0})(),GS=s=>{const{theme:r,classGroups:i}=s;return YS(i,r)},YS=(s,r)=>{const i=Zg();for(const o in s){const d=s[o];rf(d,i,o,r)}return i},rf=(s,r,i,o)=>{const d=s.length;for(let f=0;f<d;f++){const h=s[f];QS(h,r,i,o)}},QS=(s,r,i,o)=>{if(typeof s=="string"){$S(s,r,i);return}if(typeof s=="function"){XS(s,r,i,o);return}KS(s,r,i,o)},$S=(s,r,i)=>{const o=s===""?r:Jg(r,s);o.classGroupId=i},XS=(s,r,i,o)=>{if(ZS(s)){rf(s(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(BS(i,s))},KS=(s,r,i,o)=>{const d=Object.entries(s),f=d.length;for(let h=0;h<f;h++){const[p,g]=d[h];rf(g,Jg(r,p),i,o)}},Jg=(s,r)=>{let i=s;const o=r.split(To),d=o.length;for(let f=0;f<d;f++){const h=o[f];let p=i.nextPart.get(h);p||(p=Zg(),i.nextPart.set(h,p)),i=p}return i},ZS=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,WS=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const d=(f,h)=>{i[f]=h,r++,r>s&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return d(f,h),h},set(f,h){f in i?i[f]=h:d(f,h)}}},Bd="!",Jx=":",JS=[],eg=(s,r,i,o,d)=>({modifiers:s,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:d}),ew=s=>{const{prefix:r,experimentalParseClassName:i}=s;let o=d=>{const f=[];let h=0,p=0,g=0,m;const x=d.length;for(let S=0;S<x;S++){const w=d[S];if(h===0&&p===0){if(w===Jx){f.push(d.slice(g,S)),g=S+1;continue}if(w==="/"){m=S;continue}}w==="["?h++:w==="]"?h--:w==="("?p++:w===")"&&p--}const v=f.length===0?d:d.slice(g);let b=v,N=!1;v.endsWith(Bd)?(b=v.slice(0,-1),N=!0):v.startsWith(Bd)&&(b=v.slice(1),N=!0);const E=m&&m>g?m-g:void 0;return eg(f,N,b,E)};if(r){const d=r+Jx,f=o;o=h=>h.startsWith(d)?f(h.slice(d.length)):eg(JS,!1,h,void 0,!0)}if(i){const d=o;o=f=>i({className:f,parseClassName:d})}return o},tw=s=>{const r=new Map;return s.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let d=[];for(let f=0;f<i.length;f++){const h=i[f],p=h[0]==="[",g=r.has(h);p||g?(d.length>0&&(d.sort(),o.push(...d),d=[]),o.push(h)):d.push(h)}return d.length>0&&(d.sort(),o.push(...d)),o}},aw=s=>({cache:WS(s.cacheSize),parseClassName:ew(s),sortModifiers:tw(s),...FS(s)}),nw=/\s+/,sw=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:d,sortModifiers:f}=r,h=[],p=s.trim().split(nw);let g="";for(let m=p.length-1;m>=0;m-=1){const x=p[m],{isExternal:v,modifiers:b,hasImportantModifier:N,baseClassName:E,maybePostfixModifierPosition:S}=i(x);if(v){g=x+(g.length>0?" "+g:g);continue}let w=!!S,P=o(w?E.substring(0,S):E);if(!P){if(!w){g=x+(g.length>0?" "+g:g);continue}if(P=o(E),!P){g=x+(g.length>0?" "+g:g);continue}w=!1}const k=b.length===0?"":b.length===1?b[0]:f(b).join(":"),D=N?k+Bd:k,T=D+P;if(h.indexOf(T)>-1)continue;h.push(T);const A=d(P,w);for(let U=0;U<A.length;++U){const q=A[U];h.push(D+q)}g=x+(g.length>0?" "+g:g)}return g},lw=(...s)=>{let r=0,i,o,d="";for(;r<s.length;)(i=s[r++])&&(o=ey(i))&&(d&&(d+=" "),d+=o);return d},ey=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=ey(s[o]))&&(i&&(i+=" "),i+=r);return i},rw=(s,...r)=>{let i,o,d,f;const h=g=>{const m=r.reduce((x,v)=>v(x),s());return i=aw(m),o=i.cache.get,d=i.cache.set,f=p,p(g)},p=g=>{const m=o(g);if(m)return m;const x=sw(g,i);return d(g,x),x};return f=h,(...g)=>f(lw(...g))},iw=[],wt=s=>{const r=i=>i[s]||iw;return r.isThemeGetter=!0,r},ty=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ay=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ow=/^\d+\/\d+$/,cw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=s=>ow.test(s),Ue=s=>!!s&&!Number.isNaN(Number(s)),$n=s=>!!s&&Number.isInteger(Number(s)),Ad=s=>s.endsWith("%")&&Ue(s.slice(0,-1)),xn=s=>cw.test(s),hw=()=>!0,pw=s=>uw.test(s)&&!dw.test(s),ny=()=>!1,xw=s=>fw.test(s),gw=s=>mw.test(s),yw=s=>!Se(s)&&!we(s),vw=s=>Ml(s,ry,ny),Se=s=>ty.test(s),js=s=>Ml(s,iy,pw),Ed=s=>Ml(s,ww,Ue),tg=s=>Ml(s,sy,ny),jw=s=>Ml(s,ly,gw),uo=s=>Ml(s,oy,xw),we=s=>ay.test(s),Dr=s=>Dl(s,iy),bw=s=>Dl(s,Cw),ag=s=>Dl(s,sy),Nw=s=>Dl(s,ry),Sw=s=>Dl(s,ly),fo=s=>Dl(s,oy,!0),Ml=(s,r,i)=>{const o=ty.exec(s);return o?o[1]?r(o[1]):i(o[2]):!1},Dl=(s,r,i=!1)=>{const o=ay.exec(s);return o?o[1]?r(o[1]):i:!1},sy=s=>s==="position"||s==="percentage",ly=s=>s==="image"||s==="url",ry=s=>s==="length"||s==="size"||s==="bg-size",iy=s=>s==="length",ww=s=>s==="number",Cw=s=>s==="family-name",oy=s=>s==="shadow",Aw=()=>{const s=wt("color"),r=wt("font"),i=wt("text"),o=wt("font-weight"),d=wt("tracking"),f=wt("leading"),h=wt("breakpoint"),p=wt("container"),g=wt("spacing"),m=wt("radius"),x=wt("shadow"),v=wt("inset-shadow"),b=wt("text-shadow"),N=wt("drop-shadow"),E=wt("blur"),S=wt("perspective"),w=wt("aspect"),P=wt("ease"),k=wt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...T(),we,Se],U=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],V=()=>[we,Se,g],le=()=>[vl,"full","auto",...V()],F=()=>[$n,"none","subgrid",we,Se],G=()=>["auto",{span:["full",$n,we,Se]},$n,we,Se],J=()=>[$n,"auto",we,Se],Y=()=>["auto","min","max","fr",we,Se],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...V()],z=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],R=()=>[s,we,Se],$=()=>[...T(),ag,tg,{position:[we,Se]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",Nw,vw,{size:[we,Se]}],Z=()=>[Ad,Dr,js],ie=()=>["","none","full",m,we,Se],fe=()=>["",Ue,Dr,js],M=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ue,Ad,ag,tg],ye=()=>["","none",E,we,Se],ge=()=>["none",Ue,we,Se],Pe=()=>["none",Ue,we,Se],Be=()=>[Ue,we,Se],He=()=>[vl,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xn],breakpoint:[xn],color:[hw],container:[xn],"drop-shadow":[xn],ease:["in","out","in-out"],font:[yw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xn],shadow:[xn],spacing:["px",Ue],text:[xn],"text-shadow":[xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,Se,we,w]}],container:["container"],columns:[{columns:[Ue,Se,we,p]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:le()}],"inset-x":[{"inset-x":le()}],"inset-y":[{"inset-y":le()}],start:[{start:le()}],end:[{end:le()}],top:[{top:le()}],right:[{right:le()}],bottom:[{bottom:le()}],left:[{left:le()}],visibility:["visible","invisible","collapse"],z:[{z:[$n,"auto",we,Se]}],basis:[{basis:[vl,"full","auto",p,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,vl,"auto","initial","none",Se]}],grow:[{grow:["",Ue,we,Se]}],shrink:[{shrink:["",Ue,we,Se]}],order:[{order:[$n,"first","last","none",we,Se]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[p,"screen",...z()]}],"min-w":[{"min-w":[p,"screen","none",...z()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",i,Dr,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,we,Ed]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ad,Se]}],"font-family":[{font:[bw,Se,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,we,Se]}],"line-clamp":[{"line-clamp":[Ue,"none",we,Ed]}],leading:[{leading:[f,...V()]}],"list-image":[{"list-image":["none",we,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",we,js]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ue,"auto",we,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$n,we,Se],radial:["",we,Se],conic:[$n,we,Se]},Sw,jw]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,we,Se]}],"outline-w":[{outline:["",Ue,Dr,js]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",x,fo,uo]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",v,fo,uo]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ue,js]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",b,fo,uo]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ue,we,Se]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[we,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,Se]}],filter:[{filter:["","none",we,Se]}],blur:[{blur:ye()}],brightness:[{brightness:[Ue,we,Se]}],contrast:[{contrast:[Ue,we,Se]}],"drop-shadow":[{"drop-shadow":["","none",N,fo,uo]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ue,we,Se]}],"hue-rotate":[{"hue-rotate":[Ue,we,Se]}],invert:[{invert:["",Ue,we,Se]}],saturate:[{saturate:[Ue,we,Se]}],sepia:[{sepia:["",Ue,we,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",we,Se]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,we,Se]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,we,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,we,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,we,Se]}],"backdrop-invert":[{"backdrop-invert":["",Ue,we,Se]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,we,Se]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,we,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,we,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",we,Se]}],ease:[{ease:["linear","initial",P,we,Se]}],delay:[{delay:[Ue,we,Se]}],animate:[{animate:["none",k,we,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,we,Se]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[we,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,Se]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ue,Dr,js,Ed]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ew=rw(Aw);function qe(...s){return Ew(Xg(s))}function ke(s){return s==null?"NPR 0":`NPR ${Number(s).toLocaleString("en-NP")}`}function Oa(s){return s?new Date(s).toLocaleDateString("en-NP",{year:"numeric",month:"short",day:"numeric"}):""}function ng(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function sg(s){return/^(\+977)?[0-9]{10}$/.test(s.replace(/\s/g,""))}function cy(s,r){const i=s.replace(/\D/g,""),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function Tw(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||""}const De={PENDING_APPROVAL:{value:"pending_approval",label:"Pending Approval",color:"orange"},QUEUED:{value:"queued_for_production",label:"Queued for Production",color:"yellow"},IN_CONSTRUCTION:{value:"in_construction",label:"In Construction",color:"blue"},PENDING_INSPECTION:{value:"pending_final_inspection",label:"Pending Final Inspection",color:"purple"},COMPLETED:{value:"completed",label:"Completed",color:"green"}};function lg(s){switch(s){case De.COMPLETED.value:return"text-green-600 bg-green-100";case De.PENDING_APPROVAL.value:return"text-orange-600 bg-orange-100";case De.QUEUED.value:return"text-yellow-600 bg-yellow-100";case De.IN_CONSTRUCTION.value:return"text-blue-600 bg-blue-100";case De.PENDING_INSPECTION.value:return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}}const uy={supplierPayment:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

Dear ${r},

This is a confirmation for our recent transaction.

*Items Received:*
${i.map(h=>`- ${h.name}: ${h.quantity} ${h.unit}`).join(`
`)}

*Financials:*
- Amount Paid Today: ${ke(o)}
- Remaining Balance: ${ke(d)}

${f?"A copy of the payment receipt is attached.":""}

Thank you!

*${s.name}*
${s.phone}`,customerPaymentReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder that your payment of ${ke(i)} is due on ${Oa(o)}.

Thank you for your business!

*${s.name}*
${s.address}
${s.phone}`,cleaningReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder from *${s.name}* about your sofa cleaning appointment tomorrow at ${o}.

We look forward to serving you!

Sincerely,
*The Team at ${s.name}*
${s.address}
${s.phone}`,accountSettlement:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

*Subject: Statement of Account Settlement*

Dear ${r},

This is a confirmation from *${s.name}* that we have settled our mutual accounts.

*Summary:*
- Amount you were owed: ${ke(i)}
- Amount you owed us: ${ke(o)}

*Settlement:*
- The ${ke(i)} you were owed has been settled against the ${ke(o)} you owed us.

*FINAL RESULT:*
${d===0?"- Account settled. Balance is 0.":f?`- Your new remaining balance due to us is ${ke(Math.abs(d))}.`:`- Our new remaining balance due to you is ${ke(Math.abs(d))}.`}

Thank you.

*${s.name}*
${s.phone}`,orderStatus:(s,r,i,o)=>{let d="";switch(o){case De.PENDING_APPROVAL.value:d=`Your order #${i} has been received and is awaiting final approval. We will notify you when it is queued for production.`;break;case De.QUEUED.value:d=`Great news, ${r}! Your order #${i} has been approved and is now queued for production. We will begin construction soon.`;break;case De.IN_CONSTRUCTION.value:d=`Production has started! Your order #${i} is now in construction. We are working hard to craft your items.`;break;case De.PENDING_INSPECTION.value:d=`Your order #${i} is complete and is now undergoing final quality inspection. We will notify you when it is ready for delivery.`;break;case De.COMPLETED.value:d=`Congratulations, ${r}! Your order #${i} is complete and ready for delivery/pickup. Please contact us to arrange the final steps.`;break;default:d=`The status of your order #${i} has been updated to "${o}".`}return`*${s.name}*

Hi ${r},

${d}

Thank you for your business!

*${s.name}*
${s.phone}`},monthlyLabourReport:(s,r,i,o)=>`*${s.name}*

The Monthly Labour Report for ${Tw(r)} ${i} is ready.

Total payroll for the month: ${ke(o)}

Please review the detailed report in the app.

*${s.name}*`},Mw=Kg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ue({className:s,variant:r,size:i,asChild:o=!1,...d}){const f=o?Qg:"button";return a.jsx(f,{"data-slot":"button",className:qe(Mw({variant:r,size:i,className:s})),...d})}const Dw=Kg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _e({className:s,variant:r,asChild:i=!1,...o}){const d=i?Qg:"span";return a.jsx(d,{"data-slot":"badge",className:qe(Dw({variant:r}),s),...o})}const Ow=[{id:"dashboard",label:"Dashboard",icon:aS,roles:["admin","staff","labour_manager"]},{id:"inventory",label:"Inventory",icon:gn,roles:["admin","staff","labour_manager"],children:[{id:"raw-materials",label:"Raw Materials",icon:Cs},{id:"finished-products",label:"Finished Products",icon:gn}]},{id:"suppliers",label:"Suppliers",icon:Vg,roles:["admin","staff"]},{id:"customers",label:"Customers",icon:Ao,roles:["admin","staff"]},{id:"labour",label:"Labour",icon:qd,roles:["admin","labour_manager"]},{id:"sales",label:"Sales",icon:So,roles:["admin","staff"]},{id:"purchases",label:"Purchases",icon:Da,roles:["admin","staff"]},{id:"financials",label:"Financials",icon:Yx,roles:["admin"]},{id:"cleaning",label:"Cleaning Services",icon:ws,roles:["admin","staff"]},{id:"orders",label:"Orders",icon:So,roles:["admin","staff"]},{id:"production",label:"Production",icon:Cs,roles:["admin","staff","labour_manager"]},{id:"reports",label:"Reports",icon:Yx,roles:["admin","labour_manager"]},{id:"notifications",label:"Notifications",icon:Al,roles:["admin","staff"],children:[{id:"notification-queue",label:"Notification Queue",icon:Al},{id:"notification-settings",label:"Settings",icon:Ud}]},{id:"settings",label:"Settings",icon:Ud,roles:["admin"]}];function _w(){var v,b;const{state:s,actions:r}=mt(),{sidebarOpen:i,currentView:o,notifications:d,user:f}=s,h=f,p=d.filter(N=>!N.read).length,g=N=>h?N.roles.includes(h.role):!1,m=N=>{r.setCurrentView(N),window.innerWidth<768&&r.setSidebarOpen(!1)},x=()=>{r.setSidebarOpen(!i)};return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r.setSidebarOpen(!1)}),a.jsxs("div",{className:qe("fixed left-0 top-0 h-full bg-slate-800 text-white z-50 transform transition-transform duration-300 ease-in-out","w-64 md:w-72",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0"),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:a.jsx(Cs,{className:"w-5 h-5 text-slate-800"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Sofa Factory"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:x,className:"md:hidden text-white hover:bg-slate-700",children:a.jsx(lf,{className:"w-4 h-4"})})]}),h&&a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium",children:((b=(v=h.name)==null?void 0:v.charAt(0))==null?void 0:b.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),a.jsx("p",{className:"text-xs text-slate-400 capitalize",children:h.role.replace("_"," ")})]}),p>0&&a.jsx(_e,{variant:"destructive",className:"text-xs",children:p})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("ul",{className:"space-y-2",children:Ow.map(N=>{if(!g(N))return null;const E=N.icon,S=o===N.id||N.children&&N.children.some(w=>o===w.id);return a.jsxs("li",{children:[a.jsxs(ue,{variant:"ghost",className:qe("w-full justify-start text-left hover:bg-slate-700",S&&"bg-slate-700 text-amber-400"),onClick:()=>m(N.id),children:[a.jsx(E,{className:"w-4 h-4 mr-3"}),N.label,N.id==="dashboard"&&p>0&&a.jsx(_e,{variant:"destructive",className:"ml-auto text-xs",children:p})]}),N.children&&S&&a.jsx("ul",{className:"ml-6 mt-2 space-y-1",children:N.children.map(w=>{const P=w.icon,k=o===w.id;return a.jsx("li",{children:a.jsxs(ue,{variant:"ghost",size:"sm",className:qe("w-full justify-start text-left hover:bg-slate-700",k&&"bg-slate-600 text-amber-400"),onClick:()=>m(w.id),children:[a.jsx(P,{className:"w-3 h-3 mr-2"}),w.label]})},w.id)})})]},N.id)})})}),a.jsx("div",{className:"p-4 border-t border-slate-700",children:a.jsxs(ue,{variant:"ghost",className:"w-full justify-start text-left hover:bg-slate-700 text-slate-400",onClick:r.logout,children:[a.jsx(Ud,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]})}function Rw(){const{actions:s}=mt();return a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>s.setSidebarOpen(!0),className:"md:hidden",children:a.jsx(oS,{className:"w-5 h-5"})})}var qr=Lg();const kw=Pg(qr);function rg(s,[r,i]){return Math.min(i,Math.max(r,s))}function Ae(s,r,{checkForDefaultPrevented:i=!0}={}){return function(d){if(s==null||s(d),i===!1||!d.defaultPrevented)return r==null?void 0:r(d)}}function Pw(s,r){const i=j.createContext(r),o=f=>{const{children:h,...p}=f,g=j.useMemo(()=>p,Object.values(p));return a.jsx(i.Provider,{value:g,children:h})};o.displayName=s+"Provider";function d(f){const h=j.useContext(i);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[o,d]}function jn(s,r=[]){let i=[];function o(f,h){const p=j.createContext(h),g=i.length;i=[...i,h];const m=v=>{var P;const{scope:b,children:N,...E}=v,S=((P=b==null?void 0:b[s])==null?void 0:P[g])||p,w=j.useMemo(()=>E,Object.values(E));return a.jsx(S.Provider,{value:w,children:N})};m.displayName=f+"Provider";function x(v,b){var S;const N=((S=b==null?void 0:b[s])==null?void 0:S[g])||p,E=j.useContext(N);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${f}\``)}return[m,x]}const d=()=>{const f=i.map(h=>j.createContext(h));return function(p){const g=(p==null?void 0:p[s])||f;return j.useMemo(()=>({[`__scope${s}`]:{...p,[s]:g}}),[p,g])}};return d.scopeName=s,[o,Lw(d,...r)]}function Lw(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const h=o.reduce((p,{useScope:g,scopeName:m})=>{const v=g(f)[`__scope${m}`];return{...p,...v}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:h}),[h])}};return i.scopeName=r.scopeName,i}function El(s){const r=zw(s),i=j.forwardRef((o,d)=>{const{children:f,...h}=o,p=j.Children.toArray(f),g=p.find(Uw);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}function zw(s){const r=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const h=Bw(d),p=qw(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Ur(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var Iw=Symbol("radix.slottable");function Uw(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Iw}function qw(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function Bw(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function of(s){const r=s+"CollectionProvider",[i,o]=jn(r),[d,f]=i(r,{collectionRef:{current:null},itemMap:new Map}),h=S=>{const{scope:w,children:P}=S,k=wa.useRef(null),D=wa.useRef(new Map).current;return a.jsx(d,{scope:w,itemMap:D,collectionRef:k,children:P})};h.displayName=r;const p=s+"CollectionSlot",g=El(p),m=wa.forwardRef((S,w)=>{const{scope:P,children:k}=S,D=f(p,P),T=lt(w,D.collectionRef);return a.jsx(g,{ref:T,children:k})});m.displayName=p;const x=s+"CollectionItemSlot",v="data-radix-collection-item",b=El(x),N=wa.forwardRef((S,w)=>{const{scope:P,children:k,...D}=S,T=wa.useRef(null),A=lt(w,T),U=f(x,P);return wa.useEffect(()=>(U.itemMap.set(T,{ref:T,...D}),()=>void U.itemMap.delete(T))),a.jsx(b,{[v]:"",ref:A,children:k})});N.displayName=x;function E(S){const w=f(s+"CollectionConsumer",S);return wa.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const D=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(w.itemMap.values()).sort((U,q)=>D.indexOf(U.ref.current)-D.indexOf(q.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:h,Slot:m,ItemSlot:N},E,o]}var Hw=j.createContext(void 0);function zo(s){const r=j.useContext(Hw);return s||r||"ltr"}var Fw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=Fw.reduce((s,r)=>{const i=El(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function dy(s,r){s&&qr.flushSync(()=>s.dispatchEvent(r))}function Ga(s){const r=j.useRef(s);return j.useEffect(()=>{r.current=s}),j.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Vw(s,r=globalThis==null?void 0:globalThis.document){const i=Ga(s);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Gw="DismissableLayer",Hd="dismissableLayer.update",Yw="dismissableLayer.pointerDownOutside",Qw="dismissableLayer.focusOutside",ig,fy=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Io=j.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,...g}=s,m=j.useContext(fy),[x,v]=j.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=j.useState({}),E=lt(r,q=>v(q)),S=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=S.indexOf(w),k=x?S.indexOf(x):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,T=k>=P,A=Kw(q=>{const V=q.target,le=[...m.branches].some(F=>F.contains(V));!T||le||(d==null||d(q),h==null||h(q),q.defaultPrevented||p==null||p())},b),U=Zw(q=>{const V=q.target;[...m.branches].some(F=>F.contains(V))||(f==null||f(q),h==null||h(q),q.defaultPrevented||p==null||p())},b);return Vw(q=>{k===m.layers.size-1&&(o==null||o(q),!q.defaultPrevented&&p&&(q.preventDefault(),p()))},b),j.useEffect(()=>{if(x)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(ig=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),og(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=ig)}},[x,b,i,m]),j.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),og())},[x,m]),j.useEffect(()=>{const q=()=>N({});return document.addEventListener(Hd,q),()=>document.removeEventListener(Hd,q)},[]),a.jsx(Ie.div,{...g,ref:E,style:{pointerEvents:D?T?"auto":"none":void 0,...s.style},onFocusCapture:Ae(s.onFocusCapture,U.onFocusCapture),onBlurCapture:Ae(s.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ae(s.onPointerDownCapture,A.onPointerDownCapture)})});Io.displayName=Gw;var $w="DismissableLayerBranch",Xw=j.forwardRef((s,r)=>{const i=j.useContext(fy),o=j.useRef(null),d=lt(r,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),a.jsx(Ie.div,{...s,ref:d})});Xw.displayName=$w;function Kw(s,r=globalThis==null?void 0:globalThis.document){const i=Ga(s),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=p=>{if(p.target&&!o.current){let g=function(){my(Yw,i,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=g,r.addEventListener("click",d.current,{once:!0})):g()}else r.removeEventListener("click",d.current);o.current=!1},h=window.setTimeout(()=>{r.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(h),r.removeEventListener("pointerdown",f),r.removeEventListener("click",d.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Zw(s,r=globalThis==null?void 0:globalThis.document){const i=Ga(s),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&my(Qw,i,{originalEvent:f},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function og(){const s=new CustomEvent(Hd);document.dispatchEvent(s)}function my(s,r,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&d.addEventListener(s,r,{once:!0}),o?dy(d,f):d.dispatchEvent(f)}var Td=0;function cf(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??cg()),document.body.insertAdjacentElement("beforeend",s[1]??cg()),Td++,()=>{Td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Td--}},[])}function cg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Md="focusScope.autoFocusOnMount",Dd="focusScope.autoFocusOnUnmount",ug={bubbles:!1,cancelable:!0},Ww="FocusScope",Uo=j.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...h}=s,[p,g]=j.useState(null),m=Ga(d),x=Ga(f),v=j.useRef(null),b=lt(r,S=>g(S)),N=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let S=function(D){if(N.paused||!p)return;const T=D.target;p.contains(T)?v.current=T:Xn(v.current,{select:!0})},w=function(D){if(N.paused||!p)return;const T=D.relatedTarget;T!==null&&(p.contains(T)||Xn(v.current,{select:!0}))},P=function(D){if(document.activeElement===document.body)for(const A of D)A.removedNodes.length>0&&Xn(p)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const k=new MutationObserver(P);return p&&k.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),k.disconnect()}}},[o,p,N.paused]),j.useEffect(()=>{if(p){fg.add(N);const S=document.activeElement;if(!p.contains(S)){const P=new CustomEvent(Md,ug);p.addEventListener(Md,m),p.dispatchEvent(P),P.defaultPrevented||(Jw(s1(hy(p)),{select:!0}),document.activeElement===S&&Xn(p))}return()=>{p.removeEventListener(Md,m),setTimeout(()=>{const P=new CustomEvent(Dd,ug);p.addEventListener(Dd,x),p.dispatchEvent(P),P.defaultPrevented||Xn(S??document.body,{select:!0}),p.removeEventListener(Dd,x),fg.remove(N)},0)}}},[p,m,x,N]);const E=j.useCallback(S=>{if(!i&&!o||N.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,P=document.activeElement;if(w&&P){const k=S.currentTarget,[D,T]=e1(k);D&&T?!S.shiftKey&&P===T?(S.preventDefault(),i&&Xn(D,{select:!0})):S.shiftKey&&P===D&&(S.preventDefault(),i&&Xn(T,{select:!0})):P===k&&S.preventDefault()}},[i,o,N.paused]);return a.jsx(Ie.div,{tabIndex:-1,...h,ref:b,onKeyDown:E})});Uo.displayName=Ww;function Jw(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(Xn(o,{select:r}),document.activeElement!==i)return}function e1(s){const r=hy(s),i=dg(r,s),o=dg(r.reverse(),s);return[i,o]}function hy(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function dg(s,r){for(const i of s)if(!t1(i,{upTo:r}))return i}function t1(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function a1(s){return s instanceof HTMLInputElement&&"select"in s}function Xn(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&a1(s)&&r&&s.select()}}var fg=n1();function n1(){let s=[];return{add(r){const i=s[0];r!==i&&(i==null||i.pause()),s=mg(s,r),s.unshift(r)},remove(r){var i;s=mg(s,r),(i=s[0])==null||i.resume()}}}function mg(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function s1(s){return s.filter(r=>r.tagName!=="A")}var Ft=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},l1=tf[" useId ".trim().toString()]||(()=>{}),r1=0;function Ha(s){const[r,i]=j.useState(l1());return Ft(()=>{i(o=>o??String(r1++))},[s]),s||(r?`radix-${r}`:"")}const i1=["top","right","bottom","left"],Zn=Math.min,da=Math.max,Mo=Math.round,mo=Math.floor,Fa=s=>({x:s,y:s}),o1={left:"right",right:"left",bottom:"top",top:"bottom"},c1={start:"end",end:"start"};function Fd(s,r,i){return da(s,Zn(r,i))}function yn(s,r){return typeof s=="function"?s(r):s}function vn(s){return s.split("-")[0]}function Ol(s){return s.split("-")[1]}function uf(s){return s==="x"?"y":"x"}function df(s){return s==="y"?"height":"width"}const u1=new Set(["top","bottom"]);function Ba(s){return u1.has(vn(s))?"y":"x"}function ff(s){return uf(Ba(s))}function d1(s,r,i){i===void 0&&(i=!1);const o=Ol(s),d=ff(s),f=df(d);let h=d==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[f]>r.floating[f]&&(h=Do(h)),[h,Do(h)]}function f1(s){const r=Do(s);return[Vd(s),r,Vd(r)]}function Vd(s){return s.replace(/start|end/g,r=>c1[r])}const hg=["left","right"],pg=["right","left"],m1=["top","bottom"],h1=["bottom","top"];function p1(s,r,i){switch(s){case"top":case"bottom":return i?r?pg:hg:r?hg:pg;case"left":case"right":return r?m1:h1;default:return[]}}function x1(s,r,i,o){const d=Ol(s);let f=p1(vn(s),i==="start",o);return d&&(f=f.map(h=>h+"-"+d),r&&(f=f.concat(f.map(Vd)))),f}function Do(s){return s.replace(/left|right|bottom|top/g,r=>o1[r])}function g1(s){return{top:0,right:0,bottom:0,left:0,...s}}function py(s){return typeof s!="number"?g1(s):{top:s,right:s,bottom:s,left:s}}function Oo(s){const{x:r,y:i,width:o,height:d}=s;return{width:o,height:d,top:i,left:r,right:r+o,bottom:i+d,x:r,y:i}}function xg(s,r,i){let{reference:o,floating:d}=s;const f=Ba(r),h=ff(r),p=df(h),g=vn(r),m=f==="y",x=o.x+o.width/2-d.width/2,v=o.y+o.height/2-d.height/2,b=o[p]/2-d[p]/2;let N;switch(g){case"top":N={x,y:o.y-d.height};break;case"bottom":N={x,y:o.y+o.height};break;case"right":N={x:o.x+o.width,y:v};break;case"left":N={x:o.x-d.width,y:v};break;default:N={x:o.x,y:o.y}}switch(Ol(r)){case"start":N[h]-=b*(i&&m?-1:1);break;case"end":N[h]+=b*(i&&m?-1:1);break}return N}const y1=async(s,r,i)=>{const{placement:o="bottom",strategy:d="absolute",middleware:f=[],platform:h}=i,p=f.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(r));let m=await h.getElementRects({reference:s,floating:r,strategy:d}),{x,y:v}=xg(m,o,g),b=o,N={},E=0;for(let S=0;S<p.length;S++){const{name:w,fn:P}=p[S],{x:k,y:D,data:T,reset:A}=await P({x,y:v,initialPlacement:o,placement:b,strategy:d,middlewareData:N,rects:m,platform:h,elements:{reference:s,floating:r}});x=k??x,v=D??v,N={...N,[w]:{...N[w],...T}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(m=A.rects===!0?await h.getElementRects({reference:s,floating:r,strategy:d}):A.rects),{x,y:v}=xg(m,b,g)),S=-1)}return{x,y:v,placement:b,strategy:d,middlewareData:N}};async function Pr(s,r){var i;r===void 0&&(r={});const{x:o,y:d,platform:f,rects:h,elements:p,strategy:g}=s,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:b=!1,padding:N=0}=yn(r,s),E=py(N),w=p[b?v==="floating"?"reference":"floating":v],P=Oo(await f.getClippingRect({element:(i=await(f.isElement==null?void 0:f.isElement(w)))==null||i?w:w.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(p.floating)),boundary:m,rootBoundary:x,strategy:g})),k=v==="floating"?{x:o,y:d,width:h.floating.width,height:h.floating.height}:h.reference,D=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p.floating)),T=await(f.isElement==null?void 0:f.isElement(D))?await(f.getScale==null?void 0:f.getScale(D))||{x:1,y:1}:{x:1,y:1},A=Oo(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:k,offsetParent:D,strategy:g}):k);return{top:(P.top-A.top+E.top)/T.y,bottom:(A.bottom-P.bottom+E.bottom)/T.y,left:(P.left-A.left+E.left)/T.x,right:(A.right-P.right+E.right)/T.x}}const v1=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:d,rects:f,platform:h,elements:p,middlewareData:g}=r,{element:m,padding:x=0}=yn(s,r)||{};if(m==null)return{};const v=py(x),b={x:i,y:o},N=ff(d),E=df(N),S=await h.getDimensions(m),w=N==="y",P=w?"top":"left",k=w?"bottom":"right",D=w?"clientHeight":"clientWidth",T=f.reference[E]+f.reference[N]-b[N]-f.floating[E],A=b[N]-f.reference[N],U=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let q=U?U[D]:0;(!q||!await(h.isElement==null?void 0:h.isElement(U)))&&(q=p.floating[D]||f.floating[E]);const V=T/2-A/2,le=q/2-S[E]/2-1,F=Zn(v[P],le),G=Zn(v[k],le),J=F,Y=q-S[E]-G,H=q/2-S[E]/2+V,I=Fd(J,H,Y),O=!g.arrow&&Ol(d)!=null&&H!==I&&f.reference[E]/2-(H<J?F:G)-S[E]/2<0,z=O?H<J?H-J:H-Y:0;return{[N]:b[N]+z,data:{[N]:I,centerOffset:H-I-z,...O&&{alignmentOffset:z}},reset:O}}}),j1=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:d,middlewareData:f,rects:h,initialPlacement:p,platform:g,elements:m}=r,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...w}=yn(s,r);if((i=f.arrow)!=null&&i.alignmentOffset)return{};const P=vn(d),k=Ba(p),D=vn(p)===p,T=await(g.isRTL==null?void 0:g.isRTL(m.floating)),A=b||(D||!S?[Do(p)]:f1(p)),U=E!=="none";!b&&U&&A.push(...x1(p,S,E,T));const q=[p,...A],V=await Pr(r,w),le=[];let F=((o=f.flip)==null?void 0:o.overflows)||[];if(x&&le.push(V[P]),v){const H=d1(d,h,T);le.push(V[H[0]],V[H[1]])}if(F=[...F,{placement:d,overflows:le}],!le.every(H=>H<=0)){var G,J;const H=(((G=f.flip)==null?void 0:G.index)||0)+1,I=q[H];if(I&&(!(v==="alignment"?k!==Ba(I):!1)||F.every(R=>Ba(R.placement)===k?R.overflows[0]>0:!0)))return{data:{index:H,overflows:F},reset:{placement:I}};let O=(J=F.filter(z=>z.overflows[0]<=0).sort((z,R)=>z.overflows[1]-R.overflows[1])[0])==null?void 0:J.placement;if(!O)switch(N){case"bestFit":{var Y;const z=(Y=F.filter(R=>{if(U){const $=Ba(R.placement);return $===k||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,ce)=>$+ce,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:Y[0];z&&(O=z);break}case"initialPlacement":O=p;break}if(d!==O)return{reset:{placement:O}}}return{}}}};function gg(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function yg(s){return i1.some(r=>s[r]>=0)}const b1=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...d}=yn(s,r);switch(o){case"referenceHidden":{const f=await Pr(r,{...d,elementContext:"reference"}),h=gg(f,i.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:yg(h)}}}case"escaped":{const f=await Pr(r,{...d,altBoundary:!0}),h=gg(f,i.floating);return{data:{escapedOffsets:h,escaped:yg(h)}}}default:return{}}}}},xy=new Set(["left","top"]);async function N1(s,r){const{placement:i,platform:o,elements:d}=s,f=await(o.isRTL==null?void 0:o.isRTL(d.floating)),h=vn(i),p=Ol(i),g=Ba(i)==="y",m=xy.has(h)?-1:1,x=f&&g?-1:1,v=yn(r,s);let{mainAxis:b,crossAxis:N,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return p&&typeof E=="number"&&(N=p==="end"?E*-1:E),g?{x:N*x,y:b*m}:{x:b*m,y:N*x}}const S1=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:d,y:f,placement:h,middlewareData:p}=r,g=await N1(r,s);return h===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:d+g.x,y:f+g.y,data:{...g,placement:h}}}}},w1=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:d}=r,{mainAxis:f=!0,crossAxis:h=!1,limiter:p={fn:w=>{let{x:P,y:k}=w;return{x:P,y:k}}},...g}=yn(s,r),m={x:i,y:o},x=await Pr(r,g),v=Ba(vn(d)),b=uf(v);let N=m[b],E=m[v];if(f){const w=b==="y"?"top":"left",P=b==="y"?"bottom":"right",k=N+x[w],D=N-x[P];N=Fd(k,N,D)}if(h){const w=v==="y"?"top":"left",P=v==="y"?"bottom":"right",k=E+x[w],D=E-x[P];E=Fd(k,E,D)}const S=p.fn({...r,[b]:N,[v]:E});return{...S,data:{x:S.x-i,y:S.y-o,enabled:{[b]:f,[v]:h}}}}}},C1=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:d,rects:f,middlewareData:h}=r,{offset:p=0,mainAxis:g=!0,crossAxis:m=!0}=yn(s,r),x={x:i,y:o},v=Ba(d),b=uf(v);let N=x[b],E=x[v];const S=yn(p,r),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(g){const D=b==="y"?"height":"width",T=f.reference[b]-f.floating[D]+w.mainAxis,A=f.reference[b]+f.reference[D]-w.mainAxis;N<T?N=T:N>A&&(N=A)}if(m){var P,k;const D=b==="y"?"width":"height",T=xy.has(vn(d)),A=f.reference[v]-f.floating[D]+(T&&((P=h.offset)==null?void 0:P[v])||0)+(T?0:w.crossAxis),U=f.reference[v]+f.reference[D]+(T?0:((k=h.offset)==null?void 0:k[v])||0)-(T?w.crossAxis:0);E<A?E=A:E>U&&(E=U)}return{[b]:N,[v]:E}}}},A1=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:d,rects:f,platform:h,elements:p}=r,{apply:g=()=>{},...m}=yn(s,r),x=await Pr(r,m),v=vn(d),b=Ol(d),N=Ba(d)==="y",{width:E,height:S}=f.floating;let w,P;v==="top"||v==="bottom"?(w=v,P=b===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(P=v,w=b==="end"?"top":"bottom");const k=S-x.top-x.bottom,D=E-x.left-x.right,T=Zn(S-x[w],k),A=Zn(E-x[P],D),U=!r.middlewareData.shift;let q=T,V=A;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(V=D),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(q=k),U&&!b){const F=da(x.left,0),G=da(x.right,0),J=da(x.top,0),Y=da(x.bottom,0);N?V=E-2*(F!==0||G!==0?F+G:da(x.left,x.right)):q=S-2*(J!==0||Y!==0?J+Y:da(x.top,x.bottom))}await g({...r,availableWidth:V,availableHeight:q});const le=await h.getDimensions(p.floating);return E!==le.width||S!==le.height?{reset:{rects:!0}}:{}}}};function qo(){return typeof window<"u"}function _l(s){return gy(s)?(s.nodeName||"").toLowerCase():"#document"}function fa(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function $a(s){var r;return(r=(gy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function gy(s){return qo()?s instanceof Node||s instanceof fa(s).Node:!1}function _a(s){return qo()?s instanceof Element||s instanceof fa(s).Element:!1}function Ya(s){return qo()?s instanceof HTMLElement||s instanceof fa(s).HTMLElement:!1}function vg(s){return!qo()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof fa(s).ShadowRoot}const E1=new Set(["inline","contents"]);function Br(s){const{overflow:r,overflowX:i,overflowY:o,display:d}=Ra(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!E1.has(d)}const T1=new Set(["table","td","th"]);function M1(s){return T1.has(_l(s))}const D1=[":popover-open",":modal"];function Bo(s){return D1.some(r=>{try{return s.matches(r)}catch{return!1}})}const O1=["transform","translate","scale","rotate","perspective"],_1=["transform","translate","scale","rotate","perspective","filter"],R1=["paint","layout","strict","content"];function mf(s){const r=hf(),i=_a(s)?Ra(s):s;return O1.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||_1.some(o=>(i.willChange||"").includes(o))||R1.some(o=>(i.contain||"").includes(o))}function k1(s){let r=Wn(s);for(;Ya(r)&&!Tl(r);){if(mf(r))return r;if(Bo(r))return null;r=Wn(r)}return null}function hf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P1=new Set(["html","body","#document"]);function Tl(s){return P1.has(_l(s))}function Ra(s){return fa(s).getComputedStyle(s)}function Ho(s){return _a(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Wn(s){if(_l(s)==="html")return s;const r=s.assignedSlot||s.parentNode||vg(s)&&s.host||$a(s);return vg(r)?r.host:r}function yy(s){const r=Wn(s);return Tl(r)?s.ownerDocument?s.ownerDocument.body:s.body:Ya(r)&&Br(r)?r:yy(r)}function Lr(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const d=yy(s),f=d===((o=s.ownerDocument)==null?void 0:o.body),h=fa(d);if(f){const p=Gd(h);return r.concat(h,h.visualViewport||[],Br(d)?d:[],p&&i?Lr(p):[])}return r.concat(d,Lr(d,[],i))}function Gd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function vy(s){const r=Ra(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const d=Ya(s),f=d?s.offsetWidth:i,h=d?s.offsetHeight:o,p=Mo(i)!==f||Mo(o)!==h;return p&&(i=f,o=h),{width:i,height:o,$:p}}function pf(s){return _a(s)?s:s.contextElement}function wl(s){const r=pf(s);if(!Ya(r))return Fa(1);const i=r.getBoundingClientRect(),{width:o,height:d,$:f}=vy(r);let h=(f?Mo(i.width):i.width)/o,p=(f?Mo(i.height):i.height)/d;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const L1=Fa(0);function jy(s){const r=fa(s);return!hf()||!r.visualViewport?L1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function z1(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==fa(s)?!1:r}function As(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const d=s.getBoundingClientRect(),f=pf(s);let h=Fa(1);r&&(o?_a(o)&&(h=wl(o)):h=wl(s));const p=z1(f,i,o)?jy(f):Fa(0);let g=(d.left+p.x)/h.x,m=(d.top+p.y)/h.y,x=d.width/h.x,v=d.height/h.y;if(f){const b=fa(f),N=o&&_a(o)?fa(o):o;let E=b,S=Gd(E);for(;S&&o&&N!==E;){const w=wl(S),P=S.getBoundingClientRect(),k=Ra(S),D=P.left+(S.clientLeft+parseFloat(k.paddingLeft))*w.x,T=P.top+(S.clientTop+parseFloat(k.paddingTop))*w.y;g*=w.x,m*=w.y,x*=w.x,v*=w.y,g+=D,m+=T,E=fa(S),S=Gd(E)}}return Oo({width:x,height:v,x:g,y:m})}function Fo(s,r){const i=Ho(s).scrollLeft;return r?r.left+i:As($a(s)).left+i}function by(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-Fo(s,i),d=i.top+r.scrollTop;return{x:o,y:d}}function I1(s){let{elements:r,rect:i,offsetParent:o,strategy:d}=s;const f=d==="fixed",h=$a(o),p=r?Bo(r.floating):!1;if(o===h||p&&f)return i;let g={scrollLeft:0,scrollTop:0},m=Fa(1);const x=Fa(0),v=Ya(o);if((v||!v&&!f)&&((_l(o)!=="body"||Br(h))&&(g=Ho(o)),Ya(o))){const N=As(o);m=wl(o),x.x=N.x+o.clientLeft,x.y=N.y+o.clientTop}const b=h&&!v&&!f?by(h,g):Fa(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-g.scrollLeft*m.x+x.x+b.x,y:i.y*m.y-g.scrollTop*m.y+x.y+b.y}}function U1(s){return Array.from(s.getClientRects())}function q1(s){const r=$a(s),i=Ho(s),o=s.ownerDocument.body,d=da(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),f=da(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let h=-i.scrollLeft+Fo(s);const p=-i.scrollTop;return Ra(o).direction==="rtl"&&(h+=da(r.clientWidth,o.clientWidth)-d),{width:d,height:f,x:h,y:p}}const jg=25;function B1(s,r){const i=fa(s),o=$a(s),d=i.visualViewport;let f=o.clientWidth,h=o.clientHeight,p=0,g=0;if(d){f=d.width,h=d.height;const x=hf();(!x||x&&r==="fixed")&&(p=d.offsetLeft,g=d.offsetTop)}const m=Fo(o);if(m<=0){const x=o.ownerDocument,v=x.body,b=getComputedStyle(v),N=x.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(o.clientWidth-v.clientWidth-N);E<=jg&&(f-=E)}else m<=jg&&(f+=m);return{width:f,height:h,x:p,y:g}}const H1=new Set(["absolute","fixed"]);function F1(s,r){const i=As(s,!0,r==="fixed"),o=i.top+s.clientTop,d=i.left+s.clientLeft,f=Ya(s)?wl(s):Fa(1),h=s.clientWidth*f.x,p=s.clientHeight*f.y,g=d*f.x,m=o*f.y;return{width:h,height:p,x:g,y:m}}function bg(s,r,i){let o;if(r==="viewport")o=B1(s,i);else if(r==="document")o=q1($a(s));else if(_a(r))o=F1(r,i);else{const d=jy(s);o={x:r.x-d.x,y:r.y-d.y,width:r.width,height:r.height}}return Oo(o)}function Ny(s,r){const i=Wn(s);return i===r||!_a(i)||Tl(i)?!1:Ra(i).position==="fixed"||Ny(i,r)}function V1(s,r){const i=r.get(s);if(i)return i;let o=Lr(s,[],!1).filter(p=>_a(p)&&_l(p)!=="body"),d=null;const f=Ra(s).position==="fixed";let h=f?Wn(s):s;for(;_a(h)&&!Tl(h);){const p=Ra(h),g=mf(h);!g&&p.position==="fixed"&&(d=null),(f?!g&&!d:!g&&p.position==="static"&&!!d&&H1.has(d.position)||Br(h)&&!g&&Ny(s,h))?o=o.filter(x=>x!==h):d=p,h=Wn(h)}return r.set(s,o),o}function G1(s){let{element:r,boundary:i,rootBoundary:o,strategy:d}=s;const h=[...i==="clippingAncestors"?Bo(r)?[]:V1(r,this._c):[].concat(i),o],p=h[0],g=h.reduce((m,x)=>{const v=bg(r,x,d);return m.top=da(v.top,m.top),m.right=Zn(v.right,m.right),m.bottom=Zn(v.bottom,m.bottom),m.left=da(v.left,m.left),m},bg(r,p,d));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Y1(s){const{width:r,height:i}=vy(s);return{width:r,height:i}}function Q1(s,r,i){const o=Ya(r),d=$a(r),f=i==="fixed",h=As(s,!0,f,r);let p={scrollLeft:0,scrollTop:0};const g=Fa(0);function m(){g.x=Fo(d)}if(o||!o&&!f)if((_l(r)!=="body"||Br(d))&&(p=Ho(r)),o){const N=As(r,!0,f,r);g.x=N.x+r.clientLeft,g.y=N.y+r.clientTop}else d&&m();f&&!o&&d&&m();const x=d&&!o&&!f?by(d,p):Fa(0),v=h.left+p.scrollLeft-g.x-x.x,b=h.top+p.scrollTop-g.y-x.y;return{x:v,y:b,width:h.width,height:h.height}}function Od(s){return Ra(s).position==="static"}function Ng(s,r){if(!Ya(s)||Ra(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return $a(s)===i&&(i=i.ownerDocument.body),i}function Sy(s,r){const i=fa(s);if(Bo(s))return i;if(!Ya(s)){let d=Wn(s);for(;d&&!Tl(d);){if(_a(d)&&!Od(d))return d;d=Wn(d)}return i}let o=Ng(s,r);for(;o&&M1(o)&&Od(o);)o=Ng(o,r);return o&&Tl(o)&&Od(o)&&!mf(o)?i:o||k1(s)||i}const $1=async function(s){const r=this.getOffsetParent||Sy,i=this.getDimensions,o=await i(s.floating);return{reference:Q1(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function X1(s){return Ra(s).direction==="rtl"}const K1={convertOffsetParentRelativeRectToViewportRelativeRect:I1,getDocumentElement:$a,getClippingRect:G1,getOffsetParent:Sy,getElementRects:$1,getClientRects:U1,getDimensions:Y1,getScale:wl,isElement:_a,isRTL:X1};function wy(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function Z1(s,r){let i=null,o;const d=$a(s);function f(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function h(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),f();const m=s.getBoundingClientRect(),{left:x,top:v,width:b,height:N}=m;if(p||r(),!b||!N)return;const E=mo(v),S=mo(d.clientWidth-(x+b)),w=mo(d.clientHeight-(v+N)),P=mo(x),D={rootMargin:-E+"px "+-S+"px "+-w+"px "+-P+"px",threshold:da(0,Zn(1,g))||1};let T=!0;function A(U){const q=U[0].intersectionRatio;if(q!==g){if(!T)return h();q?h(!1,q):o=setTimeout(()=>{h(!1,1e-7)},1e3)}q===1&&!wy(m,s.getBoundingClientRect())&&h(),T=!1}try{i=new IntersectionObserver(A,{...D,root:d.ownerDocument})}catch{i=new IntersectionObserver(A,D)}i.observe(s)}return h(!0),f}function W1(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:d=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,m=pf(s),x=d||f?[...m?Lr(m):[],...Lr(r)]:[];x.forEach(P=>{d&&P.addEventListener("scroll",i,{passive:!0}),f&&P.addEventListener("resize",i)});const v=m&&p?Z1(m,i):null;let b=-1,N=null;h&&(N=new ResizeObserver(P=>{let[k]=P;k&&k.target===m&&N&&(N.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=N)==null||D.observe(r)})),i()}),m&&!g&&N.observe(m),N.observe(r));let E,S=g?As(s):null;g&&w();function w(){const P=As(s);S&&!wy(S,P)&&i(),S=P,E=requestAnimationFrame(w)}return i(),()=>{var P;x.forEach(k=>{d&&k.removeEventListener("scroll",i),f&&k.removeEventListener("resize",i)}),v==null||v(),(P=N)==null||P.disconnect(),N=null,g&&cancelAnimationFrame(E)}}const J1=S1,e2=w1,t2=j1,a2=A1,n2=b1,Sg=v1,s2=C1,l2=(s,r,i)=>{const o=new Map,d={platform:K1,...i},f={...d.platform,_c:o};return y1(s,r,{...d,platform:f})};var r2=typeof document<"u",i2=function(){},vo=r2?j.useLayoutEffect:i2;function _o(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,d;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!_o(s[o],r[o]))return!1;return!0}if(d=Object.keys(s),i=d.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,d[o]))return!1;for(o=i;o--!==0;){const f=d[o];if(!(f==="_owner"&&s.$$typeof)&&!_o(s[f],r[f]))return!1}return!0}return s!==s&&r!==r}function Cy(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function wg(s,r){const i=Cy(s);return Math.round(r*i)/i}function _d(s){const r=j.useRef(s);return vo(()=>{r.current=s}),r}function o2(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d,elements:{reference:f,floating:h}={},transform:p=!0,whileElementsMounted:g,open:m}=s,[x,v]=j.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[b,N]=j.useState(o);_o(b,o)||N(o);const[E,S]=j.useState(null),[w,P]=j.useState(null),k=j.useCallback(R=>{R!==U.current&&(U.current=R,S(R))},[]),D=j.useCallback(R=>{R!==q.current&&(q.current=R,P(R))},[]),T=f||E,A=h||w,U=j.useRef(null),q=j.useRef(null),V=j.useRef(x),le=g!=null,F=_d(g),G=_d(d),J=_d(m),Y=j.useCallback(()=>{if(!U.current||!q.current)return;const R={placement:r,strategy:i,middleware:b};G.current&&(R.platform=G.current),l2(U.current,q.current,R).then($=>{const ce={...$,isPositioned:J.current!==!1};H.current&&!_o(V.current,ce)&&(V.current=ce,qr.flushSync(()=>{v(ce)}))})},[b,r,i,G,J]);vo(()=>{m===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,v(R=>({...R,isPositioned:!1})))},[m]);const H=j.useRef(!1);vo(()=>(H.current=!0,()=>{H.current=!1}),[]),vo(()=>{if(T&&(U.current=T),A&&(q.current=A),T&&A){if(F.current)return F.current(T,A,Y);Y()}},[T,A,Y,F,le]);const I=j.useMemo(()=>({reference:U,floating:q,setReference:k,setFloating:D}),[k,D]),O=j.useMemo(()=>({reference:T,floating:A}),[T,A]),z=j.useMemo(()=>{const R={position:i,left:0,top:0};if(!O.floating)return R;const $=wg(O.floating,x.x),ce=wg(O.floating,x.y);return p?{...R,transform:"translate("+$+"px, "+ce+"px)",...Cy(O.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:$,top:ce}},[i,p,O.floating,x.x,x.y]);return j.useMemo(()=>({...x,update:Y,refs:I,elements:O,floatingStyles:z}),[x,Y,I,O,z])}const c2=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:d}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?Sg({element:o.current,padding:d}).fn(i):{}:o?Sg({element:o,padding:d}).fn(i):{}}}},u2=(s,r)=>({...J1(s),options:[s,r]}),d2=(s,r)=>({...e2(s),options:[s,r]}),f2=(s,r)=>({...s2(s),options:[s,r]}),m2=(s,r)=>({...t2(s),options:[s,r]}),h2=(s,r)=>({...a2(s),options:[s,r]}),p2=(s,r)=>({...n2(s),options:[s,r]}),x2=(s,r)=>({...c2(s),options:[s,r]});var g2="Arrow",Ay=j.forwardRef((s,r)=>{const{children:i,width:o=10,height:d=5,...f}=s;return a.jsx(Ie.svg,{...f,ref:r,width:o,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ay.displayName=g2;var y2=Ay;function Ey(s){const[r,i]=j.useState(void 0);return Ft(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let h,p;if("borderBoxSize"in f){const g=f.borderBoxSize,m=Array.isArray(g)?g[0]:g;h=m.inlineSize,p=m.blockSize}else h=s.offsetWidth,p=s.offsetHeight;i({width:h,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var xf="Popper",[Ty,Vo]=jn(xf),[v2,My]=Ty(xf),Dy=s=>{const{__scopePopper:r,children:i}=s,[o,d]=j.useState(null);return a.jsx(v2,{scope:r,anchor:o,onAnchorChange:d,children:i})};Dy.displayName=xf;var Oy="PopperAnchor",_y=j.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...d}=s,f=My(Oy,i),h=j.useRef(null),p=lt(r,h),g=j.useRef(null);return j.useEffect(()=>{const m=g.current;g.current=(o==null?void 0:o.current)||h.current,m!==g.current&&f.onAnchorChange(g.current)}),o?null:a.jsx(Ie.div,{...d,ref:p})});_y.displayName=Oy;var gf="PopperContent",[j2,b2]=Ty(gf),Ry=j.forwardRef((s,r)=>{var te,ye,ge,Pe,Be,He;const{__scopePopper:i,side:o="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:N="optimized",onPlaced:E,...S}=s,w=My(gf,i),[P,k]=j.useState(null),D=lt(r,Lt=>k(Lt)),[T,A]=j.useState(null),U=Ey(T),q=(U==null?void 0:U.width)??0,V=(U==null?void 0:U.height)??0,le=o+(f!=="center"?"-"+f:""),F=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},G=Array.isArray(m)?m:[m],J=G.length>0,Y={padding:F,boundary:G.filter(S2),altBoundary:J},{refs:H,floatingStyles:I,placement:O,isPositioned:z,middlewareData:R}=o2({strategy:"fixed",placement:le,whileElementsMounted:(...Lt)=>W1(...Lt,{animationFrame:N==="always"}),elements:{reference:w.anchor},middleware:[u2({mainAxis:d+V,alignmentAxis:h}),g&&d2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?f2():void 0,...Y}),g&&m2({...Y}),h2({...Y,apply:({elements:Lt,rects:Ct,availableWidth:Xa,availableHeight:Ka})=>{const{width:ts,height:Gr}=Ct.reference,Nn=Lt.floating.style;Nn.setProperty("--radix-popper-available-width",`${Xa}px`),Nn.setProperty("--radix-popper-available-height",`${Ka}px`),Nn.setProperty("--radix-popper-anchor-width",`${ts}px`),Nn.setProperty("--radix-popper-anchor-height",`${Gr}px`)}}),T&&x2({element:T,padding:p}),w2({arrowWidth:q,arrowHeight:V}),b&&p2({strategy:"referenceHidden",...Y})]}),[$,ce]=Ly(O),_=Ga(E);Ft(()=>{z&&(_==null||_())},[z,_]);const Z=(te=R.arrow)==null?void 0:te.x,ie=(ye=R.arrow)==null?void 0:ye.y,fe=((ge=R.arrow)==null?void 0:ge.centerOffset)!==0,[M,ne]=j.useState();return Ft(()=>{P&&ne(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(Pe=R.transformOrigin)==null?void 0:Pe.x,(Be=R.transformOrigin)==null?void 0:Be.y].join(" "),...((He=R.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:a.jsx(j2,{scope:i,placedSide:$,onArrowChange:A,arrowX:Z,arrowY:ie,shouldHideArrow:fe,children:a.jsx(Ie.div,{"data-side":$,"data-align":ce,...S,ref:D,style:{...S.style,animation:z?void 0:"none"}})})})});Ry.displayName=gf;var ky="PopperArrow",N2={top:"bottom",right:"left",bottom:"top",left:"right"},Py=j.forwardRef(function(r,i){const{__scopePopper:o,...d}=r,f=b2(ky,o),h=N2[f.placedSide];return a.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:a.jsx(y2,{...d,ref:i,style:{...d.style,display:"block"}})})});Py.displayName=ky;function S2(s){return s!==null}var w2=s=>({name:"transformOrigin",options:s,fn(r){var w,P,k;const{placement:i,rects:o,middlewareData:d}=r,h=((w=d.arrow)==null?void 0:w.centerOffset)!==0,p=h?0:s.arrowWidth,g=h?0:s.arrowHeight,[m,x]=Ly(i),v={start:"0%",center:"50%",end:"100%"}[x],b=(((P=d.arrow)==null?void 0:P.x)??0)+p/2,N=(((k=d.arrow)==null?void 0:k.y)??0)+g/2;let E="",S="";return m==="bottom"?(E=h?v:`${b}px`,S=`${-g}px`):m==="top"?(E=h?v:`${b}px`,S=`${o.floating.height+g}px`):m==="right"?(E=`${-g}px`,S=h?v:`${N}px`):m==="left"&&(E=`${o.floating.width+g}px`,S=h?v:`${N}px`),{data:{x:E,y:S}}}});function Ly(s){const[r,i="center"]=s.split("-");return[r,i]}var zy=Dy,Iy=_y,Uy=Ry,qy=Py,C2="Portal",Go=j.forwardRef((s,r)=>{var p;const{container:i,...o}=s,[d,f]=j.useState(!1);Ft(()=>f(!0),[]);const h=i||d&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?kw.createPortal(a.jsx(Ie.div,{...o,ref:r}),h):null});Go.displayName=C2;var A2=tf[" useInsertionEffect ".trim().toString()]||Ft;function Es({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[d,f,h]=E2({defaultProp:r,onChange:i}),p=s!==void 0,g=p?s:d;{const x=j.useRef(s!==void 0);j.useEffect(()=>{const v=x.current;v!==p&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,o])}const m=j.useCallback(x=>{var v;if(p){const b=T2(x)?x(s):x;b!==s&&((v=h.current)==null||v.call(h,b))}else f(x)},[p,s,f,h]);return[g,m]}function E2({defaultProp:s,onChange:r}){const[i,o]=j.useState(s),d=j.useRef(i),f=j.useRef(r);return A2(()=>{f.current=r},[r]),j.useEffect(()=>{var h;d.current!==i&&((h=f.current)==null||h.call(f,i),d.current=i)},[i,d]),[i,o,f]}function T2(s){return typeof s=="function"}function By(s){const r=j.useRef({value:s,previous:s});return j.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Hy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M2="VisuallyHidden",D2=j.forwardRef((s,r)=>a.jsx(Ie.span,{...s,ref:r,style:{...Hy,...s.style}}));D2.displayName=M2;var O2=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},jl=new WeakMap,ho=new WeakMap,po={},Rd=0,Fy=function(s){return s&&(s.host||Fy(s.parentNode))},_2=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=Fy(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},R2=function(s,r,i,o){var d=_2(r,Array.isArray(s)?s:[s]);po[i]||(po[i]=new WeakMap);var f=po[i],h=[],p=new Set,g=new Set(d),m=function(v){!v||p.has(v)||(p.add(v),m(v.parentNode))};d.forEach(m);var x=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(b){if(p.has(b))x(b);else try{var N=b.getAttribute(o),E=N!==null&&N!=="false",S=(jl.get(b)||0)+1,w=(f.get(b)||0)+1;jl.set(b,S),f.set(b,w),h.push(b),S===1&&E&&ho.set(b,!0),w===1&&b.setAttribute(i,"true"),E||b.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",b,P)}})};return x(r),p.clear(),Rd++,function(){h.forEach(function(v){var b=jl.get(v)-1,N=f.get(v)-1;jl.set(v,b),f.set(v,N),b||(ho.has(v)||v.removeAttribute(o),ho.delete(v)),N||v.removeAttribute(i)}),Rd--,Rd||(jl=new WeakMap,jl=new WeakMap,ho=new WeakMap,po={})}},yf=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),d=O2(s);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),R2(o,d,i,"aria-hidden")):function(){return null}},qa=function(){return qa=Object.assign||function(r){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f])}return r},qa.apply(this,arguments)};function Vy(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(i[o[d]]=s[o[d]]);return i}function k2(s,r,i){if(i||arguments.length===2)for(var o=0,d=r.length,f;o<d;o++)(f||!(o in r))&&(f||(f=Array.prototype.slice.call(r,0,o)),f[o]=r[o]);return s.concat(f||Array.prototype.slice.call(r))}var jo="right-scroll-bar-position",bo="width-before-scroll-bar",P2="with-scroll-bars-hidden",L2="--removed-body-scroll-bar-size";function kd(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function z2(s,r){var i=j.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=r,i.facade}var I2=typeof window<"u"?j.useLayoutEffect:j.useEffect,Cg=new WeakMap;function U2(s,r){var i=z2(null,function(o){return s.forEach(function(d){return kd(d,o)})});return I2(function(){var o=Cg.get(i);if(o){var d=new Set(o),f=new Set(s),h=i.current;d.forEach(function(p){f.has(p)||kd(p,null)}),f.forEach(function(p){d.has(p)||kd(p,h)})}Cg.set(i,s)},[s]),i}function q2(s){return s}function B2(s,r){r===void 0&&(r=q2);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(f){var h=r(f,o);return i.push(h),function(){i=i.filter(function(p){return p!==h})}},assignSyncMedium:function(f){for(o=!0;i.length;){var h=i;i=[],h.forEach(f)}i={push:function(p){return f(p)},filter:function(){return i}}},assignMedium:function(f){o=!0;var h=[];if(i.length){var p=i;i=[],p.forEach(f),h=i}var g=function(){var x=h;h=[],x.forEach(f)},m=function(){return Promise.resolve().then(g)};m(),i={push:function(x){h.push(x),m()},filter:function(x){return h=h.filter(x),i}}}};return d}function H2(s){s===void 0&&(s={});var r=B2(null);return r.options=qa({async:!0,ssr:!1},s),r}var Gy=function(s){var r=s.sideCar,i=Vy(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,qa({},i))};Gy.isSideCarExport=!0;function F2(s,r){return s.useMedium(r),Gy}var Yy=H2(),Pd=function(){},Yo=j.forwardRef(function(s,r){var i=j.useRef(null),o=j.useState({onScrollCapture:Pd,onWheelCapture:Pd,onTouchMoveCapture:Pd}),d=o[0],f=o[1],h=s.forwardProps,p=s.children,g=s.className,m=s.removeScrollBar,x=s.enabled,v=s.shards,b=s.sideCar,N=s.noRelative,E=s.noIsolation,S=s.inert,w=s.allowPinchZoom,P=s.as,k=P===void 0?"div":P,D=s.gapMode,T=Vy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,U=U2([i,r]),q=qa(qa({},T),d);return j.createElement(j.Fragment,null,x&&j.createElement(A,{sideCar:Yy,removeScrollBar:m,shards:v,noRelative:N,noIsolation:E,inert:S,setCallbacks:f,allowPinchZoom:!!w,lockRef:i,gapMode:D}),h?j.cloneElement(j.Children.only(p),qa(qa({},q),{ref:U})):j.createElement(k,qa({},q,{className:g,ref:U}),p))});Yo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yo.classNames={fullWidth:bo,zeroRight:jo};var V2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=V2();return r&&s.setAttribute("nonce",r),s}function Y2(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function Q2(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var $2=function(){var s=0,r=null;return{add:function(i){s==0&&(r=G2())&&(Y2(r,i),Q2(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},X2=function(){var s=$2();return function(r,i){j.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Qy=function(){var s=X2(),r=function(i){var o=i.styles,d=i.dynamic;return s(o,d),null};return r},K2={left:0,top:0,right:0,gap:0},Ld=function(s){return parseInt(s||"",10)||0},Z2=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],d=r[s==="padding"?"paddingRight":"marginRight"];return[Ld(i),Ld(o),Ld(d)]},W2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return K2;var r=Z2(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},J2=Qy(),Cl="data-scroll-locked",eC=function(s,r,i,o){var d=s.left,f=s.top,h=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(P2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Cl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jo,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(bo,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(jo," .").concat(jo,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(bo," .").concat(bo,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Cl,`] {
    `).concat(L2,": ").concat(p,`px;
  }
`)},Ag=function(){var s=parseInt(document.body.getAttribute(Cl)||"0",10);return isFinite(s)?s:0},tC=function(){j.useEffect(function(){return document.body.setAttribute(Cl,(Ag()+1).toString()),function(){var s=Ag()-1;s<=0?document.body.removeAttribute(Cl):document.body.setAttribute(Cl,s.toString())}},[])},aC=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,d=o===void 0?"margin":o;tC();var f=j.useMemo(function(){return W2(d)},[d]);return j.createElement(J2,{styles:eC(f,!r,d,i?"":"!important")})},Yd=!1;if(typeof window<"u")try{var xo=Object.defineProperty({},"passive",{get:function(){return Yd=!0,!0}});window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{Yd=!1}var bl=Yd?{passive:!1}:!1,nC=function(s){return s.tagName==="TEXTAREA"},$y=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!nC(s)&&i[r]==="visible")},sC=function(s){return $y(s,"overflowY")},lC=function(s){return $y(s,"overflowX")},Eg=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Xy(s,o);if(d){var f=Ky(s,o),h=f[1],p=f[2];if(h>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},rC=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},iC=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Xy=function(s,r){return s==="v"?sC(r):lC(r)},Ky=function(s,r){return s==="v"?rC(r):iC(r)},oC=function(s,r){return s==="h"&&r==="rtl"?-1:1},cC=function(s,r,i,o,d){var f=oC(s,window.getComputedStyle(r).direction),h=f*o,p=i.target,g=r.contains(p),m=!1,x=h>0,v=0,b=0;do{if(!p)break;var N=Ky(s,p),E=N[0],S=N[1],w=N[2],P=S-w-f*E;(E||P)&&Xy(s,p)&&(v+=P,b+=E);var k=p.parentNode;p=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!g&&p!==document.body||g&&(r.contains(p)||r===p));return(x&&Math.abs(v)<1||!x&&Math.abs(b)<1)&&(m=!0),m},go=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Tg=function(s){return[s.deltaX,s.deltaY]},Mg=function(s){return s&&"current"in s?s.current:s},uC=function(s,r){return s[0]===r[0]&&s[1]===r[1]},dC=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},fC=0,Nl=[];function mC(s){var r=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(fC++)[0],f=j.useState(Qy)[0],h=j.useRef(s);j.useEffect(function(){h.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var S=k2([s.lockRef.current],(s.shards||[]).map(Mg),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var p=j.useCallback(function(S,w){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!h.current.allowPinchZoom;var P=go(S),k=i.current,D="deltaX"in S?S.deltaX:k[0]-P[0],T="deltaY"in S?S.deltaY:k[1]-P[1],A,U=S.target,q=Math.abs(D)>Math.abs(T)?"h":"v";if("touches"in S&&q==="h"&&U.type==="range")return!1;var V=window.getSelection(),le=V&&V.anchorNode,F=le?le===U||le.contains(U):!1;if(F)return!1;var G=Eg(q,U);if(!G)return!0;if(G?A=q:(A=q==="v"?"h":"v",G=Eg(q,U)),!G)return!1;if(!o.current&&"changedTouches"in S&&(D||T)&&(o.current=A),!A)return!0;var J=o.current||A;return cC(J,w,S,J==="h"?D:T)},[]),g=j.useCallback(function(S){var w=S;if(!(!Nl.length||Nl[Nl.length-1]!==f)){var P="deltaY"in w?Tg(w):go(w),k=r.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&uC(A.delta,P)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var D=(h.current.shards||[]).map(Mg).filter(Boolean).filter(function(A){return A.contains(w.target)}),T=D.length>0?p(w,D[0]):!h.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),m=j.useCallback(function(S,w,P,k){var D={name:S,delta:w,target:P,should:k,shadowParent:hC(P)};r.current.push(D),setTimeout(function(){r.current=r.current.filter(function(T){return T!==D})},1)},[]),x=j.useCallback(function(S){i.current=go(S),o.current=void 0},[]),v=j.useCallback(function(S){m(S.type,Tg(S),S.target,p(S,s.lockRef.current))},[]),b=j.useCallback(function(S){m(S.type,go(S),S.target,p(S,s.lockRef.current))},[]);j.useEffect(function(){return Nl.push(f),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",g,bl),document.addEventListener("touchmove",g,bl),document.addEventListener("touchstart",x,bl),function(){Nl=Nl.filter(function(S){return S!==f}),document.removeEventListener("wheel",g,bl),document.removeEventListener("touchmove",g,bl),document.removeEventListener("touchstart",x,bl)}},[]);var N=s.removeScrollBar,E=s.inert;return j.createElement(j.Fragment,null,E?j.createElement(f,{styles:dC(d)}):null,N?j.createElement(aC,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function hC(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const pC=F2(Yy,mC);var Qo=j.forwardRef(function(s,r){return j.createElement(Yo,qa({},s,{ref:r,sideCar:pC}))});Qo.classNames=Yo.classNames;var xC=[" ","Enter","ArrowUp","ArrowDown"],gC=[" ","Enter"],Ts="Select",[$o,Xo,yC]=of(Ts),[Rl]=jn(Ts,[yC,Vo]),Ko=Vo(),[vC,Jn]=Rl(Ts),[jC,bC]=Rl(Ts),Zy=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:d,onOpenChange:f,value:h,defaultValue:p,onValueChange:g,dir:m,name:x,autoComplete:v,disabled:b,required:N,form:E}=s,S=Ko(r),[w,P]=j.useState(null),[k,D]=j.useState(null),[T,A]=j.useState(!1),U=zo(m),[q,V]=Es({prop:o,defaultProp:d??!1,onChange:f,caller:Ts}),[le,F]=Es({prop:h,defaultProp:p,onChange:g,caller:Ts}),G=j.useRef(null),J=w?E||!!w.closest("form"):!0,[Y,H]=j.useState(new Set),I=Array.from(Y).map(O=>O.props.value).join(";");return a.jsx(zy,{...S,children:a.jsxs(vC,{required:N,scope:r,trigger:w,onTriggerChange:P,valueNode:k,onValueNodeChange:D,valueNodeHasChildren:T,onValueNodeHasChildrenChange:A,contentId:Ha(),value:le,onValueChange:F,open:q,onOpenChange:V,dir:U,triggerPointerDownPosRef:G,disabled:b,children:[a.jsx($o.Provider,{scope:r,children:a.jsx(jC,{scope:s.__scopeSelect,onNativeOptionAdd:j.useCallback(O=>{H(z=>new Set(z).add(O))},[]),onNativeOptionRemove:j.useCallback(O=>{H(z=>{const R=new Set(z);return R.delete(O),R})},[]),children:i})}),J?a.jsxs(vv,{"aria-hidden":!0,required:N,tabIndex:-1,name:x,autoComplete:v,value:le,onChange:O=>F(O.target.value),disabled:b,form:E,children:[le===void 0?a.jsx("option",{value:""}):null,Array.from(Y)]},I):null]})})};Zy.displayName=Ts;var Wy="SelectTrigger",Jy=j.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...d}=s,f=Ko(i),h=Jn(Wy,i),p=h.disabled||o,g=lt(r,h.onTriggerChange),m=Xo(i),x=j.useRef("touch"),[v,b,N]=bv(S=>{const w=m().filter(D=>!D.disabled),P=w.find(D=>D.value===h.value),k=Nv(w,S,P);k!==void 0&&h.onValueChange(k.value)}),E=S=>{p||(h.onOpenChange(!0),N()),S&&(h.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return a.jsx(Iy,{asChild:!0,...f,children:a.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":jv(h.value)?"":void 0,...d,ref:g,onClick:Ae(d.onClick,S=>{S.currentTarget.focus(),x.current!=="mouse"&&E(S)}),onPointerDown:Ae(d.onPointerDown,S=>{x.current=S.pointerType;const w=S.target;w.hasPointerCapture(S.pointerId)&&w.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(E(S),S.preventDefault())}),onKeyDown:Ae(d.onKeyDown,S=>{const w=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(w&&S.key===" ")&&xC.includes(S.key)&&(E(),S.preventDefault())})})})});Jy.displayName=Wy;var ev="SelectValue",tv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,children:f,placeholder:h="",...p}=s,g=Jn(ev,i),{onValueNodeHasChildrenChange:m}=g,x=f!==void 0,v=lt(r,g.onValueNodeChange);return Ft(()=>{m(x)},[m,x]),a.jsx(Ie.span,{...p,ref:v,style:{pointerEvents:"none"},children:jv(g.value)?a.jsx(a.Fragment,{children:h}):f})});tv.displayName=ev;var NC="SelectIcon",av=j.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...d}=s;return a.jsx(Ie.span,{"aria-hidden":!0,...d,ref:r,children:o||""})});av.displayName=NC;var SC="SelectPortal",nv=s=>a.jsx(Go,{asChild:!0,...s});nv.displayName=SC;var Ms="SelectContent",sv=j.forwardRef((s,r)=>{const i=Jn(Ms,s.__scopeSelect),[o,d]=j.useState();if(Ft(()=>{d(new DocumentFragment)},[]),!i.open){const f=o;return f?qr.createPortal(a.jsx(lv,{scope:s.__scopeSelect,children:a.jsx($o.Slot,{scope:s.__scopeSelect,children:a.jsx("div",{children:s.children})})}),f):null}return a.jsx(rv,{...s,ref:r})});sv.displayName=Ms;var Ma=10,[lv,es]=Rl(Ms),wC="SelectContentImpl",CC=El("SelectContent.RemoveScroll"),rv=j.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:w,...P}=s,k=Jn(Ms,i),[D,T]=j.useState(null),[A,U]=j.useState(null),q=lt(r,te=>T(te)),[V,le]=j.useState(null),[F,G]=j.useState(null),J=Xo(i),[Y,H]=j.useState(!1),I=j.useRef(!1);j.useEffect(()=>{if(D)return yf(D)},[D]),cf();const O=j.useCallback(te=>{const[ye,...ge]=J().map(He=>He.ref.current),[Pe]=ge.slice(-1),Be=document.activeElement;for(const He of te)if(He===Be||(He==null||He.scrollIntoView({block:"nearest"}),He===ye&&A&&(A.scrollTop=0),He===Pe&&A&&(A.scrollTop=A.scrollHeight),He==null||He.focus(),document.activeElement!==Be))return},[J,A]),z=j.useCallback(()=>O([V,D]),[O,V,D]);j.useEffect(()=>{Y&&z()},[Y,z]);const{onOpenChange:R,triggerPointerDownPosRef:$}=k;j.useEffect(()=>{if(D){let te={x:0,y:0};const ye=Pe=>{var Be,He;te={x:Math.abs(Math.round(Pe.pageX)-(((Be=$.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((He=$.current)==null?void 0:He.y)??0))}},ge=Pe=>{te.x<=10&&te.y<=10?Pe.preventDefault():D.contains(Pe.target)||R(!1),document.removeEventListener("pointermove",ye),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ge,{capture:!0})}}},[D,R,$]),j.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[ce,_]=bv(te=>{const ye=J().filter(Be=>!Be.disabled),ge=ye.find(Be=>Be.ref.current===document.activeElement),Pe=Nv(ye,te,ge);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Z=j.useCallback((te,ye,ge)=>{const Pe=!I.current&&!ge;(k.value!==void 0&&k.value===ye||Pe)&&(le(te),Pe&&(I.current=!0))},[k.value]),ie=j.useCallback(()=>D==null?void 0:D.focus(),[D]),fe=j.useCallback((te,ye,ge)=>{const Pe=!I.current&&!ge;(k.value!==void 0&&k.value===ye||Pe)&&G(te)},[k.value]),M=o==="popper"?Qd:iv,ne=M===Qd?{side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:w}:{};return a.jsx(lv,{scope:i,content:D,viewport:A,onViewportChange:U,itemRefCallback:Z,selectedItem:V,onItemLeave:ie,itemTextRefCallback:fe,focusSelectedItem:z,selectedItemText:F,position:o,isPositioned:Y,searchRef:ce,children:a.jsx(Qo,{as:CC,allowPinchZoom:!0,children:a.jsx(Uo,{asChild:!0,trapped:k.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ae(d,te=>{var ye;(ye=k.trigger)==null||ye.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Io,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(M,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:te=>te.preventDefault(),...P,...ne,onPlaced:()=>H(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Ae(P.onKeyDown,te=>{const ye=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ye&&te.key.length===1&&_(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Pe=J().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Be=te.target,He=Pe.indexOf(Be);Pe=Pe.slice(He+1)}setTimeout(()=>O(Pe)),te.preventDefault()}})})})})})})});rv.displayName=wC;var AC="SelectItemAlignedPosition",iv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...d}=s,f=Jn(Ms,i),h=es(Ms,i),[p,g]=j.useState(null),[m,x]=j.useState(null),v=lt(r,q=>x(q)),b=Xo(i),N=j.useRef(!1),E=j.useRef(!0),{viewport:S,selectedItem:w,selectedItemText:P,focusSelectedItem:k}=h,D=j.useCallback(()=>{if(f.trigger&&f.valueNode&&p&&m&&S&&w&&P){const q=f.trigger.getBoundingClientRect(),V=m.getBoundingClientRect(),le=f.valueNode.getBoundingClientRect(),F=P.getBoundingClientRect();if(f.dir!=="rtl"){const Be=F.left-V.left,He=le.left-Be,Lt=q.left-He,Ct=q.width+Lt,Xa=Math.max(Ct,V.width),Ka=window.innerWidth-Ma,ts=rg(He,[Ma,Math.max(Ma,Ka-Xa)]);p.style.minWidth=Ct+"px",p.style.left=ts+"px"}else{const Be=V.right-F.right,He=window.innerWidth-le.right-Be,Lt=window.innerWidth-q.right-He,Ct=q.width+Lt,Xa=Math.max(Ct,V.width),Ka=window.innerWidth-Ma,ts=rg(He,[Ma,Math.max(Ma,Ka-Xa)]);p.style.minWidth=Ct+"px",p.style.right=ts+"px"}const G=b(),J=window.innerHeight-Ma*2,Y=S.scrollHeight,H=window.getComputedStyle(m),I=parseInt(H.borderTopWidth,10),O=parseInt(H.paddingTop,10),z=parseInt(H.borderBottomWidth,10),R=parseInt(H.paddingBottom,10),$=I+O+Y+R+z,ce=Math.min(w.offsetHeight*5,$),_=window.getComputedStyle(S),Z=parseInt(_.paddingTop,10),ie=parseInt(_.paddingBottom,10),fe=q.top+q.height/2-Ma,M=J-fe,ne=w.offsetHeight/2,te=w.offsetTop+ne,ye=I+O+te,ge=$-ye;if(ye<=fe){const Be=G.length>0&&w===G[G.length-1].ref.current;p.style.bottom="0px";const He=m.clientHeight-S.offsetTop-S.offsetHeight,Lt=Math.max(M,ne+(Be?ie:0)+He+z),Ct=ye+Lt;p.style.height=Ct+"px"}else{const Be=G.length>0&&w===G[0].ref.current;p.style.top="0px";const Lt=Math.max(fe,I+S.offsetTop+(Be?Z:0)+ne)+ge;p.style.height=Lt+"px",S.scrollTop=ye-fe+S.offsetTop}p.style.margin=`${Ma}px 0`,p.style.minHeight=ce+"px",p.style.maxHeight=J+"px",o==null||o(),requestAnimationFrame(()=>N.current=!0)}},[b,f.trigger,f.valueNode,p,m,S,w,P,f.dir,o]);Ft(()=>D(),[D]);const[T,A]=j.useState();Ft(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const U=j.useCallback(q=>{q&&E.current===!0&&(D(),k==null||k(),E.current=!1)},[D,k]);return a.jsx(TC,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:N,onScrollButtonChange:U,children:a.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(Ie.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});iv.displayName=AC;var EC="SelectPopperPosition",Qd=j.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:d=Ma,...f}=s,h=Ko(i);return a.jsx(Uy,{...h,...f,ref:r,align:o,collisionPadding:d,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qd.displayName=EC;var[TC,vf]=Rl(Ms,{}),$d="SelectViewport",ov=j.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...d}=s,f=es($d,i),h=vf($d,i),p=lt(r,f.onViewportChange),g=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx($o.Slot,{scope:i,children:a.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:Ae(d.onScroll,m=>{const x=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&v){const N=Math.abs(g.current-x.scrollTop);if(N>0){const E=window.innerHeight-Ma*2,S=parseFloat(v.style.minHeight),w=parseFloat(v.style.height),P=Math.max(S,w);if(P<E){const k=P+N,D=Math.min(E,k),T=k-D;v.style.height=D+"px",v.style.bottom==="0px"&&(x.scrollTop=T>0?T:0,v.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});ov.displayName=$d;var cv="SelectGroup",[MC,DC]=Rl(cv),OC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=Ha();return a.jsx(MC,{scope:i,id:d,children:a.jsx(Ie.div,{role:"group","aria-labelledby":d,...o,ref:r})})});OC.displayName=cv;var uv="SelectLabel",_C=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=DC(uv,i);return a.jsx(Ie.div,{id:d.id,...o,ref:r})});_C.displayName=uv;var Ro="SelectItem",[RC,dv]=Rl(Ro),fv=j.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:d=!1,textValue:f,...h}=s,p=Jn(Ro,i),g=es(Ro,i),m=p.value===o,[x,v]=j.useState(f??""),[b,N]=j.useState(!1),E=lt(r,k=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,k,o,d)}),S=Ha(),w=j.useRef("touch"),P=()=>{d||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(RC,{scope:i,value:o,disabled:d,textId:S,isSelected:m,onItemTextChange:j.useCallback(k=>{v(D=>D||((k==null?void 0:k.textContent)??"").trim())},[]),children:a.jsx($o.ItemSlot,{scope:i,value:o,disabled:d,textValue:x,children:a.jsx(Ie.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...h,ref:E,onFocus:Ae(h.onFocus,()=>N(!0)),onBlur:Ae(h.onBlur,()=>N(!1)),onClick:Ae(h.onClick,()=>{w.current!=="mouse"&&P()}),onPointerUp:Ae(h.onPointerUp,()=>{w.current==="mouse"&&P()}),onPointerDown:Ae(h.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:Ae(h.onPointerMove,k=>{var D;w.current=k.pointerType,d?(D=g.onItemLeave)==null||D.call(g):w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(h.onPointerLeave,k=>{var D;k.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:Ae(h.onKeyDown,k=>{var T;((T=g.searchRef)==null?void 0:T.current)!==""&&k.key===" "||(gC.includes(k.key)&&P(),k.key===" "&&k.preventDefault())})})})})});fv.displayName=Ro;var _r="SelectItemText",mv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,...f}=s,h=Jn(_r,i),p=es(_r,i),g=dv(_r,i),m=bC(_r,i),[x,v]=j.useState(null),b=lt(r,P=>v(P),g.onItemTextChange,P=>{var k;return(k=p.itemTextRefCallback)==null?void 0:k.call(p,P,g.value,g.disabled)}),N=x==null?void 0:x.textContent,E=j.useMemo(()=>a.jsx("option",{value:g.value,disabled:g.disabled,children:N},g.value),[g.disabled,g.value,N]),{onNativeOptionAdd:S,onNativeOptionRemove:w}=m;return Ft(()=>(S(E),()=>w(E)),[S,w,E]),a.jsxs(a.Fragment,{children:[a.jsx(Ie.span,{id:g.textId,...f,ref:b}),g.isSelected&&h.valueNode&&!h.valueNodeHasChildren?qr.createPortal(f.children,h.valueNode):null]})});mv.displayName=_r;var hv="SelectItemIndicator",pv=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return dv(hv,i).isSelected?a.jsx(Ie.span,{"aria-hidden":!0,...o,ref:r}):null});pv.displayName=hv;var Xd="SelectScrollUpButton",xv=j.forwardRef((s,r)=>{const i=es(Xd,s.__scopeSelect),o=vf(Xd,s.__scopeSelect),[d,f]=j.useState(!1),h=lt(r,o.onScrollButtonChange);return Ft(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollTop>0;f(m)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(yv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});xv.displayName=Xd;var Kd="SelectScrollDownButton",gv=j.forwardRef((s,r)=>{const i=es(Kd,s.__scopeSelect),o=vf(Kd,s.__scopeSelect),[d,f]=j.useState(!1),h=lt(r,o.onScrollButtonChange);return Ft(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<m;f(x)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(yv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});gv.displayName=Kd;var yv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...d}=s,f=es("SelectScrollButton",i),h=j.useRef(null),p=Xo(i),g=j.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return j.useEffect(()=>()=>g(),[g]),Ft(()=>{var x;const m=p().find(v=>v.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[p]),a.jsx(Ie.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:Ae(d.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:Ae(d.onPointerMove,()=>{var m;(m=f.onItemLeave)==null||m.call(f),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:Ae(d.onPointerLeave,()=>{g()})})}),kC="SelectSeparator",PC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return a.jsx(Ie.div,{"aria-hidden":!0,...o,ref:r})});PC.displayName=kC;var Zd="SelectArrow",LC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=Ko(i),f=Jn(Zd,i),h=es(Zd,i);return f.open&&h.position==="popper"?a.jsx(qy,{...d,...o,ref:r}):null});LC.displayName=Zd;var zC="SelectBubbleInput",vv=j.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const d=j.useRef(null),f=lt(o,d),h=By(r);return j.useEffect(()=>{const p=d.current;if(!p)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(h!==r&&x){const v=new Event("change",{bubbles:!0});x.call(p,r),p.dispatchEvent(v)}},[h,r]),a.jsx(Ie.select,{...i,style:{...Hy,...i.style},ref:f,defaultValue:r})});vv.displayName=zC;function jv(s){return s===""||s===void 0}function bv(s){const r=Ga(s),i=j.useRef(""),o=j.useRef(0),d=j.useCallback(h=>{const p=i.current+h;r(p),(function g(m){i.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(p)},[r]),f=j.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,d,f]}function Nv(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=IC(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.textValue.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function IC(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var UC=Zy,qC=Jy,BC=tv,HC=av,FC=nv,VC=sv,GC=ov,YC=fv,QC=mv,$C=pv,XC=xv,KC=gv;function tt({...s}){return a.jsx(UC,{"data-slot":"select",...s})}function at({...s}){return a.jsx(BC,{"data-slot":"select-value",...s})}function nt({className:s,size:r="default",children:i,...o}){return a.jsxs(qC,{"data-slot":"select-trigger","data-size":r,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o,children:[i,a.jsx(HC,{asChild:!0,children:a.jsx(qg,{className:"size-4 opacity-50"})})]})}function st({className:s,children:r,position:i="popper",...o}){return a.jsx(FC,{children:a.jsxs(VC,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[a.jsx(ZC,{}),a.jsx(GC,{className:qe("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),a.jsx(WC,{})]})})}function me({className:s,children:r,...i}){return a.jsxs(YC,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx($C,{children:a.jsx(LN,{className:"size-4"})})}),a.jsx(QC,{children:r})]})}function ZC({className:s,...r}){return a.jsx(XC,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(qN,{className:"size-4"})})}function WC({className:s,...r}){return a.jsx(KC,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(qg,{className:"size-4"})})}function JC(s,r){return j.useReducer((i,o)=>r[i][o]??i,s)}var bn=s=>{const{present:r,children:i}=s,o=eA(r),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=lt(o.ref,tA(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};bn.displayName="Presence";function eA(s){const[r,i]=j.useState(),o=j.useRef(null),d=j.useRef(s),f=j.useRef("none"),h=s?"mounted":"unmounted",[p,g]=JC(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=yo(o.current);f.current=p==="mounted"?m:"none"},[p]),Ft(()=>{const m=o.current,x=d.current;if(x!==s){const b=f.current,N=yo(m);s?g("MOUNT"):N==="none"||(m==null?void 0:m.display)==="none"?g("UNMOUNT"):g(x&&b!==N?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),Ft(()=>{if(r){let m;const x=r.ownerDocument.defaultView??window,v=N=>{const S=yo(o.current).includes(CSS.escape(N.animationName));if(N.target===r&&S&&(g("ANIMATION_END"),!d.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},b=N=>{N.target===r&&(f.current=yo(o.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",v),r.addEventListener("animationend",v),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",v),r.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:j.useCallback(m=>{o.current=m?getComputedStyle(m):null,i(m)},[])}}function yo(s){return(s==null?void 0:s.animationName)||"none"}function tA(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var zd="rovingFocusGroup.onEntryFocus",aA={bubbles:!1,cancelable:!0},Hr="RovingFocusGroup",[Wd,Sv,nA]=of(Hr),[sA,Zo]=jn(Hr,[nA]),[lA,rA]=sA(Hr),wv=j.forwardRef((s,r)=>a.jsx(Wd.Provider,{scope:s.__scopeRovingFocusGroup,children:a.jsx(Wd.Slot,{scope:s.__scopeRovingFocusGroup,children:a.jsx(iA,{...s,ref:r})})}));wv.displayName=Hr;var iA=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:d=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...v}=s,b=j.useRef(null),N=lt(r,b),E=zo(f),[S,w]=Es({prop:h,defaultProp:p??null,onChange:g,caller:Hr}),[P,k]=j.useState(!1),D=Ga(m),T=Sv(i),A=j.useRef(!1),[U,q]=j.useState(0);return j.useEffect(()=>{const V=b.current;if(V)return V.addEventListener(zd,D),()=>V.removeEventListener(zd,D)},[D]),a.jsx(lA,{scope:i,orientation:o,dir:E,loop:d,currentTabStopId:S,onItemFocus:j.useCallback(V=>w(V),[w]),onItemShiftTab:j.useCallback(()=>k(!0),[]),onFocusableItemAdd:j.useCallback(()=>q(V=>V+1),[]),onFocusableItemRemove:j.useCallback(()=>q(V=>V-1),[]),children:a.jsx(Ie.div,{tabIndex:P||U===0?-1:0,"data-orientation":o,...v,ref:N,style:{outline:"none",...s.style},onMouseDown:Ae(s.onMouseDown,()=>{A.current=!0}),onFocus:Ae(s.onFocus,V=>{const le=!A.current;if(V.target===V.currentTarget&&le&&!P){const F=new CustomEvent(zd,aA);if(V.currentTarget.dispatchEvent(F),!F.defaultPrevented){const G=T().filter(O=>O.focusable),J=G.find(O=>O.active),Y=G.find(O=>O.id===S),I=[J,Y,...G].filter(Boolean).map(O=>O.ref.current);Ev(I,x)}}A.current=!1}),onBlur:Ae(s.onBlur,()=>k(!1))})})}),Cv="RovingFocusGroupItem",Av=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:d=!1,tabStopId:f,children:h,...p}=s,g=Ha(),m=f||g,x=rA(Cv,i),v=x.currentTabStopId===m,b=Sv(i),{onFocusableItemAdd:N,onFocusableItemRemove:E,currentTabStopId:S}=x;return j.useEffect(()=>{if(o)return N(),()=>E()},[o,N,E]),a.jsx(Wd.ItemSlot,{scope:i,id:m,focusable:o,active:d,children:a.jsx(Ie.span,{tabIndex:v?0:-1,"data-orientation":x.orientation,...p,ref:r,onMouseDown:Ae(s.onMouseDown,w=>{o?x.onItemFocus(m):w.preventDefault()}),onFocus:Ae(s.onFocus,()=>x.onItemFocus(m)),onKeyDown:Ae(s.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){x.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const P=uA(w,x.orientation,x.dir);if(P!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let D=b().filter(T=>T.focusable).map(T=>T.ref.current);if(P==="last")D.reverse();else if(P==="prev"||P==="next"){P==="prev"&&D.reverse();const T=D.indexOf(w.currentTarget);D=x.loop?dA(D,T+1):D.slice(T+1)}setTimeout(()=>Ev(D))}}),children:typeof h=="function"?h({isCurrentTabStop:v,hasTabStop:S!=null}):h})})});Av.displayName=Cv;var oA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cA(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function uA(s,r,i){const o=cA(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return oA[o]}function Ev(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function dA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var Tv=wv,Mv=Av,Jd=["Enter"," "],fA=["ArrowDown","PageUp","Home"],Dv=["ArrowUp","PageDown","End"],mA=[...fA,...Dv],hA={ltr:[...Jd,"ArrowRight"],rtl:[...Jd,"ArrowLeft"]},pA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fr="Menu",[zr,xA,gA]=of(Fr),[_s,Ov]=jn(Fr,[gA,Vo,Zo]),Wo=Vo(),_v=Zo(),[yA,Rs]=_s(Fr),[vA,Vr]=_s(Fr),Rv=s=>{const{__scopeMenu:r,open:i=!1,children:o,dir:d,onOpenChange:f,modal:h=!0}=s,p=Wo(r),[g,m]=j.useState(null),x=j.useRef(!1),v=Ga(f),b=zo(d);return j.useEffect(()=>{const N=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(zy,{...p,children:a.jsx(yA,{scope:r,open:i,onOpenChange:v,content:g,onContentChange:m,children:a.jsx(vA,{scope:r,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:x,dir:b,modal:h,children:o})})})};Rv.displayName=Fr;var jA="MenuAnchor",jf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=Wo(i);return a.jsx(Iy,{...d,...o,ref:r})});jf.displayName=jA;var bf="MenuPortal",[bA,kv]=_s(bf,{forceMount:void 0}),Pv=s=>{const{__scopeMenu:r,forceMount:i,children:o,container:d}=s,f=Rs(bf,r);return a.jsx(bA,{scope:r,forceMount:i,children:a.jsx(bn,{present:i||f.open,children:a.jsx(Go,{asChild:!0,container:d,children:o})})})};Pv.displayName=bf;var Ca="MenuContent",[NA,Nf]=_s(Ca),Lv=j.forwardRef((s,r)=>{const i=kv(Ca,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Rs(Ca,s.__scopeMenu),h=Vr(Ca,s.__scopeMenu);return a.jsx(zr.Provider,{scope:s.__scopeMenu,children:a.jsx(bn,{present:o||f.open,children:a.jsx(zr.Slot,{scope:s.__scopeMenu,children:h.modal?a.jsx(SA,{...d,ref:r}):a.jsx(wA,{...d,ref:r})})})})}),SA=j.forwardRef((s,r)=>{const i=Rs(Ca,s.__scopeMenu),o=j.useRef(null),d=lt(r,o);return j.useEffect(()=>{const f=o.current;if(f)return yf(f)},[]),a.jsx(Sf,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Ae(s.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),wA=j.forwardRef((s,r)=>{const i=Rs(Ca,s.__scopeMenu);return a.jsx(Sf,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),CA=El("MenuContent.ScrollLock"),Sf=j.forwardRef((s,r)=>{const{__scopeMenu:i,loop:o=!1,trapFocus:d,onOpenAutoFocus:f,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:N,disableOutsideScroll:E,...S}=s,w=Rs(Ca,i),P=Vr(Ca,i),k=Wo(i),D=_v(i),T=xA(i),[A,U]=j.useState(null),q=j.useRef(null),V=lt(r,q,w.onContentChange),le=j.useRef(0),F=j.useRef(""),G=j.useRef(0),J=j.useRef(null),Y=j.useRef("right"),H=j.useRef(0),I=E?Qo:j.Fragment,O=E?{as:CA,allowPinchZoom:!0}:void 0,z=$=>{var te,ye;const ce=F.current+$,_=T().filter(ge=>!ge.disabled),Z=document.activeElement,ie=(te=_.find(ge=>ge.ref.current===Z))==null?void 0:te.textValue,fe=_.map(ge=>ge.textValue),M=zA(fe,ce,ie),ne=(ye=_.find(ge=>ge.textValue===M))==null?void 0:ye.ref.current;(function ge(Pe){F.current=Pe,window.clearTimeout(le.current),Pe!==""&&(le.current=window.setTimeout(()=>ge(""),1e3))})(ce),ne&&setTimeout(()=>ne.focus())};j.useEffect(()=>()=>window.clearTimeout(le.current),[]),cf();const R=j.useCallback($=>{var _,Z;return Y.current===((_=J.current)==null?void 0:_.side)&&UA($,(Z=J.current)==null?void 0:Z.area)},[]);return a.jsx(NA,{scope:i,searchRef:F,onItemEnter:j.useCallback($=>{R($)&&$.preventDefault()},[R]),onItemLeave:j.useCallback($=>{var ce;R($)||((ce=q.current)==null||ce.focus(),U(null))},[R]),onTriggerLeave:j.useCallback($=>{R($)&&$.preventDefault()},[R]),pointerGraceTimerRef:G,onPointerGraceIntentChange:j.useCallback($=>{J.current=$},[]),children:a.jsx(I,{...O,children:a.jsx(Uo,{asChild:!0,trapped:d,onMountAutoFocus:Ae(f,$=>{var ce;$.preventDefault(),(ce=q.current)==null||ce.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:a.jsx(Io,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:N,children:a.jsx(Tv,{asChild:!0,...D,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:U,onEntryFocus:Ae(g,$=>{P.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Uy,{role:"menu","aria-orientation":"vertical","data-state":Wv(w.open),"data-radix-menu-content":"",dir:P.dir,...k,...S,ref:V,style:{outline:"none",...S.style},onKeyDown:Ae(S.onKeyDown,$=>{const _=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Z=$.ctrlKey||$.altKey||$.metaKey,ie=$.key.length===1;_&&($.key==="Tab"&&$.preventDefault(),!Z&&ie&&z($.key));const fe=q.current;if($.target!==fe||!mA.includes($.key))return;$.preventDefault();const ne=T().filter(te=>!te.disabled).map(te=>te.ref.current);Dv.includes($.key)&&ne.reverse(),PA(ne)}),onBlur:Ae(s.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(le.current),F.current="")}),onPointerMove:Ae(s.onPointerMove,Ir($=>{const ce=$.target,_=H.current!==$.clientX;if($.currentTarget.contains(ce)&&_){const Z=$.clientX>H.current?"right":"left";Y.current=Z,H.current=$.clientX}}))})})})})})})});Lv.displayName=Ca;var AA="MenuGroup",wf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ie.div,{role:"group",...o,ref:r})});wf.displayName=AA;var EA="MenuLabel",zv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ie.div,{...o,ref:r})});zv.displayName=EA;var ko="MenuItem",Dg="menu.itemSelect",Jo=j.forwardRef((s,r)=>{const{disabled:i=!1,onSelect:o,...d}=s,f=j.useRef(null),h=Vr(ko,s.__scopeMenu),p=Nf(ko,s.__scopeMenu),g=lt(r,f),m=j.useRef(!1),x=()=>{const v=f.current;if(!i&&v){const b=new CustomEvent(Dg,{bubbles:!0,cancelable:!0});v.addEventListener(Dg,N=>o==null?void 0:o(N),{once:!0}),dy(v,b),b.defaultPrevented?m.current=!1:h.onClose()}};return a.jsx(Iv,{...d,ref:g,disabled:i,onClick:Ae(s.onClick,x),onPointerDown:v=>{var b;(b=s.onPointerDown)==null||b.call(s,v),m.current=!0},onPointerUp:Ae(s.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:Ae(s.onKeyDown,v=>{const b=p.searchRef.current!=="";i||b&&v.key===" "||Jd.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Jo.displayName=ko;var Iv=j.forwardRef((s,r)=>{const{__scopeMenu:i,disabled:o=!1,textValue:d,...f}=s,h=Nf(ko,i),p=_v(i),g=j.useRef(null),m=lt(r,g),[x,v]=j.useState(!1),[b,N]=j.useState("");return j.useEffect(()=>{const E=g.current;E&&N((E.textContent??"").trim())},[f.children]),a.jsx(zr.ItemSlot,{scope:i,disabled:o,textValue:d??b,children:a.jsx(Mv,{asChild:!0,...p,focusable:!o,children:a.jsx(Ie.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:Ae(s.onPointerMove,Ir(E=>{o?h.onItemLeave(E):(h.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(s.onPointerLeave,Ir(E=>h.onItemLeave(E))),onFocus:Ae(s.onFocus,()=>v(!0)),onBlur:Ae(s.onBlur,()=>v(!1))})})})}),TA="MenuCheckboxItem",Uv=j.forwardRef((s,r)=>{const{checked:i=!1,onCheckedChange:o,...d}=s;return a.jsx(Vv,{scope:s.__scopeMenu,checked:i,children:a.jsx(Jo,{role:"menuitemcheckbox","aria-checked":Po(i)?"mixed":i,...d,ref:r,"data-state":Af(i),onSelect:Ae(d.onSelect,()=>o==null?void 0:o(Po(i)?!0:!i),{checkForDefaultPrevented:!1})})})});Uv.displayName=TA;var qv="MenuRadioGroup",[MA,DA]=_s(qv,{value:void 0,onValueChange:()=>{}}),Bv=j.forwardRef((s,r)=>{const{value:i,onValueChange:o,...d}=s,f=Ga(o);return a.jsx(MA,{scope:s.__scopeMenu,value:i,onValueChange:f,children:a.jsx(wf,{...d,ref:r})})});Bv.displayName=qv;var Hv="MenuRadioItem",Fv=j.forwardRef((s,r)=>{const{value:i,...o}=s,d=DA(Hv,s.__scopeMenu),f=i===d.value;return a.jsx(Vv,{scope:s.__scopeMenu,checked:f,children:a.jsx(Jo,{role:"menuitemradio","aria-checked":f,...o,ref:r,"data-state":Af(f),onSelect:Ae(o.onSelect,()=>{var h;return(h=d.onValueChange)==null?void 0:h.call(d,i)},{checkForDefaultPrevented:!1})})})});Fv.displayName=Hv;var Cf="MenuItemIndicator",[Vv,OA]=_s(Cf,{checked:!1}),Gv=j.forwardRef((s,r)=>{const{__scopeMenu:i,forceMount:o,...d}=s,f=OA(Cf,i);return a.jsx(bn,{present:o||Po(f.checked)||f.checked===!0,children:a.jsx(Ie.span,{...d,ref:r,"data-state":Af(f.checked)})})});Gv.displayName=Cf;var _A="MenuSeparator",Yv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Yv.displayName=_A;var RA="MenuArrow",Qv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=Wo(i);return a.jsx(qy,{...d,...o,ref:r})});Qv.displayName=RA;var kA="MenuSub",[VT,$v]=_s(kA),Rr="MenuSubTrigger",Xv=j.forwardRef((s,r)=>{const i=Rs(Rr,s.__scopeMenu),o=Vr(Rr,s.__scopeMenu),d=$v(Rr,s.__scopeMenu),f=Nf(Rr,s.__scopeMenu),h=j.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=f,m={__scopeMenu:s.__scopeMenu},x=j.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return j.useEffect(()=>x,[x]),j.useEffect(()=>{const v=p.current;return()=>{window.clearTimeout(v),g(null)}},[p,g]),a.jsx(jf,{asChild:!0,...m,children:a.jsx(Iv,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":d.contentId,"data-state":Wv(i.open),...s,ref:Ur(r,d.onTriggerChange),onClick:v=>{var b;(b=s.onClick)==null||b.call(s,v),!(s.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Ae(s.onPointerMove,Ir(v=>{f.onItemEnter(v),!v.defaultPrevented&&!s.disabled&&!i.open&&!h.current&&(f.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{i.onOpenChange(!0),x()},100))})),onPointerLeave:Ae(s.onPointerLeave,Ir(v=>{var N,E;x();const b=(N=i.content)==null?void 0:N.getBoundingClientRect();if(b){const S=(E=i.content)==null?void 0:E.dataset.side,w=S==="right",P=w?-5:5,k=b[w?"left":"right"],D=b[w?"right":"left"];f.onPointerGraceIntentChange({area:[{x:v.clientX+P,y:v.clientY},{x:k,y:b.top},{x:D,y:b.top},{x:D,y:b.bottom},{x:k,y:b.bottom}],side:S}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(v),v.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(s.onKeyDown,v=>{var N;const b=f.searchRef.current!=="";s.disabled||b&&v.key===" "||hA[o.dir].includes(v.key)&&(i.onOpenChange(!0),(N=i.content)==null||N.focus(),v.preventDefault())})})})});Xv.displayName=Rr;var Kv="MenuSubContent",Zv=j.forwardRef((s,r)=>{const i=kv(Ca,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Rs(Ca,s.__scopeMenu),h=Vr(Ca,s.__scopeMenu),p=$v(Kv,s.__scopeMenu),g=j.useRef(null),m=lt(r,g);return a.jsx(zr.Provider,{scope:s.__scopeMenu,children:a.jsx(bn,{present:o||f.open,children:a.jsx(zr.Slot,{scope:s.__scopeMenu,children:a.jsx(Sf,{id:p.contentId,"aria-labelledby":p.triggerId,...d,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var v;h.isUsingKeyboardRef.current&&((v=g.current)==null||v.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Ae(s.onFocusOutside,x=>{x.target!==p.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:Ae(s.onEscapeKeyDown,x=>{h.onClose(),x.preventDefault()}),onKeyDown:Ae(s.onKeyDown,x=>{var N;const v=x.currentTarget.contains(x.target),b=pA[h.dir].includes(x.key);v&&b&&(f.onOpenChange(!1),(N=p.trigger)==null||N.focus(),x.preventDefault())})})})})})});Zv.displayName=Kv;function Wv(s){return s?"open":"closed"}function Po(s){return s==="indeterminate"}function Af(s){return Po(s)?"indeterminate":s?"checked":"unchecked"}function PA(s){const r=document.activeElement;for(const i of s)if(i===r||(i.focus(),document.activeElement!==r))return}function LA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}function zA(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=LA(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function IA(s,r){const{x:i,y:o}=s;let d=!1;for(let f=0,h=r.length-1;f<r.length;h=f++){const p=r[f],g=r[h],m=p.x,x=p.y,v=g.x,b=g.y;x>o!=b>o&&i<(v-m)*(o-x)/(b-x)+m&&(d=!d)}return d}function UA(s,r){if(!r)return!1;const i={x:s.clientX,y:s.clientY};return IA(i,r)}function Ir(s){return r=>r.pointerType==="mouse"?s(r):void 0}var qA=Rv,BA=jf,HA=Pv,FA=Lv,VA=wf,GA=zv,YA=Jo,QA=Uv,$A=Bv,XA=Fv,KA=Gv,ZA=Yv,WA=Qv,JA=Xv,eE=Zv,ec="DropdownMenu",[tE]=jn(ec,[Ov]),Gt=Ov(),[aE,Jv]=tE(ec),e0=s=>{const{__scopeDropdownMenu:r,children:i,dir:o,open:d,defaultOpen:f,onOpenChange:h,modal:p=!0}=s,g=Gt(r),m=j.useRef(null),[x,v]=Es({prop:d,defaultProp:f??!1,onChange:h,caller:ec});return a.jsx(aE,{scope:r,triggerId:Ha(),triggerRef:m,contentId:Ha(),open:x,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(b=>!b),[v]),modal:p,children:a.jsx(qA,{...g,open:x,onOpenChange:v,dir:o,modal:p,children:i})})};e0.displayName=ec;var t0="DropdownMenuTrigger",a0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,disabled:o=!1,...d}=s,f=Jv(t0,i),h=Gt(i);return a.jsx(BA,{asChild:!0,...h,children:a.jsx(Ie.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...d,ref:Ur(r,f.triggerRef),onPointerDown:Ae(s.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(f.onOpenToggle(),f.open||p.preventDefault())}),onKeyDown:Ae(s.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&f.onOpenToggle(),p.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});a0.displayName=t0;var nE="DropdownMenuPortal",n0=s=>{const{__scopeDropdownMenu:r,...i}=s,o=Gt(r);return a.jsx(HA,{...o,...i})};n0.displayName=nE;var s0="DropdownMenuContent",l0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Jv(s0,i),f=Gt(i),h=j.useRef(!1);return a.jsx(FA,{id:d.contentId,"aria-labelledby":d.triggerId,...f,...o,ref:r,onCloseAutoFocus:Ae(s.onCloseAutoFocus,p=>{var g;h.current||(g=d.triggerRef.current)==null||g.focus(),h.current=!1,p.preventDefault()}),onInteractOutside:Ae(s.onInteractOutside,p=>{const g=p.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,x=g.button===2||m;(!d.modal||x)&&(h.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l0.displayName=s0;var sE="DropdownMenuGroup",lE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(VA,{...d,...o,ref:r})});lE.displayName=sE;var rE="DropdownMenuLabel",iE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(GA,{...d,...o,ref:r})});iE.displayName=rE;var oE="DropdownMenuItem",r0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(YA,{...d,...o,ref:r})});r0.displayName=oE;var cE="DropdownMenuCheckboxItem",uE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(QA,{...d,...o,ref:r})});uE.displayName=cE;var dE="DropdownMenuRadioGroup",fE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx($A,{...d,...o,ref:r})});fE.displayName=dE;var mE="DropdownMenuRadioItem",hE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(XA,{...d,...o,ref:r})});hE.displayName=mE;var pE="DropdownMenuItemIndicator",xE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(KA,{...d,...o,ref:r})});xE.displayName=pE;var gE="DropdownMenuSeparator",yE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(ZA,{...d,...o,ref:r})});yE.displayName=gE;var vE="DropdownMenuArrow",jE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(WA,{...d,...o,ref:r})});jE.displayName=vE;var bE="DropdownMenuSubTrigger",NE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(JA,{...d,...o,ref:r})});NE.displayName=bE;var SE="DropdownMenuSubContent",wE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Gt(i);return a.jsx(eE,{...d,...o,ref:r,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wE.displayName=SE;var CE=e0,AE=a0,EE=n0,TE=l0,ME=r0;function DE({...s}){return a.jsx(CE,{"data-slot":"dropdown-menu",...s})}function OE({...s}){return a.jsx(AE,{"data-slot":"dropdown-menu-trigger",...s})}function _E({className:s,sideOffset:r=4,...i}){return a.jsx(EE,{children:a.jsx(TE,{"data-slot":"dropdown-menu-content",sideOffset:r,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...i})})}function RE({className:s,inset:r,variant:i="default",...o}){return a.jsx(ME,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":i,className:qe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o})}function kE(){var N,E;const{state:s,actions:r,auth:i}=mt(),{locations:o,locationFilter:d,notifications:f,currentView:h}=s,p=i.getCurrentUser(),g=f.filter(S=>!S.read).length,m=i.hasPermission("VIEW_ALL_LOCATIONS"),x=()=>({dashboard:"Dashboard","raw-materials":"Raw Materials","finished-products":"Finished Products",suppliers:"Suppliers",customers:"Customers",labour:"Labour Management",sales:"Sales",purchases:"Purchases",financials:"Financials",cleaning:"Cleaning Services",reports:"Reports",settings:"Settings"})[h]||"Sofa Factory Manager",v=S=>{r.setLocationFilter(S)},b=S=>{switch(S.read||r.markNotificationRead(S.id),S.type){case"sale_approval":r.setCurrentView("sales");break;case"low_stock":r.setCurrentView("raw-materials");break;case"payment_due":r.setCurrentView("financials");break;case"labour_report":r.setCurrentView("labour");break}};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rw,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:x()}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-NP",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[m&&o.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sl,{className:"w-4 h-4 text-gray-500"}),a.jsxs(tt,{value:d,onValueChange:v,children:[a.jsx(nt,{className:"w-40",children:a.jsx(at,{placeholder:"Select location"})}),a.jsxs(st,{children:[a.jsx(me,{value:"all",children:"All Locations"}),o.map(S=>a.jsx(me,{value:S.id.toString(),children:S.name},S.id))]})]})]}),a.jsxs(DE,{children:[a.jsx(OE,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Al,{className:"w-4 h-4"}),g>0&&a.jsx(_e,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 text-xs flex items-center justify-center p-0",children:g>9?"9+":g})]})}),a.jsxs(_E,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-3 border-b",children:[a.jsx("h3",{className:"font-medium",children:"Notifications"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g," unread"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.slice(0,10).map(S=>a.jsx(RE,{className:"p-3 cursor-pointer",onClick:()=>b(S),children:a.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.read?"bg-gray-300":"bg-amber-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm ${S.read?"text-gray-600":"text-gray-900 font-medium"}`,children:S.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Oa(S.createdAt)})]})]})},S.id))}),f.length>10&&a.jsx("div",{className:"p-3 border-t text-center",children:a.jsx(ue,{variant:"ghost",size:"sm",children:"View all notifications"})})]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:((E=(N=p.name)==null?void 0:N.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role.replace("_"," ")})]})]})]})]})})}function PE({children:s}){const{state:r}=mt(),{isAuthenticated:i,company:o}=r;return!i||!o?a.jsx(a.Fragment,{children:s}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(_w,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(kE,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function LE(){const{actions:s}=mt(),[r,i]=j.useState({username:"",password:"",email:""}),[o,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),m=b=>{i({...r,[b.target.name]:b.target.value}),d(""),h("")},x=async b=>{if(b.preventDefault(),!r.username.trim()||!r.password.trim()){d("Username and password are required");return}g(!0),d("");try{if(r.username.trim()==="admin"&&r.password.trim()==="admin123"){const S={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()};try{await s.createAdminAccount(S)}catch(w){console.log("Admin account setup:",w.message)}await s.login(S.id);return}const E=(await s.getAllUsers()).find(S=>S.role==="admin"&&S.username===r.username.trim()&&S.password===r.password.trim());if(!E){d("Invalid username or password"),g(!1);return}await s.login(E.id)}catch(N){console.error("Login failed:",N),d("Login failed. Please try again."),g(!1)}},v=async b=>{if(b.preventDefault(),!r.email.trim()){d("Email is required for password recovery");return}g(!0),d(""),h("");try{const E=(await s.getAllUsers()).find(S=>S.email===r.email.trim());if(!E){d("No account found with this email"),g(!1);return}h(`Password recovery: Your username is "${E.username}" and password is "${E.password}". Please save these credentials.`),g(!1)}catch(N){console.error("Password recovery failed:",N),d("Password recovery failed. Please try again."),g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:a.jsx(Cs,{className:"w-10 h-10 text-slate-900"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sofa Factory Manager"}),a.jsx("p",{className:"text-slate-300",children:"Admin Login Portal"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Forgot your password?"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,placeholder:"Enter your email for password recovery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Recovering...":"Recover Password"})]}),o&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),f&&a.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-green-600",children:f})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-slate-300",children:["Default credentials: ",a.jsx("span",{className:"font-semibold text-amber-400",children:"admin / admin123"})]})})]})})}function pe({className:s,type:r,...i}){return a.jsx("input",{type:r,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var zE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IE=zE.reduce((s,r)=>{const i=Yg(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{}),UE="Label",i0=j.forwardRef((s,r)=>a.jsx(IE.label,{...s,ref:r,onMouseDown:i=>{var d;i.target.closest("button, input, select, textarea")||((d=s.onMouseDown)==null||d.call(s,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));i0.displayName=UE;var qE=i0;function ae({className:s,...r}){return a.jsx(qE,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}function de({className:s,...r}){return a.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function je({className:s,...r}){return a.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function be({className:s,...r}){return a.jsx("div",{"data-slot":"card-title",className:qe("leading-none font-semibold",s),...r})}function Me({className:s,...r}){return a.jsx("div",{"data-slot":"card-description",className:qe("text-muted-foreground text-sm",s),...r})}function xe({className:s,...r}){return a.jsx("div",{"data-slot":"card-content",className:qe("px-6",s),...r})}function Pt({className:s,...r}){return a.jsx("textarea",{"data-slot":"textarea",className:qe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}const Or=[{id:"admin",title:"Create Admin Account",description:"Set up your administrator account",icon:Co},{id:"company",title:"Company Profile",description:"Enter your company information",icon:DN},{id:"locations",title:"Factory Locations",description:"Add your factory locations",icon:Sl}];function Og(){const{actions:s}=mt(),[r,i]=j.useState(0),[o,d]=j.useState(!1),[f,h]=j.useState({}),[p,g]=j.useState({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",securityQuestion1:"What is your mother's maiden name?",securityAnswer1:"",securityQuestion2:"What was the name of your first pet?",securityAnswer2:""}),[m,x]=j.useState({name:"",address:"",phone:"",email:""}),[v,b]=j.useState([{name:"",address:""}]),N=A=>{const U={};switch(A){case 0:p.name.trim()||(U.adminName="Name is required"),p.email.trim()?ng(p.email)||(U.adminEmail="Invalid email format"):U.adminEmail="Email is required",p.phone.trim()?sg(p.phone)||(U.adminPhone="Invalid phone format"):U.adminPhone="Phone is required",p.username.trim()?p.username.length<4&&(U.adminUsername="Username must be at least 4 characters"):U.adminUsername="Username is required",p.password.trim()?p.password.length<6&&(U.adminPassword="Password must be at least 6 characters"):U.adminPassword="Password is required",p.password!==p.confirmPassword&&(U.adminConfirmPassword="Passwords do not match"),p.securityAnswer1.trim()||(U.securityAnswer1="Security answer is required"),p.securityAnswer2.trim()||(U.securityAnswer2="Security answer is required");break;case 1:m.name.trim()||(U.companyName="Company name is required"),m.address.trim()||(U.companyAddress="Company address is required"),m.phone.trim()?sg(m.phone)||(U.companyPhone="Invalid phone format"):U.companyPhone="Company phone is required",m.email&&!ng(m.email)&&(U.companyEmail="Invalid email format");break;case 2:v.forEach((q,V)=>{q.name.trim()||(U[`location${V}Name`]="Location name is required"),q.address.trim()||(U[`location${V}Address`]="Location address is required")});break}return h(U),Object.keys(U).length===0},E=()=>{N(r)&&i(r+1)},S=()=>{i(r-1),h({})},w=()=>{b([...v,{name:"",address:""}])},P=A=>{v.length>1&&b(v.filter((U,q)=>q!==A))},k=(A,U,q)=>{const V=v.map((le,F)=>F===A?{...le,[U]:q}:le);b(V)},D=async()=>{if(N(r)){d(!0);try{const A=await s.createAdminAccount(p);await s.addItem("company",{id:"profile",...m});for(const U of v)await s.addItem("locations",U);await s.refreshData()}catch(A){console.error("Setup failed:",A),h({general:"Setup failed. Please try again."})}finally{d(!1)}}},T=()=>{switch(r){case 0:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminName",children:"Full Name"}),a.jsx(pe,{id:"adminName",value:p.name,onChange:A=>g({...p,name:A.target.value}),placeholder:"Enter your full name",className:f.adminName?"border-red-500":""}),f.adminName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminName})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminEmail",children:"Email Address"}),a.jsx(pe,{id:"adminEmail",type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),placeholder:"Enter your email address",className:f.adminEmail?"border-red-500":""}),f.adminEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminEmail})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminPhone",children:"Phone Number"}),a.jsx(pe,{id:"adminPhone",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),placeholder:"Enter your phone number",className:f.adminPhone?"border-red-500":""}),f.adminPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPhone})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Login Credentials"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminUsername",children:"Username"}),a.jsx(pe,{id:"adminUsername",value:p.username,onChange:A=>g({...p,username:A.target.value}),placeholder:"Choose a username (min 4 characters)",className:f.adminUsername?"border-red-500":""}),f.adminUsername&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminUsername})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminPassword",children:"Password"}),a.jsx(pe,{id:"adminPassword",type:"password",value:p.password,onChange:A=>g({...p,password:A.target.value}),placeholder:"Choose a password (min 6 characters)",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPassword})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"adminConfirmPassword",children:"Confirm Password"}),a.jsx(pe,{id:"adminConfirmPassword",type:"password",value:p.confirmPassword,onChange:A=>g({...p,confirmPassword:A.target.value}),placeholder:"Re-enter your password",className:f.adminConfirmPassword?"border-red-500":""}),f.adminConfirmPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminConfirmPassword})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Security Questions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"These will help you recover your password if you forget it"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"securityAnswer1",children:p.securityQuestion1}),a.jsx(pe,{id:"securityAnswer1",value:p.securityAnswer1,onChange:A=>g({...p,securityAnswer1:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer1?"border-red-500":""}),f.securityAnswer1&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer1})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"securityAnswer2",children:p.securityQuestion2}),a.jsx(pe,{id:"securityAnswer2",value:p.securityAnswer2,onChange:A=>g({...p,securityAnswer2:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer2?"border-red-500":""}),f.securityAnswer2&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer2})]})]})]})]});case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"companyName",children:"Company Name"}),a.jsx(pe,{id:"companyName",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"Enter your company name",className:f.companyName?"border-red-500":""}),f.companyName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyName})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"companyAddress",children:"Company Address"}),a.jsx(Pt,{id:"companyAddress",value:m.address,onChange:A=>x({...m,address:A.target.value}),placeholder:"Enter your company address",className:f.companyAddress?"border-red-500":"",rows:3}),f.companyAddress&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyAddress})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"companyPhone",children:"Company Phone"}),a.jsx(pe,{id:"companyPhone",value:m.phone,onChange:A=>x({...m,phone:A.target.value}),placeholder:"Enter company phone number",className:f.companyPhone?"border-red-500":""}),f.companyPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyPhone})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"companyEmail",children:"Company Email (Optional)"}),a.jsx(pe,{id:"companyEmail",type:"email",value:m.email,onChange:A=>x({...m,email:A.target.value}),placeholder:"Enter company email address",className:f.companyEmail?"border-red-500":""}),f.companyEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyEmail})]})]});case 2:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Factory Locations"}),a.jsx(ue,{onClick:w,variant:"outline",size:"sm",children:"Add Location"})]}),v.map((A,U)=>a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Location ",U+1]}),v.length>1&&a.jsx(ue,{onClick:()=>P(U),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:"Remove"})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:`location${U}Name`,children:"Location Name"}),a.jsx(pe,{id:`location${U}Name`,value:A.name,onChange:q=>k(U,"name",q.target.value),placeholder:"e.g., Factory A - Kathmandu",className:f[`location${U}Name`]?"border-red-500":""}),f[`location${U}Name`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${U}Name`]})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:`location${U}Address`,children:"Address"}),a.jsx(Pt,{id:`location${U}Address`,value:A.address,onChange:q=>k(U,"address",q.target.value),placeholder:"Enter location address",className:f[`location${U}Address`]?"border-red-500":"",rows:2}),f[`location${U}Address`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${U}Address`]})]})]})},U))]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Cs,{className:"w-8 h-8 text-amber-500"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Sofa Factory Manager"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Let's set up your application"})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:Or.map((A,U)=>{const q=A.icon,V=U===r,le=U<r;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${V?"bg-slate-800 text-white":le?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:a.jsx(q,{className:"w-5 h-5"})}),U<Or.length-1&&a.jsx("div",{className:`w-16 h-1 mx-2 ${le?"bg-green-500":"bg-gray-200"}`})]},A.id)})}),a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:Or[r].title}),a.jsx(Me,{children:Or[r].description})]}),a.jsxs(xe,{children:[f.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:a.jsx("p",{className:"text-sm text-red-600",children:f.general})}),T(),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ue,{onClick:S,variant:"outline",disabled:r===0,children:"Previous"}),r<Or.length-1?a.jsx(ue,{onClick:E,children:"Next"}):a.jsx(ue,{onClick:D,disabled:o,children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}function _g(){const{state:s}=mt(),{user:r}=s,[i,o]=j.useState({sales:[],purchases:[],rawMaterials:[],products:[],customers:[],suppliers:[],loading:!0});j.useEffect(()=>{d()},[]);const d=async()=>{try{const[x,v,b,N,E,S]=await Promise.all([he.getAll("sales"),he.getAll("purchases"),he.getAll("rawMaterials"),he.getAll("sofaModels"),he.getAll("customers"),he.getAll("suppliers")]);console.log("Dashboard data loaded:",{sales:(x==null?void 0:x.length)||0,purchases:(v==null?void 0:v.length)||0,rawMaterials:(b==null?void 0:b.length)||0,products:(N==null?void 0:N.length)||0,customers:(E==null?void 0:E.length)||0,suppliers:(S==null?void 0:S.length)||0});const w=P=>(r==null?void 0:r.role)==="admin"?P:P.filter(k=>k.location===(r==null?void 0:r.location));o({sales:w(x||[]),purchases:w(v||[]),rawMaterials:w(b||[]),products:N||[],customers:E||[],suppliers:S||[],loading:!1})}catch(x){console.error("Error loading dashboard data:",x),o(v=>({...v,loading:!1}))}};if(i.loading)return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(x=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})]})});const f=i.sales.filter(x=>x.approvalStatus==="approved").length,h=i.sales.filter(x=>x.approvalStatus==="pending").length,p=i.sales.filter(x=>x.approvalStatus==="approved").reduce((x,v)=>x+(parseFloat(v.totalAmount)||parseFloat(v.salePrice)||0),0),g=i.rawMaterials.filter(x=>(x.currentStock||0)<=(x.minStock||10)).length,m=({title:x,value:v,icon:b,color:N="blue",description:E})=>a.jsx(de,{children:a.jsx(xe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:x}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),E&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),a.jsx("div",{className:`p-3 rounded-full bg-${N}-100`,children:a.jsx(b,{className:`w-6 h-6 text-${N}-600`})})]})})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(r==null?void 0:r.name)||"User","!"]}),a.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your factory today"})]}),(r==null?void 0:r.location)&&a.jsx(_e,{variant:"outline",className:"text-sm",children:r.location})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(m,{title:"Total Sales",value:f,icon:So,color:"blue",description:`${h} pending approval`}),a.jsx(m,{title:"Revenue",value:`NPR ${p.toLocaleString()}`,icon:Da,color:"green",description:"From completed sales"}),a.jsx(m,{title:"Customers",value:i.customers.length,icon:Ao,color:"purple",description:"Active customers"}),a.jsx(m,{title:"Suppliers",value:i.suppliers.length,icon:Vg,color:"orange",description:"Active suppliers"})]}),(h>0||g>0)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h>0&&a.jsx(de,{className:"border-orange-200 bg-orange-50",children:a.jsx(xe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:a.jsx(So,{className:"w-4 h-4 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pending Sales"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[h," sales need approval"]})]}),a.jsx(_e,{variant:"secondary",children:h})]})})}),g>0&&a.jsx(de,{className:"border-red-200 bg-red-50",children:a.jsx(xe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100",children:a.jsx(sf,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Low Stock"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g," items need restocking"]})]}),a.jsx(_e,{variant:"destructive",children:g})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(de,{children:[a.jsx(je,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(gn,{className:"w-5 h-5"}),a.jsx("span",{children:"Inventory Overview"})]})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:[i.rawMaterials.length," types"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Finished Products"}),a.jsxs("span",{className:"font-medium",children:[i.products.length," models"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),a.jsx(_e,{variant:g>0?"destructive":"secondary",children:g})]})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(Da,{className:"w-5 h-5"}),a.jsx("span",{children:"Sales Overview"})]})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Completed Sales"}),a.jsx("span",{className:"font-medium",children:f})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pending Approval"}),a.jsx(_e,{variant:h>0?"secondary":"outline",children:h})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsxs("span",{className:"font-medium text-green-600",children:["NPR ",p.toLocaleString()]})]})]})})]})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(ws,{className:"w-5 h-5"}),a.jsx("span",{children:"Recent Activity"})]})}),a.jsx(xe,{children:(()=>{const x=[];i.sales.slice(0,5).forEach(b=>{var N;x.push({type:"sale",icon:"",title:`Sale ${b.saleNumber}`,description:`${b.customerName} - ${b.productName}`,amount:`NPR ${((N=b.totalAmount)==null?void 0:N.toLocaleString())||0}`,status:b.approvalStatus||"pending",date:b.createdAt})}),i.purchases.slice(0,3).forEach(b=>{var N;x.push({type:"purchase",icon:"",title:`Purchase #${b.id}`,description:b.supplierName||"Raw materials",amount:`NPR ${((N=b.totalAmount)==null?void 0:N.toLocaleString())||0}`,status:"completed",date:b.createdAt})}),x.sort((b,N)=>new Date(N.date)-new Date(b.date));const v=x.slice(0,8);return v.length>0?a.jsx("div",{className:"space-y-3",children:v.map((b,N)=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[a.jsx("span",{className:"text-2xl",children:b.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:b.title}),a.jsx("p",{className:"text-xs text-gray-600",children:b.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-sm text-green-600",children:b.amount}),b.status==="pending"&&a.jsx(_e,{className:"bg-orange-500 text-white text-xs mt-1",children:"Pending"}),b.status==="approved"&&a.jsx(_e,{className:"bg-green-500 text-white text-xs mt-1",children:"Approved"})]})]},N))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ws,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No recent activities"}),a.jsx("p",{className:"text-sm",children:"Sales and purchases will appear here"})]})})()})]})]})}var tc="Tabs",[BE]=jn(tc,[Zo]),o0=Zo(),[HE,Ef]=BE(tc),c0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:d,defaultValue:f,orientation:h="horizontal",dir:p,activationMode:g="automatic",...m}=s,x=zo(p),[v,b]=Es({prop:o,onChange:d,defaultProp:f??"",caller:tc});return a.jsx(HE,{scope:i,baseId:Ha(),value:v,onValueChange:b,orientation:h,dir:x,activationMode:g,children:a.jsx(Ie.div,{dir:x,"data-orientation":h,...m,ref:r})})});c0.displayName=tc;var u0="TabsList",d0=j.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...d}=s,f=Ef(u0,i),h=o0(i);return a.jsx(Tv,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:o,children:a.jsx(Ie.div,{role:"tablist","aria-orientation":f.orientation,...d,ref:r})})});d0.displayName=u0;var f0="TabsTrigger",m0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:d=!1,...f}=s,h=Ef(f0,i),p=o0(i),g=x0(h.baseId,o),m=g0(h.baseId,o),x=o===h.value;return a.jsx(Mv,{asChild:!0,...p,focusable:!d,active:x,children:a.jsx(Ie.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:g,...f,ref:r,onMouseDown:Ae(s.onMouseDown,v=>{!d&&v.button===0&&v.ctrlKey===!1?h.onValueChange(o):v.preventDefault()}),onKeyDown:Ae(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(o)}),onFocus:Ae(s.onFocus,()=>{const v=h.activationMode!=="manual";!x&&!d&&v&&h.onValueChange(o)})})})});m0.displayName=f0;var h0="TabsContent",p0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:d,children:f,...h}=s,p=Ef(h0,i),g=x0(p.baseId,o),m=g0(p.baseId,o),x=o===p.value,v=j.useRef(x);return j.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(bn,{present:d||x,children:({present:b})=>a.jsx(Ie.div,{"data-state":x?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:m,tabIndex:0,...h,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:b&&f})})});p0.displayName=h0;function x0(s,r){return`${s}-trigger-${r}`}function g0(s,r){return`${s}-content-${r}`}var FE=c0,VE=d0,GE=m0,YE=p0;function kl({className:s,...r}){return a.jsx(FE,{"data-slot":"tabs",className:qe("flex flex-col gap-2",s),...r})}function Pl({className:s,...r}){return a.jsx(VE,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...r})}function Rt({className:s,...r}){return a.jsx(GE,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r})}function kt({className:s,...r}){return a.jsx(YE,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",s),...r})}function QE(){const{state:s,actions:r}=mt(),{company:i,locations:o}=s,[d,f]=j.useState({name:(i==null?void 0:i.name)||"",address:(i==null?void 0:i.address)||"",phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||"",labourManagerName:(i==null?void 0:i.labourManagerName)||"",labourManagerPhone:(i==null?void 0:i.labourManagerPhone)||""}),[h,p]=j.useState(o&&o.length>0?o:[{name:"",address:""}]),g=(E,S)=>{f(w=>({...w,[E]:S}))},m=async()=>{try{if(!d.name||!d.address||!d.phone){alert("Please fill in all required fields (Name, Address, Phone)");return}await r.updateCompany(d),alert("Company profile updated successfully!")}catch(E){console.error("Error saving company profile:",E),alert("Failed to save company profile. Please try again.")}},x=(E,S,w)=>{const P=[...h];P[E]={...P[E],[S]:w},p(P)},v=()=>{p([...h,{name:"",address:""}])},b=E=>{h.length>1&&p(h.filter((S,w)=>w!==E))},N=async()=>{try{const E=h.filter(S=>S.name&&S.address);if(E.length===0){alert("Please add at least one location with name and address");return}await r.updateLocations(E),alert("Locations updated successfully!")}catch(E){console.error("Error saving locations:",E),alert("Failed to save locations. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your application settings and preferences"})]}),a.jsxs(kl,{defaultValue:"company",className:"space-y-6",children:[a.jsxs(Pl,{children:[a.jsxs(Rt,{value:"company",className:"flex items-center space-x-2",children:[a.jsx(Gx,{className:"w-4 h-4"}),a.jsx("span",{children:"Company Profile"})]}),a.jsxs(Rt,{value:"locations",className:"flex items-center space-x-2",children:[a.jsx(Sl,{className:"w-4 h-4"}),a.jsx("span",{children:"Locations"})]}),a.jsxs(Rt,{value:"data",className:"flex items-center space-x-2",children:[a.jsx(co,{className:"w-4 h-4"}),a.jsx("span",{children:"Data Management"})]})]}),a.jsx(kt,{value:"company",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Company Profile"}),a.jsx(Me,{children:"Update your company information that appears in notifications and reports"})]}),a.jsxs(xe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"companyName",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"companyName",value:d.name,onChange:E=>g("name",E.target.value),placeholder:"Enter company name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"companyPhone",children:["Company Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"companyPhone",value:d.phone,onChange:E=>g("phone",E.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"companyEmail",children:"Company Email"}),a.jsx(pe,{id:"companyEmail",type:"email",value:d.email,onChange:E=>g("email",E.target.value),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"labourManagerName",children:"Labour Manager Name"}),a.jsx(pe,{id:"labourManagerName",value:d.labourManagerName,onChange:E=>g("labourManagerName",E.target.value),placeholder:"Enter labour manager name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"labourManagerPhone",children:"Labour Manager Phone"}),a.jsx(pe,{id:"labourManagerPhone",value:d.labourManagerPhone,onChange:E=>g("labourManagerPhone",E.target.value),placeholder:"Enter labour manager phone"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"companyAddress",children:["Company Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pt,{id:"companyAddress",value:d.address,onChange:E=>g("address",E.target.value),placeholder:"Enter complete company address",rows:3})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:m,className:"px-6",children:[a.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Save Company Profile"]})})]})]})}),a.jsx(kt,{value:"locations",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Factory Locations"}),a.jsx(Me,{children:"Manage your factory locations and addresses"})]}),a.jsxs(xe,{className:"space-y-6",children:[h.map((E,S)=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:["Location ",S+1]}),h.length>1&&a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>b(S),children:"Remove"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:`locationName${S}`,children:["Location Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:`locationName${S}`,value:E.name,onChange:w=>x(S,"name",w.target.value),placeholder:"e.g., Main Factory, Warehouse 1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:`locationAddress${S}`,children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:`locationAddress${S}`,value:E.address,onChange:w=>x(S,"address",w.target.value),placeholder:"Enter location address"})]})]})]},S)),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs(ue,{variant:"outline",onClick:v,children:[a.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Add Location"]}),a.jsxs(ue,{onClick:N,className:"px-6",children:[a.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Save Locations"]})]})]})]})}),a.jsx(kt,{value:"data",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Data Management"}),a.jsx(Me,{children:"Export, import, or reset your application data"})]}),a.jsx(xe,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all your application data as a backup"}),a.jsxs(ue,{variant:"outline",children:[a.jsx(co,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Import Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Restore data from a previous backup"}),a.jsxs(ue,{variant:"outline",children:[a.jsx(co,{className:"w-4 h-4 mr-2"}),"Import Data"]})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Reset Application"}),a.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Clear all data and return to first-time setup"}),a.jsxs(ue,{variant:"destructive",onClick:()=>window.location.href="/reset.html",children:[a.jsx(co,{className:"w-4 h-4 mr-2"}),"Reset Application"]})]})]})})]})})]})]})}var ac="Dialog",[y0]=jn(ac),[$E,ka]=y0(ac),v0=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:h=!0}=s,p=j.useRef(null),g=j.useRef(null),[m,x]=Es({prop:o,defaultProp:d??!1,onChange:f,caller:ac});return a.jsx($E,{scope:r,triggerRef:p,contentRef:g,contentId:Ha(),titleId:Ha(),descriptionId:Ha(),open:m,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(v=>!v),[x]),modal:h,children:i})};v0.displayName=ac;var j0="DialogTrigger",XE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=ka(j0,i),f=lt(r,d.triggerRef);return a.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Df(d.open),...o,ref:f,onClick:Ae(s.onClick,d.onOpenToggle)})});XE.displayName=j0;var Tf="DialogPortal",[KE,b0]=y0(Tf,{forceMount:void 0}),N0=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:d}=s,f=ka(Tf,r);return a.jsx(KE,{scope:r,forceMount:i,children:j.Children.map(o,h=>a.jsx(bn,{present:i||f.open,children:a.jsx(Go,{asChild:!0,container:d,children:h})}))})};N0.displayName=Tf;var Lo="DialogOverlay",S0=j.forwardRef((s,r)=>{const i=b0(Lo,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=ka(Lo,s.__scopeDialog);return f.modal?a.jsx(bn,{present:o||f.open,children:a.jsx(WE,{...d,ref:r})}):null});S0.displayName=Lo;var ZE=El("DialogOverlay.RemoveScroll"),WE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=ka(Lo,i);return a.jsx(Qo,{as:ZE,allowPinchZoom:!0,shards:[d.contentRef],children:a.jsx(Ie.div,{"data-state":Df(d.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),Ds="DialogContent",w0=j.forwardRef((s,r)=>{const i=b0(Ds,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=ka(Ds,s.__scopeDialog);return a.jsx(bn,{present:o||f.open,children:f.modal?a.jsx(JE,{...d,ref:r}):a.jsx(eT,{...d,ref:r})})});w0.displayName=Ds;var JE=j.forwardRef((s,r)=>{const i=ka(Ds,s.__scopeDialog),o=j.useRef(null),d=lt(r,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return yf(f)},[]),a.jsx(C0,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(s.onCloseAutoFocus,f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Ae(s.onPointerDownOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&f.preventDefault()}),onFocusOutside:Ae(s.onFocusOutside,f=>f.preventDefault())})}),eT=j.forwardRef((s,r)=>{const i=ka(Ds,s.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return a.jsx(C0,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,p;(h=s.onCloseAutoFocus)==null||h.call(s,f),f.defaultPrevented||(o.current||(p=i.triggerRef.current)==null||p.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{var g,m;(g=s.onInteractOutside)==null||g.call(s,f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const h=f.target;((m=i.triggerRef.current)==null?void 0:m.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),C0=j.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...h}=s,p=ka(Ds,i),g=j.useRef(null),m=lt(r,g);return cf(),a.jsxs(a.Fragment,{children:[a.jsx(Uo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:a.jsx(Io,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Df(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(tT,{titleId:p.titleId}),a.jsx(nT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Mf="DialogTitle",A0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=ka(Mf,i);return a.jsx(Ie.h2,{id:d.titleId,...o,ref:r})});A0.displayName=Mf;var E0="DialogDescription",T0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=ka(E0,i);return a.jsx(Ie.p,{id:d.descriptionId,...o,ref:r})});T0.displayName=E0;var M0="DialogClose",D0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=ka(M0,i);return a.jsx(Ie.button,{type:"button",...o,ref:r,onClick:Ae(s.onClick,()=>d.onOpenChange(!1))})});D0.displayName=M0;function Df(s){return s?"open":"closed"}var O0="DialogTitleWarning",[GT,_0]=Pw(O0,{contentName:Ds,titleName:Mf,docsSlug:"dialog"}),tT=({titleId:s})=>{const r=_0(O0),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},aT="DialogDescriptionWarning",nT=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_0(aT).contentName}}.`;return j.useEffect(()=>{var f;const d=(f=s.current)==null?void 0:f.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},sT=v0,lT=N0,rT=S0,iT=w0,oT=A0,cT=T0,uT=D0;function It({...s}){return a.jsx(sT,{"data-slot":"dialog",...s})}function dT({...s}){return a.jsx(lT,{"data-slot":"dialog-portal",...s})}function fT({className:s,...r}){return a.jsx(rT,{"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function Ut({className:s,children:r,...i}){return a.jsxs(dT,{"data-slot":"dialog-portal",children:[a.jsx(fT,{}),a.jsxs(iT,{"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[r,a.jsxs(uT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(lf,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qt({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",s),...r})}function Bt({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function Ht({className:s,...r}){return a.jsx(oT,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",s),...r})}function ea({className:s,...r}){return a.jsx(cT,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",s),...r})}function mT(){const{state:s,actions:r}=mt(),{customers:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",phone:"",email:"",address:"",notes:""}),v=i.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.phone.includes(o)||w.email&&w.email.toLowerCase().includes(o.toLowerCase())),b=(w=null)=>{w?(g(w),x({name:w.name,phone:w.phone,email:w.email||"",address:w.address||"",notes:w.notes||""})):(g(null),x({name:"",phone:"",email:"",address:"",notes:""})),h(!0)},N=()=>{h(!1),g(null),x({name:"",phone:"",email:"",address:"",notes:""})},E=async w=>{if(w.preventDefault(),!m.name||!m.phone){alert("Please fill in customer name and phone number");return}try{const P={...m,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("customers",{...P,id:p.id}),alert("Customer updated successfully!")):(await r.addItem("customers",P),alert("Customer added successfully!")),N()}catch(P){console.error("Error saving customer:",P),alert("Failed to save customer. Please try again.")}},S=async w=>{if(window.confirm(`Are you sure you want to delete ${w.name}?`))try{await r.deleteItem("customers",w.id),alert("Customer deleted successfully!")}catch(P){console.error("Error deleting customer:",P),alert("Failed to delete customer. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer information and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:w=>d(w.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),v.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Co,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No customers found":"No customers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first customer"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(w=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(be,{className:"text-lg",children:w.name}),a.jsxs(Me,{className:"mt-1",children:["Customer since ",new Date(w.createdAt).toLocaleDateString()]})]}),a.jsx(_e,{variant:"outline",className:"ml-2",children:"Active"})]})}),a.jsxs(xe,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Fg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`tel:${w.phone}`,className:"hover:text-blue-600",children:w.phone})]}),w.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`mailto:${w.email}`,className:"hover:text-blue-600 truncate",children:w.email})]}),w.address&&a.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[a.jsx(Sl,{className:"w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:w.address})]}),w.notes&&a.jsx("div",{className:"pt-2 border-t",children:a.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:w.notes})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(w),children:[a.jsx(Os,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>S(w),children:a.jsx(Va,{className:"w-4 h-4"})})]})]})]},w.id))}),a.jsx(It,{open:f,onOpenChange:h,children:a.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:p?"Edit Customer":"Add New Customer"}),a.jsx(ea,{children:p?"Update customer information below":"Enter customer details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"name",children:["Customer Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"name",value:m.name,onChange:w=>x({...m,name:w.target.value}),placeholder:"Enter customer name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"phone",value:m.phone,onChange:w=>x({...m,phone:w.target.value}),placeholder:"Enter phone number",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Email Address"}),a.jsx(pe,{id:"email",type:"email",value:m.email,onChange:w=>x({...m,email:w.target.value}),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"address",children:"Address"}),a.jsx(Pt,{id:"address",value:m.address,onChange:w=>x({...m,address:w.target.value}),placeholder:"Enter customer address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:m.notes,onChange:w=>x({...m,notes:w.target.value}),placeholder:"Add any additional notes about this customer",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})]})})]})}function hT(){const{state:s,actions:r}=mt(),{sofaModels:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null}),v=i.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase())),b=(A=null)=>{A?(g(A),x({name:A.name,description:A.description||"",materialCost:A.materialCost||"",laborCost:A.laborCost||"",sellingPrice:A.sellingPrice||"",estimatedDays:A.estimatedDays||"",stockQuantity:A.stockQuantity||"0",billOfMaterials:A.billOfMaterials||[],images:A.images||[],primaryImageId:A.primaryImageId||null})):(g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[]})),h(!0)},N=()=>{h(!1),g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null})},E=()=>{let A=0;m.billOfMaterials&&m.billOfMaterials.length>0?A=m.billOfMaterials.reduce((q,V)=>q+(V.totalCost||0),0):A=parseFloat(m.materialCost)||0;const U=parseFloat(m.laborCost)||0;return A+U},S=()=>m.billOfMaterials&&m.billOfMaterials.length>0?m.billOfMaterials.reduce((A,U)=>A+(U.totalCost||0),0):0,w=()=>{const A=E();return(parseFloat(m.sellingPrice)||0)-A},P=async A=>{if(!A||A.length===0)return;const U=5,q=5*1024*1024,V=U-m.images.length,le=A.slice(0,V);for(const F of le){if(!F.type.startsWith("image/")){alert(`${F.name} is not an image file`);continue}if(F.size>q){alert(`${F.name} is too large (max 5MB)`);continue}const G=new FileReader;G.onload=J=>{const Y=Date.now()+Math.random(),H={id:Y,data:J.target.result,name:F.name};x(I=>{const O=[...I.images,H];return{...I,images:O,primaryImageId:I.primaryImageId||Y}})},G.readAsDataURL(F)}},k=A=>{x(U=>{const q=U.images.filter(le=>le.id!==A);let V=U.primaryImageId;return A===U.primaryImageId&&q.length>0?V=q[0].id:q.length===0&&(V=null),{...U,images:q,primaryImageId:V}})},D=async A=>{if(A.preventDefault(),!m.name){alert("Please enter product name");return}try{const U=S(),q=U>0?U:parseFloat(m.materialCost)||0,V={name:m.name,description:m.description,billOfMaterials:m.billOfMaterials||[],images:m.images||[],primaryImageId:m.primaryImageId||null,materialCost:q,laborCost:parseFloat(m.laborCost)||0,sellingPrice:parseFloat(m.sellingPrice)||0,estimatedDays:parseInt(m.estimatedDays)||0,stockQuantity:parseInt(m.stockQuantity)||0,totalCost:E(),profit:w(),createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("sofaModels",{...V,id:p.id}),alert("Product updated successfully!")):(await r.addItem("sofaModels",V),alert("Product added successfully!")),N()}catch(U){console.error("Error saving product:",U),alert("Failed to save product. Please try again.")}},T=async A=>{if(window.confirm(`Are you sure you want to delete ${A.name}?`))try{await r.deleteItem("sofaModels",A.id),alert("Product deleted successfully!")}catch(U){console.error("Error deleting product:",U),alert("Failed to delete product. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finished Products"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your sofa models and product catalog"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Stock is automatically updated when production is completed."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search products by name or description...",value:o,onChange:A=>d(A.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),v.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(gn,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No products found":"No products yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first product"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(A=>{var U;return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[A.images&&A.images.length>0&&a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:((U=A.images.find(q=>q.id===A.primaryImageId))==null?void 0:U.data)||A.images[0].data,alt:A.name,className:"w-full h-full object-cover"}),A.images.length>1&&a.jsxs(_e,{className:"absolute top-2 right-2 bg-black bg-opacity-70",children:["+",A.images.length-1," more"]})]}),a.jsxs(je,{children:[a.jsx(be,{className:"text-lg",children:A.name}),A.description&&a.jsx(Me,{className:"line-clamp-2",children:A.description})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Material Cost"}),a.jsx("p",{className:"font-semibold",children:ke(A.materialCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Labor Cost"}),a.jsx("p",{className:"font-semibold text-blue-600",children:ke(A.laborCost)})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total Cost"}),a.jsx("p",{className:"font-semibold",children:ke(A.totalCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Selling Price"}),a.jsx("p",{className:"font-semibold text-green-600",children:ke(A.sellingPrice)})]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),a.jsx(_e,{variant:A.profit>0?"default":"destructive",children:ke(A.profit)})]})}),A.estimatedDays>0&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Estimated Production: ",a.jsxs("span",{className:"font-semibold text-gray-900",children:[A.estimatedDays," days"]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Stock Quantity"}),a.jsxs(_e,{variant:(A.stockQuantity||0)>0?"default":"destructive",children:[A.stockQuantity||0," units"]})]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(A),children:[a.jsx(Os,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>T(A),children:a.jsx(Va,{className:"w-4 h-4"})})]})]})]},A.id)})}),a.jsx(It,{open:f,onOpenChange:h,children:a.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:p?"Edit Product":"Add New Product"}),a.jsx(ea,{children:p?"Update product information below":"Enter product details including labor cost for accurate pricing"})]}),a.jsxs("form",{onSubmit:D,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"name",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"name",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Sofa",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"description",children:"Description"}),a.jsx(Pt,{id:"description",value:m.description,onChange:A=>x({...m,description:A.target.value}),placeholder:"Enter product description",rows:3})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx(ae,{className:"text-base font-semibold",children:"Product Images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload up to 5 images (Click or drag & drop)"})]}),a.jsxs("div",{className:"space-y-3",children:[m.images.length<5&&a.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-6 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>document.getElementById("imageUpload").click(),onDragOver:A=>A.preventDefault(),onDrop:A=>{A.preventDefault();const U=Array.from(A.dataTransfer.files);P(U)},children:[a.jsx(gn,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/png,image/jpeg,image/jpg",multiple:!0,className:"hidden",onChange:A=>P(Array.from(A.target.files))})]}),m.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.images.map(A=>a.jsxs("div",{className:`relative group border-2 rounded-lg overflow-hidden ${A.id===m.primaryImageId?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:[a.jsx("img",{src:A.data,alt:"Product",className:"w-full h-32 object-cover"}),A.id===m.primaryImageId&&a.jsx(_e,{className:"absolute top-2 left-2 bg-blue-500",children:"Primary"}),a.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center gap-2",children:[A.id!==m.primaryImageId&&a.jsx(ue,{type:"button",size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x({...m,primaryImageId:A.id}),children:"Set Primary"}),a.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>k(A.id),children:a.jsx(Va,{className:"w-4 h-4"})})]})]},A.id))})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx(ae,{className:"text-base font-semibold text-blue-900",children:"Bill of Materials (BOM)"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 mb-3",children:["BOM is now managed in the ",a.jsx("strong",{children:"Production"})," section when starting a new job."]}),m.billOfMaterials.length>0?a.jsxs("div",{className:"space-y-1",children:[m.billOfMaterials.map((A,U)=>a.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[a.jsx("span",{children:A.materialName}),a.jsxs("span",{children:[A.quantity," ",A.unit]})]},U)),a.jsxs("div",{className:"pt-2 mt-2 border-t border-blue-200 flex justify-between font-bold text-blue-900",children:[a.jsx("span",{children:"Total Material Cost"}),a.jsx("span",{children:ke(S())})]})]}):a.jsx("p",{className:"text-sm text-blue-600 italic",children:"No BOM defined for this product yet."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"materialCost",children:["Material Cost (NPR)",m.billOfMaterials.length>0&&a.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Auto-calculated from BOM)"})]}),a.jsx(pe,{id:"materialCost",type:"number",step:"0.01",value:m.billOfMaterials.length>0?S():m.materialCost,onChange:A=>x({...m,materialCost:A.target.value}),placeholder:"0.00",disabled:m.billOfMaterials.length>0,className:m.billOfMaterials.length>0?"bg-gray-100 font-semibold":""}),m.billOfMaterials.length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Or use Bill of Materials above for detailed tracking"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"laborCost",className:"flex items-center",children:[a.jsx(Da,{className:"w-4 h-4 mr-1 text-blue-600"}),"Labor Cost (NPR)"]}),a.jsx(pe,{id:"laborCost",type:"number",step:"0.01",value:m.laborCost,onChange:A=>x({...m,laborCost:A.target.value}),placeholder:"0.00"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Estimated labor cost for production"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:ke(E())})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Material Cost + Labor Cost"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"sellingPrice",children:"Selling Price (NPR)"}),a.jsx(pe,{id:"sellingPrice",type:"number",step:"0.01",value:m.sellingPrice,onChange:A=>x({...m,sellingPrice:A.target.value}),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"estimatedDays",children:"Estimated Production (Days)"}),a.jsx(pe,{id:"estimatedDays",type:"number",value:m.estimatedDays,onChange:A=>x({...m,estimatedDays:A.target.value}),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"stockQuantity",children:["Stock Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"stockQuantity",type:"number",min:"0",value:m.stockQuantity,onChange:A=>x({...m,stockQuantity:A.target.value}),placeholder:"0",required:!0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Available units in stock"})]})]}),m.sellingPrice&&a.jsxs("div",{className:`p-4 rounded-lg ${w()>=0?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Profit Margin"}),a.jsx("span",{className:`text-lg font-bold ${w()>=0?"text-green-600":"text-red-600"}`,children:ke(w())})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w()>=0?"Profitable product":"Selling below cost"})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Product":"Add Product"})]})]})]})})]})}function pT(){var le,F,G,J;const{state:s,actions:r}=mt(),{customers:i,sofaModels:o,company:d}=s,[f,h]=j.useState([]),[p,g]=j.useState(""),[m,x]=j.useState("all"),[v,b]=j.useState(!1),[N,E]=j.useState(null),[S,w]=j.useState({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""});wa.useEffect(()=>{(async()=>{try{const H=await r.getAllOrders();h(H||[])}catch(H){console.error("Error loading orders:",H)}})()},[]);const P=f.filter(Y=>{var O,z,R;const H=((O=Y.orderNumber)==null?void 0:O.toLowerCase().includes(p.toLowerCase()))||((z=Y.customerName)==null?void 0:z.toLowerCase().includes(p.toLowerCase()))||((R=Y.productName)==null?void 0:R.toLowerCase().includes(p.toLowerCase())),I=m==="all"||Y.status===m;return H&&I}),k=()=>{w({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""}),b(!0)},D=()=>{b(!1),w({customerId:null,productId:null,quantity:"1",notes:"",dueDate:""})},T=async Y=>{if(Y.preventDefault(),!S.customerId||!S.productId){alert("Please select customer and product");return}try{const H=parseInt(S.customerId),I=parseInt(S.productId),O=i.find(ie=>ie.id===H),z=o.find(ie=>ie.id===I);if(!O||!z){alert("Invalid customer or product selection");return}const R=parseInt(S.quantity)||1,$=z.sellingPrice*R,_={orderNumber:`ORD-${Date.now().toString().slice(-6)}`,customerId:O.id,customerName:O.name,customerPhone:O.phone,productId:z.id,productName:z.name,quantity:R,unitPrice:z.sellingPrice,totalAmount:$,status:De.PENDING_APPROVAL.value,notes:S.notes,dueDate:S.dueDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:De.PENDING_APPROVAL.value,timestamp:new Date().toISOString(),note:"Order created"}]},Z=await r.addItem("orders",_);h([...f,Z]),alert("Order created successfully!"),D()}catch(H){console.error("Error creating order:",H),alert("Failed to create order. Please try again.")}},A=async(Y,H)=>{var I,O;if(window.confirm(`Update order status to "${(I=De[Object.keys(De).find(z=>De[z].value===H)])==null?void 0:I.label}"?`))try{const z={...Y,status:H,updatedAt:new Date().toISOString(),statusHistory:[...Y.statusHistory||[],{status:H,timestamp:new Date().toISOString(),note:`Status updated to ${(O=De[Object.keys(De).find(R=>De[R].value===H)])==null?void 0:O.label}`}]};await r.updateItem("orders",z),h(f.map(R=>R.id===Y.id?z:R)),U(z),alert("Order status updated successfully!"),E(null)}catch(z){console.error("Error updating order:",z),alert("Failed to update order status. Please try again.")}},U=Y=>{if(!d){alert("Company information not set up");return}const H=uy.orderStatus(d,Y.customerName,Y.orderNumber,Y.status),I=cy(Y.customerPhone,H);window.open(I,"_blank")},q=Y=>{const H=[De.PENDING_APPROVAL.value,De.QUEUED.value,De.IN_CONSTRUCTION.value,De.PENDING_INSPECTION.value,De.COMPLETED.value],I=H.indexOf(Y);return I<H.length-1?H[I+1]:null},V={[De.PENDING_APPROVAL.value]:P.filter(Y=>Y.status===De.PENDING_APPROVAL.value),[De.QUEUED.value]:P.filter(Y=>Y.status===De.QUEUED.value),[De.IN_CONSTRUCTION.value]:P.filter(Y=>Y.status===De.IN_CONSTRUCTION.value),[De.PENDING_INSPECTION.value]:P.filter(Y=>Y.status===De.PENDING_INSPECTION.value),[De.COMPLETED.value]:P.filter(Y=>Y.status===De.COMPLETED.value)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage customer orders with 5-stage workflow"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search orders by number, customer, or product...",value:p,onChange:Y=>g(Y.target.value),className:"pl-10"})]}),a.jsxs(tt,{value:m,onValueChange:x,children:[a.jsx(nt,{className:"w-full sm:w-48",children:a.jsx(at,{placeholder:"Filter by status"})}),a.jsxs(st,{children:[a.jsx(me,{value:"all",children:"All Statuses"}),Object.values(De).map(Y=>a.jsx(me,{value:Y.value,children:Y.label},Y.value))]})]}),a.jsxs(ue,{onClick:k,className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),a.jsxs(kl,{defaultValue:De.PENDING_APPROVAL.value,className:"space-y-4",children:[a.jsx(Pl,{className:"grid w-full grid-cols-5",children:Object.values(De).map(Y=>a.jsxs(Rt,{value:Y.value,className:"text-xs",children:[Y.label,a.jsx(_e,{variant:"secondary",className:"ml-2",children:V[Y.value].length})]},Y.value))}),Object.values(De).map(Y=>a.jsx(kt,{value:Y.value,children:V[Y.value].length===0?a.jsx(de,{children:a.jsx(xe,{className:"flex flex-col items-center justify-center py-12",children:a.jsxs("p",{className:"text-gray-500",children:["No orders in ",Y.label]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V[Y.value].map(H=>{var I;return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-lg",children:H.orderNumber}),a.jsx(Me,{children:H.customerName})]}),a.jsx(_e,{className:lg(H.status),children:(I=De[Object.keys(De).find(O=>De[O].value===H.status)])==null?void 0:I.label})]})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:H.productName})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:H.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(H.totalAmount)})]})]}),H.dueDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Date"}),a.jsx("p",{className:"font-medium",children:Oa(H.dueDate)})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>E(H),children:[a.jsx(nf,{className:"w-4 h-4 mr-1"}),"View"]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(H),children:a.jsx(Id,{className:"w-4 h-4"})})]})]})})]},H.id)})})},Y.value))]}),a.jsx(It,{open:v,onOpenChange:b,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"Create New Order"}),a.jsx(ea,{children:"Create a new customer order. Status will be set to Pending Approval."})]}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:((le=S.customerId)==null?void 0:le.toString())||"",onValueChange:Y=>w({...S,customerId:parseInt(Y)}),children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select customer"})}),a.jsx(st,{children:i.map(Y=>a.jsxs(me,{value:Y.id.toString(),children:[Y.name," - ",Y.phone]},Y.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:((F=S.productId)==null?void 0:F.toString())||"",onValueChange:Y=>w({...S,productId:parseInt(Y)}),children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select product"})}),a.jsx(st,{children:o.map(Y=>a.jsxs(me,{value:Y.id.toString(),children:[Y.name," - ",ke(Y.sellingPrice)]},Y.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"quantity",children:"Quantity"}),a.jsx(pe,{id:"quantity",type:"number",min:"1",value:S.quantity,onChange:Y=>w({...S,quantity:Y.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"dueDate",children:"Due Date"}),a.jsx(pe,{id:"dueDate",type:"date",value:S.dueDate,onChange:Y=>w({...S,dueDate:Y.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:S.notes,onChange:Y=>w({...S,notes:Y.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Create Order"})]})]})]})}),N&&a.jsx(It,{open:!!N,onOpenChange:()=>E(null),children:a.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsxs(Ht,{children:["Order Details - ",N.orderNumber]}),a.jsxs(ea,{children:["Created on ",Oa(N.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:N.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:N.customerPhone})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Status"}),a.jsx(_e,{className:lg(N.status),children:(G=De[Object.keys(De).find(Y=>De[Y].value===N.status)])==null?void 0:G.label})]})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Product"}),a.jsx("p",{className:"font-medium",children:N.productName})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:N.quantity})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:ke(N.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(N.totalAmount)})]})]}),N.notes&&a.jsxs("div",{children:[a.jsx(ae,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:N.notes})]}),N.statusHistory&&N.statusHistory.length>0&&a.jsxs("div",{children:[a.jsx(ae,{children:"Status History"}),a.jsx("div",{className:"mt-2 space-y-2",children:N.statusHistory.map((Y,H)=>{var I;return a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Qx,{className:"w-4 h-4 mt-0.5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(I=De[Object.keys(De).find(O=>De[O].value===Y.status)])==null?void 0:I.label}),a.jsx("p",{className:"text-gray-500 text-xs",children:Oa(Y.timestamp)})]})]},H)})})]})]}),a.jsxs(Bt,{className:"flex-col sm:flex-row gap-2",children:[a.jsxs(ue,{variant:"outline",onClick:()=>U(N),className:"w-full sm:w-auto",children:[a.jsx(Id,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),q(N.status)&&a.jsxs(ue,{onClick:()=>A(N,q(N.status)),className:"w-full sm:w-auto",children:["Move to ",(J=De[Object.keys(De).find(Y=>De[Y].value===q(N.status))])==null?void 0:J.label,a.jsx(Qx,{className:"w-4 h-4 ml-2"})]})]})]})})]})}function xT(s,r="977"){if(!s)return"";const i=s.replace(/\D/g,"");return i.startsWith(r)?i:r+i}function gT(s){if(!s)return!1;const r=s.replace(/\D/g,"");return r.length===10||r.length===13}function yT(s,r){const i=xT(s),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function Of(s,r){let i=s;return Object.keys(r).forEach(o=>{const d=new RegExp(`\\{${o}\\}`,"g");i=i.replace(d,r[o]||"")}),i}const kr={orderConfirmation:{title:"Order Confirmation",template:`Hello {customerName}! 

Your order has been confirmed:
Order #: {orderNumber}
Product: {productName}
Quantity: {quantity}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Expected Delivery: {expectedDelivery}

Thank you for choosing us!
- {companyName}`,variables:["customerName","orderNumber","productName","quantity","totalAmount","paidAmount","dueAmount","expectedDelivery","companyName"]},productionStarted:{title:"Production Started",template:`Hello {customerName}! 

Great news! Production has started for your order.
Order #: {orderNumber}
Product: {productName}

Expected Completion: {expectedCompletion}

We'll notify you when it's ready!
- {companyName}`,variables:["customerName","orderNumber","productName","expectedCompletion","companyName"]},productionCompleted:{title:"Production Completed",template:`Hello {customerName}! 

Your sofa is ready!
Order #: {orderNumber}
Product: {productName}

Please contact us to schedule delivery.

Thank you for your patience!
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},paymentReminder:{title:"Payment Reminder",template:`Hello {customerName}! 

Payment reminder for your order:
Order #: {orderNumber}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Please make payment at your earliest convenience.

Thank you!
- {companyName}`,variables:["customerName","orderNumber","totalAmount","paidAmount","dueAmount","companyName"]},deliveryScheduled:{title:"Delivery Scheduled",template:`Hello {customerName}! 

Your delivery has been scheduled:
Order #: {orderNumber}
Product: {productName}
Delivery Date: {deliveryDate}
Address: {deliveryAddress}

Please be available on the scheduled date.
- {companyName}`,variables:["customerName","orderNumber","productName","deliveryDate","deliveryAddress","companyName"]},orderDelivered:{title:"Order Delivered",template:`Hello {customerName}! 

Your order has been delivered!
Order #: {orderNumber}
Product: {productName}

Thank you for your business. We hope you enjoy your new sofa!

Please let us know if you have any questions.
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},purchaseOrderCreated:{title:"Purchase Order Created",template:`Hello {supplierName}! 

New purchase order:
PO #: {poNumber}
Items: {itemCount}
Total Amount: NPR {totalAmount}

Please confirm receipt and delivery schedule.

Thank you!
- {companyName}`,variables:["supplierName","poNumber","itemCount","totalAmount","companyName"]},lowStockAlert:{title:"Low Stock Alert",template:` LOW STOCK ALERT

Item: {itemName}
Current Stock: {currentStock}
Minimum Stock: {minStock}

Action needed: Reorder soon!
- {companyName}`,variables:["itemName","currentStock","minStock","companyName"]}};function Rg(){return{id:1,whatsappEnabled:!0,defaultCountryCode:"977",companyName:"Sofa Factory",adminPhoneNumber:"",notificationTypes:{orderConfirmation:!0,productionStarted:!0,productionCompleted:!0,paymentReminder:!0,deliveryScheduled:!0,orderDelivered:!0,purchaseOrderCreated:!1,lowStockAlert:!0},messageTemplates:kr}}function _f(s,r,i,o={}){return{type:s,recipient:r,message:i,status:"pending",createdAt:new Date().toISOString(),sentAt:null,relatedId:o.id||null,relatedType:o.type||null}}function vT(s,r){const i=yT(s,r);window.open(i,"_blank")}async function nc(s){try{const r=await s.getItems("notificationSettings");return r&&r.length>0?r[0]:null}catch(r){return console.error("Error getting notification settings:",r),null}}async function Rf(s,r){const i=await nc(s);return!i||!i.whatsappEnabled?!1:i.notificationTypes[r]===!0}async function kf(s,r){try{await s.addItem("notificationQueue",r),console.log("Notification queued:",r.type)}catch(i){console.error("Error queueing notification:",i)}}async function jT(s,r,i,o){var d;try{if(!await Rf(s,"orderConfirmation"))return;const h=await nc(s);if(!h)return;const p=(d=h.messageTemplates.orderConfirmation)==null?void 0:d.template;if(!p)return;const g={customerName:i.name||"Customer",orderNumber:r.orderNumber||r.id,productName:o.name||"Product",quantity:r.quantity||1,totalAmount:ke(r.totalAmount||0),paidAmount:ke(r.paidAmount||0),dueAmount:ke((r.totalAmount||0)-(r.paidAmount||0)),expectedDelivery:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"To be confirmed",companyName:h.companyName||"Sofa Factory"},m=Of(p,g),x=_f("orderConfirmation",{name:i.name,phone:i.phone},m,{id:r.id,type:"order"});await kf(s,x)}catch(f){console.error("Error sending order confirmation:",f)}}async function bT(s,r,i,o){var d;try{if(!await Rf(s,"productionStarted")||!i||!o)return;const h=await nc(s);if(!h)return;const p=(d=h.messageTemplates.productionStarted)==null?void 0:d.template;if(!p)return;const g={customerName:o.name||"Customer",orderNumber:i.orderNumber||i.id,productName:r.productName||"Product",expectedCompletion:r.expectedCompletionDate?new Date(r.expectedCompletionDate).toLocaleDateString():"Soon",companyName:h.companyName||"Sofa Factory"},m=Of(p,g),x=_f("productionStarted",{name:o.name,phone:o.phone},m,{id:r.id,type:"production"});await kf(s,x)}catch(f){console.error("Error sending production started notification:",f)}}async function NT(s,r,i,o){var d;try{if(!await Rf(s,"productionCompleted")||!i||!o)return;const h=await nc(s);if(!h)return;const p=(d=h.messageTemplates.productionCompleted)==null?void 0:d.template;if(!p)return;const g={customerName:o.name||"Customer",orderNumber:i.orderNumber||i.id,productName:r.productName||"Product",companyName:h.companyName||"Sofa Factory"},m=Of(p,g),x=_f("productionCompleted",{name:o.name,phone:o.phone},m,{id:r.id,type:"production"});await kf(s,x)}catch(f){console.error("Error sending production completed notification:",f)}}function ST(){var le,F;const{state:s,actions:r}=mt(),{customers:i,sofaModels:o,sales:d}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(null),[v,b]=j.useState({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),N=d.filter(G=>{var J,Y,H;return((J=G.customerName)==null?void 0:J.toLowerCase().includes(f.toLowerCase()))||((Y=G.productName)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))||((H=G.saleNumber)==null?void 0:H.toLowerCase().includes(f.toLowerCase()))}),E=d.reduce((G,J)=>G+(J.totalAmount||0),0),S=d.filter(G=>{const J=new Date(G.createdAt),Y=new Date;return J.toDateString()===Y.toDateString()}),w=S.reduce((G,J)=>G+(J.totalAmount||0),0),P=()=>{b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),g(!0)},k=()=>{g(!1),b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""})},D=G=>{console.log("Product selected:",G);const J=parseInt(G),Y=o.find(H=>H.id===J);if(console.log("Product details:",Y),Y){const H={...v,productId:J,unitPrice:Y.sellingPrice.toString()};console.log("Updated form data:",H),b(H)}else console.error("Product not found for ID:",G)},T=G=>{console.log("Customer selected:",G);const J=parseInt(G),Y=i.find(I=>I.id===J);console.log("Customer details:",Y);const H={...v,customerId:J};console.log("Updated form data:",H),b(H)},A=()=>{const G=parseInt(v.quantity)||0,J=parseFloat(v.unitPrice)||0,Y=parseFloat(v.discount)||0;return G*J-Y},U=async G=>{if(window.confirm(`Approve sale ${G.saleNumber}? This will deduct ${G.quantity} units from inventory.`))try{const J={...G,approvalStatus:"approved",status:"completed",approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",J);const Y=o.find(H=>H.id===G.productId);if(Y){const H={...Y,stockQuantity:(Y.stockQuantity||0)-G.quantity,updatedAt:new Date().toISOString()};await r.updateItem("sofaModels",H)}alert("Sale approved successfully! Stock has been updated.")}catch(J){console.error("Error approving sale:",J),alert("Failed to approve sale. Please try again.")}},q=async G=>{const J=window.prompt(`Reject sale ${G.saleNumber}? Please enter reason:`);if(J)try{const Y={...G,approvalStatus:"rejected",status:"rejected",rejectionReason:J,rejectedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",Y),alert("Sale rejected successfully.")}catch(Y){console.error("Error rejecting sale:",Y),alert("Failed to reject sale. Please try again.")}},V=async G=>{if(G.preventDefault(),console.log("=== SALES FORM SUBMISSION DEBUG ==="),console.log("Form Data:",v),console.log("Customers available:",i.length),console.log("Products available:",o.length),console.log("All customers:",i),console.log("All products:",o),i.length===0){alert("No customers found! Please add customers first from the Customers page.");return}if(o.length===0){alert("No products found! Please add finished products first from the Inventory page.");return}if(!v.customerId||!v.productId){console.error("Missing selection - Customer ID:",v.customerId,"Product ID:",v.productId),alert("Please select both customer and product from the dropdowns");return}try{const J=i.find(fe=>fe.id===v.customerId),Y=o.find(fe=>fe.id===v.productId);if(console.log("Found customer:",J),console.log("Found product:",Y),!J||!Y){console.error("Validation failed - Customer found:",!!J,"Product found:",!!Y),alert(`Invalid selection. Customer: ${J?"OK":"NOT FOUND"}, Product: ${Y?"OK":"NOT FOUND"}`);return}const H=parseInt(v.quantity)||1,I=parseFloat(v.unitPrice)||0,O=parseFloat(v.discount)||0,z=A(),R=parseFloat(v.paidAmount)||0,$=z-R,ce=`SAL-${Date.now().toString().slice(-6)}`;if((Y.stockQuantity||0)<H){alert(`Insufficient stock! Available: ${Y.stockQuantity||0} units, Requested: ${H} units`);return}let _="unpaid";R>=z?_="paid":R>0&&(_="partial");const Z={saleNumber:ce,customerId:J.id,customerName:J.name,customerPhone:J.phone,productId:Y.id,productName:Y.name,quantity:H,unitPrice:I,discount:O,subtotal:H*I,totalAmount:z,paidAmount:R,dueAmount:$,paymentStatus:_,paymentMethod:v.paymentMethod,paymentHistory:[{amount:R,method:v.paymentMethod,date:new Date().toISOString(),note:"Initial payment"}],notes:v.notes,status:"pending",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ie=await r.addItem("sales",Z);try{await jT(r,Z,J,Y)}catch(fe){console.error("Error sending notification:",fe)}alert("Sale recorded successfully! Waiting for admin approval."),k()}catch(J){console.error("Error recording sale:",J),alert("Failed to record sale. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales transactions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Sales"}),a.jsx(wo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time transactions"})]})]}),a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Today's Sales"}),a.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:ke(w)})]})]}),a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ke(E)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time revenue"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search sales by number, customer, or product...",value:f,onChange:G=>h(G.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:P,className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]}),N.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Da,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No sales found":"No sales yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first sale to get started"}),!f&&a.jsxs(ue,{onClick:P,children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]})}):a.jsx("div",{className:"space-y-4",children:N.map(G=>a.jsx(de,{className:"hover:shadow-lg transition-shadow",children:a.jsx(xe,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:G.saleNumber}),G.approvalStatus==="pending"&&a.jsx(_e,{className:"bg-orange-500 text-white",children:"Pending Approval"}),G.approvalStatus==="approved"&&a.jsx(_e,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}),G.approvalStatus==="rejected"&&a.jsx(_e,{className:"bg-red-100 text-red-800",children:"Rejected"}),G.paymentStatus==="paid"&&a.jsx(_e,{className:"bg-green-500 text-white",children:"Paid"}),G.paymentStatus==="partial"&&a.jsx(_e,{className:"bg-yellow-500 text-white",children:"Partial Payment"}),G.paymentStatus==="unpaid"&&a.jsx(_e,{className:"bg-red-500 text-white",children:"Unpaid"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:G.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:G.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:G.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(G.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:G.dueAmount>0?ke(G.dueAmount):"NPR 0"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Payment: ",G.paymentMethod]}),a.jsx("span",{children:""}),a.jsx("span",{children:Oa(G.createdAt)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[G.approvalStatus==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>U(G),children:"Approve"}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>q(G),children:"Reject"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>x(G),children:[a.jsx(nf,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})},G.id))}),a.jsx(It,{open:p,onOpenChange:g,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"Record New Sale"}),a.jsx(ea,{children:"Enter sale details to record a new transaction"})]}),a.jsxs("form",{onSubmit:V,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:((le=v.customerId)==null?void 0:le.toString())||"",onValueChange:T,children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select customer"})}),a.jsx(st,{children:i.map(G=>a.jsx(me,{value:G.id.toString(),children:G.name},G.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:((F=v.productId)==null?void 0:F.toString())||"",onValueChange:D,children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select product"})}),a.jsx(st,{children:o.map(G=>a.jsxs(me,{value:G.id.toString(),children:[G.name," - ",ke(G.sellingPrice)]},G.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"quantity",children:"Quantity"}),a.jsx(pe,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:G=>b({...v,quantity:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"unitPrice",children:"Unit Price (NPR)"}),a.jsx(pe,{id:"unitPrice",type:"number",step:"0.01",value:v.unitPrice,onChange:G=>b({...v,unitPrice:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"discount",children:"Discount (NPR)"}),a.jsx(pe,{id:"discount",type:"number",step:"0.01",value:v.discount,onChange:G=>b({...v,discount:G.target.value})})]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:ke(A())})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(tt,{value:v.paymentMethod,onValueChange:G=>b({...v,paymentMethod:G}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"cash",children:"Cash"}),a.jsx(me,{value:"bank_transfer",children:"Bank Transfer"}),a.jsx(me,{value:"card",children:"Card"}),a.jsx(me,{value:"mobile_payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paidAmount",children:"Paid Amount (NPR)"}),a.jsx(pe,{id:"paidAmount",type:"number",step:"0.01",min:"0",placeholder:"Enter amount paid",value:v.paidAmount,onChange:G=>b({...v,paidAmount:G.target.value})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Leave empty or enter 0 for unpaid. Total: ",ke(A())]})]})]}),v.paidAmount&&parseFloat(v.paidAmount)<A()&&a.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"font-medium text-yellow-800",children:"Due Amount:"}),a.jsx("span",{className:"text-lg font-bold text-yellow-900",children:ke(A()-parseFloat(v.paidAmount||0))})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:v.notes,onChange:G=>b({...v,notes:G.target.value}),placeholder:"Add any additional notes",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Record Sale"})]})]})]})}),m&&a.jsx(It,{open:!!m,onOpenChange:()=>x(null),children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsxs(Ht,{children:["Sale Details - ",m.saleNumber]}),a.jsxs(ea,{children:["Recorded on ",Oa(m.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:m.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:m.customerPhone})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Product"}),a.jsx("p",{className:"font-medium",children:m.productName})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:m.quantity})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:ke(m.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Subtotal"}),a.jsx("p",{className:"font-medium",children:ke(m.subtotal)})]})]}),m.discount>0&&a.jsxs("div",{children:[a.jsx(ae,{children:"Discount"}),a.jsxs("p",{className:"font-medium text-red-600",children:["- ",ke(m.discount)]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:ke(m.totalAmount)})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Paid Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(m.paidAmount||0)})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:ke(m.dueAmount||0)})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Payment Status"}),a.jsxs("div",{children:[m.paymentStatus==="paid"&&a.jsx(_e,{className:"bg-green-500 text-white",children:"Paid"}),m.paymentStatus==="partial"&&a.jsx(_e,{className:"bg-yellow-500 text-white",children:"Partial"}),m.paymentStatus==="unpaid"&&a.jsx(_e,{className:"bg-red-500 text-white",children:"Unpaid"})]})]})]}),a.jsxs("div",{children:[a.jsx(ae,{children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:m.paymentMethod.replace("_"," ")})]}),m.paymentHistory&&m.paymentHistory.length>0&&a.jsxs("div",{children:[a.jsx(ae,{children:"Payment History"}),a.jsx("div",{className:"mt-2 space-y-2",children:m.paymentHistory.map((G,J)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ke(G.amount)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[G.method.replace("_"," "),"  ",Oa(G.date)]}),G.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:G.note})]})},J))})]}),m.notes&&a.jsxs("div",{children:[a.jsx(ae,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:m.notes})]})]}),a.jsx(Bt,{children:a.jsx(ue,{variant:"outline",onClick:()=>x(null),children:"Close"})})]})})]})}function wT(){const{state:s,actions:r}=mt(),{customers:i,cleaningServices:o,company:d}=s,[f,h]=j.useState(""),[p,g]=j.useState("all"),[m,x]=j.useState(!1),[v,b]=j.useState(null),[N,E]=j.useState({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""}),S=o.filter(F=>{var Y,H;const G=((Y=F.customerName)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))||((H=F.serviceNumber)==null?void 0:H.toLowerCase().includes(f.toLowerCase())),J=p==="all"||F.status===p;return G&&J}),w=S.filter(F=>F.status==="scheduled"),P=S.filter(F=>F.status==="completed"),k=S.filter(F=>F.status==="cancelled"),D=(F=null)=>{F?(b(F),E({customerId:F.customerId,serviceDate:F.serviceDate,serviceTime:F.serviceTime,serviceType:F.serviceType,price:F.price.toString(),address:F.address,notes:F.notes||""})):(b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})),x(!0)},T=()=>{x(!1),b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})},A=F=>{const G=i.find(J=>J.id===F);G&&G.address?E({...N,customerId:F,address:G.address}):E({...N,customerId:F})},U=async F=>{if(F.preventDefault(),!N.customerId||!N.serviceDate||!N.serviceTime){alert("Please fill in all required fields");return}try{const G=i.find(Y=>Y.id===N.customerId);if(!G){alert("Invalid customer selection");return}const J={serviceNumber:(v==null?void 0:v.serviceNumber)||`CLN-${Date.now().toString().slice(-6)}`,customerId:G.id,customerName:G.name,customerPhone:G.phone,serviceDate:N.serviceDate,serviceTime:N.serviceTime,serviceType:N.serviceType,price:parseFloat(N.price)||0,address:N.address,notes:N.notes,status:(v==null?void 0:v.status)||"scheduled",createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};v?(await r.updateItem("cleaningServices",{...J,id:v.id}),alert("Service updated successfully!")):(await r.addItem("cleaningServices",J),alert("Service scheduled successfully!")),T()}catch(G){console.error("Error saving service:",G),alert("Failed to save service. Please try again.")}},q=async(F,G)=>{if(window.confirm(`Update service status to "${G}"?`))try{const J={...F,status:G,updatedAt:new Date().toISOString()};await r.updateItem("cleaningServices",J),alert("Service status updated successfully!")}catch(J){console.error("Error updating service:",J),alert("Failed to update service status. Please try again.")}},V=F=>{if(!d){alert("Company information not set up");return}const G=uy.cleaningReminder(d,F.customerName,F.serviceDate,F.serviceTime),J=cy(F.customerPhone,G);window.open(J,"_blank")},le=F=>{switch(F){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cleaning Services"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage sofa cleaning appointments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Upcoming"}),a.jsx(No,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled appointments"})]})]}),a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Completed"}),a.jsx(Kn,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:P.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Services completed"})]})]}),a.jsxs(de,{children:[a.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ke(o.reduce((F,G)=>F+(G.price||0),0))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"From cleaning services"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search services by number or customer...",value:f,onChange:F=>h(F.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>D(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Schedule Service"]})]}),a.jsxs(kl,{defaultValue:"scheduled",className:"space-y-4",children:[a.jsxs(Pl,{className:"grid w-full grid-cols-3",children:[a.jsxs(Rt,{value:"scheduled",children:["Scheduled",a.jsx(_e,{variant:"secondary",className:"ml-2",children:w.length})]}),a.jsxs(Rt,{value:"completed",children:["Completed",a.jsx(_e,{variant:"secondary",className:"ml-2",children:P.length})]}),a.jsxs(Rt,{value:"cancelled",children:["Cancelled",a.jsx(_e,{variant:"secondary",className:"ml-2",children:k.length})]})]}),a.jsx(kt,{value:"scheduled",children:w.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ws,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No scheduled services"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(F=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-lg",children:F.serviceNumber}),a.jsx(Me,{children:F.customerName})]}),a.jsx(_e,{className:le(F.status),children:F.status})]})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),a.jsxs("p",{className:"font-medium",children:[Oa(F.serviceDate)," at ",F.serviceTime]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:F.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(F.price)})]}),F.address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"text-sm line-clamp-2",children:F.address})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>D(F),children:[a.jsx(Os,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>V(F),children:a.jsx(Id,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>q(F,"completed"),children:a.jsx(Kn,{className:"w-4 h-4"})})]})]})})]},F.id))})}),a.jsx(kt,{value:"completed",children:P.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Kn,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No completed services"})]})}):a.jsx("div",{className:"space-y-4",children:P.map(F=>a.jsx(de,{children:a.jsx(xe,{className:"p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:F.serviceNumber}),a.jsx(_e,{className:le(F.status),children:F.status})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:F.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:Oa(F.serviceDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:F.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:ke(F.price)})]})]})]})})})},F.id))})}),a.jsx(kt,{value:"cancelled",children:k.length===0?a.jsx(de,{children:a.jsx(xe,{className:"flex flex-col items-center justify-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No cancelled services"})})}):a.jsx("div",{className:"space-y-4",children:k.map(F=>a.jsx(de,{children:a.jsx(xe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold",children:[F.serviceNumber," - ",F.customerName]}),a.jsx("p",{className:"text-sm text-gray-500",children:Oa(F.serviceDate)})]}),a.jsx(_e,{className:le(F.status),children:F.status})]})})},F.id))})})]}),a.jsx(It,{open:m,onOpenChange:x,children:a.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:v?"Edit Service":"Schedule New Service"}),a.jsx(ea,{children:v?"Update service appointment details":"Schedule a new cleaning service appointment"})]}),a.jsxs("form",{onSubmit:U,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:N.customerId,onValueChange:A,children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select customer"})}),a.jsx(st,{children:i.map(F=>a.jsxs(me,{value:F.id,children:[F.name," - ",F.phone]},F.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"serviceDate",children:["Service Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"serviceDate",type:"date",value:N.serviceDate,onChange:F=>E({...N,serviceDate:F.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"serviceTime",children:["Service Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"serviceTime",type:"time",value:N.serviceTime,onChange:F=>E({...N,serviceTime:F.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"serviceType",children:"Service Type"}),a.jsxs(tt,{value:N.serviceType,onValueChange:F=>E({...N,serviceType:F}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"regular",children:"Regular Cleaning"}),a.jsx(me,{value:"deep",children:"Deep Cleaning"}),a.jsx(me,{value:"stain_removal",children:"Stain Removal"}),a.jsx(me,{value:"maintenance",children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"price",children:"Price (NPR)"}),a.jsx(pe,{id:"price",type:"number",step:"0.01",value:N.price,onChange:F=>E({...N,price:F.target.value}),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"address",children:"Service Address"}),a.jsx(Pt,{id:"address",value:N.address,onChange:F=>E({...N,address:F.target.value}),placeholder:"Enter service address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:N.notes,onChange:F=>E({...N,notes:F.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),a.jsx(ue,{type:"submit",children:v?"Update Service":"Schedule Service"})]})]})]})})]})}function bs({className:s,...r}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",s),...r})})}function Ns({className:s,...r}){return a.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",s),...r})}function Ss({className:s,...r}){return a.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",s),...r})}function Jt({className:s,...r}){return a.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function $e({className:s,...r}){return a.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function Xe({className:s,...r}){return a.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function CT(){const{state:s,actions:r}=mt(),[i,o]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState(""),[x,v]=j.useState(!1),[b,N]=j.useState(!1),[E,S]=j.useState(!1),[w,P]=j.useState(null),[k,D]=j.useState(null),[T,A]=j.useState({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"}),[U,q]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""}),[V,le]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""});j.useEffect(()=>{F()},[]);const F=async()=>{try{const[M,ne,te]=await Promise.all([he.getAll("labourers"),he.getAll("attendance"),he.getAll("labourPayments")]);o(M||[]),f(ne||[]),p(te||[])}catch(M){console.error("Error loading labour data:",M)}},G=i.filter(M=>M.name.toLowerCase().includes(g.toLowerCase())||M.phone&&M.phone.includes(g)||M.specialization&&M.specialization.toLowerCase().includes(g.toLowerCase())),J=(M=null)=>{var ne;M?(P(M),A({name:M.name,phone:M.phone||"",address:M.address||"",dailyWage:((ne=M.dailyWage)==null?void 0:ne.toString())||"",specialization:M.specialization||"Carpenter",joinDate:M.joinDate||new Date().toISOString().split("T")[0],status:M.status||"active"})):(P(null),A({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"})),v(!0)},Y=()=>{v(!1),P(null)},H=async M=>{if(M.preventDefault(),!T.name||!T.dailyWage){alert("Please fill in required fields (Name and Daily Wage)");return}try{const ne={name:T.name,phone:T.phone,address:T.address,dailyWage:parseFloat(T.dailyWage),specialization:T.specialization,joinDate:T.joinDate,status:T.status,createdAt:(w==null?void 0:w.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};w?(await he.update("labourers",{...ne,id:w.id}),alert("Labourer updated successfully!")):(await he.add("labourers",ne),alert("Labourer added successfully!")),await F(),Y()}catch(ne){console.error("Error saving labourer:",ne),alert("Failed to save labourer. Please try again.")}},I=async M=>{if(window.confirm(`Are you sure you want to delete ${M.name}?`))try{await he.delete("labourers",M.id),alert("Labourer deleted successfully!"),await F()}catch(ne){console.error("Error deleting labourer:",ne),alert("Failed to delete labourer. Please try again.")}},O=(M=null)=>{M?(D(M),q({labourerId:M.id.toString(),date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})):(D(null),q({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})),N(!0)},z=async M=>{if(M.preventDefault(),!U.labourerId){alert("Please select a labourer");return}try{const ne=i.find(ye=>ye.id===parseInt(U.labourerId)),te={labourerId:parseInt(U.labourerId),labourerName:(ne==null?void 0:ne.name)||"",date:U.date,status:U.status,hoursWorked:parseFloat(U.hoursWorked)||0,notes:U.notes,createdAt:new Date().toISOString()};await he.add("attendance",te),alert("Attendance marked successfully!"),await F(),N(!1)}catch(ne){console.error("Error marking attendance:",ne),alert("Failed to mark attendance. Please try again.")}},R=(M=null)=>{var ne;M?(D(M),le({labourerId:M.id.toString(),date:new Date().toISOString().split("T")[0],amount:((ne=M.dailyWage)==null?void 0:ne.toString())||"",paymentMethod:"Cash",notes:""})):(D(null),le({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""})),S(!0)},$=async M=>{if(M.preventDefault(),!V.labourerId||!V.amount){alert("Please fill in required fields");return}try{const ne=i.find(ye=>ye.id===parseInt(V.labourerId)),te={labourerId:parseInt(V.labourerId),labourerName:(ne==null?void 0:ne.name)||"",date:V.date,amount:parseFloat(V.amount),paymentMethod:V.paymentMethod,notes:V.notes,createdAt:new Date().toISOString()};await he.add("labourPayments",te),alert("Payment recorded successfully!"),await F(),S(!1)}catch(ne){console.error("Error recording payment:",ne),alert("Failed to record payment. Please try again.")}},ce=i.filter(M=>M.status==="active").length,_=h.reduce((M,ne)=>M+(ne.amount||0),0),Z=h.filter(M=>{const ne=new Date(M.date),te=new Date;return ne.getMonth()===te.getMonth()&&ne.getFullYear()===te.getFullYear()}).reduce((M,ne)=>M+(ne.amount||0),0),fe=d.filter(M=>M.date===new Date().toISOString().split("T")[0]).filter(M=>M.status==="present").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Labour Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage labourers, track attendance, and record payments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Active Labourers"}),a.jsx(be,{className:"text-2xl",children:ce})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Present Today"}),a.jsx(be,{className:"text-2xl text-green-600",children:fe})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"This Month Payments"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",Z.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Payments"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",_.toLocaleString()]})]})})]}),a.jsxs(kl,{defaultValue:"labourers",className:"space-y-4",children:[a.jsxs(Pl,{children:[a.jsx(Rt,{value:"labourers",children:"Labourers"}),a.jsx(Rt,{value:"attendance",children:"Attendance"}),a.jsx(Rt,{value:"payments",children:"Payments"})]}),a.jsxs(kt,{value:"labourers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search labourers...",value:g,onChange:M=>m(M.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>J(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]}),G.length>0?a.jsx(de,{children:a.jsx(xe,{className:"p-0",children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Name"}),a.jsx($e,{children:"Phone"}),a.jsx($e,{children:"Specialization"}),a.jsx($e,{children:"Daily Wage"}),a.jsx($e,{children:"Status"}),a.jsx($e,{children:"Actions"})]})}),a.jsx(Ss,{children:G.map(M=>a.jsxs(Jt,{children:[a.jsxs(Xe,{children:[a.jsx("div",{className:"font-medium",children:M.name}),M.address&&a.jsx("div",{className:"text-sm text-gray-500",children:M.address})]}),a.jsx(Xe,{children:M.phone}),a.jsx(Xe,{children:M.specialization}),a.jsxs(Xe,{className:"font-medium",children:["NPR ",M.dailyWage]}),a.jsx(Xe,{children:a.jsx(_e,{variant:M.status==="active"?"success":"default",children:M.status})}),a.jsx(Xe,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>O(M),title:"Mark Attendance",children:a.jsx(qd,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>R(M),title:"Record Payment",children:a.jsx(Da,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>J(M),children:a.jsx(Os,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>I(M),children:a.jsx(Va,{className:"w-4 h-4"})})]})})]},M.id))})]})})}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(qd,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"No labourers found":"No labourers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:g?"Try adjusting your search":"Add your first labourer to get started"}),!g&&a.jsxs(ue,{onClick:()=>J(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]})})]}),a.jsxs(kt,{value:"attendance",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:()=>O(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),d.length>0?a.jsx(de,{children:a.jsx(xe,{className:"p-0",children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Date"}),a.jsx($e,{children:"Labourer"}),a.jsx($e,{children:"Status"}),a.jsx($e,{children:"Hours Worked"}),a.jsx($e,{children:"Notes"})]})}),a.jsx(Ss,{children:d.slice(0,50).map((M,ne)=>a.jsxs(Jt,{children:[a.jsx(Xe,{children:new Date(M.date).toLocaleDateString()}),a.jsx(Xe,{children:M.labourerName}),a.jsx(Xe,{children:a.jsx(_e,{variant:M.status==="present"?"success":M.status==="absent"?"destructive":"warning",children:M.status})}),a.jsxs(Xe,{children:[M.hoursWorked," hrs"]}),a.jsx(Xe,{className:"text-sm text-gray-600",children:M.notes})]},ne))})]})})}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ws,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No attendance records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start marking attendance for your labourers"}),a.jsxs(ue,{onClick:()=>O(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})})]}),a.jsxs(kt,{value:"payments",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:()=>R(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Record Payment"]})}),h.length>0?a.jsx(de,{children:a.jsx(xe,{className:"p-0",children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Date"}),a.jsx($e,{children:"Labourer"}),a.jsx($e,{children:"Amount"}),a.jsx($e,{children:"Payment Method"}),a.jsx($e,{children:"Notes"})]})}),a.jsx(Ss,{children:h.slice(0,50).map((M,ne)=>a.jsxs(Jt,{children:[a.jsx(Xe,{children:new Date(M.date).toLocaleDateString()}),a.jsx(Xe,{children:M.labourerName}),a.jsxs(Xe,{className:"font-medium",children:["NPR ",M.amount.toLocaleString()]}),a.jsx(Xe,{children:M.paymentMethod}),a.jsx(Xe,{className:"text-sm text-gray-600",children:M.notes})]},ne))})]})})}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Da,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start recording payments for your labourers"}),a.jsxs(ue,{onClick:()=>R(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})})]})]}),a.jsx(It,{open:x,onOpenChange:v,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:w?"Edit Labourer":"Add New Labourer"}),a.jsx(ea,{children:w?"Update labourer information":"Enter labourer details"})]}),a.jsxs("form",{onSubmit:H,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"name",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"name",value:T.name,onChange:M=>A({...T,name:M.target.value}),placeholder:"e.g., Ram Bahadur",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"phone",children:"Phone"}),a.jsx(pe,{id:"phone",type:"tel",value:T.phone,onChange:M=>A({...T,phone:M.target.value}),placeholder:"e.g., 9841234567"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"address",children:"Address"}),a.jsx(pe,{id:"address",value:T.address,onChange:M=>A({...T,address:M.target.value}),placeholder:"e.g., Kathmandu"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"specialization",children:"Specialization"}),a.jsxs(tt,{value:T.specialization,onValueChange:M=>A({...T,specialization:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Carpenter",children:"Carpenter"}),a.jsx(me,{value:"Upholsterer",children:"Upholsterer"}),a.jsx(me,{value:"Painter",children:"Painter"}),a.jsx(me,{value:"Helper",children:"Helper"}),a.jsx(me,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"dailyWage",children:["Daily Wage (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"dailyWage",type:"number",step:"0.01",min:"0",value:T.dailyWage,onChange:M=>A({...T,dailyWage:M.target.value}),placeholder:"e.g., 1500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"joinDate",children:"Join Date"}),a.jsx(pe,{id:"joinDate",type:"date",value:T.joinDate,onChange:M=>A({...T,joinDate:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"status",children:"Status"}),a.jsxs(tt,{value:T.status,onValueChange:M=>A({...T,status:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"active",children:"Active"}),a.jsx(me,{value:"inactive",children:"Inactive"})]})]})]})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:Y,children:"Cancel"}),a.jsx(ue,{type:"submit",children:w?"Update Labourer":"Add Labourer"})]})]})]})}),a.jsx(It,{open:b,onOpenChange:N,children:a.jsxs(Ut,{children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"Mark Attendance"}),a.jsx(ea,{children:k?`Mark attendance for ${k.name}`:"Select a labourer and mark attendance"})]}),a.jsxs("form",{onSubmit:z,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!k&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"labourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:U.labourerId,onValueChange:M=>q({...U,labourerId:M}),children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select labourer"})}),a.jsx(st,{children:i.filter(M=>M.status==="active").map(M=>a.jsx(me,{value:M.id.toString(),children:M.name},M.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"attendanceDate",children:"Date"}),a.jsx(pe,{id:"attendanceDate",type:"date",value:U.date,onChange:M=>q({...U,date:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"attendanceStatus",children:"Status"}),a.jsxs(tt,{value:U.status,onValueChange:M=>q({...U,status:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"present",children:"Present"}),a.jsx(me,{value:"absent",children:"Absent"}),a.jsx(me,{value:"half-day",children:"Half Day"}),a.jsx(me,{value:"leave",children:"Leave"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"hoursWorked",children:"Hours Worked"}),a.jsx(pe,{id:"hoursWorked",type:"number",step:"0.5",min:"0",max:"24",value:U.hoursWorked,onChange:M=>q({...U,hoursWorked:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"attendanceNotes",children:"Notes"}),a.jsx(Pt,{id:"attendanceNotes",value:U.notes,onChange:M=>q({...U,notes:M.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Mark Attendance"})]})]})]})}),a.jsx(It,{open:E,onOpenChange:S,children:a.jsxs(Ut,{children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"Record Payment"}),a.jsx(ea,{children:k?`Record payment for ${k.name}`:"Select a labourer and record payment"})]}),a.jsxs("form",{onSubmit:$,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!k&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"paymentLabourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:V.labourerId,onValueChange:M=>{var te;const ne=i.find(ye=>ye.id===parseInt(M));le({...V,labourerId:M,amount:((te=ne==null?void 0:ne.dailyWage)==null?void 0:te.toString())||""})},children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select labourer"})}),a.jsx(st,{children:i.filter(M=>M.status==="active").map(M=>a.jsxs(me,{value:M.id.toString(),children:[M.name," (NPR ",M.dailyWage,"/day)"]},M.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentDate",children:"Date"}),a.jsx(pe,{id:"paymentDate",type:"date",value:V.date,onChange:M=>le({...V,date:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"amount",children:["Amount (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"amount",type:"number",step:"0.01",min:"0",value:V.amount,onChange:M=>le({...V,amount:M.target.value}),placeholder:"e.g., 1500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(tt,{value:V.paymentMethod,onValueChange:M=>le({...V,paymentMethod:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Cash",children:"Cash"}),a.jsx(me,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(me,{value:"Mobile Payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentNotes",children:"Notes"}),a.jsx(Pt,{id:"paymentNotes",value:V.notes,onChange:M=>le({...V,notes:M.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Record Payment"})]})]})]})})]})}function AT(){const{state:s,actions:r}=mt(),{rawMaterials:i=[],sofaModels:o=[]}=s,d=j.useMemo(()=>{const p=i.length,g=i.reduce((N,E)=>{const S=parseFloat(E.quantity)||0,w=parseFloat(E.unitPrice)||0;return N+S*w},0),m=o.length,x=o.reduce((N,E)=>{const S=parseFloat(E.stock)||0,w=parseFloat(E.sellingPrice)||parseFloat(E.basePrice)||0;return N+S*w},0),v=i.filter(N=>{const E=parseFloat(N.quantity)||0,S=parseFloat(N.minStock)||10;return E>0&&E<S}),b=i.filter(N=>(parseFloat(N.quantity)||0)<=0);return[{label:"Raw Materials",count:p,value:` ${g.toLocaleString()}`,color:"bg-blue-500",icon:gn},{label:"Finished Products",count:m,value:` ${x.toLocaleString()}`,color:"bg-green-500",icon:EN},{label:"Low Stock Items",count:v.length,color:"bg-yellow-500",icon:sf},{label:"Out of Stock",count:b.length,color:"bg-red-500",icon:af}]},[i,o]),f=j.useMemo(()=>{const p=[];return[...i].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,3).forEach(x=>{p.push({text:`${x.name} - ${x.quantity} ${x.unit||"units"} in stock`,time:x.updatedAt||x.createdAt,color:"bg-green-500"})}),[...o].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,2).forEach(x=>{p.push({text:`${x.name} - ${x.stock||0} units in stock`,time:x.updatedAt||x.createdAt,color:"bg-blue-500"})}),i.filter(x=>{const v=parseFloat(x.quantity)||0,b=parseFloat(x.minStock)||10;return v>0&&v<b}).slice(0,2).forEach(x=>{p.push({text:`Low stock alert: ${x.name}`,time:new Date().toISOString(),color:"bg-yellow-500"})}),p.slice(0,5)},[i,o]),h=p=>{if(!p)return"Recently";const g=new Date(p),x=new Date-g,v=Math.floor(x/6e4),b=Math.floor(x/36e5),N=Math.floor(x/864e5);return v<60?`${v} minutes ago`:b<24?`${b} hours ago`:`${N} days ago`};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Overview of raw materials and finished products inventory"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((p,g)=>{const m=p.icon;return a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.count}),p.value&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.value})]}),a.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:a.jsx(m,{className:"w-6 h-6 text-white"})})]})},g)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>r.setCurrentView("raw-materials"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Raw Materials"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("finished-products"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Finished Products"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("suppliers"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"View Suppliers"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((p,g)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`w-2 h-2 ${p.color} rounded-full mt-2 mr-3`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:p.text}),a.jsx("p",{className:"text-xs text-gray-500",children:h(p.time)})]})]},g))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add raw materials or products to see activity here"})]})]})]})]})}function ET(){const{state:s,actions:r}=mt(),{rawMaterials:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""}),v=i.filter(D=>D.name.toLowerCase().includes(o.toLowerCase())||D.category&&D.category.toLowerCase().includes(o.toLowerCase())||D.supplier&&D.supplier.toLowerCase().includes(o.toLowerCase())),b=(D,T)=>{const A=parseFloat(D)||0,U=parseFloat(T)||0;return A===0?{label:"Out of Stock",variant:"destructive"}:A<=U?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"}},N=(D=null)=>{var T,A,U;D?(g(D),x({name:D.name,category:D.category||"Wood",quantity:((T=D.quantity)==null?void 0:T.toString())||"",unit:D.unit||"meters",pricePerUnit:((A=D.pricePerUnit)==null?void 0:A.toString())||"",minStock:((U=D.minStock)==null?void 0:U.toString())||"",supplier:D.supplier||"",description:D.description||""})):(g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})),h(!0)},E=()=>{h(!1),g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})},S=async D=>{if(D.preventDefault(),!m.name||!m.quantity||!m.pricePerUnit){alert("Please fill in required fields (Name, Quantity, Price)");return}try{const T={name:m.name,category:m.category,quantity:parseFloat(m.quantity),unit:m.unit,pricePerUnit:parseFloat(m.pricePerUnit),minStock:parseFloat(m.minStock)||0,supplier:m.supplier,description:m.description,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("rawMaterials",{...T,id:p.id}),alert("Material updated successfully!")):(await r.addItem("rawMaterials",T),alert("Material added successfully!")),E()}catch(T){console.error("Error saving material:",T),alert("Failed to save material. Please try again.")}},w=async D=>{if(window.confirm(`Are you sure you want to delete ${D.name}?`))try{await r.deleteItem("rawMaterials",D.id),alert("Material deleted successfully!")}catch(T){console.error("Error deleting material:",T),alert("Failed to delete material. Please try again.")}},P=i.reduce((D,T)=>D+(T.quantity||0)*(T.pricePerUnit||0),0),k=i.filter(D=>{const T=parseFloat(D.quantity)||0,A=parseFloat(D.minStock)||0;return T<=A}).length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Raw Materials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage raw materials inventory"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Materials"}),a.jsx(be,{className:"text-2xl",children:i.length})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Inventory Value"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",P.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Low Stock Items"}),a.jsx(be,{className:"text-2xl text-orange-600",children:k})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search materials...",value:o,onChange:D=>d(D.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>N(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Material"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(D=>{const T=b(D.quantity,D.minStock),A=(D.quantity||0)*(D.pricePerUnit||0);return a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(je,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(be,{className:"text-lg",children:D.name}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[D.category&&a.jsx(_e,{variant:"outline",children:D.category}),a.jsx(_e,{variant:T.variant,children:T.label})]})]})})}),a.jsxs(xe,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium",children:[D.quantity," ",D.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Price/Unit:"}),a.jsxs("span",{className:"font-medium",children:["NPR ",D.pricePerUnit]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Min Stock:"}),a.jsxs("span",{className:"font-medium",children:[D.minStock||0," ",D.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Value:"}),a.jsxs("span",{className:"font-semibold",children:["NPR ",A.toLocaleString()]})]}),D.supplier&&a.jsxs("div",{className:"text-sm text-gray-600 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Supplier:"})," ",D.supplier]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>N(D),children:[a.jsx(Os,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>w(D),children:a.jsx(Va,{className:"w-3 h-3"})})]})]})]},D.id)})}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(gn,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No materials found":"No materials yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first material to get started"}),!o&&a.jsxs(ue,{onClick:()=>N(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Material"]})]})}),a.jsx(It,{open:f,onOpenChange:h,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:p?"Edit Material":"Add New Material"}),a.jsx(ea,{children:p?"Update material information below":"Enter material details to add to your inventory"})]}),a.jsxs("form",{onSubmit:S,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"name",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"name",value:m.name,onChange:D=>x({...m,name:D.target.value}),placeholder:"e.g., Teak Wood",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"category",children:"Category"}),a.jsxs(tt,{value:m.category,onValueChange:D=>x({...m,category:D}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Wood",children:"Wood"}),a.jsx(me,{value:"Fabric",children:"Fabric"}),a.jsx(me,{value:"Foam",children:"Foam"}),a.jsx(me,{value:"Hardware",children:"Hardware"}),a.jsx(me,{value:"Cushioning",children:"Cushioning"}),a.jsx(me,{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"quantity",type:"number",step:"0.01",min:"0",value:m.quantity,onChange:D=>x({...m,quantity:D.target.value}),placeholder:"e.g., 150",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"unit",children:"Unit"}),a.jsxs(tt,{value:m.unit,onValueChange:D=>x({...m,unit:D}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"meters",children:"meters"}),a.jsx(me,{value:"pieces",children:"pieces"}),a.jsx(me,{value:"sheets",children:"sheets"}),a.jsx(me,{value:"kg",children:"kg"}),a.jsx(me,{value:"liters",children:"liters"}),a.jsx(me,{value:"boxes",children:"boxes"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"pricePerUnit",children:["Price per Unit (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:m.pricePerUnit,onChange:D=>x({...m,pricePerUnit:D.target.value}),placeholder:"e.g., 800",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"minStock",children:"Minimum Stock Level"}),a.jsx(pe,{id:"minStock",type:"number",step:"0.01",min:"0",value:m.minStock,onChange:D=>x({...m,minStock:D.target.value}),placeholder:"e.g., 50"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"supplier",children:"Supplier"}),a.jsx(pe,{id:"supplier",value:m.supplier,onChange:D=>x({...m,supplier:D.target.value}),placeholder:"e.g., Timber Traders Ltd"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"description",children:"Description"}),a.jsx(pe,{id:"description",value:m.description,onChange:D=>x({...m,description:D.target.value}),placeholder:"Additional notes about this material"})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Material":"Add Material"})]})]})]})})]})}function TT(){const{state:s,actions:r}=mt(),{suppliers:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""}),v=i.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.contactPerson&&w.contactPerson.toLowerCase().includes(o.toLowerCase())||w.category&&w.category.toLowerCase().includes(o.toLowerCase())),b=(w=null)=>{w?(g(w),x({name:w.name,contactPerson:w.contactPerson||"",phone:w.phone||"",email:w.email||"",address:w.address||"",category:w.category||"Wood",notes:w.notes||""})):(g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})),h(!0)},N=()=>{h(!1),g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})},E=async w=>{if(w.preventDefault(),!m.name||!m.phone){alert("Please fill in required fields (Name and Phone)");return}try{const P={name:m.name,contactPerson:m.contactPerson,phone:m.phone,email:m.email,address:m.address,category:m.category,notes:m.notes,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("suppliers",{...P,id:p.id}),alert("Supplier updated successfully!")):(await r.addItem("suppliers",P),alert("Supplier added successfully!")),N()}catch(P){console.error("Error saving supplier:",P),alert("Failed to save supplier. Please try again.")}},S=async w=>{if(window.confirm(`Are you sure you want to delete ${w.name}?`))try{await r.deleteItem("suppliers",w.id),alert("Supplier deleted successfully!")}catch(P){console.error("Error deleting supplier:",P),alert("Failed to delete supplier. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your supplier relationships and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search suppliers...",value:o,onChange:w=>d(w.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(w=>a.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(je,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(be,{className:"text-lg",children:w.name}),w.category&&a.jsx(_e,{variant:"outline",className:"mt-2",children:w.category})]})})}),a.jsxs(xe,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[w.contactPerson&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Co,{className:"w-4 h-4 mr-2 text-gray-400"}),w.contactPerson]}),w.phone&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Fg,{className:"w-4 h-4 mr-2 text-gray-400"}),w.phone]}),w.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bg,{className:"w-4 h-4 mr-2 text-gray-400"}),w.email]}),w.address&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{className:"line-clamp-2",children:w.address})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>b(w),children:[a.jsx(Os,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>S(w),children:a.jsx(Va,{className:"w-3 h-3"})})]})]})]},w.id))}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Co,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No suppliers found":"No suppliers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first supplier to get started"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})}),a.jsx(It,{open:f,onOpenChange:h,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:p?"Edit Supplier":"Add New Supplier"}),a.jsx(ea,{children:p?"Update supplier information below":"Enter supplier details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"name",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"name",value:m.name,onChange:w=>x({...m,name:w.target.value}),placeholder:"e.g., Timber Traders Ltd",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"contactPerson",children:"Contact Person"}),a.jsx(pe,{id:"contactPerson",value:m.contactPerson,onChange:w=>x({...m,contactPerson:w.target.value}),placeholder:"e.g., Ram Kumar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"phone",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"phone",type:"tel",value:m.phone,onChange:w=>x({...m,phone:w.target.value}),placeholder:"e.g., 9841111111",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Email"}),a.jsx(pe,{id:"email",type:"email",value:m.email,onChange:w=>x({...m,email:w.target.value}),placeholder:"e.g., supplier@example.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"category",children:"Category"}),a.jsxs(tt,{value:m.category,onValueChange:w=>x({...m,category:w}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Wood",children:"Wood"}),a.jsx(me,{value:"Fabric",children:"Fabric"}),a.jsx(me,{value:"Foam",children:"Foam"}),a.jsx(me,{value:"Hardware",children:"Hardware"}),a.jsx(me,{value:"Cushioning",children:"Cushioning"}),a.jsx(me,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"address",children:"Address"}),a.jsx(Pt,{id:"address",value:m.address,onChange:w=>x({...m,address:w.target.value}),placeholder:"Enter supplier address",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:m.notes,onChange:w=>x({...m,notes:w.target.value}),placeholder:"Additional notes about this supplier",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})]})})]})}function MT(){var ce,_,Z,ie,fe;const{state:s,actions:r}=mt(),{purchases:i=[],suppliers:o=[],rawMaterials:d=[]}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[v,b]=j.useState(null),[N,E]=j.useState(null),[S,w]=j.useState(null),[P,k]=j.useState(null),D=j.useRef(null),[T,A]=j.useState({date:new Date().toISOString().split("T")[0],supplierId:"",materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),U=d.map(M=>M.name),q=i.filter(M=>M.supplierName&&M.supplierName.toLowerCase().includes(f.toLowerCase())||M.materialName&&M.materialName.toLowerCase().includes(f.toLowerCase())||M.paymentMethod&&M.paymentMethod.toLowerCase().includes(f.toLowerCase())),V=M=>{switch(M){case"Paid":return"success";case"Partial":return"warning";case"Unpaid":return"destructive";default:return"default"}},le=(M=null)=>{var ne,te,ye,ge;M?(b(M),A({date:M.date,supplierId:((ne=M.supplierId)==null?void 0:ne.toString())||"",materialName:M.materialName||"",materialCategory:M.materialCategory||"General",unit:M.unit||"pieces",quantity:((te=M.quantity)==null?void 0:te.toString())||"",pricePerUnit:((ye=M.pricePerUnit)==null?void 0:ye.toString())||"",totalAmount:((ge=M.totalAmount)==null?void 0:ge.toString())||"",paymentMethod:M.paymentMethod||"Cash",paymentStatus:M.paymentStatus||"Paid",notes:M.notes||""}),M.invoiceData&&(k(M.invoiceData),w({name:M.invoiceFileName||"Invoice",type:M.invoiceType}))):(b(null),A({date:new Date().toISOString().split("T")[0],supplierId:"",materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),w(null),k(null)),g(!0)},F=()=>{g(!1),b(null),w(null),k(null),A({date:new Date().toISOString().split("T")[0],supplierId:"",materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""})},G=M=>{A(te=>({...te,materialName:M}));const ne=d.find(te=>te.name.toLowerCase()===M.toLowerCase());ne&&A(te=>{var ye,ge;return{...te,materialName:M,unit:ne.unit||"pieces",materialCategory:ne.category||"General",pricePerUnit:((ye=ne.unitPrice)==null?void 0:ye.toString())||((ge=ne.pricePerUnit)==null?void 0:ge.toString())||""}})},J=(M,ne)=>{A(ge=>({...ge,[M]:ne}));const te=parseFloat(M==="quantity"?ne:T.quantity),ye=parseFloat(M==="pricePerUnit"?ne:T.pricePerUnit);!isNaN(te)&&!isNaN(ye)&&A(ge=>({...ge,[M]:ne,totalAmount:(te*ye).toString()}))},Y=M=>{const ne=M.target.files[0];if(!ne)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/webp"].includes(ne.type)){alert("Please upload a PDF or image file (JPEG, PNG, WebP)");return}if(ne.size>5*1024*1024){alert("File size must be less than 5MB");return}w(ne);const ye=new FileReader;ye.onloadend=()=>{k(ye.result)},ye.readAsDataURL(ne)},H=()=>{w(null),k(null),D.current&&(D.current.value="")},I=async M=>{if(M.preventDefault(),!T.supplierId||!T.materialName||!T.quantity||!T.pricePerUnit){alert("Please fill in all required fields");return}try{const ne=o.find(ge=>ge.id===parseInt(T.supplierId));if(!ne){alert("Invalid supplier selected");return}let te=d.find(ge=>ge.name.toLowerCase()===T.materialName.toLowerCase());const ye={date:T.date,supplierId:parseInt(T.supplierId),supplierName:ne.name,materialName:T.materialName,materialCategory:T.materialCategory,unit:T.unit,quantity:parseFloat(T.quantity),pricePerUnit:parseFloat(T.pricePerUnit),totalAmount:parseFloat(T.totalAmount),paymentMethod:T.paymentMethod,paymentStatus:T.paymentStatus,notes:T.notes,invoiceData:P||null,invoiceFileName:(S==null?void 0:S.name)||null,invoiceType:(S==null?void 0:S.type)||null,createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};if(v){if(await r.updateItem("purchases",{...ye,id:v.id}),te){const ge=parseFloat(T.quantity)-v.quantity,Pe={...te,quantity:(parseFloat(te.quantity)||0)+ge,unitPrice:parseFloat(T.pricePerUnit)};await r.updateItem("rawMaterials",Pe)}alert("Purchase updated successfully!")}else{if(await r.addItem("purchases",ye),te){const ge={...te,quantity:(parseFloat(te.quantity)||0)+parseFloat(T.quantity),unitPrice:parseFloat(T.pricePerUnit),updatedAt:new Date().toISOString()};await r.updateItem("rawMaterials",ge)}else{const ge={name:T.materialName,category:T.materialCategory,unit:T.unit,quantity:parseFloat(T.quantity),unitPrice:parseFloat(T.pricePerUnit),minStock:10,supplierId:parseInt(T.supplierId),supplierName:ne.name,description:`Auto-created from purchase on ${T.date}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("rawMaterials",ge)}alert("Purchase recorded! Raw material inventory updated automatically.")}F()}catch(ne){console.error("Error saving purchase:",ne),alert("Failed to save purchase. Please try again.")}},O=async M=>{if(window.confirm("Are you sure you want to delete this purchase? This will also revert the inventory."))try{const ne=d.find(te=>{var ye;return te.name.toLowerCase()===((ye=M.materialName)==null?void 0:ye.toLowerCase())});if(ne){const te={...ne,quantity:Math.max(0,(parseFloat(ne.quantity)||0)-M.quantity)};await r.updateItem("rawMaterials",te)}await r.deleteItem("purchases",M.id),alert("Purchase deleted! Inventory reverted.")}catch(ne){console.error("Error deleting purchase:",ne),alert("Failed to delete purchase. Please try again.")}},z=M=>{E(M),x(!0)},R=i.reduce((M,ne)=>M+(ne.totalAmount||0),0),$=i.filter(M=>M.paymentStatus==="Unpaid"||M.paymentStatus==="Partial").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Purchases"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track purchase orders and manage inventory"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"* Purchases automatically update raw material inventory"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Purchases"}),a.jsx(be,{className:"text-2xl",children:i.length})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Amount"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",R.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Pending Payments"}),a.jsx(be,{className:"text-2xl text-orange-600",children:$})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search purchases...",value:f,onChange:M=>h(M.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>le(),className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]}),q.length>0?a.jsx(de,{children:a.jsx(xe,{className:"p-0",children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Date"}),a.jsx($e,{children:"Supplier"}),a.jsx($e,{children:"Material"}),a.jsx($e,{children:"Quantity"}),a.jsx($e,{children:"Total"}),a.jsx($e,{children:"Status"}),a.jsx($e,{children:"Invoice"}),a.jsx($e,{className:"text-right",children:"Actions"})]})}),a.jsx(Ss,{children:q.map(M=>{var ne;return a.jsxs(Jt,{children:[a.jsx(Xe,{children:new Date(M.date).toLocaleDateString()}),a.jsx(Xe,{children:M.supplierName}),a.jsx(Xe,{children:M.materialName}),a.jsxs(Xe,{children:[M.quantity," ",M.unit]}),a.jsxs(Xe,{children:["NPR ",(ne=M.totalAmount)==null?void 0:ne.toLocaleString()]}),a.jsx(Xe,{children:a.jsx(_e,{variant:V(M.paymentStatus),children:M.paymentStatus})}),a.jsx(Xe,{children:M.invoiceData?a.jsxs(_e,{variant:"outline",className:"text-green-600",children:[a.jsx(Cd,{className:"w-3 h-3 mr-1"}),"Attached"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),a.jsx(Xe,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>z(M),children:a.jsx(nf,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>le(M),children:a.jsx(Os,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>O(M),className:"text-red-600 hover:text-red-700",children:a.jsx(Va,{className:"w-4 h-4"})})]})})]},M.id)})})]})})}):a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(gn,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No purchases found":"No purchases yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first purchase to get started"}),!f&&a.jsxs(ue,{onClick:()=>le(),children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]})}),a.jsx(It,{open:p,onOpenChange:g,children:a.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:v?"Edit Purchase":"New Purchase"}),a.jsx(ea,{children:v?"Update purchase details below":"Record a new purchase - inventory will be updated automatically"})]}),a.jsxs("form",{onSubmit:I,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"date",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"date",type:"date",value:T.date,onChange:M=>A({...T,date:M.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"supplier",children:["Supplier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(tt,{value:T.supplierId,onValueChange:M=>A({...T,supplierId:M}),children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select supplier"})}),a.jsx(st,{children:o.map(M=>a.jsx(me,{value:M.id.toString(),children:M.name},M.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"materialName",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"materialName",type:"text",value:T.materialName,onChange:M=>G(M.target.value),placeholder:"Enter material name (e.g., Wood, Fabric, Foam)",list:"material-suggestions",required:!0}),a.jsx("datalist",{id:"material-suggestions",children:U.map((M,ne)=>a.jsx("option",{value:M},ne))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Type a new material name or select from existing materials"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"materialCategory",children:"Category"}),a.jsxs(tt,{value:T.materialCategory,onValueChange:M=>A({...T,materialCategory:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"General",children:"General"}),a.jsx(me,{value:"Wood",children:"Wood"}),a.jsx(me,{value:"Fabric",children:"Fabric"}),a.jsx(me,{value:"Foam",children:"Foam"}),a.jsx(me,{value:"Metal",children:"Metal"}),a.jsx(me,{value:"Hardware",children:"Hardware"}),a.jsx(me,{value:"Adhesive",children:"Adhesive"}),a.jsx(me,{value:"Finishing",children:"Finishing"}),a.jsx(me,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"unit",children:"Unit"}),a.jsxs(tt,{value:T.unit,onValueChange:M=>A({...T,unit:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"pieces",children:"Pieces"}),a.jsx(me,{value:"meters",children:"Meters"}),a.jsx(me,{value:"feet",children:"Feet"}),a.jsx(me,{value:"kg",children:"Kilograms"}),a.jsx(me,{value:"liters",children:"Liters"}),a.jsx(me,{value:"sheets",children:"Sheets"}),a.jsx(me,{value:"rolls",children:"Rolls"}),a.jsx(me,{value:"boxes",children:"Boxes"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"quantity",type:"number",step:"0.01",min:"0",value:T.quantity,onChange:M=>J("quantity",M.target.value),placeholder:"e.g., 100",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"pricePerUnit",children:["Price/Unit (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:T.pricePerUnit,onChange:M=>J("pricePerUnit",M.target.value),placeholder:"e.g., 500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"totalAmount",children:"Total Amount (NPR)"}),a.jsx(pe,{id:"totalAmount",type:"number",step:"0.01",value:T.totalAmount,readOnly:!0,className:"bg-gray-50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(tt,{value:T.paymentMethod,onValueChange:M=>A({...T,paymentMethod:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Cash",children:"Cash"}),a.jsx(me,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(me,{value:"Card",children:"Card"}),a.jsx(me,{value:"Mobile Payment",children:"Mobile Payment"}),a.jsx(me,{value:"Credit",children:"Credit"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"paymentStatus",children:"Payment Status"}),a.jsxs(tt,{value:T.paymentStatus,onValueChange:M=>A({...T,paymentStatus:M}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"Paid",children:"Paid"}),a.jsx(me,{value:"Partial",children:"Partial"}),a.jsx(me,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Invoice / Bill (PDF or Image)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[P?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[(ce=S==null?void 0:S.type)!=null&&ce.includes("pdf")?a.jsx(Cd,{className:"w-8 h-8 text-red-500"}):a.jsx(sS,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(S==null?void 0:S.name)||"Invoice"}),a.jsx("p",{className:"text-xs text-gray-500",children:(_=S==null?void 0:S.type)!=null&&_.includes("pdf")?"PDF Document":"Image"})]})]}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:H,className:"text-red-600",children:a.jsx(lf,{className:"w-4 h-4"})})]}),P&&!((Z=S==null?void 0:S.type)!=null&&Z.includes("pdf"))&&a.jsx("img",{src:P,alt:"Invoice preview",className:"max-h-40 rounded border"})]}):a.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>{var M;return(M=D.current)==null?void 0:M.click()},children:[a.jsx(TS,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload invoice"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPEG, PNG (max 5MB)"})]}),a.jsx("input",{ref:D,type:"file",accept:".pdf,image/jpeg,image/png,image/jpg,image/webp",onChange:Y,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:T.notes,onChange:M=>A({...T,notes:M.target.value}),placeholder:"Additional notes about this purchase",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:F,children:"Cancel"}),a.jsx(ue,{type:"submit",children:v?"Update Purchase":"Record Purchase"})]})]})]})}),a.jsx(It,{open:m,onOpenChange:x,children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsx(qt,{children:a.jsx(Ht,{children:"Purchase Details"})}),N&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),a.jsx("p",{className:"font-medium",children:new Date(N.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Supplier"}),a.jsx("p",{className:"font-medium",children:N.supplierName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Material"}),a.jsx("p",{className:"font-medium",children:N.materialName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),a.jsx("p",{className:"font-medium",children:N.materialCategory||"General"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Quantity"}),a.jsxs("p",{className:"font-medium",children:[N.quantity," ",N.unit]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Price per Unit"}),a.jsxs("p",{className:"font-medium",children:["NPR ",N.pricePerUnit]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),a.jsxs("p",{className:"font-medium text-lg",children:["NPR ",(ie=N.totalAmount)==null?void 0:ie.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),a.jsx("p",{className:"font-medium",children:N.paymentMethod})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),a.jsx(_e,{variant:V(N.paymentStatus),children:N.paymentStatus})]})]}),N.notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Notes"}),a.jsx("p",{className:"font-medium",children:N.notes})]}),N.invoiceData&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Invoice / Bill"}),(fe=N.invoiceType)!=null&&fe.includes("pdf")?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cd,{className:"w-8 h-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.invoiceFileName||"Invoice.pdf"}),a.jsx("a",{href:N.invoiceData,download:N.invoiceFileName||"invoice.pdf",className:"text-sm text-blue-600 hover:underline",children:"Download PDF"})]})]}):a.jsxs("div",{children:[a.jsx("img",{src:N.invoiceData,alt:"Invoice",className:"max-w-full max-h-64 rounded border cursor-pointer",onClick:()=>window.open(N.invoiceData,"_blank")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view full size"})]})]})]}),a.jsx(Bt,{children:a.jsx(ue,{onClick:()=>x(!1),children:"Close"})})]})})]})}function DT(){const{state:s,actions:r}=mt(),[i,o]=j.useState("month"),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState([]);j.useEffect(()=>{b()},[r]);const b=async()=>{try{console.log("Financials: Loading data...");const H=await(r.getAllSales?r.getAllSales():he.getAll("sales")).catch(R=>(console.warn("Failed to load sales:",R),[])),I=await he.getAll("purchases").catch(R=>(console.warn("Failed to load purchases:",R),[])),O=await he.getAll("labourPayments").catch(R=>(console.warn("Failed to load labour payments (table may not exist yet):",R.message),[])),z=await he.getAll("cleaningServices").catch(R=>(console.warn("Failed to load cleaning services:",R),[]));console.log("Financials: Loaded sales:",(H==null?void 0:H.length)||0),console.log("Financials: Loaded purchases:",(I==null?void 0:I.length)||0),console.log("Financials: Loaded labour:",(O==null?void 0:O.length)||0),console.log("Financials: Loaded cleaning:",(z==null?void 0:z.length)||0),f(H||[]),p(I||[]),m(O||[]),v(z||[])}catch(H){console.error("Error loading financial data:",H)}},N=(H,I="date")=>{const O=new Date,z=new Date;switch(i){case"week":z.setDate(O.getDate()-O.getDay()),z.setHours(0,0,0,0);break;case"month":z.setDate(1),z.setHours(0,0,0,0);break;case"quarter":const R=O.getMonth(),$=Math.floor(R/3)*3;z.setMonth($),z.setDate(1),z.setHours(0,0,0,0);break;case"year":z.setMonth(0),z.setDate(1),z.setHours(0,0,0,0);break;default:z.setDate(1),z.setHours(0,0,0,0)}return H.filter(R=>{if(!R[I])return!1;const $=new Date(R[I]);return isNaN($.getTime())?!1:$>=z&&$<=O})},E=N(d.filter(H=>H.approvalStatus==="approved")),S=N(x.filter(H=>H.status==="completed")),w=E.reduce((H,I)=>H+(I.totalAmount||0),0),P=S.reduce((H,I)=>H+(I.price||0),0),k=w+P,D=N(h),T=N(g),A=D.reduce((H,I)=>H+(I.totalAmount||0),0),U=T.reduce((H,I)=>H+(I.amount||0),0),q=A+U,V=k-q,le=k>0?(V/k*100).toFixed(1):0,F=[{category:"Raw Materials",amount:A,percentage:q>0?(A/q*100).toFixed(1):0,color:"bg-blue-600"},{category:"Labour Costs",amount:U,percentage:q>0?(U/q*100).toFixed(1):0,color:"bg-green-600"}],G=[{category:"Sales",amount:w,percentage:k>0?(w/k*100).toFixed(1):0,color:"bg-purple-600"},{category:"Cleaning Services",amount:P,percentage:k>0?(P/k*100).toFixed(1):0,color:"bg-orange-600"}],J=[...E.map(H=>({id:`sale-${H.id}`,date:H.date,type:"income",description:`Sale to ${H.customerName} - ${H.productName}`,amount:H.totalAmount})),...S.map(H=>({id:`cleaning-${H.id}`,date:H.date,type:"income",description:`Cleaning Service - ${H.customerName}`,amount:H.price})),...D.map(H=>({id:`purchase-${H.id}`,date:H.date,type:"expense",description:`Purchase - ${H.materialName} from ${H.supplierName}`,amount:H.totalAmount})),...T.map(H=>({id:`labour-${H.id}`,date:H.date,type:"expense",description:`Labour Payment - ${H.labourerName}`,amount:H.amount}))].sort((H,I)=>new Date(I.date)-new Date(H.date)).slice(0,10),Y=()=>{switch(i){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track revenue, expenses, and profitability"})]}),a.jsxs(tt,{value:i,onValueChange:o,children:[a.jsx(nt,{className:"w-[180px]",children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"week",children:"This Week"}),a.jsx(me,{value:"month",children:"This Month"}),a.jsx(me,{value:"quarter",children:"This Quarter"}),a.jsx(me,{value:"year",children:"This Year"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Me,{children:"Total Revenue"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(wo,{className:"w-5 h-5 text-green-600"})})]})}),a.jsxs(xe,{children:[a.jsxs(be,{className:"text-2xl",children:["NPR ",k.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Me,{children:"Total Expenses"}),a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx($x,{className:"w-5 h-5 text-red-600"})})]})}),a.jsxs(xe,{children:[a.jsxs(be,{className:"text-2xl",children:["NPR ",q.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Me,{children:"Net Profit"}),a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${V>=0?"bg-blue-100":"bg-red-100"}`,children:a.jsx(Da,{className:`w-5 h-5 ${V>=0?"text-blue-600":"text-red-600"}`})})]})}),a.jsxs(xe,{children:[a.jsxs(be,{className:`text-2xl ${V>=0?"text-blue-600":"text-red-600"}`,children:["NPR ",V.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]}),a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Me,{children:"Profit Margin"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(kN,{className:"w-5 h-5 text-purple-600"})})]})}),a.jsxs(xe,{children:[a.jsxs(be,{className:"text-2xl",children:[le,"%"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y()})]})]})]}),a.jsxs(kl,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(Pl,{children:[a.jsx(Rt,{value:"overview",children:"Overview"}),a.jsx(Rt,{value:"revenue",children:"Revenue"}),a.jsx(Rt,{value:"expenses",children:"Expenses"}),a.jsx(Rt,{value:"transactions",children:"Transactions"})]}),a.jsx(kt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Revenue Breakdown"}),a.jsx(Me,{children:Y()})]}),a.jsx(xe,{className:"space-y-4",children:G.map((H,I)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:H.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",H.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${H.color} h-2 rounded-full`,style:{width:`${H.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[H.percentage,"% of total revenue"]})]},I))})]}),a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Expense Breakdown"}),a.jsx(Me,{children:Y()})]}),a.jsx(xe,{className:"space-y-4",children:F.map((H,I)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:H.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",H.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${H.color} h-2 rounded-full`,style:{width:`${H.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[H.percentage,"% of total expenses"]})]},I))})]})]})}),a.jsx(kt,{value:"revenue",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Sales Revenue"}),a.jsxs(Me,{children:[E.length," approved sales"]})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",w.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[k>0?(w/k*100).toFixed(1):0,"% of total revenue"]})]})]}),a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Cleaning Services Revenue"}),a.jsxs(Me,{children:[S.length," completed services"]})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["NPR ",P.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[k>0?(P/k*100).toFixed(1):0,"% of total revenue"]})]})]})]})}),a.jsx(kt,{value:"expenses",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Raw Material Purchases"}),a.jsxs(Me,{children:[D.length," purchases"]})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["NPR ",A.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[q>0?(A/q*100).toFixed(1):0,"% of total expenses"]})]})]}),a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Labour Payments"}),a.jsxs(Me,{children:[T.length," payments"]})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",U.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[q>0?(U/q*100).toFixed(1):0,"% of total expenses"]})]})]})]})}),a.jsx(kt,{value:"transactions",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Recent Transactions"}),a.jsxs(Me,{children:["Last 10 transactions from ",Y().toLowerCase()]})]}),a.jsx(xe,{children:J.length>0?a.jsx("div",{className:"space-y-3",children:J.map(H=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${H.type==="income"?"bg-green-100":"bg-red-100"}`,children:H.type==="income"?a.jsx(wo,{className:"w-5 h-5 text-green-600"}):a.jsx($x,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.description}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(H.date).toLocaleDateString()})]})]}),a.jsxs("p",{className:`text-sm font-semibold ${H.type==="income"?"text-green-600":"text-red-600"}`,children:[H.type==="income"?"+":"-","NPR ",H.amount.toLocaleString()]})]},H.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ws,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No transactions in this period"})]})})]})})]})]})}function OT(){const{state:s}=mt(),[r,i]=j.useState("month"),[o,d]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(!1),m=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis and trends",icon:a.jsx(wo,{className:"w-6 h-6"}),color:"bg-blue-500"},{id:"inventory",name:"Inventory Report",description:"Stock levels and inventory valuation",icon:a.jsx(gn,{className:"w-6 h-6"}),color:"bg-green-500"},{id:"financial",name:"Financial Report",description:"Profit & loss, revenue, and expenses",icon:a.jsx(Da,{className:"w-6 h-6"}),color:"bg-purple-500"},{id:"labour",name:"Labour Report",description:"Attendance, payments, and productivity",icon:a.jsx(Ao,{className:"w-6 h-6"}),color:"bg-yellow-500"},{id:"orders",name:"Orders Report",description:"Order status, completion rates",icon:a.jsx(VN,{className:"w-6 h-6"}),color:"bg-red-500"},{id:"customers",name:"Customer Report",description:"Customer insights and purchase history",icon:a.jsx(Ao,{className:"w-6 h-6"}),color:"bg-indigo-500"}],x=(T,A="date")=>{const U=new Date,q=new Date;switch(r){case"week":q.setDate(U.getDate()-7);break;case"month":q.setMonth(U.getMonth()-1);break;case"quarter":q.setMonth(U.getMonth()-3);break;case"year":q.setFullYear(U.getFullYear()-1);break;default:q.setMonth(U.getMonth()-1)}return T.filter(V=>{const le=new Date(V[A]);return le>=q&&le<=U})},v=async T=>{g(!0),d(T);try{let A={};switch(T){case"sales":A=await b();break;case"inventory":A=await N();break;case"financial":A=await E();break;case"labour":A=await S();break;case"orders":A=await w();break;case"customers":A=await P();break;default:A={}}h(A)}catch(A){console.error("Error generating report:",A),alert("Failed to generate report")}finally{g(!1)}},b=async()=>{const T=await he.getAll("sales"),A=x(T.filter(G=>G.approvalStatus==="approved")),U=A.length,q=A.reduce((G,J)=>G+(J.totalAmount||0),0),V=U>0?q/U:0,le={};A.forEach(G=>{const J=G.productName;le[J]||(le[J]={name:J,quantity:0,revenue:0}),le[J].quantity+=G.quantity||0,le[J].revenue+=G.totalAmount||0});const F=Object.values(le).sort((G,J)=>J.revenue-G.revenue).slice(0,5);return{totalSales:U,totalRevenue:q,averageSale:V,topProducts:F,salesList:A}},N=async()=>{const T=await he.getAll("rawMaterials"),A=await he.getAll("sofaModels"),U=T.reduce((F,G)=>F+(G.quantity*G.pricePerUnit||0),0),q=A.reduce((F,G)=>F+(G.stockQuantity||0)*(G.sellingPrice||0),0),V=T.filter(F=>F.quantity<(F.minimumStock||10)),le=A.filter(F=>(F.stockQuantity||0)===0);return{rawMaterials:T,finishedProducts:A,totalRawMaterialValue:U,totalFinishedValue:q,lowStockMaterials:V,lowStockProducts:le}},E=async()=>{const T=await he.getAll("sales"),A=await he.getAll("purchases"),U=await he.getAll("labourPayments"),q=await he.getAll("cleaningServices"),V=x(T.filter(ce=>ce.approvalStatus==="approved")),le=x(A),F=x(U),G=x(q.filter(ce=>ce.status==="completed")),J=V.reduce((ce,_)=>ce+(_.totalAmount||0),0),Y=G.reduce((ce,_)=>ce+(_.price||0),0),H=J+Y,I=le.reduce((ce,_)=>ce+(_.totalAmount||0),0),O=F.reduce((ce,_)=>ce+(_.amount||0),0),z=I+O,R=H-z,$=H>0?(R/H*100).toFixed(1):0;return{totalRevenue:H,salesRevenue:J,cleaningRevenue:Y,totalExpenses:z,purchaseExpenses:I,labourExpenses:O,netProfit:R,profitMargin:$}},S=async()=>{const T=await he.getAll("labourers"),A=await he.getAll("attendance"),U=await he.getAll("labourPayments"),q=x(A),V=x(U),le=V.reduce((J,Y)=>J+(Y.amount||0),0),F=T.filter(J=>J.status==="active").length,G=T.map(J=>{const Y=q.filter(z=>z.labourerId===J.id),H=V.filter(z=>z.labourerId===J.id),I=Y.filter(z=>z.status==="present").length,O=H.reduce((z,R)=>z+(R.amount||0),0);return{name:J.name,specialization:J.specialization,presentDays:I,totalPaid:O}});return{activeLabourers:F,totalPayments:le,labourerStats:G,attendanceRecords:q}},w=async()=>{const T=await he.getAll("orders"),A=x(T),U=A.length,q=A.filter(F=>F.status==="completed").length,V=A.filter(F=>F.status==="pending").length,le=U>0?(q/U*100).toFixed(1):0;return{totalOrders:U,completedOrders:q,pendingOrders:V,completionRate:le,ordersList:A}},P=async()=>{const T=await he.getAll("customers"),A=await he.getAll("sales"),U=x(A.filter(le=>le.approvalStatus==="approved")),q=T.map(le=>{const F=U.filter(Y=>Y.customerId===le.id),G=F.length,J=F.reduce((Y,H)=>Y+(H.totalAmount||0),0);return{name:le.name,phone:le.phone,totalPurchases:G,totalSpent:J}}).sort((le,F)=>F.totalSpent-le.totalSpent),V=q.slice(0,10);return{totalCustomers:T.length,activeCustomers:q.filter(le=>le.totalPurchases>0).length,topCustomers:V,customerStats:q}},k=()=>{switch(r){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}},D=()=>{if(!f||!o)return;const T=m.find(le=>le.id===o),A=JSON.stringify(f,null,2),U=new Blob([A],{type:"application/json"}),q=URL.createObjectURL(U),V=document.createElement("a");V.href=q,V.download=`${T.name.replace(" ","_")}_${r}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(q)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and view business reports"})]}),a.jsxs(tt,{value:r,onValueChange:i,children:[a.jsx(nt,{className:"w-[180px]",children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"week",children:"This Week"}),a.jsx(me,{value:"month",children:"This Month"}),a.jsx(me,{value:"quarter",children:"This Quarter"}),a.jsx(me,{value:"year",children:"This Year"})]})]})]}),!o&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(T=>a.jsx(de,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(T.id),children:a.jsxs(je,{children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsx("div",{className:`${T.color} text-white p-3 rounded-lg`,children:T.icon})}),a.jsx(be,{className:"mt-4",children:T.name}),a.jsx(Me,{children:T.description})]})},T.id))}),o&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ue,{variant:"outline",onClick:()=>{d(null),h(null)},children:" Back to Reports"}),a.jsxs(ue,{onClick:D,children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),o==="sales"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Sales"}),a.jsx(be,{className:"text-2xl",children:f.totalSales})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Revenue"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Average Sale"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",f.averageSale.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Top Products"})}),a.jsx(xe,{children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Product"}),a.jsx($e,{children:"Quantity Sold"}),a.jsx($e,{children:"Revenue"})]})}),a.jsx(Ss,{children:f.topProducts.map((T,A)=>a.jsxs(Jt,{children:[a.jsx(Xe,{children:T.name}),a.jsx(Xe,{children:T.quantity}),a.jsxs(Xe,{children:["NPR ",T.revenue.toLocaleString()]})]},A))})]})})]})]}),o==="inventory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Raw Materials Value"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",f.totalRawMaterialValue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Finished Products Value"}),a.jsxs(be,{className:"text-2xl",children:["NPR ",f.totalFinishedValue.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Low Stock Alerts"})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"font-medium",children:["Raw Materials (",f.lowStockMaterials.length,")"]}),f.lowStockMaterials.map((T,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[T.name,": ",T.quantity," ",T.unit]},A)),a.jsxs("p",{className:"font-medium mt-4",children:["Finished Products (",f.lowStockProducts.length,")"]}),f.lowStockProducts.map((T,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[T.name,": Out of stock"]},A))]})})]})]}),o==="financial"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Revenue"}),a.jsxs(be,{className:"text-2xl text-green-600",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Expenses"}),a.jsxs(be,{className:"text-2xl text-red-600",children:["NPR ",f.totalExpenses.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Net Profit"}),a.jsxs(be,{className:"text-2xl text-blue-600",children:["NPR ",f.netProfit.toLocaleString()]})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Profit Margin"}),a.jsxs(be,{className:"text-2xl",children:[f.profitMargin,"%"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Revenue Breakdown"})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sales"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.salesRevenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cleaning Services"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.cleaningRevenue.toLocaleString()]})]})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Expense Breakdown"})}),a.jsx(xe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.purchaseExpenses.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Labour"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.labourExpenses.toLocaleString()]})]})]})})]})]})]}),o==="labour"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Active Labourers"}),a.jsx(be,{className:"text-2xl",children:f.activeLabourers})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsxs(Me,{children:["Total Payments (",k(),")"]}),a.jsxs(be,{className:"text-2xl",children:["NPR ",f.totalPayments.toLocaleString()]})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Labourer Statistics"})}),a.jsx(xe,{children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Name"}),a.jsx($e,{children:"Specialization"}),a.jsx($e,{children:"Present Days"}),a.jsx($e,{children:"Total Paid"})]})}),a.jsx(Ss,{children:f.labourerStats.map((T,A)=>a.jsxs(Jt,{children:[a.jsx(Xe,{children:T.name}),a.jsx(Xe,{children:T.specialization}),a.jsx(Xe,{children:T.presentDays}),a.jsxs(Xe,{children:["NPR ",T.totalPaid.toLocaleString()]})]},A))})]})})]})]}),o==="orders"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Orders"}),a.jsx(be,{className:"text-2xl",children:f.totalOrders})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Completed"}),a.jsx(be,{className:"text-2xl text-green-600",children:f.completedOrders})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Pending"}),a.jsx(be,{className:"text-2xl text-orange-600",children:f.pendingOrders})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Completion Rate"}),a.jsxs(be,{className:"text-2xl",children:[f.completionRate,"%"]})]})})]})}),o==="customers"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsx(Me,{children:"Total Customers"}),a.jsx(be,{className:"text-2xl",children:f.totalCustomers})]})}),a.jsx(de,{children:a.jsxs(je,{className:"pb-3",children:[a.jsxs(Me,{children:["Active Customers (",k(),")"]}),a.jsx(be,{className:"text-2xl",children:f.activeCustomers})]})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsx(be,{children:"Top Customers"})}),a.jsx(xe,{children:a.jsxs(bs,{children:[a.jsx(Ns,{children:a.jsxs(Jt,{children:[a.jsx($e,{children:"Name"}),a.jsx($e,{children:"Phone"}),a.jsx($e,{children:"Purchases"}),a.jsx($e,{children:"Total Spent"})]})}),a.jsx(Ss,{children:f.topCustomers.map((T,A)=>a.jsxs(Jt,{children:[a.jsx(Xe,{children:T.name}),a.jsx(Xe,{children:T.phone}),a.jsx(Xe,{children:T.totalPurchases}),a.jsxs(Xe,{children:["NPR ",T.totalSpent.toLocaleString()]})]},A))})]})})]})]})]}),p&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Generating report..."})]})})]})}function _T(){var Y,H;const{state:s,actions:r}=mt(),{productions:i=[],sofaModels:o,rawMaterials:d,orders:f}=s,[h,p]=j.useState(""),[g,m]=j.useState(!1),[x,v]=j.useState(null),[b,N]=j.useState({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),[E,S]=j.useState(null),w=i.filter(I=>{var R,$;const O=o.find(ce=>ce.id===I.sofaModelId),z=h.toLowerCase();return(O==null?void 0:O.name.toLowerCase().includes(z))||((R=I.status)==null?void 0:R.toLowerCase().includes(z))||(($=I.productionNumber)==null?void 0:$.toLowerCase().includes(z))}),P=w.filter(I=>I.status==="in_progress"||I.status==="pending"),k=w.filter(I=>I.status==="completed"),D=(I,O)=>{if(!I||I.length===0)return{valid:!1,message:"No Bill of Materials defined",materials:[]};const z={valid:!0,message:"",materials:[]};return I.forEach(R=>{const $=d.find(ie=>ie.id===parseInt(R.materialId)),ce=parseFloat(R.quantity)*parseInt(O),_=($==null?void 0:$.quantity)||0,Z=_>=ce;Z||(z.valid=!1),z.materials.push({materialId:R.materialId,materialName:R.materialName||($==null?void 0:$.name)||"Unknown",unit:R.unit||($==null?void 0:$.unit)||"",requiredQty:ce,availableQty:_,shortage:Z?0:ce-_,isAvailable:Z})}),z.valid?z.message="All materials available":z.message="Insufficient materials for production",z},T=I=>{const O=parseInt(I),z=o.find($=>$.id===O),R=(z==null?void 0:z.billOfMaterials)||[];if(N({...b,productName:(z==null?void 0:z.name)||"",billOfMaterials:R}),R.length>0&&b.quantity){const $=D(R,b.quantity);S($)}},A=()=>b.billOfMaterials&&b.billOfMaterials.length>0?b.billOfMaterials.reduce((I,O)=>{const z=d.find(ce=>ce.id===parseInt(O.materialId)),R=(z==null?void 0:z.unitPrice)||(z==null?void 0:z.pricePerUnit)||0,$=parseFloat(O.quantity)||0;return I+R*$},0):0,U=I=>{if(N({...b,quantity:I}),b.billOfMaterials.length>0&&I){const O=D(b.billOfMaterials,I);S(O)}},q=()=>{N({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),S(null),m(!0)},V=()=>{m(!1),N({productionType:"stock",orderId:null,productName:"",quantity:"",notes:"",billOfMaterials:[]}),S(null)},le=async I=>{var z;if(I.preventDefault(),!b.productName||!b.quantity){alert("Please enter product name and quantity");return}const O=D(b.billOfMaterials,b.quantity);if(!O.valid){alert("Cannot start production: "+O.message+`

Please purchase more materials first.`);return}try{let R=o.find(_=>_.name.toLowerCase()===b.productName.toLowerCase());R?JSON.stringify(R.billOfMaterials)!==JSON.stringify(b.billOfMaterials)&&await r.updateItem("sofaModels",{...R,billOfMaterials:b.billOfMaterials,materialCost:A()}):R={id:await r.addItem("sofaModels",{name:b.productName,description:"Auto-created from production",stockQuantity:0,billOfMaterials:b.billOfMaterials,materialCost:A(),sellingPrice:0,laborCost:0,status:"active",images:[]}),name:b.productName};const ce={productionNumber:`PROD-${Date.now().toString().slice(-6)}`,productionType:b.productionType,orderId:b.orderId?parseInt(b.orderId):null,sofaModelId:R.id,productName:R.name,quantity:parseInt(b.quantity),billOfMaterials:b.billOfMaterials,materialsNeeded:O.materials,status:"in_progress",startDate:new Date().toISOString(),estimatedCompletionDate:new Date(Date.now()+10080*60*1e3).toISOString(),actualCompletionDate:null,notes:b.notes,createdAt:new Date().toISOString()};await r.addItem("productions",ce);for(const _ of O.materials){const Z=d.find(ie=>ie.id===parseInt(_.materialId));if(Z){const ie=Z.quantity-_.requiredQty;await r.updateItem("rawMaterials",{...Z,quantity:ie})}}if(ce.orderId)try{const _=f.find(Z=>Z.id===ce.orderId);if(_){const Z=(z=s.customers)==null?void 0:z.find(ie=>ie.id===_.customerId);Z&&await bT(r,ce,_,Z)}}catch(_){console.error("Error sending production started notification:",_)}if(b.orderId){const _=f.find(Z=>Z.id===parseInt(b.orderId));_&&await r.updateItem("orders",{..._,status:"in_production",productionId:ce.id})}alert("Production started successfully!"),V()}catch(R){console.error("Error starting production:",R),alert("Failed to start production. Please try again.")}},F=async I=>{var O,z;if(window.confirm(`Complete production ${I.productionNumber}?

This will:
- Add ${I.quantity} units to stock
- Automatically update sales (if linked to order)`))try{const R=o.find($=>$.id===I.sofaModelId);if(R){const $=(R.stockQuantity||0)+I.quantity;await r.updateItem("sofaModels",{...R,stockQuantity:$})}if(await r.updateItem("productions",{...I,status:"completed",actualCompletionDate:new Date().toISOString()}),I.orderId){const $=f.find(ce=>ce.id===I.orderId);if($){await r.updateItem("orders",{...$,status:"completed"});const ce=(O=s.customers)==null?void 0:O.find(_=>_.id===$.customerId);if(ce&&R){const _={saleNumber:`SALE-${Date.now().toString().slice(-6)}`,customerId:ce.id,customerName:ce.name,productId:R.id,productName:R.name,quantity:I.quantity,unitPrice:R.sellingPrice||0,totalAmount:(R.sellingPrice||0)*I.quantity,paidAmount:0,paymentStatus:"pending",status:"approved",approvalStatus:"approved",orderId:$.id,notes:`Auto-generated from Production #${I.productionNumber}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("sales",_)}}}if(I.orderId)try{const $=f.find(ce=>ce.id===I.orderId);if($){const ce=(z=s.customers)==null?void 0:z.find(_=>_.id===$.customerId);ce&&await NT(r,I,$,ce)}}catch($){console.error("Error sending production completed notification:",$)}alert(`Production completed successfully!

Stock updated and sale record generated (if applicable).`)}catch(R){console.error("Error completing production:",R),alert("Failed to complete production. Please try again.")}},G=async I=>{if(window.confirm(`Cancel production ${I.productionNumber}?

This will restore deducted materials to inventory.`))try{if(I.materialsNeeded)for(const O of I.materialsNeeded){const z=d.find(R=>R.id===parseInt(O.materialId));if(z){const R=z.quantity+O.requiredQty;await r.updateItem("rawMaterials",{...z,quantity:R})}}if(await r.updateItem("productions",{...I,status:"cancelled"}),I.orderId){const O=f.find(z=>z.id===I.orderId);O&&await r.updateItem("orders",{...O,status:"pending"})}alert("Production cancelled")}catch(O){console.error("Error cancelling production:",O),alert("Failed to cancel production. Please try again.")}},J=I=>{const O={pending:{variant:"secondary",icon:No,label:"Pending"},in_progress:{variant:"default",icon:Cs,label:"In Progress"},completed:{variant:"success",icon:Kn,label:"Completed"},cancelled:{variant:"destructive",icon:af,label:"Cancelled"}},z=O[I]||O.pending,R=z.icon;return a.jsxs(_e,{variant:z.variant,className:"flex items-center gap-1",children:[a.jsx(R,{className:"w-3 h-3"}),z.label]})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Production Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage production jobs and track material usage"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Starting production automatically deducts raw materials. Completing production automatically updates stock and generates sales records."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(pe,{type:"text",placeholder:"Search productions...",value:h,onChange:I=>p(I.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:q,className:"whitespace-nowrap",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"New Production"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsx(be,{className:"text-sm font-medium text-gray-600",children:"Active Productions"})}),a.jsx(xe,{children:a.jsx("div",{className:"text-2xl font-bold",children:P.length})})]}),a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsx(be,{className:"text-sm font-medium text-gray-600",children:"Completed This Month"})}),a.jsx(xe,{children:a.jsx("div",{className:"text-2xl font-bold",children:k.length})})]}),a.jsxs(de,{children:[a.jsx(je,{className:"pb-3",children:a.jsx(be,{className:"text-sm font-medium text-gray-600",children:"Total Units Produced"})}),a.jsx(xe,{children:a.jsx("div",{className:"text-2xl font-bold",children:k.reduce((I,O)=>I+(O.quantity||0),0)})})]})]}),P.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Active Productions"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:P.map(I=>{var z;const O=o.find(R=>R.id===I.sofaModelId);return a.jsx(de,{className:"hover:shadow-lg transition-shadow",children:a.jsxs(xe,{className:"pt-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:I.productionNumber}),J(I.status),I.productionType==="stock"&&a.jsx(_e,{variant:"outline",children:"Stock Production"})]}),a.jsxs("p",{className:"text-gray-600",children:[O==null?void 0:O.name,"  ",I.quantity," units"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Started"}),a.jsx("p",{className:"font-semibold",children:new Date(I.startDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Est. Completion"}),a.jsx("p",{className:"font-semibold",children:new Date(I.estimatedCompletionDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Materials"}),a.jsxs("p",{className:"font-semibold",children:[((z=I.materialsNeeded)==null?void 0:z.length)||0," items"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold capitalize",children:I.productionType})]})]}),I.notes&&a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:I.notes})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",onClick:()=>F(I),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Kn,{className:"w-4 h-4 mr-1"}),"Complete Production"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>v(I),children:"View Details"}),a.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>G(I),children:"Cancel"})]})]})},I.id)})})]}),k.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Completed Productions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(I=>{const O=o.find(z=>z.id===I.sofaModelId);return a.jsx(de,{children:a.jsxs(xe,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:I.productionNumber}),a.jsxs("p",{className:"text-sm text-gray-600",children:[O==null?void 0:O.name,"  ",I.quantity," units"]})]}),J(I.status)]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Completed: ",new Date(I.actualCompletionDate).toLocaleDateString()]})]})},I.id)})})]}),w.length===0&&a.jsx(de,{children:a.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Cs,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h?"No productions found":"No productions yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:h?"Try adjusting your search":"Start your first production job"}),!h&&a.jsxs(ue,{onClick:q,children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),"New Production"]})]})}),a.jsx(It,{open:g,onOpenChange:m,children:a.jsxs(Ut,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"New Production"}),a.jsx(ea,{children:"Start a new production job. Materials will be validated before starting."})]}),a.jsxs("form",{onSubmit:le,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Production Type"}),a.jsxs(tt,{value:b.productionType,onValueChange:I=>N({...b,productionType:I}),children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"stock",children:"Stock Production (Build Inventory)"}),a.jsx(me,{value:"order",children:"Order Production (For Customer)"})]})]})]}),b.productionType==="order"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Select Order"}),a.jsxs(tt,{value:((Y=b.orderId)==null?void 0:Y.toString())||"",onValueChange:I=>N({...b,orderId:I}),children:[a.jsx(nt,{children:a.jsx(at,{placeholder:"Select an order..."})}),a.jsx(st,{children:f.filter(I=>I.status==="pending").map(I=>a.jsxs(me,{value:I.id.toString(),children:["Order #",I.orderNumber," - ",I.customerName]},I.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"productName",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"productName",value:b.productName,onChange:I=>{const O=I.target.value,z=o.find(R=>R.name.toLowerCase()===O.toLowerCase());z?T(z.id):N({...b,productName:O})},placeholder:"Enter product name (e.g., L-Shape Sofa)",required:!0}),o.length>0&&b.productName&&!o.find(I=>I.name.toLowerCase()===b.productName.toLowerCase())&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-40 overflow-y-auto",children:o.filter(I=>I.name.toLowerCase().includes(b.productName.toLowerCase())).map(I=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>T(I.id),children:[I.name," (Existing Product)"]},I.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(pe,{id:"quantity",type:"number",min:"1",value:b.quantity,onChange:I=>U(I.target.value),placeholder:"Enter quantity to produce",required:!0})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ae,{className:"text-base font-semibold",children:"Bill of Materials (BOM)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjust materials needed for this production"})]}),a.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>{N({...b,billOfMaterials:[...b.billOfMaterials,{id:Date.now(),materialId:"",materialName:"",quantity:"",unit:"",costPerUnit:0,totalCost:0}]})},children:[a.jsx(ht,{className:"w-4 h-4 mr-1"}),"Add Material"]})]}),b.billOfMaterials.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:'No materials added yet. Click "Add Material" to build the BOM.'}):a.jsxs("div",{className:"space-y-3",children:[b.billOfMaterials.map((I,O)=>{const z=d.find(R=>R.id===parseInt(I.materialId));return(parseFloat(I.quantity)||0)*((z==null?void 0:z.costPerUnit)||0),a.jsx("div",{className:"p-3 bg-white border rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(ae,{className:"text-xs",children:"Material"}),a.jsxs("select",{className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",value:I.materialId,onChange:R=>{const $=d.find(_=>_.id===parseInt(R.target.value)),ce=[...b.billOfMaterials];ce[O]={...ce[O],materialId:R.target.value,materialName:($==null?void 0:$.name)||"",unit:($==null?void 0:$.unit)||"",costPerUnit:($==null?void 0:$.costPerUnit)||0},N({...b,billOfMaterials:ce})},children:[a.jsx("option",{value:"",children:"Select material..."}),d.map(R=>a.jsxs("option",{value:R.id,children:[R.name," (NPR ",R.costPerUnit,"/",R.unit,")"]},R.id))]})]}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-xs",children:"Quantity"}),a.jsx(pe,{type:"number",step:"0.01",className:"mt-1",value:I.quantity,onChange:R=>{const $=[...b.billOfMaterials];if($[O]={...$[O],quantity:R.target.value,totalCost:(parseFloat(R.target.value)||0)*((z==null?void 0:z.costPerUnit)||0)},N({...b,billOfMaterials:$}),b.sofaModelId){const ce=D(b.sofaModelId,b.quantity);S(ce)}},placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-xs",children:"Unit"}),a.jsx(pe,{type:"text",className:"mt-1 bg-gray-100",value:I.unit,readOnly:!0,placeholder:"-"})]}),a.jsx("div",{className:"flex items-end gap-2",children:a.jsx(ue,{type:"button",variant:"destructive",size:"sm",onClick:()=>{const R=b.billOfMaterials.filter(($,ce)=>ce!==O);if(N({...b,billOfMaterials:R}),R.length>0&&b.quantity){const $=D(R,b.quantity);S($)}else S(null)},children:a.jsx(Va,{className:"w-4 h-4"})})})]})},I.id)}),a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Material Cost (per unit)"}),a.jsx("span",{className:"text-lg font-bold text-blue-900",children:ke(A())})]})})]})]}),E&&a.jsxs("div",{className:`p-4 rounded-lg ${E.valid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.valid?a.jsx(Kn,{className:"w-5 h-5 text-green-600"}):a.jsx(sf,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:`font-semibold ${E.valid?"text-green-800":"text-red-800"}`,children:E.message})]}),a.jsx("div",{className:"space-y-2",children:E.materials.map((I,O)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:I.materialName}),a.jsxs("span",{className:I.isAvailable?"text-green-700":"text-red-700 font-bold",children:[I.requiredQty," ",I.unit," (Available: ",I.availableQty,")"]})]},O))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"notes",children:"Notes"}),a.jsx(Pt,{id:"notes",value:b.notes,onChange:I=>N({...b,notes:I.target.value}),placeholder:"Add any production notes...",rows:3})]})]}),a.jsxs(Bt,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),a.jsx(ue,{type:"submit",disabled:!(E!=null&&E.valid),className:E!=null&&E.valid?"":"opacity-50 cursor-not-allowed",children:"Start Production"})]})]})]})}),x&&a.jsx(It,{open:!!x,onOpenChange:()=>v(null),children:a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsx(qt,{children:a.jsxs(Ht,{children:["Production Details - ",x.productionNumber]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-semibold",children:x.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsxs("p",{className:"font-semibold",children:[x.quantity," units"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),J(x.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold capitalize",children:x.productionType})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Materials Needed"}),a.jsx("div",{className:"space-y-2",children:(H=x.materialsNeeded)==null?void 0:H.map((I,O)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:I.materialName}),a.jsxs("span",{className:"font-semibold",children:[I.requiredQty," ",I.unit]})]})},O))})]}),x.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-700",children:x.notes})]})]}),a.jsx(Bt,{children:a.jsx(ue,{onClick:()=>v(null),children:"Close"})})]})})]})}var sc="Switch",[RT]=jn(sc),[kT,PT]=RT(sc),R0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:f,required:h,disabled:p,value:g="on",onCheckedChange:m,form:x,...v}=s,[b,N]=j.useState(null),E=lt(r,D=>N(D)),S=j.useRef(!1),w=b?x||!!b.closest("form"):!0,[P,k]=Es({prop:d,defaultProp:f??!1,onChange:m,caller:sc});return a.jsxs(kT,{scope:i,checked:P,disabled:p,children:[a.jsx(Ie.button,{type:"button",role:"switch","aria-checked":P,"aria-required":h,"data-state":z0(P),"data-disabled":p?"":void 0,disabled:p,value:g,...v,ref:E,onClick:Ae(s.onClick,D=>{k(T=>!T),w&&(S.current=D.isPropagationStopped(),S.current||D.stopPropagation())})}),w&&a.jsx(L0,{control:b,bubbles:!S.current,name:o,value:g,checked:P,required:h,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});R0.displayName=sc;var k0="SwitchThumb",P0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,d=PT(k0,i);return a.jsx(Ie.span,{"data-state":z0(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});P0.displayName=k0;var LT="SwitchBubbleInput",L0=j.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...d},f)=>{const h=j.useRef(null),p=lt(h,f),g=By(i),m=Ey(r);return j.useEffect(()=>{const x=h.current;if(!x)return;const v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set;if(g!==i&&N){const E=new Event("click",{bubbles:o});N.call(x,i),x.dispatchEvent(E)}},[g,i,o]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:p,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L0.displayName=LT;function z0(s){return s?"checked":"unchecked"}var zT=R0,IT=P0;function kg({className:s,...r}){return a.jsx(zT,{"data-slot":"switch",className:qe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:a.jsx(IT,{"data-slot":"switch-thumb",className:qe("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function UT(){const{state:s,actions:r}=mt(),[i,o]=j.useState(null),[d,f]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await r.getItems("notificationSettings");if(b&&b.length>0)o(b[0]);else{const N=Rg();await r.addItem("notificationSettings",N),o(N)}}catch(b){console.error("Error loading notification settings:",b),o(Rg())}},p=async()=>{try{if(f(!0),i.adminPhoneNumber&&!gT(i.adminPhoneNumber)){alert("Please enter a valid 10-digit phone number"),f(!1);return}await r.updateItem("notificationSettings",i),alert("Settings saved successfully!")}catch(b){console.error("Error saving settings:",b),alert("Failed to save settings. Please try again.")}finally{f(!1)}},g=b=>{o({...i,notificationTypes:{...i.notificationTypes,[b]:!i.notificationTypes[b]}})},m=(b,N)=>{o({...i,messageTemplates:{...i.messageTemplates,[b]:{...i.messageTemplates[b],template:N}}})},x=b=>{window.confirm("Reset this template to default?")&&o({...i,messageTemplates:{...i.messageTemplates,[b]:kr[b]}})};if(!i)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading settings..."})});const v={orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order Created",lowStockAlert:"Low Stock Alert"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Al,{className:"w-8 h-8 text-blue-600"}),"WhatsApp Notifications"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure automated WhatsApp notifications for customers and suppliers"})]}),a.jsxs(ue,{onClick:p,disabled:d,children:[a.jsx(pS,{className:"w-4 h-4 mr-2"}),d?"Saving...":"Save Settings"]})]}),a.jsxs(kl,{defaultValue:"general",className:"w-full",children:[a.jsxs(Pl,{className:"grid w-full grid-cols-3",children:[a.jsx(Rt,{value:"general",children:"General"}),a.jsx(Rt,{value:"types",children:"Notification Types"}),a.jsx(Rt,{value:"templates",children:"Message Templates"})]}),a.jsx(kt,{value:"general",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"General Settings"}),a.jsx(Me,{children:"Configure basic WhatsApp notification settings"})]}),a.jsxs(xe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ae,{className:"text-base font-semibold",children:"Enable WhatsApp Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Turn on/off all WhatsApp notifications"})]}),a.jsx(kg,{checked:i.whatsappEnabled,onCheckedChange:b=>o({...i,whatsappEnabled:b})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Company Name"}),a.jsx(pe,{value:i.companyName,onChange:b=>o({...i,companyName:b.target.value}),placeholder:"Your Company Name"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will appear in notification messages"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Default Country Code"}),a.jsx(pe,{value:i.defaultCountryCode,onChange:b=>o({...i,defaultCountryCode:b.target.value}),placeholder:"977"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Country code for phone numbers (Nepal: 977)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Admin Phone Number"}),a.jsx(pe,{value:i.adminPhoneNumber,onChange:b=>o({...i,adminPhoneNumber:b.target.value}),placeholder:"9800000000"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Phone number for receiving admin notifications (10 digits, without country code)"})]}),a.jsx(de,{className:"bg-blue-50 border-blue-200",children:a.jsx(xe,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Hg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How it works"}),a.jsx("p",{className:"text-sm text-blue-800",children:"When an event occurs (like a new order), the system generates a WhatsApp message and adds it to the notification queue. You can then send it with one click, which opens WhatsApp Web/App with the pre-filled message ready to send."})]})]})})})]})]})}),a.jsx(kt,{value:"types",className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(je,{children:[a.jsx(be,{children:"Notification Types"}),a.jsx(Me,{children:"Enable or disable specific notification types"})]}),a.jsx(xe,{className:"space-y-3",children:Object.keys(v).map(b=>{var N;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ae,{className:"font-medium",children:v[b]}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:((N=kr[b])==null?void 0:N.title)||""})]}),a.jsx(kg,{checked:i.notificationTypes[b],onCheckedChange:()=>g(b)})]},b)})})]})}),a.jsx(kt,{value:"templates",className:"space-y-4",children:Object.keys(kr).map(b=>{var N;return a.jsxs(de,{children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(be,{children:v[b]}),a.jsxs(Me,{children:["Customize the message template. Use ","{variable}"," for dynamic content."]})]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>x(b),children:"Reset to Default"})]})}),a.jsxs(xe,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Message Template"}),a.jsx(Pt,{value:((N=i.messageTemplates[b])==null?void 0:N.template)||"",onChange:E=>m(b,E.target.value),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(ae,{className:"text-sm font-semibold mb-2 block",children:"Available Variables:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:kr[b].variables.map(E=>a.jsx("code",{className:"px-2 py-1 bg-white border rounded text-xs",children:"{"+E+"}"},E))})]})]})]},b)})})]})]})}function qT(){const{state:s,actions:r}=mt(),[i,o]=j.useState([]),[d,f]=j.useState("all"),[h,p]=j.useState("all");j.useEffect(()=>{g()},[]);const g=async()=>{try{const D=(await r.getItems("notificationQueue")||[]).sort((T,A)=>new Date(A.createdAt)-new Date(T.createdAt));o(D)}catch(k){console.error("Error loading notifications:",k),o([])}},m=async k=>{try{vT(k.recipient.phone,k.message),await r.updateItem("notificationQueue",{...k,status:"sent",sentAt:new Date().toISOString()}),await g()}catch(D){console.error("Error sending notification:",D),alert("Failed to send notification. Please try again.")}},x=async k=>{if(window.confirm("Delete this notification?"))try{await r.deleteItem("notificationQueue",k.id),await g()}catch(D){console.error("Error deleting notification:",D),alert("Failed to delete notification. Please try again.")}},v=async()=>{if(window.confirm("Clear all sent notifications?"))try{const k=i.filter(D=>D.status==="sent");for(const D of k)await r.deleteItem("notificationQueue",D.id);await g()}catch(k){console.error("Error clearing sent notifications:",k),alert("Failed to clear notifications. Please try again.")}},b=i.filter(k=>!(d!=="all"&&k.status!==d||h!=="all"&&k.type!==h)),N=i.filter(k=>k.status==="pending").length,E=i.filter(k=>k.status==="sent").length,S=k=>{const D={pending:{variant:"secondary",icon:No,label:"Pending"},sent:{variant:"success",icon:Kn,label:"Sent"},failed:{variant:"destructive",icon:af,label:"Failed"}},T=D[k]||D.pending,A=T.icon;return a.jsxs(_e,{variant:T.variant,className:"flex items-center gap-1",children:[a.jsx(A,{className:"w-3 h-3"}),T.label]})},w=k=>({orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order",lowStockAlert:"Low Stock Alert"})[k]||k,P=k=>new Date(k).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Al,{className:"w-8 h-8 text-blue-600"}),"Notification Queue"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and send WhatsApp notifications"})]}),E>0&&a.jsxs(ue,{variant:"outline",onClick:v,children:[a.jsx(Va,{className:"w-4 h-4 mr-2"}),"Clear Sent (",E,")"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsx(xe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(Al,{className:"w-8 h-8 text-gray-400"})]})})}),a.jsx(de,{children:a.jsx(xe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N})]}),a.jsx(No,{className:"w-8 h-8 text-orange-400"})]})})}),a.jsx(de,{children:a.jsx(xe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),a.jsx(Kn,{className:"w-8 h-8 text-green-400"})]})})})]}),a.jsxs(de,{children:[a.jsx(je,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(eS,{className:"w-5 h-5"}),"Filters"]})}),a.jsx(xe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(tt,{value:d,onValueChange:f,children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"all",children:"All Status"}),a.jsx(me,{value:"pending",children:"Pending"}),a.jsx(me,{value:"sent",children:"Sent"}),a.jsx(me,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(tt,{value:h,onValueChange:p,children:[a.jsx(nt,{children:a.jsx(at,{})}),a.jsxs(st,{children:[a.jsx(me,{value:"all",children:"All Types"}),a.jsx(me,{value:"orderConfirmation",children:"Order Confirmation"}),a.jsx(me,{value:"productionStarted",children:"Production Started"}),a.jsx(me,{value:"productionCompleted",children:"Production Completed"}),a.jsx(me,{value:"paymentReminder",children:"Payment Reminder"}),a.jsx(me,{value:"deliveryScheduled",children:"Delivery Scheduled"}),a.jsx(me,{value:"orderDelivered",children:"Order Delivered"}),a.jsx(me,{value:"lowStockAlert",children:"Low Stock Alert"})]})]})]})]})})]}),a.jsx("div",{className:"space-y-4",children:b.length===0?a.jsx(de,{children:a.jsxs(xe,{className:"py-12 text-center",children:[a.jsx(Hg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No notifications found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications will appear here when events occur"})]})}):b.map(k=>a.jsx(de,{className:"hover:shadow-md transition-shadow",children:a.jsx(xe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_e,{variant:"outline",children:w(k.type)}),S(k.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg",children:k.recipient.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",k.recipient.phone]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap font-mono",children:k.message.length>200?k.message.substring(0,200)+"...":k.message})}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created: ",P(k.createdAt)]}),k.sentAt&&a.jsxs("span",{children:["Sent: ",P(k.sentAt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[k.status==="pending"&&a.jsxs(ue,{onClick:()=>m(k),className:"whitespace-nowrap",children:[a.jsx(yS,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),a.jsxs(ue,{variant:"outline",onClick:()=>x(k),children:[a.jsx(Va,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})},k.id))})]})}function BT(){const{state:s,auth:r,actions:i}=mt(),{isAuthenticated:o,isLoading:d,currentView:f,company:h,user:p}=s,[g,m]=wa.useState(null);if(wa.useEffect(()=>{r&&(async()=>{try{const v=await r.isFirstTimeSetup();m(v)}catch(v){console.error("Error checking first time setup:",v),m(!1)}})()},[r]),d||g===null)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(g)return a.jsx(Og,{});if(!o)return a.jsx(LE,{});if(!h)return a.jsx(Og,{});switch(f){case"dashboard":return a.jsx(_g,{});case"inventory":return a.jsx(AT,{});case"raw-materials":return a.jsx(ET,{});case"finished-products":return a.jsx(hT,{});case"suppliers":return a.jsx(TT,{});case"customers":return a.jsx(mT,{});case"labour":return a.jsx(CT,{});case"sales":return a.jsx(ST,{});case"purchases":return a.jsx(MT,{});case"financials":return a.jsx(DT,{});case"cleaning":return a.jsx(wT,{});case"orders":return a.jsx(pT,{});case"production":return a.jsx(_T,{});case"reports":return a.jsx(OT,{});case"settings":return a.jsx(QE,{});case"notification-settings":return a.jsx(UT,{});case"notification-queue":return a.jsx(qT,{});default:return a.jsx(_g,{})}}async function HT(){try{if((await he.getAll("users")).some(f=>f.role==="admin"))return!1;const i={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()},o={id:"default-company",name:"Sofa Factory",address:"Kathmandu, Nepal",phone:"9851234567",email:"info@sofafactory.com",labourManagerName:"Manager",labourManagerPhone:"9841234567",createdAt:new Date().toISOString()},d={id:"default-location",name:"Main Factory",address:"Kathmandu",createdAt:new Date().toISOString()};return await he.add("users",i),await he.update("company","company-profile",o),await he.add("locations",d),console.log("Default admin account created successfully"),!0}catch(s){return console.error("Failed to create default admin:",s),!1}}function FT(){return wa.useEffect(()=>{HT().catch(console.error)},[]),a.jsx(vN,{children:a.jsx(PE,{children:a.jsx(BT,{})})})}pN.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(FT,{})}));
