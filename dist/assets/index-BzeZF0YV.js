function eN(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Ug(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function tN(){if(Ux)return Fr;Ux=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:h,ref:d!==void 0?d:null,props:f}}return Fr.Fragment=r,Fr.jsx=i,Fr.jsxs=i,Fr}var qx;function aN(){return qx||(qx=1,Pd.exports=tN()),Pd.exports}var a=aN(),kd={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function nN(){if(Hx)return Be;Hx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function P(O,ee,de){this.props=O,this.context=ee,this.refs=N,this.updater=de||E}P.prototype.isReactComponent={},P.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=P.prototype;function M(O,ee,de){this.props=O,this.context=ee,this.refs=N,this.updater=de||E}var D=M.prototype=new T;D.constructor=M,w(D,P.prototype),D.isPureReactComponent=!0;var A=Array.isArray;function R(){}var z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function se(O,ee,de){var he=de.ref;return{$$typeof:s,type:O,key:ee,ref:he!==void 0?he:null,props:de}}function B(O,ee){return se(O.type,ee,O.props)}function F(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return ee[de]})}var ne=/\/+/g;function $(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):ee.toString(36)}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(R,R):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,ee,de,he,q){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var ae=!1;if(O===null)ae=!0;else switch(me){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(O.$$typeof){case s:case r:ae=!0;break;case x:return ae=O._init,L(ae(O._payload),ee,de,he,q)}}if(ae)return q=q(O),ae=he===""?"."+$(O,0):he,A(q)?(de="",ae!=null&&(de=ae.replace(ne,"$&/")+"/"),L(q,ee,de,"",function(ge){return ge})):q!=null&&(F(q)&&(q=B(q,de+(q.key==null||O&&O.key===q.key?"":(""+q.key).replace(ne,"$&/")+"/")+ae)),ee.push(q)),1;ae=0;var _e=he===""?".":he+":";if(A(O))for(var Y=0;Y<O.length;Y++)he=O[Y],me=_e+$(he,Y),ae+=L(he,ee,de,me,q);else if(Y=S(O),typeof Y=="function")for(O=Y.call(O),Y=0;!(he=O.next()).done;)he=he.value,me=_e+$(he,Y++),ae+=L(he,ee,de,me,q);else if(me==="object"){if(typeof O.then=="function")return L(xe(O),ee,de,he,q);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ae}function X(O,ee,de){if(O==null)return O;var he=[],q=0;return L(O,he,"","",function(me){return ee.call(de,me,q++)}),he}function V(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:X,forEach:function(O,ee,de){X(O,function(){ee.apply(this,arguments)},de)},count:function(O){var ee=0;return X(O,function(){ee++}),ee},toArray:function(O){return X(O,function(ee){return ee})||[]},only:function(O){if(!F(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Be.Activity=v,Be.Children=je,Be.Component=P,Be.Fragment=i,Be.Profiler=d,Be.PureComponent=M,Be.StrictMode=o,Be.Suspense=g,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},Be.cache=function(O){return function(){return O.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(O,ee,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=w({},O.props),q=O.key;if(ee!=null)for(me in ee.key!==void 0&&(q=""+ee.key),ee)!H.call(ee,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ee.ref===void 0||(he[me]=ee[me]);var me=arguments.length-2;if(me===1)he.children=de;else if(1<me){for(var ae=Array(me),_e=0;_e<me;_e++)ae[_e]=arguments[_e+2];he.children=ae}return se(O.type,q,he)},Be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},Be.createElement=function(O,ee,de){var he,q={},me=null;if(ee!=null)for(he in ee.key!==void 0&&(me=""+ee.key),ee)H.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(q[he]=ee[he]);var ae=arguments.length-2;if(ae===1)q.children=de;else if(1<ae){for(var _e=Array(ae),Y=0;Y<ae;Y++)_e[Y]=arguments[Y+2];q.children=_e}if(O&&O.defaultProps)for(he in ae=O.defaultProps,ae)q[he]===void 0&&(q[he]=ae[he]);return se(O,me,q)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(O){return{$$typeof:p,render:O}},Be.isValidElement=F,Be.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:V}},Be.memo=function(O,ee){return{$$typeof:m,type:O,compare:ee===void 0?null:ee}},Be.startTransition=function(O){var ee=z.T,de={};z.T=de;try{var he=O(),q=z.S;q!==null&&q(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(R,ie)}catch(me){ie(me)}finally{ee!==null&&de.types!==null&&(ee.types=de.types),z.T=ee}},Be.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Be.use=function(O){return z.H.use(O)},Be.useActionState=function(O,ee,de){return z.H.useActionState(O,ee,de)},Be.useCallback=function(O,ee){return z.H.useCallback(O,ee)},Be.useContext=function(O){return z.H.useContext(O)},Be.useDebugValue=function(){},Be.useDeferredValue=function(O,ee){return z.H.useDeferredValue(O,ee)},Be.useEffect=function(O,ee){return z.H.useEffect(O,ee)},Be.useEffectEvent=function(O){return z.H.useEffectEvent(O)},Be.useId=function(){return z.H.useId()},Be.useImperativeHandle=function(O,ee,de){return z.H.useImperativeHandle(O,ee,de)},Be.useInsertionEffect=function(O,ee){return z.H.useInsertionEffect(O,ee)},Be.useLayoutEffect=function(O,ee){return z.H.useLayoutEffect(O,ee)},Be.useMemo=function(O,ee){return z.H.useMemo(O,ee)},Be.useOptimistic=function(O,ee){return z.H.useOptimistic(O,ee)},Be.useReducer=function(O,ee,de){return z.H.useReducer(O,ee,de)},Be.useRef=function(O){return z.H.useRef(O)},Be.useState=function(O){return z.H.useState(O)},Be.useSyncExternalStore=function(O,ee,de){return z.H.useSyncExternalStore(O,ee,de)},Be.useTransition=function(){return z.H.useTransition()},Be.version="19.2.3",Be}var Bx;function xf(){return Bx||(Bx=1,kd.exports=nN()),kd.exports}var j=xf();const Ya=Ug(j),gf=eN({__proto__:null,default:Ya},[j]);var Ld={exports:{}},Vr={},zd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function sN(){return Fx||(Fx=1,(function(s){function r(L,X){var V=L.length;L.push(X);e:for(;0<V;){var ie=V-1>>>1,je=L[ie];if(0<d(je,X))L[ie]=X,L[V]=je,V=ie;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var X=L[0],V=L.pop();if(V!==X){L[0]=V;e:for(var ie=0,je=L.length,O=je>>>1;ie<O;){var ee=2*(ie+1)-1,de=L[ee],he=ee+1,q=L[he];if(0>d(de,V))he<je&&0>d(q,de)?(L[ie]=q,L[he]=V,ie=he):(L[ie]=de,L[ee]=V,ie=ee);else if(he<je&&0>d(q,V))L[ie]=q,L[he]=V,ie=he;else break e}}return X}function d(L,X){var V=L.sortIndex-X.sortIndex;return V!==0?V:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,v=null,b=3,S=!1,E=!1,w=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var X=i(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=L)o(m),X.sortIndex=X.expirationTime,r(g,X);else break;X=i(m)}}function A(L){if(w=!1,D(L),!E)if(i(g)!==null)E=!0,R||(R=!0,U());else{var X=i(m);X!==null&&xe(A,X.startTime-L)}}var R=!1,z=-1,H=5,se=-1;function B(){return N?!0:!(s.unstable_now()-se<H)}function F(){if(N=!1,R){var L=s.unstable_now();se=L;var X=!0;try{e:{E=!1,w&&(w=!1,T(z),z=-1),S=!0;var V=b;try{t:{for(D(L),v=i(g);v!==null&&!(v.expirationTime>L&&B());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,b=v.priorityLevel;var je=ie(v.expirationTime<=L);if(L=s.unstable_now(),typeof je=="function"){v.callback=je,D(L),X=!0;break t}v===i(g)&&o(g),D(L)}else o(g);v=i(g)}if(v!==null)X=!0;else{var O=i(m);O!==null&&xe(A,O.startTime-L),X=!1}}break e}finally{v=null,b=V,S=!1}X=void 0}}finally{X?U():R=!1}}}var U;if(typeof M=="function")U=function(){M(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,$=ne.port2;ne.port1.onmessage=F,U=function(){$.postMessage(null)}}else U=function(){P(F,0)};function xe(L,X){z=P(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(L){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var V=b;b=X;try{return L()}finally{b=V}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=b;b=L;try{return X()}finally{b=V}},s.unstable_scheduleCallback=function(L,X,V){var ie=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ie+V:ie):V=ie,L){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=V+je,L={id:x++,callback:X,priorityLevel:L,startTime:V,expirationTime:je,sortIndex:-1},V>ie?(L.sortIndex=V,r(m,L),i(g)===null&&L===i(m)&&(w?(T(z),z=-1):w=!0,xe(A,V-ie))):(L.sortIndex=je,r(g,L),E||S||(E=!0,R||(R=!0,U()))),L},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(L){var X=b;return function(){var V=b;b=X;try{return L.apply(this,arguments)}finally{b=V}}}})(Id)),Id}var Vx;function lN(){return Vx||(Vx=1,zd.exports=sN()),zd.exports}var Ud={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function rN(){if(Gx)return Zt;Gx=1;var s=xf();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Zt.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,x)},Zt.flushSync=function(g){var m=h.T,x=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=m,o.p=x,o.d.f()}},Zt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},Zt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Zt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):x==="script"&&o.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},Zt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin);o.d.L(g,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},Zt.requestFormReset=function(g){o.d.r(g)},Zt.unstable_batchedUpdates=function(g,m){return g(m)},Zt.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Yx;function qg(){if(Yx)return Ud.exports;Yx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ud.exports=rN(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function iN(){if($x)return Vr;$x=1;var s=lN(),r=xf(),i=qg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return g(c),e;if(u===l)return g(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=u;else{for(var y=!1,C=c.child;C;){if(C===n){y=!0,n=c,l=u;break}if(C===l){y=!0,l=c,n=u;break}C=C.sibling}if(!y){for(C=u.child;C;){if(C===n){y=!0,n=u,l=c;break}if(C===l){y=!0,l=u,n=c;break}C=C.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case P:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var xe=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ie=[],je=-1;function O(e){return{current:e}}function ee(e){0>je||(e.current=ie[je],ie[je]=null,je--)}function de(e,t){je++,ie[je]=e.current,e.current=t}var he=O(null),q=O(null),me=O(null),ae=O(null);function _e(e,t){switch(de(me,t),de(q,e),de(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ox(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ox(t),e=cx(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(he),de(he,e)}function Y(){ee(he),ee(q),ee(me)}function ge(e){e.memoizedState!==null&&de(ae,e);var t=he.current,n=cx(t,e.type);t!==n&&(de(q,e),de(he,n))}function Se(e){q.current===e&&(ee(he),ee(q)),ae.current===e&&(ee(ae),Ur._currentValue=V)}var Ce,yt;function nt(e){if(Ce===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||"",yt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+yt}var jt=!1;function Tt(e,t){if(!e||jt)return"";jt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(J){var W=J}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(J){W=J}e.call(ce.prototype)}}else{try{throw Error()}catch(J){W=J}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),y=u[0],C=u[1];if(y&&C){var _=y.split(`
`),Z=C.split(`
`);for(c=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(l===_.length||c===Z.length)for(l=_.length-1,c=Z.length-1;1<=l&&0<=c&&_[l]!==Z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(_[l]!==Z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||_[l]!==Z[c]){var te=`
`+_[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=c);break}}}finally{jt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?nt(n):""}function wt(e,t){switch(e.tag){case 26:case 27:case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return e.child!==t&&t!==null?nt("Suspense Fallback"):nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return Tt(e.type,!1);case 11:return Tt(e.type.render,!1);case 1:return Tt(e.type,!0);case 31:return nt("Activity");default:return""}}function Ea(e){try{var t="",n=null;do t+=wt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ot=Object.prototype.hasOwnProperty,In=s.unstable_scheduleCallback,st=s.unstable_cancelCallback,Ha=s.unstable_shouldYield,Bt=s.unstable_requestPaint,Ft=s.unstable_now,gs=s.unstable_getCurrentPriorityLevel,Zl=s.unstable_ImmediatePriority,un=s.unstable_UserBlockingPriority,Ka=s.unstable_NormalPriority,k=s.unstable_LowPriority,oe=s.unstable_IdlePriority,be=s.log,le=s.unstable_setDisableYieldValue,Ie=null,ke=null;function Ze(e){if(typeof be=="function"&&le(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ie,e)}catch{}}var Kt=Math.clz32?Math.clz32:bc,vc=Math.log,jc=Math.LN2;function bc(e){return e>>>=0,e===0?32:31-(vc(e)/jc|0)|0}var bt=256,Ks=262144,ui=4194304;function ys(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~u,l!==0?c=ys(l):(y&=C,y!==0?c=ys(y):n||(n=C&~e,n!==0&&(c=ys(n))))):(C=l&~u,C!==0?c=ys(C):y!==0?c=ys(y):n||(n=l&~e,n!==0&&(c=ys(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function H0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(){var e=ui;return ui<<=1,(ui&62914560)===0&&(ui=4194304),e}function Nc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function B0(e,t,n,l,c,u){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,_=e.expirationTimes,Z=e.hiddenUpdates;for(n=y&~n;0<n;){var te=31-Kt(n),ce=1<<te;C[te]=0,_[te]=-1;var W=Z[te];if(W!==null)for(Z[te]=null,te=0;te<W.length;te++){var J=W[te];J!==null&&(J.lane&=-536870913)}n&=~ce}l!==0&&Vf(e,l,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~t))}function Vf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Kt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Kt(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function Yf(e,t){var n=t&-t;return n=(n&42)!==0?1:Sc(n),(n&(e.suspendedLanes|t))!==0?0:n}function Sc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $f(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Rx(e.type))}function Qf(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var Un=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Un,oa="__reactProps$"+Un,Zs="__reactContainer$"+Un,Cc="__reactEvents$"+Un,F0="__reactListeners$"+Un,V0="__reactHandles$"+Un,Xf="__reactResources$"+Un,er="__reactMarker$"+Un;function Ac(e){delete e[Vt],delete e[oa],delete e[Cc],delete e[F0],delete e[V0]}function Ws(e){var t=e[Vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zs]||n[Vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xx(e);e!==null;){if(n=e[Vt])return n;e=xx(e)}return t}e=n,n=e.parentNode}return null}function Js(e){if(e=e[Vt]||e[Zs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function tr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function el(e){var t=e[Xf];return t||(t=e[Xf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[er]=!0}var Kf=new Set,Zf={};function vs(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(Zf[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wf={},Jf={};function Y0(e){return Ot.call(Jf,e)?!0:Ot.call(Wf,e)?!1:G0.test(e)?Jf[e]=!0:(Wf[e]=!0,!1)}function fi(e,t,n){if(Y0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function mi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function dn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Ta(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function em(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $0(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,u.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ec(e){if(!e._valueTracker){var t=em(e)?"checked":"value";e._valueTracker=$0(e,t,""+e[t])}}function tm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=em(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Q0=/[\n"\\]/g;function Ma(e){return e.replace(Q0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tc(e,t,n,l,c,u,y,C){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ta(t)):e.value!==""+Ta(t)&&(e.value=""+Ta(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Mc(e,y,Ta(t)):n!=null?Mc(e,y,Ta(n)):l!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Ta(C):e.removeAttribute("name")}function am(e,t,n,l,c,u,y,C){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ec(e);return}n=n!=null?""+Ta(n):"",t=t!=null?""+Ta(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ec(e)}function Mc(e,t,n){t==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function al(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ta(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function nm(e,t,n){if(t!=null&&(t=""+Ta(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ta(n):""}function sm(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(xe(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Ta(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Ec(e)}function nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var X0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||X0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function rm(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&lm(e,c,l)}else for(var u in t)t.hasOwnProperty(u)&&lm(e,u,t[u])}function Dc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(e){return Z0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fn(){}var Oc=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,ll=null;function im(e){var t=Js(e);if(t&&(e=t.stateNode)){var n=e[oa]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ma(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[oa]||null;if(!c)throw Error(o(90));Tc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&tm(l)}break e;case"textarea":nm(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&al(e,!!n.multiple,t,!1)}}}var _c=!1;function om(e,t,n){if(_c)return e(t,n);_c=!0;try{var l=e(t);return l}finally{if(_c=!1,(sl!==null||ll!==null)&&(ao(),sl&&(t=sl,e=ll,ll=sl=null,im(t),e)))for(t=0;t<e.length;t++)im(e[t])}}function ar(e,t){var n=e.stateNode;if(n===null)return null;var l=n[oa]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(mn)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Pc=!1}var qn=null,kc=null,xi=null;function cm(){if(xi)return xi;var e,t=kc,n=t.length,l,c="value"in qn?qn.value:qn.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[u-l];l++);return xi=c.slice(e,1<l?1-l:void 0)}function gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function um(){return!1}function ca(e){function t(n,l,c,u,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?yi:um,this.isPropagationStopped=um,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=ca(js),sr=v({},js,{view:0,detail:0}),W0=ca(sr),Lc,zc,lr,ji=v({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&e.type==="mousemove"?(Lc=e.screenX-lr.screenX,zc=e.screenY-lr.screenY):zc=Lc=0,lr=e),Lc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),dm=ca(ji),J0=v({},ji,{dataTransfer:0}),ej=ca(J0),tj=v({},sr,{relatedTarget:0}),Ic=ca(tj),aj=v({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=ca(aj),sj=v({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lj=ca(sj),rj=v({},js,{data:0}),fm=ca(rj),ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cj[e])?!!t[e]:!1}function Uc(){return uj}var dj=v({},sr,{key:function(e){if(e.key){var t=ij[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fj=ca(dj),mj=v({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=ca(mj),hj=v({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),pj=ca(hj),xj=v({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=ca(xj),yj=v({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vj=ca(yj),jj=v({},js,{newState:0,oldState:0}),bj=ca(jj),Nj=[9,13,27,32],qc=mn&&"CompositionEvent"in window,rr=null;mn&&"documentMode"in document&&(rr=document.documentMode);var Sj=mn&&"TextEvent"in window&&!rr,hm=mn&&(!qc||rr&&8<rr&&11>=rr),pm=" ",xm=!1;function gm(e,t){switch(e){case"keyup":return Nj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function wj(e,t){switch(e){case"compositionend":return ym(t);case"keypress":return t.which!==32?null:(xm=!0,pm);case"textInput":return e=t.data,e===pm&&xm?null:e;default:return null}}function Cj(e,t){if(rl)return e==="compositionend"||!qc&&gm(e,t)?(e=cm(),xi=kc=qn=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hm&&t.locale!=="ko"?null:t.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aj[e.type]:t==="textarea"}function jm(e,t,n,l){sl?ll?ll.push(l):ll=[l]:sl=l,t=co(t,"onChange"),0<t.length&&(n=new vi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ir=null,or=null;function Ej(e){ax(e,0)}function bi(e){var t=tr(e);if(tm(t))return e}function bm(e,t){if(e==="change")return t}var Nm=!1;if(mn){var Hc;if(mn){var Bc="oninput"in document;if(!Bc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Bc=typeof Sm.oninput=="function"}Hc=Bc}else Hc=!1;Nm=Hc&&(!document.documentMode||9<document.documentMode)}function wm(){ir&&(ir.detachEvent("onpropertychange",Cm),or=ir=null)}function Cm(e){if(e.propertyName==="value"&&bi(or)){var t=[];jm(t,or,e,Rc(e)),om(Ej,t)}}function Tj(e,t,n){e==="focusin"?(wm(),ir=t,or=n,ir.attachEvent("onpropertychange",Cm)):e==="focusout"&&wm()}function Mj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(or)}function Dj(e,t){if(e==="click")return bi(t)}function Oj(e,t){if(e==="input"||e==="change")return bi(t)}function Rj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:Rj;function cr(e,t){if(ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Ot.call(t,c)||!ga(e[c],t[c]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Em(e,t){var n=Am(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Am(n)}}function Tm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hi(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _j=mn&&"documentMode"in document&&11>=document.documentMode,il=null,Vc=null,ur=null,Gc=!1;function Dm(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gc||il==null||il!==hi(l)||(l=il,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ur&&cr(ur,l)||(ur=l,l=co(Vc,"onSelect"),0<l.length&&(t=new vi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=il)))}function bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ol={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Yc={},Om={};mn&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ns(e){if(Yc[e])return Yc[e];if(!ol[e])return e;var t=ol[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Om)return Yc[e]=t[n];return e}var Rm=Ns("animationend"),_m=Ns("animationiteration"),Pm=Ns("animationstart"),Pj=Ns("transitionrun"),kj=Ns("transitionstart"),Lj=Ns("transitioncancel"),km=Ns("transitionend"),Lm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Ba(e,t){Lm.set(e,t),vs(t,[e])}var Ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Da=[],cl=0,Qc=0;function Si(){for(var e=cl,t=Qc=cl=0;t<e;){var n=Da[t];Da[t++]=null;var l=Da[t];Da[t++]=null;var c=Da[t];Da[t++]=null;var u=Da[t];if(Da[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}u!==0&&zm(n,c,u)}}function wi(e,t,n,l){Da[cl++]=e,Da[cl++]=t,Da[cl++]=n,Da[cl++]=l,Qc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xc(e,t,n,l){return wi(e,t,n,l),Ci(e)}function Ss(e,t){return wi(e,null,null,t),Ci(e)}function zm(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-Kt(n),e=u.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),u):null}function Ci(e){if(50<Rr)throw Rr=0,sd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ul={};function zj(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(e,t,n,l){return new zj(e,t,n,l)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var n=e.alternate;return n===null?(n=ya(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Im(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ai(e,t,n,l,c,u){var y=0;if(l=e,typeof e=="function")Kc(e)&&(y=1);else if(typeof e=="string")y=Bb(e,n,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=ya(31,n,t,c),e.elementType=se,e.lanes=u,e;case w:return ws(n.children,c,u,t);case N:y=8,c|=24;break;case P:return e=ya(12,n,t,c|2),e.elementType=P,e.lanes=u,e;case A:return e=ya(13,n,t,c),e.elementType=A,e.lanes=u,e;case R:return e=ya(19,n,t,c),e.elementType=R,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:y=10;break e;case T:y=9;break e;case D:y=11;break e;case z:y=14;break e;case H:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=ya(y,n,t,c),t.elementType=e,t.type=l,t.lanes=u,t}function ws(e,t,n,l){return e=ya(7,e,l,t),e.lanes=n,e}function Zc(e,t,n){return e=ya(6,e,null,t),e.lanes=n,e}function Um(e){var t=ya(18,null,null,0);return t.stateNode=e,t}function Wc(e,t,n){return t=ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qm=new WeakMap;function Oa(e,t){if(typeof e=="object"&&e!==null){var n=qm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ea(t)},qm.set(e,t),t)}return{value:e,source:t,stack:Ea(t)}}var dl=[],fl=0,Ei=null,dr=0,Ra=[],_a=0,Hn=null,Za=1,Wa="";function pn(e,t){dl[fl++]=dr,dl[fl++]=Ei,Ei=e,dr=t}function Hm(e,t,n){Ra[_a++]=Za,Ra[_a++]=Wa,Ra[_a++]=Hn,Hn=e;var l=Za;e=Wa;var c=32-Kt(l)-1;l&=~(1<<c),n+=1;var u=32-Kt(t)+c;if(30<u){var y=c-c%5;u=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Za=1<<32-Kt(t)+c|n<<c|l,Wa=u+e}else Za=1<<u|n<<c|l,Wa=e}function Jc(e){e.return!==null&&(pn(e,1),Hm(e,1,0))}function eu(e){for(;e===Ei;)Ei=dl[--fl],dl[fl]=null,dr=dl[--fl],dl[fl]=null;for(;e===Hn;)Hn=Ra[--_a],Ra[_a]=null,Wa=Ra[--_a],Ra[_a]=null,Za=Ra[--_a],Ra[_a]=null}function Bm(e,t){Ra[_a++]=Za,Ra[_a++]=Wa,Ra[_a++]=Hn,Za=t.id,Wa=t.overflow,Hn=e}var Gt=null,Nt=null,et=!1,Bn=null,Pa=!1,tu=Error(o(519));function Fn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fr(Oa(t,e)),tu}function Fm(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Vt]=e,t[oa]=l,n){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(n=0;n<Pr.length;n++)Ke(Pr[n],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),am(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),sm(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||rx(t.textContent,n)?(l.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),l.onScroll!=null&&Ke("scroll",t),l.onScrollEnd!=null&&Ke("scrollend",t),l.onClick!=null&&(t.onclick=fn),t=!0):t=!1,t||Fn(e,!0)}function Vm(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Pa=!1;return;case 27:case 3:Pa=!0;return;default:Gt=Gt.return}}function ml(e){if(e!==Gt)return!1;if(!et)return Vm(e),et=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||vd(e.type,e.memoizedProps)),n=!n),n&&Nt&&Fn(e),Vm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Nt=px(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Nt=px(e)}else t===27?(t=Nt,ns(e.type)?(e=wd,wd=null,Nt=e):Nt=t):Nt=Gt?La(e.stateNode.nextSibling):null;return!0}function Cs(){Nt=Gt=null,et=!1}function au(){var e=Bn;return e!==null&&(ma===null?ma=e:ma.push.apply(ma,e),Bn=null),e}function fr(e){Bn===null?Bn=[e]:Bn.push(e)}var nu=O(null),As=null,xn=null;function Vn(e,t,n){de(nu,t._currentValue),t._currentValue=n}function gn(e){e._currentValue=nu.current,ee(nu)}function su(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function lu(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var C=u;u=c;for(var _=0;_<t.length;_++)if(C.context===t[_]){u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),su(u.return,n,e),l||(y=null);break e}u=C.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,u=y.alternate,u!==null&&(u.lanes|=n),su(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function hl(e,t,n,l){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var C=c.type;ga(c.pendingProps.value,y.value)||(e!==null?e.push(C):e=[C])}}else if(c===ae.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ur):e=[Ur])}c=c.return}e!==null&&lu(t,e,n,l),t.flags|=262144}function Ti(e){for(e=e.firstContext;e!==null;){if(!ga(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){As=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Gm(As,e)}function Mi(e,t){return As===null&&Es(e),Gm(e,t)}function Gm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xn===null){if(e===null)throw Error(o(308));xn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xn=xn.next=t;return n}var Ij=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Uj=s.unstable_scheduleCallback,qj=s.unstable_NormalPriority,Pt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new Ij,data:new Map,refCount:0}}function mr(e){e.refCount--,e.refCount===0&&Uj(qj,function(){e.controller.abort()})}var hr=null,iu=0,pl=0,xl=null;function Hj(e,t){if(hr===null){var n=hr=[];iu=0,pl=ud(),xl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return iu++,t.then(Ym,Ym),t}function Ym(){if(--iu===0&&hr!==null){xl!==null&&(xl.status="fulfilled");var e=hr;hr=null,pl=0,xl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bj(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var $m=L.S;L.S=function(e,t){Dp=Ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hj(e,t),$m!==null&&$m(e,t)};var Ts=O(null);function ou(){var e=Ts.current;return e!==null?e:vt.pooledCache}function Di(e,t){t===null?de(Ts,Ts.current):de(Ts,t.pool)}function Qm(){var e=ou();return e===null?null:{parent:Pt._currentValue,pool:e}}var gl=Error(o(460)),cu=Error(o(474)),Oi=Error(o(542)),Ri={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Km(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fn,fn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wm(e),e;default:if(typeof t.status=="string")t.then(fn,fn);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wm(e),e}throw Ds=t,gl}}function Ms(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ds=n,gl):n}}var Ds=null;function Zm(){if(Ds===null)throw Error(o(459));var e=Ds;return Ds=null,e}function Wm(e){if(e===gl||e===Oi)throw Error(o(483))}var yl=null,pr=0;function _i(e){var t=pr;return pr+=1,yl===null&&(yl=[]),Km(yl,e,t)}function xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pi(e,t){throw t.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jm(e){function t(G,I){if(e){var K=G.deletions;K===null?(G.deletions=[I],G.flags|=16):K.push(I)}}function n(G,I){if(!e)return null;for(;I!==null;)t(G,I),I=I.sibling;return null}function l(G){for(var I=new Map;G!==null;)G.key!==null?I.set(G.key,G):I.set(G.index,G),G=G.sibling;return I}function c(G,I){return G=hn(G,I),G.index=0,G.sibling=null,G}function u(G,I,K){return G.index=K,e?(K=G.alternate,K!==null?(K=K.index,K<I?(G.flags|=67108866,I):K):(G.flags|=67108866,I)):(G.flags|=1048576,I)}function y(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function C(G,I,K,re){return I===null||I.tag!==6?(I=Zc(K,G.mode,re),I.return=G,I):(I=c(I,K),I.return=G,I)}function _(G,I,K,re){var Pe=K.type;return Pe===w?te(G,I,K.props.children,re,K.key):I!==null&&(I.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===H&&Ms(Pe)===I.type)?(I=c(I,K.props),xr(I,K),I.return=G,I):(I=Ai(K.type,K.key,K.props,null,G.mode,re),xr(I,K),I.return=G,I)}function Z(G,I,K,re){return I===null||I.tag!==4||I.stateNode.containerInfo!==K.containerInfo||I.stateNode.implementation!==K.implementation?(I=Wc(K,G.mode,re),I.return=G,I):(I=c(I,K.children||[]),I.return=G,I)}function te(G,I,K,re,Pe){return I===null||I.tag!==7?(I=ws(K,G.mode,re,Pe),I.return=G,I):(I=c(I,K),I.return=G,I)}function ce(G,I,K){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Zc(""+I,G.mode,K),I.return=G,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return K=Ai(I.type,I.key,I.props,null,G.mode,K),xr(K,I),K.return=G,K;case E:return I=Wc(I,G.mode,K),I.return=G,I;case H:return I=Ms(I),ce(G,I,K)}if(xe(I)||U(I))return I=ws(I,G.mode,K,null),I.return=G,I;if(typeof I.then=="function")return ce(G,_i(I),K);if(I.$$typeof===M)return ce(G,Mi(G,I),K);Pi(G,I)}return null}function W(G,I,K,re){var Pe=I!==null?I.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pe!==null?null:C(G,I,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===Pe?_(G,I,K,re):null;case E:return K.key===Pe?Z(G,I,K,re):null;case H:return K=Ms(K),W(G,I,K,re)}if(xe(K)||U(K))return Pe!==null?null:te(G,I,K,re,null);if(typeof K.then=="function")return W(G,I,_i(K),re);if(K.$$typeof===M)return W(G,I,Mi(G,K),re);Pi(G,K)}return null}function J(G,I,K,re,Pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(K)||null,C(I,G,""+re,Pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return G=G.get(re.key===null?K:re.key)||null,_(I,G,re,Pe);case E:return G=G.get(re.key===null?K:re.key)||null,Z(I,G,re,Pe);case H:return re=Ms(re),J(G,I,K,re,Pe)}if(xe(re)||U(re))return G=G.get(K)||null,te(I,G,re,Pe,null);if(typeof re.then=="function")return J(G,I,K,_i(re),Pe);if(re.$$typeof===M)return J(G,I,K,Mi(I,re),Pe);Pi(I,re)}return null}function Ae(G,I,K,re){for(var Pe=null,lt=null,Oe=I,Ve=I=0,Je=null;Oe!==null&&Ve<K.length;Ve++){Oe.index>Ve?(Je=Oe,Oe=null):Je=Oe.sibling;var rt=W(G,Oe,K[Ve],re);if(rt===null){Oe===null&&(Oe=Je);break}e&&Oe&&rt.alternate===null&&t(G,Oe),I=u(rt,I,Ve),lt===null?Pe=rt:lt.sibling=rt,lt=rt,Oe=Je}if(Ve===K.length)return n(G,Oe),et&&pn(G,Ve),Pe;if(Oe===null){for(;Ve<K.length;Ve++)Oe=ce(G,K[Ve],re),Oe!==null&&(I=u(Oe,I,Ve),lt===null?Pe=Oe:lt.sibling=Oe,lt=Oe);return et&&pn(G,Ve),Pe}for(Oe=l(Oe);Ve<K.length;Ve++)Je=J(Oe,G,Ve,K[Ve],re),Je!==null&&(e&&Je.alternate!==null&&Oe.delete(Je.key===null?Ve:Je.key),I=u(Je,I,Ve),lt===null?Pe=Je:lt.sibling=Je,lt=Je);return e&&Oe.forEach(function(os){return t(G,os)}),et&&pn(G,Ve),Pe}function Le(G,I,K,re){if(K==null)throw Error(o(151));for(var Pe=null,lt=null,Oe=I,Ve=I=0,Je=null,rt=K.next();Oe!==null&&!rt.done;Ve++,rt=K.next()){Oe.index>Ve?(Je=Oe,Oe=null):Je=Oe.sibling;var os=W(G,Oe,rt.value,re);if(os===null){Oe===null&&(Oe=Je);break}e&&Oe&&os.alternate===null&&t(G,Oe),I=u(os,I,Ve),lt===null?Pe=os:lt.sibling=os,lt=os,Oe=Je}if(rt.done)return n(G,Oe),et&&pn(G,Ve),Pe;if(Oe===null){for(;!rt.done;Ve++,rt=K.next())rt=ce(G,rt.value,re),rt!==null&&(I=u(rt,I,Ve),lt===null?Pe=rt:lt.sibling=rt,lt=rt);return et&&pn(G,Ve),Pe}for(Oe=l(Oe);!rt.done;Ve++,rt=K.next())rt=J(Oe,G,Ve,rt.value,re),rt!==null&&(e&&rt.alternate!==null&&Oe.delete(rt.key===null?Ve:rt.key),I=u(rt,I,Ve),lt===null?Pe=rt:lt.sibling=rt,lt=rt);return e&&Oe.forEach(function(Jb){return t(G,Jb)}),et&&pn(G,Ve),Pe}function gt(G,I,K,re){if(typeof K=="object"&&K!==null&&K.type===w&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var Pe=K.key;I!==null;){if(I.key===Pe){if(Pe=K.type,Pe===w){if(I.tag===7){n(G,I.sibling),re=c(I,K.props.children),re.return=G,G=re;break e}}else if(I.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===H&&Ms(Pe)===I.type){n(G,I.sibling),re=c(I,K.props),xr(re,K),re.return=G,G=re;break e}n(G,I);break}else t(G,I);I=I.sibling}K.type===w?(re=ws(K.props.children,G.mode,re,K.key),re.return=G,G=re):(re=Ai(K.type,K.key,K.props,null,G.mode,re),xr(re,K),re.return=G,G=re)}return y(G);case E:e:{for(Pe=K.key;I!==null;){if(I.key===Pe)if(I.tag===4&&I.stateNode.containerInfo===K.containerInfo&&I.stateNode.implementation===K.implementation){n(G,I.sibling),re=c(I,K.children||[]),re.return=G,G=re;break e}else{n(G,I);break}else t(G,I);I=I.sibling}re=Wc(K,G.mode,re),re.return=G,G=re}return y(G);case H:return K=Ms(K),gt(G,I,K,re)}if(xe(K))return Ae(G,I,K,re);if(U(K)){if(Pe=U(K),typeof Pe!="function")throw Error(o(150));return K=Pe.call(K),Le(G,I,K,re)}if(typeof K.then=="function")return gt(G,I,_i(K),re);if(K.$$typeof===M)return gt(G,I,Mi(G,K),re);Pi(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,I!==null&&I.tag===6?(n(G,I.sibling),re=c(I,K),re.return=G,G=re):(n(G,I),re=Zc(K,G.mode,re),re.return=G,G=re),y(G)):n(G,I)}return function(G,I,K,re){try{pr=0;var Pe=gt(G,I,K,re);return yl=null,Pe}catch(Oe){if(Oe===gl||Oe===Oi)throw Oe;var lt=ya(29,Oe,null,G.mode);return lt.lanes=re,lt.return=G,lt}finally{}}}var Os=Jm(!0),eh=Jm(!1),Gn=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Ci(e),zm(e,null,n),t}return wi(e,l,t,n),Ci(e)}function gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Gf(e,n)}}function fu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var mu=!1;function yr(){if(mu){var e=xl;if(e!==null)throw e}}function vr(e,t,n,l){mu=!1;var c=e.updateQueue;Gn=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var _=C,Z=_.next;_.next=null,y===null?u=Z:y.next=Z,y=_;var te=e.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==y&&(C===null?te.firstBaseUpdate=Z:C.next=Z,te.lastBaseUpdate=_))}if(u!==null){var ce=c.baseState;y=0,te=Z=_=null,C=u;do{var W=C.lane&-536870913,J=W!==C.lane;if(J?(We&W)===W:(l&W)===W){W!==0&&W===pl&&(mu=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ae=e,Le=C;W=t;var gt=n;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){ce=Ae.call(gt,ce,W);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,W=typeof Ae=="function"?Ae.call(gt,ce,W):Ae,W==null)break e;ce=v({},ce,W);break e;case 2:Gn=!0}}W=C.callback,W!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[W]:J.push(W))}else J={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(Z=te=J,_=ce):te=te.next=J,y|=W;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;J=C,C=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);te===null&&(_=ce),c.baseState=_,c.firstBaseUpdate=Z,c.lastBaseUpdate=te,u===null&&(c.shared.lanes=0),Wn|=y,e.lanes=y,e.memoizedState=ce}}function th(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ah(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)th(n[e],t)}var vl=O(null),ki=O(0);function nh(e,t){e=An,de(ki,e),de(vl,t),An=e|t.baseLanes}function hu(){de(ki,An),de(vl,vl.current)}function pu(){An=ki.current,ee(vl),ee(ki)}var va=O(null),ka=null;function Qn(e){var t=e.alternate;de(Rt,Rt.current&1),de(va,e),ka===null&&(t===null||vl.current!==null||t.memoizedState!==null)&&(ka=e)}function xu(e){de(Rt,Rt.current),de(va,e),ka===null&&(ka=e)}function sh(e){e.tag===22?(de(Rt,Rt.current),de(va,e),ka===null&&(ka=e)):Xn()}function Xn(){de(Rt,Rt.current),de(va,va.current)}function ja(e){ee(va),ka===e&&(ka=null),ee(Rt)}var Rt=O(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Nd(n)||Sd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,Fe=null,pt=null,kt=null,zi=!1,jl=!1,Rs=!1,Ii=0,jr=0,bl=null,Fj=0;function Mt(){throw Error(o(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ga(e[n],t[n]))return!1;return!0}function yu(e,t,n,l,c,u){return yn=u,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Hh:_u,Rs=!1,u=n(l,c),Rs=!1,jl&&(u=rh(t,n,l,c)),lh(e),u}function lh(e){L.H=Sr;var t=pt!==null&&pt.next!==null;if(yn=0,kt=pt=Fe=null,zi=!1,jr=0,bl=null,t)throw Error(o(300));e===null||Lt||(e=e.dependencies,e!==null&&Ti(e)&&(Lt=!0))}function rh(e,t,n,l){Fe=e;var c=0;do{if(jl&&(bl=null),jr=0,jl=!1,25<=c)throw Error(o(301));if(c+=1,kt=pt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}L.H=Bh,u=t(n,l)}while(jl);return u}function Vj(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(Fe.flags|=1024),t}function vu(){var e=Ii!==0;return Ii=0,e}function ju(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function bu(e){if(zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zi=!1}yn=0,kt=pt=Fe=null,jl=!1,jr=Ii=0,bl=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Fe.memoizedState=kt=e:kt=kt.next=e,kt}function _t(){if(pt===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=kt===null?Fe.memoizedState:kt.next;if(t!==null)kt=t,pt=e;else{if(e===null)throw Fe.alternate===null?Error(o(467)):Error(o(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},kt===null?Fe.memoizedState=kt=e:kt=kt.next=e}return kt}function Ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=jr;return jr+=1,bl===null&&(bl=[]),e=Km(bl,e,t),t=Fe,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Hh:_u),e}function qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===M)return Yt(e)}throw Error(o(438,String(e)))}function Nu(e){var t=null,n=Fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ui(),Fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=B;return t.index++,n}function vn(e,t){return typeof t=="function"?t(e):t}function Hi(e){var t=_t();return Su(t,pt,e)}function Su(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,u=l.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}t.baseQueue=c=u,l.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var C=y=null,_=null,Z=t,te=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(We&ce)===ce:(yn&ce)===ce){var W=Z.revertLane;if(W===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===pl&&(te=!0);else if((yn&W)===W){Z=Z.next,W===pl&&(te=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(C=_=ce,y=u):_=_.next=ce,Fe.lanes|=W,Wn|=W;ce=Z.action,Rs&&n(u,ce),u=Z.hasEagerState?Z.eagerState:n(u,ce)}else W={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(C=_=W,y=u):_=_.next=W,Fe.lanes|=ce,Wn|=ce;Z=Z.next}while(Z!==null&&Z!==t);if(_===null?y=u:_.next=C,!ga(u,e.memoizedState)&&(Lt=!0,te&&(n=xl,n!==null)))throw n;e.memoizedState=u,e.baseState=y,e.baseQueue=_,l.lastRenderedState=u}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wu(e){var t=_t(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);ga(u,t.memoizedState)||(Lt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function ih(e,t,n){var l=Fe,c=_t(),u=et;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!ga((pt||c).memoizedState,n);if(y&&(c.memoizedState=n,Lt=!0),c=c.queue,Eu(uh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Nl(9,{destroy:void 0},ch.bind(null,l,c,n,t),null),vt===null)throw Error(o(349));u||(yn&127)!==0||oh(l,t,n)}return n}function oh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t=Ui(),Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ch(e,t,n,l){t.value=n,t.getSnapshot=l,dh(t)&&fh(e)}function uh(e,t,n){return n(function(){dh(t)&&fh(e)})}function dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ga(e,n)}catch{return!0}}function fh(e){var t=Ss(e,2);t!==null&&ha(t,e,2)}function Cu(e){var t=la();if(typeof e=="function"){var n=e;if(e=n(),Rs){Ze(!0);try{n()}finally{Ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function mh(e,t,n,l){return e.baseState=n,Su(e,pt,typeof l=="function"?l:vn)}function Gj(e,t,n,l,c){if(Vi(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};L.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,hh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function hh(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var u=L.T,y={};L.T=y;try{var C=n(c,l),_=L.S;_!==null&&_(y,C),ph(e,t,C)}catch(Z){Au(e,t,Z)}finally{u!==null&&y.types!==null&&(u.types=y.types),L.T=u}}else try{u=n(c,l),ph(e,t,u)}catch(Z){Au(e,t,Z)}}function ph(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){xh(e,t,l)},function(l){return Au(e,t,l)}):xh(e,t,n)}function xh(e,t,n){t.status="fulfilled",t.value=n,gh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hh(e,n)))}function Au(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,gh(t),t=t.next;while(t!==l)}e.action=null}function gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function vh(e,t){if(et){var n=vt.formState;if(n!==null){e:{var l=Fe;if(et){if(Nt){t:{for(var c=Nt,u=Pa;c.nodeType!==8;){if(!u){c=null;break t}if(c=La(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Nt=La(c.nextSibling),l=c.data==="F!";break e}}Fn(l)}l=!1}l&&(t=n[0])}}return n=la(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},n.queue=l,n=Ih.bind(null,Fe,l),l.dispatch=n,l=Cu(!1),u=Ru.bind(null,Fe,!1,l.queue),l=la(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=Gj.bind(null,Fe,c,u,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function jh(e){var t=_t();return bh(t,pt,e)}function bh(e,t,n){if(t=Su(e,t,yh)[0],e=Hi(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=br(t)}catch(y){throw y===gl?Oi:y}else l=t;t=_t();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(Fe.flags|=2048,Nl(9,{destroy:void 0},Yj.bind(null,c,n),null)),[l,u,e]}function Yj(e,t){e.action=t}function Nh(e){var t=_t(),n=pt;if(n!==null)return bh(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Nl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Fe.updateQueue,t===null&&(t=Ui(),Fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Sh(){return _t().memoizedState}function Bi(e,t,n,l){var c=la();Fe.flags|=e,c.memoizedState=Nl(1|t,{destroy:void 0},n,l===void 0?null:l)}function Fi(e,t,n,l){var c=_t();l=l===void 0?null:l;var u=c.memoizedState.inst;pt!==null&&l!==null&&gu(l,pt.memoizedState.deps)?c.memoizedState=Nl(t,u,n,l):(Fe.flags|=e,c.memoizedState=Nl(1|t,u,n,l))}function wh(e,t){Bi(8390656,8,e,t)}function Eu(e,t){Fi(2048,8,e,t)}function $j(e){Fe.flags|=4;var t=Fe.updateQueue;if(t===null)t=Ui(),Fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ch(e){var t=_t().memoizedState;return $j({ref:t,nextImpl:e}),function(){if((it&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ah(e,t){return Fi(4,2,e,t)}function Eh(e,t){return Fi(4,4,e,t)}function Th(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,n){n=n!=null?n.concat([e]):null,Fi(4,4,Th.bind(null,t,e),n)}function Tu(){}function Dh(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&gu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Oh(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&gu(t,l[1]))return l[0];if(l=e(),Rs){Ze(!0);try{e()}finally{Ze(!1)}}return n.memoizedState=[l,t],l}function Mu(e,t,n){return n===void 0||(yn&1073741824)!==0&&(We&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Rp(),Fe.lanes|=e,Wn|=e,n)}function Rh(e,t,n,l){return ga(n,t)?n:vl.current!==null?(e=Mu(e,n,l),ga(e,t)||(Lt=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(We&261930)===0?(Lt=!0,e.memoizedState=n):(e=Rp(),Fe.lanes|=e,Wn|=e,t)}function _h(e,t,n,l,c){var u=X.p;X.p=u!==0&&8>u?u:8;var y=L.T,C={};L.T=C,Ru(e,!1,t,n);try{var _=c(),Z=L.S;if(Z!==null&&Z(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var te=Bj(_,l);Nr(e,t,te,Sa(e))}else Nr(e,t,l,Sa(e))}catch(ce){Nr(e,t,{then:function(){},status:"rejected",reason:ce},Sa())}finally{X.p=u,y!==null&&C.types!==null&&(y.types=C.types),L.T=y}}function Qj(){}function Du(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=Ph(e).queue;_h(e,c,t,V,n===null?Qj:function(){return kh(e),n(l)})}function Ph(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:V},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kh(e){var t=Ph(e);t.next===null&&(t=e.alternate.memoizedState),Nr(e,t.next.queue,{},Sa())}function Ou(){return Yt(Ur)}function Lh(){return _t().memoizedState}function zh(){return _t().memoizedState}function Xj(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Sa();e=Yn(n);var l=$n(t,e,n);l!==null&&(ha(l,t,n),gr(l,t,n)),t={cache:ru()},e.payload=t;return}t=t.return}}function Kj(e,t,n){var l=Sa();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vi(e)?Uh(t,n):(n=Xc(e,t,n,l),n!==null&&(ha(n,e,l),qh(n,t,l)))}function Ih(e,t,n){var l=Sa();Nr(e,t,n,l)}function Nr(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Uh(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var y=t.lastRenderedState,C=u(y,n);if(c.hasEagerState=!0,c.eagerState=C,ga(C,y))return wi(e,t,c,0),vt===null&&Si(),!1}catch{}finally{}if(n=Xc(e,t,c,l),n!==null)return ha(n,e,l),qh(n,t,l),!0}return!1}function Ru(e,t,n,l){if(l={lane:2,revertLane:ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vi(e)){if(t)throw Error(o(479))}else t=Xc(e,n,l,2),t!==null&&ha(t,e,2)}function Vi(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Uh(e,t){jl=zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Gf(e,n)}}var Sr={readContext:Yt,use:qi,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Sr.useEffectEvent=Mt;var Hh={readContext:Yt,use:qi,useCallback:function(e,t){return la().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:wh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Bi(4194308,4,Th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=la();t=t===void 0?null:t;var l=e();if(Rs){Ze(!0);try{e()}finally{Ze(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=la();if(n!==void 0){var c=n(t);if(Rs){Ze(!0);try{n(t)}finally{Ze(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Kj.bind(null,Fe,e),[l.memoizedState,e]},useRef:function(e){var t=la();return e={current:e},t.memoizedState=e},useState:function(e){e=Cu(e);var t=e.queue,n=Ih.bind(null,Fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tu,useDeferredValue:function(e,t){var n=la();return Mu(n,e,t)},useTransition:function(){var e=Cu(!1);return e=_h.bind(null,Fe,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Fe,c=la();if(et){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),vt===null)throw Error(o(349));(We&127)!==0||oh(l,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,wh(uh.bind(null,l,u,e),[e]),l.flags|=2048,Nl(9,{destroy:void 0},ch.bind(null,l,u,n,t),null),n},useId:function(){var e=la(),t=vt.identifierPrefix;if(et){var n=Wa,l=Za;n=(l&~(1<<32-Kt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Fj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ou,useFormState:vh,useActionState:vh,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ru.bind(null,Fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Nu,useCacheRefresh:function(){return la().memoizedState=Xj.bind(null,Fe)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if((it&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},_u={readContext:Yt,use:qi,useCallback:Dh,useContext:Yt,useEffect:Eu,useImperativeHandle:Mh,useInsertionEffect:Ah,useLayoutEffect:Eh,useMemo:Oh,useReducer:Hi,useRef:Sh,useState:function(){return Hi(vn)},useDebugValue:Tu,useDeferredValue:function(e,t){var n=_t();return Rh(n,pt.memoizedState,e,t)},useTransition:function(){var e=Hi(vn)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:ih,useId:Lh,useHostTransitionStatus:Ou,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var n=_t();return mh(n,pt,e,t)},useMemoCache:Nu,useCacheRefresh:zh};_u.useEffectEvent=Ch;var Bh={readContext:Yt,use:qi,useCallback:Dh,useContext:Yt,useEffect:Eu,useImperativeHandle:Mh,useInsertionEffect:Ah,useLayoutEffect:Eh,useMemo:Oh,useReducer:wu,useRef:Sh,useState:function(){return wu(vn)},useDebugValue:Tu,useDeferredValue:function(e,t){var n=_t();return pt===null?Mu(n,e,t):Rh(n,pt.memoizedState,e,t)},useTransition:function(){var e=wu(vn)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:ih,useId:Lh,useHostTransitionStatus:Ou,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,t){var n=_t();return pt!==null?mh(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:zh};Bh.useEffectEvent=Ch;function Pu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ku={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Sa(),c=Yn(l);c.payload=t,n!=null&&(c.callback=n),t=$n(e,c,l),t!==null&&(ha(t,e,l),gr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Sa(),c=Yn(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=$n(e,c,l),t!==null&&(ha(t,e,l),gr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sa(),l=Yn(n);l.tag=2,t!=null&&(l.callback=t),t=$n(e,l,n),t!==null&&(ha(t,e,n),gr(t,e,n))}};function Fh(e,t,n,l,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,y):t.prototype&&t.prototype.isPureReactComponent?!cr(n,l)||!cr(c,u):!0}function Vh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Gh(e){Ni(e)}function Yh(e){console.error(e)}function $h(e){Ni(e)}function Gi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Qh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lu(e,t,n){return n=Yn(n),n.tag=3,n.payload={element:null},n.callback=function(){Gi(e,t)},n}function Xh(e){return e=Yn(e),e.tag=3,e}function Kh(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){Qh(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Qh(t,n,l),typeof c!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function Zj(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&hl(t,n,c,!0),n=va.current,n!==null){switch(n.tag){case 31:case 13:return ka===null?no():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Ri?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),id(e,l,c)),!1;case 22:return n.flags|=65536,l===Ri?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),id(e,l,c)),!1}throw Error(o(435,n.tag))}return id(e,l,c),no(),!1}if(et)return t=va.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==tu&&(e=Error(o(422),{cause:l}),fr(Oa(e,n)))):(l!==tu&&(t=Error(o(423),{cause:l}),fr(Oa(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Oa(l,n),c=Lu(e.stateNode,l,c),fu(e,c),Dt!==4&&(Dt=2)),!1;var u=Error(o(520),{cause:l});if(u=Oa(u,n),Or===null?Or=[u]:Or.push(u),Dt!==4&&(Dt=2),t===null)return!0;l=Oa(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Lu(n.stateNode,l,e),fu(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Xh(c),Kh(c,e,n,l),fu(n,c),!1}n=n.return}while(n!==null);return!1}var zu=Error(o(461)),Lt=!1;function $t(e,t,n,l){t.child=e===null?eh(t,null,n,l):Os(t,e.child,n,l)}function Zh(e,t,n,l,c){n=n.render;var u=t.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return Es(t),l=yu(e,t,n,y,u,c),C=vu(),e!==null&&!Lt?(ju(e,t,c),jn(e,t,c)):(et&&C&&Jc(t),t.flags|=1,$t(e,t,l,c),t.child)}function Wh(e,t,n,l,c){if(e===null){var u=n.type;return typeof u=="function"&&!Kc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Jh(e,t,u,l,c)):(e=Ai(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Gu(e,c)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:cr,n(y,l)&&e.ref===t.ref)return jn(e,t,c)}return t.flags|=1,e=hn(u,l),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,n,l,c){if(e!==null){var u=e.memoizedProps;if(cr(u,l)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=l=u,Gu(e,c))(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,jn(e,t,c)}return Iu(e,t,n,l,c)}function ep(e,t,n,l){var c=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,t.child=null;return tp(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Di(t,u!==null?u.cachePool:null),u!==null?nh(t,u):hu(),sh(t);else return l=t.lanes=536870912,tp(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(Di(t,u.cachePool),nh(t,u),Xn(),t.memoizedState=null):(e!==null&&Di(t,null),hu(),Xn());return $t(e,t,c,n),t.child}function wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tp(e,t,n,l,c){var u=ou();return u=u===null?null:{parent:Pt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Di(t,null),hu(),sh(t),e!==null&&hl(e,t,l,!0),t.childLanes=c,null}function Yi(e,t){return t=Qi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ap(e,t,n){return Os(t,e.child,null,n),e=Yi(t,t.pendingProps),e.flags|=2,ja(t),t.memoizedState=null,e}function Wj(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(et){if(l.mode==="hidden")return e=Yi(t,l),t.lanes=536870912,wr(null,e);if(xu(t),(e=Nt)?(e=hx(e,Pa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},n=Um(e),n.return=t,t.child=n,Gt=t,Nt=null)):e=null,e===null)throw Fn(t);return t.lanes=536870912,null}return Yi(t,l)}var u=e.memoizedState;if(u!==null){var y=u.dehydrated;if(xu(t),c)if(t.flags&256)t.flags&=-257,t=ap(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Lt||hl(e,t,n,!1),c=(n&e.childLanes)!==0,Lt||c){if(l=vt,l!==null&&(y=Yf(l,n),y!==0&&y!==u.retryLane))throw u.retryLane=y,Ss(e,y),ha(l,e,y),zu;no(),t=ap(e,t,n)}else e=u.treeContext,Nt=La(y.nextSibling),Gt=t,et=!0,Bn=null,Pa=!1,e!==null&&Bm(t,e),t=Yi(t,l),t.flags|=4096;return t}return e=hn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $i(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Iu(e,t,n,l,c){return Es(t),n=yu(e,t,n,l,void 0,c),l=vu(),e!==null&&!Lt?(ju(e,t,c),jn(e,t,c)):(et&&l&&Jc(t),t.flags|=1,$t(e,t,n,c),t.child)}function np(e,t,n,l,c,u){return Es(t),t.updateQueue=null,n=rh(t,l,n,c),lh(e),l=vu(),e!==null&&!Lt?(ju(e,t,u),jn(e,t,u)):(et&&l&&Jc(t),t.flags|=1,$t(e,t,n,u),t.child)}function sp(e,t,n,l,c){if(Es(t),t.stateNode===null){var u=ul,y=n.contextType;typeof y=="object"&&y!==null&&(u=Yt(y)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ku,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},uu(t),y=n.contextType,u.context=typeof y=="object"&&y!==null?Yt(y):ul,u.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Pu(t,n,y,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&ku.enqueueReplaceState(u,u.state,null),vr(t,l,u,c),yr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var C=t.memoizedProps,_=_s(n,C);u.props=_;var Z=u.context,te=n.contextType;y=ul,typeof te=="object"&&te!==null&&(y=Yt(te));var ce=n.getDerivedStateFromProps;te=typeof ce=="function"||typeof u.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,te||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C||Z!==y)&&Vh(t,u,l,y),Gn=!1;var W=t.memoizedState;u.state=W,vr(t,l,u,c),yr(),Z=t.memoizedState,C||W!==Z||Gn?(typeof ce=="function"&&(Pu(t,n,ce,l),Z=t.memoizedState),(_=Gn||Fh(t,n,_,l,W,Z,y))?(te||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Z),u.props=l,u.state=Z,u.context=y,l=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,du(e,t),y=t.memoizedProps,te=_s(n,y),u.props=te,ce=t.pendingProps,W=u.context,Z=n.contextType,_=ul,typeof Z=="object"&&Z!==null&&(_=Yt(Z)),C=n.getDerivedStateFromProps,(Z=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==ce||W!==_)&&Vh(t,u,l,_),Gn=!1,W=t.memoizedState,u.state=W,vr(t,l,u,c),yr();var J=t.memoizedState;y!==ce||W!==J||Gn||e!==null&&e.dependencies!==null&&Ti(e.dependencies)?(typeof C=="function"&&(Pu(t,n,C,l),J=t.memoizedState),(te=Gn||Fh(t,n,te,l,W,J,_)||e!==null&&e.dependencies!==null&&Ti(e.dependencies))?(Z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,J,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,J,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=J),u.props=l,u.state=J,u.context=_,l=te):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,$i(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Os(t,e.child,null,c),t.child=Os(t,null,n,c)):$t(e,t,n,c),t.memoizedState=u.state,e=t.child):e=jn(e,t,c),e}function lp(e,t,n,l){return Cs(),t.flags|=256,$t(e,t,n,l),t.child}var Uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qu(e){return{baseLanes:e,cachePool:Qm()}}function Hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Na),e}function rp(e,t,n){var l=t.pendingProps,c=!1,u=(t.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(et){if(c?Qn(t):Xn(),(e=Nt)?(e=hx(e,Pa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},n=Um(e),n.return=t,t.child=n,Gt=t,Nt=null)):e=null,e===null)throw Fn(t);return Sd(e)?t.lanes=32:t.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(Xn(),c=t.mode,C=Qi({mode:"hidden",children:C},c),l=ws(l,c,n,null),C.return=t,l.return=t,C.sibling=l,t.child=C,l=t.child,l.memoizedState=qu(n),l.childLanes=Hu(e,y,n),t.memoizedState=Uu,wr(null,l)):(Qn(t),Bu(t,C))}var _=e.memoizedState;if(_!==null&&(C=_.dehydrated,C!==null)){if(u)t.flags&256?(Qn(t),t.flags&=-257,t=Fu(e,t,n)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),C=l.fallback,c=t.mode,l=Qi({mode:"visible",children:l.children},c),C=ws(C,c,n,null),C.flags|=2,l.return=t,C.return=t,l.sibling=C,t.child=l,Os(t,e.child,null,n),l=t.child,l.memoizedState=qu(n),l.childLanes=Hu(e,y,n),t.memoizedState=Uu,t=wr(null,l));else if(Qn(t),Sd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var Z=y.dgst;y=Z,l=Error(o(419)),l.stack="",l.digest=y,fr({value:l,source:null,stack:null}),t=Fu(e,t,n)}else if(Lt||hl(e,t,n,!1),y=(n&e.childLanes)!==0,Lt||y){if(y=vt,y!==null&&(l=Yf(y,n),l!==0&&l!==_.retryLane))throw _.retryLane=l,Ss(e,l),ha(y,e,l),zu;Nd(C)||no(),t=Fu(e,t,n)}else Nd(C)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Nt=La(C.nextSibling),Gt=t,et=!0,Bn=null,Pa=!1,e!==null&&Bm(t,e),t=Bu(t,l.children),t.flags|=4096);return t}return c?(Xn(),C=l.fallback,c=t.mode,_=e.child,Z=_.sibling,l=hn(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,Z!==null?C=hn(Z,C):(C=ws(C,c,n,null),C.flags|=2),C.return=t,l.return=t,l.sibling=C,t.child=l,wr(null,l),l=t.child,C=e.child.memoizedState,C===null?C=qu(n):(c=C.cachePool,c!==null?(_=Pt._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=Qm(),C={baseLanes:C.baseLanes|n,cachePool:c}),l.memoizedState=C,l.childLanes=Hu(e,y,n),t.memoizedState=Uu,wr(e.child,l)):(Qn(t),n=e.child,e=n.sibling,n=hn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Bu(e,t){return t=Qi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qi(e,t){return e=ya(22,e,null,t),e.lanes=0,e}function Fu(e,t,n){return Os(t,e.child,null,n),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ip(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),su(e.return,t,n)}function Vu(e,t,n,l,c,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:u}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=u)}function op(e,t,n){var l=t.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var y=Rt.current,C=(y&2)!==0;if(C?(y=y&1|2,t.flags|=128):y&=1,de(Rt,y),$t(e,t,l,n),l=et?dr:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,n,t);else if(e.tag===19)ip(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Li(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Vu(t,!1,c,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Li(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Vu(t,!0,n,null,u,l);break;case"together":Vu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(hl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ti(e)))}function Jj(e,t,n){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Vn(t,Pt,e.memoizedState.cache),Cs();break;case 27:case 5:ge(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?rp(e,t,n):(Qn(t),e=jn(e,t,n),e!==null?e.sibling:null);Qn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(hl(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return op(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),de(Rt,Rt.current),l)break;return null;case 22:return t.lanes=0,ep(e,t,n,t.pendingProps);case 24:Vn(t,Pt,e.memoizedState.cache)}return jn(e,t,n)}function cp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Gu(e,n)&&(t.flags&128)===0)return Lt=!1,Jj(e,t,n);Lt=(e.flags&131072)!==0}else Lt=!1,et&&(t.flags&1048576)!==0&&Hm(t,dr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ms(t.elementType),t.type=e,typeof e=="function")Kc(e)?(l=_s(e,l),t.tag=1,t=sp(null,t,e,l,n)):(t.tag=0,t=Iu(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===D){t.tag=11,t=Zh(null,t,e,l,n);break e}else if(c===z){t.tag=14,t=Wh(null,t,e,l,n);break e}}throw t=$(e)||e,Error(o(306,t,""))}}return t;case 0:return Iu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=_s(l,t.pendingProps),sp(e,t,l,c,n);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;c=u.element,du(e,t),vr(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Vn(t,Pt,l),l!==u.cache&&lu(t,[Pt],n,!0),yr(),l=y.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=lp(e,t,l,n);break e}else if(l!==c){c=Oa(Error(o(424)),t),fr(c),t=lp(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Nt=La(e.firstChild),Gt=t,et=!0,Bn=null,Pa=!0,n=eh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Cs(),l===c){t=jn(e,t,n);break e}$t(e,t,l,n)}t=t.child}return t;case 26:return $i(e,t),e===null?(n=jx(t.type,null,t.pendingProps,null))?t.memoizedState=n:et||(n=t.type,e=t.pendingProps,l=uo(me.current).createElement(n),l[Vt]=t,l[oa]=e,Qt(l,n,e),qt(l),t.stateNode=l):t.memoizedState=jx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&et&&(l=t.stateNode=gx(t.type,t.pendingProps,me.current),Gt=t,Pa=!0,c=Nt,ns(t.type)?(wd=c,Nt=La(l.firstChild)):Nt=c),$t(e,t,t.pendingProps.children,n),$i(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&et&&((c=l=Nt)&&(l=Mb(l,t.type,t.pendingProps,Pa),l!==null?(t.stateNode=l,Gt=t,Nt=La(l.firstChild),Pa=!1,c=!0):c=!1),c||Fn(t)),ge(t),c=t.type,u=t.pendingProps,y=e!==null?e.memoizedProps:null,l=u.children,vd(c,u)?l=null:y!==null&&vd(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=yu(e,t,Vj,null,null,n),Ur._currentValue=c),$i(e,t),$t(e,t,l,n),t.child;case 6:return e===null&&et&&((e=n=Nt)&&(n=Db(n,t.pendingProps,Pa),n!==null?(t.stateNode=n,Gt=t,Nt=null,e=!0):e=!1),e||Fn(t)),null;case 13:return rp(e,t,n);case 4:return _e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Os(t,null,l,n):$t(e,t,l,n),t.child;case 11:return Zh(e,t,t.type,t.pendingProps,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Vn(t,t.type,l.value),$t(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Es(t),c=Yt(c),l=l(c),t.flags|=1,$t(e,t,l,n),t.child;case 14:return Wh(e,t,t.type,t.pendingProps,n);case 15:return Jh(e,t,t.type,t.pendingProps,n);case 19:return op(e,t,n);case 31:return Wj(e,t,n);case 22:return ep(e,t,n,t.pendingProps);case 24:return Es(t),l=Yt(Pt),e===null?(c=ou(),c===null&&(c=vt,u=ru(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:l,cache:c},uu(t),Vn(t,Pt,c)):((e.lanes&n)!==0&&(du(e,t),vr(t,null,null,n),yr()),c=e.memoizedState,u=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Vn(t,Pt,l)):(l=u.cache,Vn(t,Pt,l),l!==c.cache&&lu(t,[Pt],n,!0))),$t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function bn(e){e.flags|=4}function Yu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Lp())e.flags|=8192;else throw Ds=Ri,cu}else e.flags&=-16777217}function up(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cx(t))if(Lp())e.flags|=8192;else throw Ds=Ri,cu}function Xi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ff():536870912,e.lanes|=t,Al|=t)}function Cr(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function eb(e,t,n){var l=t.pendingProps;switch(eu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),gn(Pt),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ml(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,au())),St(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(bn(t),u!==null?(St(t),up(t,u)):(St(t),Yu(t,c,null,l,n))):u?u!==e.memoizedState?(bn(t),St(t),up(t,u)):(St(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&bn(t),St(t),Yu(t,c,e,l,n)),null;case 27:if(Se(t),n=me.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return St(t),null}e=he.current,ml(t)?Fm(t):(e=gx(c,l,n),t.stateNode=e,bn(t))}return St(t),null;case 5:if(Se(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return St(t),null}if(u=he.current,ml(t))Fm(t);else{var y=uo(me.current);switch(u){case 1:u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}u[Vt]=t,u[oa]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=u;e:switch(Qt(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bn(t)}}return St(t),Yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,ml(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Vt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||rx(e.nodeValue,n)),e||Fn(t,!0)}else e=uo(e).createTextNode(l),e[Vt]=t,t.stateNode=e}return St(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ml(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Vt]=t}else Cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),e=!1}else n=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ja(t),t):(ja(t),null);if((t.flags&128)!==0)throw Error(o(558))}return St(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ml(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Vt]=t}else Cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),c=!1}else c=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ja(t),t):(ja(t),null)}return ja(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xi(t,t.updateQueue),St(t),null);case 4:return Y(),e===null&&hd(t.stateNode.containerInfo),St(t),null;case 10:return gn(t.type),St(t),null;case 19:if(ee(Rt),l=t.memoizedState,l===null)return St(t),null;if(c=(t.flags&128)!==0,u=l.rendering,u===null)if(c)Cr(l,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Li(e),u!==null){for(t.flags|=128,Cr(l,!1),e=u.updateQueue,t.updateQueue=e,Xi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Im(n,e),n=n.sibling;return de(Rt,Rt.current&1|2),et&&pn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ft()>eo&&(t.flags|=128,c=!0,Cr(l,!1),t.lanes=4194304)}else{if(!c)if(e=Li(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Xi(t,e),Cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!et)return St(t),null}else 2*Ft()-l.renderingStartTime>eo&&n!==536870912&&(t.flags|=128,c=!0,Cr(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ft(),e.sibling=null,n=Rt.current,de(Rt,c?n&1|2:n&1),et&&pn(t,l.treeForkCount),e):(St(t),null);case 22:case 23:return ja(t),pu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),n=t.updateQueue,n!==null&&Xi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ee(Ts),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gn(Pt),St(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function tb(e,t){switch(eu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(Pt),Y(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(ja(t),t.alternate===null)throw Error(o(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ja(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Rt),null;case 4:return Y(),null;case 10:return gn(t.type),null;case 22:case 23:return ja(t),pu(),e!==null&&ee(Ts),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gn(Pt),null;case 25:return null;default:return null}}function dp(e,t){switch(eu(t),t.tag){case 3:gn(Pt),Y();break;case 26:case 27:case 5:Se(t);break;case 4:Y();break;case 31:t.memoizedState!==null&&ja(t);break;case 13:ja(t);break;case 19:ee(Rt);break;case 10:gn(t.type);break;case 22:case 23:ja(t),pu(),e!==null&&ee(Ts);break;case 24:gn(Pt)}}function Ar(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var u=n.create,y=n.inst;l=u(),y.destroy=l}n=n.next}while(n!==c)}}catch(C){mt(t,t.return,C)}}function Kn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&e)===e){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,c=t;var _=n,Z=C;try{Z()}catch(te){mt(c,_,te)}}}l=l.next}while(l!==u)}}catch(te){mt(t,t.return,te)}}function fp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ah(t,n)}catch(l){mt(e,e.return,l)}}}function mp(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){mt(e,t,l)}}function Er(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){mt(e,t,c)}}function Ja(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){mt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){mt(e,t,c)}else n.current=null}function hp(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){mt(e,e.return,c)}}function $u(e,t,n){try{var l=e.stateNode;Sb(l,e.type,n,t),l[oa]=t}catch(c){mt(e,e.return,c)}}function pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ns(e.type)||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fn));else if(l!==4&&(l===27&&ns(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xu(e,t,n),e=e.sibling;e!==null;)Xu(e,t,n),e=e.sibling}function Ki(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&ns(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}function xp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Qt(t,l,n),t[Vt]=e,t[oa]=n}catch(u){mt(e,e.return,u)}}var Nn=!1,zt=!1,Ku=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function ab(e,t){if(e=e.containerInfo,gd=yo,e=Mm(e),Fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,C=-1,_=-1,Z=0,te=0,ce=e,W=null;t:for(;;){for(var J;ce!==n||c!==0&&ce.nodeType!==3||(C=y+c),ce!==u||l!==0&&ce.nodeType!==3||(_=y+l),ce.nodeType===3&&(y+=ce.nodeValue.length),(J=ce.firstChild)!==null;)W=ce,ce=J;for(;;){if(ce===e)break t;if(W===n&&++Z===c&&(C=y),W===u&&++te===l&&(_=y),(J=ce.nextSibling)!==null)break;ce=W,W=ce.parentNode}ce=J}n=C===-1||_===-1?null:{start:C,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},yo=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Ae=_s(n.type,c);e=l.getSnapshotBeforeUpdate(Ae,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Le){mt(n,n.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)bd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function yp(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:wn(e,n),l&4&&Ar(5,n);break;case 1:if(wn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){mt(n,n.return,y)}else{var c=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){mt(n,n.return,y)}}l&64&&fp(n),l&512&&Er(n,n.return);break;case 3:if(wn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ah(e,t)}catch(y){mt(n,n.return,y)}}break;case 27:t===null&&l&4&&xp(n);case 26:case 5:wn(e,n),t===null&&l&4&&hp(n),l&512&&Er(n,n.return);break;case 12:wn(e,n);break;case 31:wn(e,n),l&4&&bp(e,n);break;case 13:wn(e,n),l&4&&Np(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=db.bind(null,n),Ob(e,n))));break;case 22:if(l=n.memoizedState!==null||Nn,!l){t=t!==null&&t.memoizedState!==null||zt,c=Nn;var u=zt;Nn=l,(zt=t)&&!u?Cn(e,n,(n.subtreeFlags&8772)!==0):wn(e,n),Nn=c,zt=u}break;case 30:break;default:wn(e,n)}}function vp(e){var t=e.alternate;t!==null&&(e.alternate=null,vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ac(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,ua=!1;function Sn(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ie,n)}catch{}switch(n.tag){case 26:zt||Ja(n,t),Sn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Ja(n,t);var l=Ct,c=ua;ns(n.type)&&(Ct=n.stateNode,ua=!1),Sn(e,t,n),Lr(n.stateNode),Ct=l,ua=c;break;case 5:zt||Ja(n,t);case 6:if(l=Ct,c=ua,Ct=null,Sn(e,t,n),Ct=l,ua=c,Ct!==null)if(ua)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(n.stateNode)}catch(u){mt(n,t,u)}else try{Ct.removeChild(n.stateNode)}catch(u){mt(n,t,u)}break;case 18:Ct!==null&&(ua?(e=Ct,fx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pl(e)):fx(Ct,n.stateNode));break;case 4:l=Ct,c=ua,Ct=n.stateNode.containerInfo,ua=!0,Sn(e,t,n),Ct=l,ua=c;break;case 0:case 11:case 14:case 15:Kn(2,n,t),zt||Kn(4,n,t),Sn(e,t,n);break;case 1:zt||(Ja(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&mp(n,t,l)),Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,Sn(e,t,n),zt=l;break;default:Sn(e,t,n)}}function bp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pl(e)}catch(n){mt(t,t.return,n)}}}function Np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(n){mt(t,t.return,n)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gp),t;default:throw Error(o(435,e.tag))}}function Zi(e,t){var n=nb(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=fb.bind(null,e,l);l.then(c,c)}})}function da(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],u=e,y=t,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(ns(C.type)){Ct=C.stateNode,ua=!1;break e}break;case 5:Ct=C.stateNode,ua=!1;break e;case 3:case 4:Ct=C.stateNode.containerInfo,ua=!0;break e}C=C.return}if(Ct===null)throw Error(o(160));jp(u,y,c),Ct=null,ua=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sp(t,e),t=t.sibling}var Fa=null;function Sp(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:da(t,e),fa(e),l&4&&(Kn(3,e,e.return),Ar(3,e),Kn(5,e,e.return));break;case 1:da(t,e),fa(e),l&512&&(zt||n===null||Ja(n,n.return)),l&64&&Nn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Fa;if(da(t,e),fa(e),l&512&&(zt||n===null||Ja(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[er]||u[Vt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),Qt(u,l,n),u[Vt]=e,qt(u),l=u;break e;case"link":var y=Sx("link","href",c).get(l+(n.href||""));if(y){for(var C=0;C<y.length;C++)if(u=y[C],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(C,1);break t}}u=c.createElement(l),Qt(u,l,n),c.head.appendChild(u);break;case"meta":if(y=Sx("meta","content",c).get(l+(n.content||""))){for(C=0;C<y.length;C++)if(u=y[C],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(C,1);break t}}u=c.createElement(l),Qt(u,l,n),c.head.appendChild(u);break;default:throw Error(o(468,l))}u[Vt]=e,qt(u),l=u}e.stateNode=l}else wx(c,e.type,e.stateNode);else e.stateNode=Nx(c,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?wx(c,e.type,e.stateNode):Nx(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$u(e,e.memoizedProps,n.memoizedProps)}break;case 27:da(t,e),fa(e),l&512&&(zt||n===null||Ja(n,n.return)),n!==null&&l&4&&$u(e,e.memoizedProps,n.memoizedProps);break;case 5:if(da(t,e),fa(e),l&512&&(zt||n===null||Ja(n,n.return)),e.flags&32){c=e.stateNode;try{nl(c,"")}catch(Ae){mt(e,e.return,Ae)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,$u(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Ku=!0);break;case 6:if(da(t,e),fa(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Ae){mt(e,e.return,Ae)}}break;case 3:if(ho=null,c=Fa,Fa=fo(t.containerInfo),da(t,e),Fa=c,fa(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(Ae){mt(e,e.return,Ae)}Ku&&(Ku=!1,wp(e));break;case 4:l=Fa,Fa=fo(e.stateNode.containerInfo),da(t,e),fa(e),Fa=l;break;case 12:da(t,e),fa(e);break;case 31:da(t,e),fa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zi(e,l)));break;case 13:da(t,e),fa(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ji=Ft()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zi(e,l)));break;case 22:c=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,Z=Nn,te=zt;if(Nn=Z||c,zt=te||_,da(t,e),zt=te,Nn=Z,fa(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||_||Nn||zt||Ps(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=_.stateNode;var ce=_.memoizedProps.style,W=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ae){mt(_,_.return,Ae)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(Ae){mt(_,_.return,Ae)}}}else if(t.tag===18){if(n===null){_=t;try{var J=_.stateNode;c?mx(J,!0):mx(_.stateNode,!1)}catch(Ae){mt(_,_.return,Ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Zi(e,n))));break;case 19:da(t,e),fa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zi(e,l)));break;case 30:break;case 21:break;default:da(t,e),fa(e)}}function fa(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(pp(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=Qu(e);Ki(e,u,c);break;case 5:var y=n.stateNode;n.flags&32&&(nl(y,""),n.flags&=-33);var C=Qu(e);Ki(e,C,y);break;case 3:case 4:var _=n.stateNode.containerInfo,Z=Qu(e);Xu(e,Z,_);break;default:throw Error(o(161))}}catch(te){mt(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yp(e,t.alternate,t),t=t.sibling}function Ps(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Ps(t);break;case 1:Ja(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&mp(t,t.return,n),Ps(t);break;case 27:Lr(t.stateNode);case 26:case 5:Ja(t,t.return),Ps(t);break;case 22:t.memoizedState===null&&Ps(t);break;case 30:Ps(t);break;default:Ps(t)}e=e.sibling}}function Cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,u=t,y=u.flags;switch(u.tag){case 0:case 11:case 15:Cn(c,u,n),Ar(4,u);break;case 1:if(Cn(c,u,n),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){mt(l,l.return,Z)}if(l=u,c=l.updateQueue,c!==null){var C=l.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)th(_[c],C)}catch(Z){mt(l,l.return,Z)}}n&&y&64&&fp(u),Er(u,u.return);break;case 27:xp(u);case 26:case 5:Cn(c,u,n),n&&l===null&&y&4&&hp(u),Er(u,u.return);break;case 12:Cn(c,u,n);break;case 31:Cn(c,u,n),n&&y&4&&bp(c,u);break;case 13:Cn(c,u,n),n&&y&4&&Np(c,u);break;case 22:u.memoizedState===null&&Cn(c,u,n),Er(u,u.return);break;case 30:break;default:Cn(c,u,n)}t=t.sibling}}function Zu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&mr(n))}function Wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mr(e))}function Va(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cp(e,t,n,l),t=t.sibling}function Cp(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Va(e,t,n,l),c&2048&&Ar(9,t);break;case 1:Va(e,t,n,l);break;case 3:Va(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mr(e)));break;case 12:if(c&2048){Va(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,y=u.id,C=u.onPostCommit;typeof C=="function"&&C(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){mt(t,t.return,_)}}else Va(e,t,n,l);break;case 31:Va(e,t,n,l);break;case 13:Va(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,y=t.alternate,t.memoizedState!==null?u._visibility&2?Va(e,t,n,l):Tr(e,t):u._visibility&2?Va(e,t,n,l):(u._visibility|=2,Sl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Zu(y,t);break;case 24:Va(e,t,n,l),c&2048&&Wu(t.alternate,t);break;default:Va(e,t,n,l)}}function Sl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,y=t,C=n,_=l,Z=y.flags;switch(y.tag){case 0:case 11:case 15:Sl(u,y,C,_,c),Ar(8,y);break;case 23:break;case 22:var te=y.stateNode;y.memoizedState!==null?te._visibility&2?Sl(u,y,C,_,c):Tr(u,y):(te._visibility|=2,Sl(u,y,C,_,c)),c&&Z&2048&&Zu(y.alternate,y);break;case 24:Sl(u,y,C,_,c),c&&Z&2048&&Wu(y.alternate,y);break;default:Sl(u,y,C,_,c)}t=t.sibling}}function Tr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Tr(n,l),c&2048&&Zu(l.alternate,l);break;case 24:Tr(n,l),c&2048&&Wu(l.alternate,l);break;default:Tr(n,l)}t=t.sibling}}var Mr=8192;function wl(e,t,n){if(e.subtreeFlags&Mr)for(e=e.child;e!==null;)Ap(e,t,n),e=e.sibling}function Ap(e,t,n){switch(e.tag){case 26:wl(e,t,n),e.flags&Mr&&e.memoizedState!==null&&Fb(n,Fa,e.memoizedState,e.memoizedProps);break;case 5:wl(e,t,n);break;case 3:case 4:var l=Fa;Fa=fo(e.stateNode.containerInfo),wl(e,t,n),Fa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Mr,Mr=16777216,wl(e,t,n),Mr=l):wl(e,t,n));break;default:wl(e,t,n)}}function Ep(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Ht=l,Mp(l,e)}Ep(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tp(e),e=e.sibling}function Tp(e){switch(e.tag){case 0:case 11:case 15:Dr(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:Dr(e);break;case 12:Dr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wi(e)):Dr(e);break;default:Dr(e)}}function Wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Ht=l,Mp(l,e)}Ep(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),Wi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wi(t));break;default:Wi(t)}e=e.sibling}}function Mp(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:Kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mr(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Ht=l;else e:for(n=e;Ht!==null;){l=Ht;var c=l.sibling,u=l.return;if(vp(l),l===n){Ht=null;break e}if(c!==null){c.return=u,Ht=c;break e}Ht=u}}}var sb={getCacheForType:function(e){var t=Yt(Pt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Yt(Pt).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,it=0,vt=null,Xe=null,We=0,ft=0,ba=null,Zn=!1,Cl=!1,Ju=!1,An=0,Dt=0,Wn=0,ks=0,ed=0,Na=0,Al=0,Or=null,ma=null,td=!1,Ji=0,Dp=0,eo=1/0,to=null,Jn=null,It=0,es=null,El=null,En=0,ad=0,nd=null,Op=null,Rr=0,sd=null;function Sa(){return(it&2)!==0&&We!==0?We&-We:L.T!==null?ud():$f()}function Rp(){if(Na===0)if((We&536870912)===0||et){var e=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Na=e}else Na=536870912;return e=va.current,e!==null&&(e.flags|=32),Na}function ha(e,t,n){(e===vt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),ts(e,We,Na,!1)),Jl(e,n),((it&2)===0||e!==vt)&&(e===vt&&((it&2)===0&&(ks|=n),Dt===4&&ts(e,We,Na,!1)),en(e))}function _p(e,t,n){if((it&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Wl(e,t),c=l?ob(e,t):rd(e,t,!0),u=l;do{if(c===0){Cl&&!l&&ts(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!rb(n)){c=rd(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var C=e;c=Or;var _=C.current.memoizedState.isDehydrated;if(_&&(Tl(C,y).flags|=256),y=rd(C,y,!1),y!==2){if(Ju&&!_){C.errorRecoveryDisabledLanes|=u,ks|=u,c=4;break e}u=ma,ma=c,u!==null&&(ma===null?ma=u:ma.push.apply(ma,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){Tl(e,0),ts(e,t,0,!0);break}e:{switch(l=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ts(l,t,Na,!Zn);break e;case 2:ma=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Ji+300-Ft(),10<c)){if(ts(l,t,Na,!Zn),di(l,0,!0)!==0)break e;En=t,l.timeoutHandle=ux(Pp.bind(null,l,n,ma,to,td,t,Na,ks,Al,Zn,u,"Throttled",-0,0),c);break e}Pp(l,n,ma,to,td,t,Na,ks,Al,Zn,u,null,-0,0)}}break}while(!0);en(e)}function Pp(e,t,n,l,c,u,y,C,_,Z,te,ce,W,J){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Ap(t,u,ce);var Ae=(u&62914560)===u?Ji-Ft():(u&4194048)===u?Dp-Ft():0;if(Ae=Vb(ce,Ae),Ae!==null){En=u,e.cancelPendingCommit=Ae(Bp.bind(null,e,t,u,n,l,c,y,C,_,te,ce,null,W,J)),ts(e,u,y,!Z);return}}Bp(e,t,u,n,l,c,y,C,_)}function rb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!ga(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t,n,l){t&=~ed,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var u=31-Kt(c),y=1<<u;l[u]=-1,c&=~y}n!==0&&Vf(e,n,t)}function ao(){return(it&6)===0?(_r(0),!1):!0}function ld(){if(Xe!==null){if(ft===0)var e=Xe.return;else e=Xe,xn=As=null,bu(e),yl=null,pr=0,e=Xe;for(;e!==null;)dp(e.alternate,e),e=e.return;Xe=null}}function Tl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ab(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,ld(),vt=e,Xe=n=hn(e.current,null),We=t,ft=0,ba=null,Zn=!1,Cl=Wl(e,t),Ju=!1,Al=Na=ed=ks=Wn=Dt=0,ma=Or=null,td=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Kt(l),u=1<<c;t|=e[c],l&=~u}return An=t,Si(),n}function kp(e,t){Fe=null,L.H=Sr,t===gl||t===Oi?(t=Zm(),ft=3):t===cu?(t=Zm(),ft=4):ft=t===zu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ba=t,Xe===null&&(Dt=1,Gi(e,Oa(t,e.current)))}function Lp(){var e=va.current;return e===null?!0:(We&4194048)===We?ka===null:(We&62914560)===We||(We&536870912)!==0?e===ka:!1}function zp(){var e=L.H;return L.H=Sr,e===null?Sr:e}function Ip(){var e=L.A;return L.A=sb,e}function no(){Dt=4,Zn||(We&4194048)!==We&&va.current!==null||(Cl=!0),(Wn&134217727)===0&&(ks&134217727)===0||vt===null||ts(vt,We,Na,!1)}function rd(e,t,n){var l=it;it|=2;var c=zp(),u=Ip();(vt!==e||We!==t)&&(to=null,Tl(e,t)),t=!1;var y=Dt;e:do try{if(ft!==0&&Xe!==null){var C=Xe,_=ba;switch(ft){case 8:ld(),y=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(t=!0);var Z=ft;if(ft=0,ba=null,Ml(e,C,_,Z),n&&Cl){y=0;break e}break;default:Z=ft,ft=0,ba=null,Ml(e,C,_,Z)}}ib(),y=Dt;break}catch(te){kp(e,te)}while(!0);return t&&e.shellSuspendCounter++,xn=As=null,it=l,L.H=c,L.A=u,Xe===null&&(vt=null,We=0,Si()),y}function ib(){for(;Xe!==null;)Up(Xe)}function ob(e,t){var n=it;it|=2;var l=zp(),c=Ip();vt!==e||We!==t?(to=null,eo=Ft()+500,Tl(e,t)):Cl=Wl(e,t);e:do try{if(ft!==0&&Xe!==null){t=Xe;var u=ba;t:switch(ft){case 1:ft=0,ba=null,Ml(e,t,u,1);break;case 2:case 9:if(Xm(u)){ft=0,ba=null,qp(t);break}t=function(){ft!==2&&ft!==9||vt!==e||(ft=7),en(e)},u.then(t,t);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Xm(u)?(ft=0,ba=null,qp(t)):(ft=0,ba=null,Ml(e,t,u,7));break;case 5:var y=null;switch(Xe.tag){case 26:y=Xe.memoizedState;case 5:case 27:var C=Xe;if(y?Cx(y):C.stateNode.complete){ft=0,ba=null;var _=C.sibling;if(_!==null)Xe=_;else{var Z=C.return;Z!==null?(Xe=Z,so(Z)):Xe=null}break t}}ft=0,ba=null,Ml(e,t,u,5);break;case 6:ft=0,ba=null,Ml(e,t,u,6);break;case 8:ld(),Dt=6;break e;default:throw Error(o(462))}}cb();break}catch(te){kp(e,te)}while(!0);return xn=As=null,L.H=l,L.A=c,it=n,Xe!==null?0:(vt=null,We=0,Si(),Dt)}function cb(){for(;Xe!==null&&!Ha();)Up(Xe)}function Up(e){var t=cp(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?so(e):Xe=t}function qp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=np(n,t,t.pendingProps,t.type,void 0,We);break;case 11:t=np(n,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:bu(t);default:dp(n,t),t=Xe=Im(t,An),t=cp(n,t,An)}e.memoizedProps=e.pendingProps,t===null?so(e):Xe=t}function Ml(e,t,n,l){xn=As=null,bu(t),yl=null,pr=0;var c=t.return;try{if(Zj(e,c,t,n,We)){Dt=1,Gi(e,Oa(n,e.current)),Xe=null;return}}catch(u){if(c!==null)throw Xe=c,u;Dt=1,Gi(e,Oa(n,e.current)),Xe=null;return}t.flags&32768?(et||l===1?e=!0:Cl||(We&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=va.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hp(t,e)):so(t)}function so(e){var t=e;do{if((t.flags&32768)!==0){Hp(t,Zn);return}e=t.return;var n=eb(t.alternate,t,An);if(n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);Dt===0&&(Dt=5)}function Hp(e,t){do{var n=tb(e.alternate,e);if(n!==null){n.flags&=32767,Xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Xe=e;return}Xe=e=n}while(e!==null);Dt=6,Xe=null}function Bp(e,t,n,l,c,u,y,C,_){e.cancelPendingCommit=null;do lo();while(It!==0);if((it&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Qc,B0(e,n,u,y,C,_),e===vt&&(Xe=vt=null,We=0),El=t,es=e,En=n,ad=u,nd=c,Op=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mb(Ka,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=X.p,X.p=2,y=it,it|=4;try{ab(e,t,n)}finally{it=y,X.p=c,L.T=l}}It=1,Fp(),Vp(),Gp()}}function Fp(){if(It===1){It=0;var e=es,t=El,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=it;it|=4;try{Sp(t,e);var u=yd,y=Mm(e.containerInfo),C=u.focusedElem,_=u.selectionRange;if(y!==C&&C&&C.ownerDocument&&Tm(C.ownerDocument.documentElement,C)){if(_!==null&&Fc(C)){var Z=_.start,te=_.end;if(te===void 0&&(te=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(te,C.value.length);else{var ce=C.ownerDocument||document,W=ce&&ce.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ae=C.textContent.length,Le=Math.min(_.start,Ae),gt=_.end===void 0?Le:Math.min(_.end,Ae);!J.extend&&Le>gt&&(y=gt,gt=Le,Le=y);var G=Em(C,Le),I=Em(C,gt);if(G&&I&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==I.node||J.focusOffset!==I.offset)){var K=ce.createRange();K.setStart(G.node,G.offset),J.removeAllRanges(),Le>gt?(J.addRange(K),J.extend(I.node,I.offset)):(K.setEnd(I.node,I.offset),J.addRange(K))}}}}for(ce=[],J=C;J=J.parentNode;)J.nodeType===1&&ce.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var re=ce[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}yo=!!gd,yd=gd=null}finally{it=c,X.p=l,L.T=n}}e.current=t,It=2}}function Vp(){if(It===2){It=0;var e=es,t=El,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=it;it|=4;try{yp(e,t.alternate,t)}finally{it=c,X.p=l,L.T=n}}It=3}}function Gp(){if(It===4||It===3){It=0,Bt();var e=es,t=El,n=En,l=Op;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,El=es=null,Yp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Jn=null),wc(n),t=t.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ie,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,c=X.p,X.p=2,L.T=null;try{for(var u=e.onRecoverableError,y=0;y<l.length;y++){var C=l[y];u(C.value,{componentStack:C.stack})}}finally{L.T=t,X.p=c}}(En&3)!==0&&lo(),en(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===sd?Rr++:(Rr=0,sd=e):Rr=0,_r(0)}}function Yp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mr(t)))}function lo(){return Fp(),Vp(),Gp(),$p()}function $p(){if(It!==5)return!1;var e=es,t=ad;ad=0;var n=wc(En),l=L.T,c=X.p;try{X.p=32>n?32:n,L.T=null,n=nd,nd=null;var u=es,y=En;if(It=0,El=es=null,En=0,(it&6)!==0)throw Error(o(331));var C=it;if(it|=4,Tp(u.current),Cp(u,u.current,y,n),it=C,_r(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ie,u)}catch{}return!0}finally{X.p=c,L.T=l,Yp(e,t)}}function Qp(e,t,n){t=Oa(n,t),t=Lu(e.stateNode,t,2),e=$n(e,t,2),e!==null&&(Jl(e,2),en(e))}function mt(e,t,n){if(e.tag===3)Qp(e,e,n);else for(;t!==null;){if(t.tag===3){Qp(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jn===null||!Jn.has(l))){e=Oa(n,e),n=Xh(2),l=$n(t,n,2),l!==null&&(Kh(n,l,t,e),Jl(l,2),en(l));break}}t=t.return}}function id(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new lb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Ju=!0,c.add(n),e=ub.bind(null,e,t,n),t.then(e,e))}function ub(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vt===e&&(We&n)===n&&(Dt===4||Dt===3&&(We&62914560)===We&&300>Ft()-Ji?(it&2)===0&&Tl(e,0):ed|=n,Al===We&&(Al=0)),en(e)}function Xp(e,t){t===0&&(t=Ff()),e=Ss(e,t),e!==null&&(Jl(e,t),en(e))}function db(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xp(e,n)}function fb(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Xp(e,n)}function mb(e,t){return In(e,t)}var ro=null,Dl=null,od=!1,io=!1,cd=!1,as=0;function en(e){e!==Dl&&e.next===null&&(Dl===null?ro=Dl=e:Dl=Dl.next=e),io=!0,od||(od=!0,pb())}function _r(e,t){if(!cd&&io){cd=!0;do for(var n=!1,l=ro;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var y=l.suspendedLanes,C=l.pingedLanes;u=(1<<31-Kt(42|e)+1)-1,u&=c&~(y&~C),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Jp(l,u))}else u=We,u=di(l,l===vt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Wl(l,u)||(n=!0,Jp(l,u));l=l.next}while(n);cd=!1}}function hb(){Kp()}function Kp(){io=od=!1;var e=0;as!==0&&Cb()&&(e=as);for(var t=Ft(),n=null,l=ro;l!==null;){var c=l.next,u=Zp(l,t);u===0?(l.next=null,n===null?ro=c:n.next=c,c===null&&(Dl=n)):(n=l,(e!==0||(u&3)!==0)&&(io=!0)),l=c}It!==0&&It!==5||_r(e),as!==0&&(as=0)}function Zp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-Kt(u),C=1<<y,_=c[y];_===-1?((C&n)===0||(C&l)!==0)&&(c[y]=H0(C,t)):_<=t&&(e.expiredLanes|=C),u&=~C}if(t=vt,n=We,n=di(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&st(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Wl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&st(l),wc(n)){case 2:case 8:n=un;break;case 32:n=Ka;break;case 268435456:n=oe;break;default:n=Ka}return l=Wp.bind(null,e),n=In(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&st(l),e.callbackPriority=2,e.callbackNode=null,2}function Wp(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var l=We;return l=di(e,e===vt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_p(e,l,t),Zp(e,Ft()),e.callbackNode!=null&&e.callbackNode===n?Wp.bind(null,e):null)}function Jp(e,t){if(lo())return null;_p(e,t,!0)}function pb(){Eb(function(){(it&6)!==0?In(Zl,hb):Kp()})}function ud(){if(as===0){var e=pl;e===0&&(e=bt,bt<<=1,(bt&261888)===0&&(bt=256)),as=e}return as}function ex(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pi(""+e)}function tx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var u=ex((c[oa]||null).action),y=l.submitter;y&&(t=(t=y[oa]||null)?ex(t.formAction):y.getAttribute("formAction"),t!==null&&(u=t,y=null));var C=new vi("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var _=y?tx(c,y):new FormData(c);Du(n,{pending:!0,data:_,method:c.method,action:u},null,_)}}else typeof u=="function"&&(C.preventDefault(),_=y?tx(c,y):new FormData(c),Du(n,{pending:!0,data:_,method:c.method,action:u},u,_))},currentTarget:c}]})}}for(var dd=0;dd<$c.length;dd++){var fd=$c[dd],gb=fd.toLowerCase(),yb=fd[0].toUpperCase()+fd.slice(1);Ba(gb,"on"+yb)}Ba(Rm,"onAnimationEnd"),Ba(_m,"onAnimationIteration"),Ba(Pm,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(Pj,"onTransitionRun"),Ba(kj,"onTransitionStart"),Ba(Lj,"onTransitionCancel"),Ba(km,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function ax(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var y=l.length-1;0<=y;y--){var C=l[y],_=C.instance,Z=C.currentTarget;if(C=C.listener,_!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(te){Ni(te)}c.currentTarget=null,u=_}else for(y=0;y<l.length;y++){if(C=l[y],_=C.instance,Z=C.currentTarget,C=C.listener,_!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(te){Ni(te)}c.currentTarget=null,u=_}}}}function Ke(e,t){var n=t[Cc];n===void 0&&(n=t[Cc]=new Set);var l=e+"__bubble";n.has(l)||(nx(t,e,2,!1),n.add(l))}function md(e,t,n){var l=0;t&&(l|=4),nx(n,e,l,t)}var oo="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[oo]){e[oo]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(vb.has(n)||md(n,!1,e),md(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oo]||(t[oo]=!0,md("selectionchange",!1,t))}}function nx(e,t,n,l){switch(Rx(t)){case 2:var c=$b;break;case 8:c=Qb;break;default:c=Md}n=c.bind(null,t,n,e),c=void 0,!Pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function pd(e,t,n,l,c){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c)break;if(y===4)for(y=l.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;C!==null;){if(y=Ws(C),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){l=u=y;continue e}C=C.parentNode}}l=l.return}om(function(){var Z=u,te=Rc(n),ce=[];e:{var W=Lm.get(e);if(W!==void 0){var J=vi,Ae=e;switch(e){case"keypress":if(gi(n)===0)break e;case"keydown":case"keyup":J=fj;break;case"focusin":Ae="focus",J=Ic;break;case"focusout":Ae="blur",J=Ic;break;case"beforeblur":case"afterblur":J=Ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=pj;break;case Rm:case _m:case Pm:J=nj;break;case km:J=gj;break;case"scroll":case"scrollend":J=W0;break;case"wheel":J=vj;break;case"copy":case"cut":case"paste":J=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=mm;break;case"toggle":case"beforetoggle":J=bj}var Le=(t&4)!==0,gt=!Le&&(e==="scroll"||e==="scrollend"),G=Le?W!==null?W+"Capture":null:W;Le=[];for(var I=Z,K;I!==null;){var re=I;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||G===null||(re=ar(I,G),re!=null&&Le.push(kr(I,re,K))),gt)break;I=I.return}0<Le.length&&(W=new J(W,Ae,null,n,te),ce.push({event:W,listeners:Le}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",W&&n!==Oc&&(Ae=n.relatedTarget||n.fromElement)&&(Ws(Ae)||Ae[Zs]))break e;if((J||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ae=n.relatedTarget||n.toElement,J=Z,Ae=Ae?Ws(Ae):null,Ae!==null&&(gt=f(Ae),Le=Ae.tag,Ae!==gt||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(J=null,Ae=Z),J!==Ae)){if(Le=dm,re="onMouseLeave",G="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Le=mm,re="onPointerLeave",G="onPointerEnter",I="pointer"),gt=J==null?W:tr(J),K=Ae==null?W:tr(Ae),W=new Le(re,I+"leave",J,n,te),W.target=gt,W.relatedTarget=K,re=null,Ws(te)===Z&&(Le=new Le(G,I+"enter",Ae,n,te),Le.target=K,Le.relatedTarget=gt,re=Le),gt=re,J&&Ae)t:{for(Le=jb,G=J,I=Ae,K=0,re=G;re;re=Le(re))K++;re=0;for(var Pe=I;Pe;Pe=Le(Pe))re++;for(;0<K-re;)G=Le(G),K--;for(;0<re-K;)I=Le(I),re--;for(;K--;){if(G===I||I!==null&&G===I.alternate){Le=G;break t}G=Le(G),I=Le(I)}Le=null}else Le=null;J!==null&&sx(ce,W,J,Le,!1),Ae!==null&&gt!==null&&sx(ce,gt,Ae,Le,!0)}}e:{if(W=Z?tr(Z):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var lt=bm;else if(vm(W))if(Nm)lt=Oj;else{lt=Mj;var Oe=Tj}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&Dc(Z.elementType)&&(lt=bm):lt=Dj;if(lt&&(lt=lt(e,Z))){jm(ce,lt,n,te);break e}Oe&&Oe(e,W,Z),e==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&Mc(W,"number",W.value)}switch(Oe=Z?tr(Z):window,e){case"focusin":(vm(Oe)||Oe.contentEditable==="true")&&(il=Oe,Vc=Z,ur=null);break;case"focusout":ur=Vc=il=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Dm(ce,n,te);break;case"selectionchange":if(_j)break;case"keydown":case"keyup":Dm(ce,n,te)}var Ve;if(qc)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else rl?gm(e,n)&&(Je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Je="onCompositionStart");Je&&(hm&&n.locale!=="ko"&&(rl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&rl&&(Ve=cm()):(qn=te,kc="value"in qn?qn.value:qn.textContent,rl=!0)),Oe=co(Z,Je),0<Oe.length&&(Je=new fm(Je,e,null,n,te),ce.push({event:Je,listeners:Oe}),Ve?Je.data=Ve:(Ve=ym(n),Ve!==null&&(Je.data=Ve)))),(Ve=Sj?wj(e,n):Cj(e,n))&&(Je=co(Z,"onBeforeInput"),0<Je.length&&(Oe=new fm("onBeforeInput","beforeinput",null,n,te),ce.push({event:Oe,listeners:Je}),Oe.data=Ve)),xb(ce,e,Z,n,te)}ax(ce,t)})}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function co(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=ar(e,n),c!=null&&l.unshift(kr(e,c,u)),c=ar(e,t),c!=null&&l.push(kr(e,c,u))),e.tag===3)return l;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sx(e,t,n,l,c){for(var u=t._reactName,y=[];n!==null&&n!==l;){var C=n,_=C.alternate,Z=C.stateNode;if(C=C.tag,_!==null&&_===l)break;C!==5&&C!==26&&C!==27||Z===null||(_=Z,c?(Z=ar(n,u),Z!=null&&y.unshift(kr(n,Z,_))):c||(Z=ar(n,u),Z!=null&&y.push(kr(n,Z,_)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var bb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function lx(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Nb,"")}function rx(e,t){return t=lx(t),lx(e)===t}function xt(e,t,n,l,c,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||nl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&nl(e,""+l);break;case"className":mi(e,"class",l);break;case"tabIndex":mi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(e,n,l);break;case"style":rm(e,l,u);break;case"data":if(t!=="object"){mi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=pi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&xt(e,t,"name",c.name,c,null),xt(e,t,"formEncType",c.formEncType,c,null),xt(e,t,"formMethod",c.formMethod,c,null),xt(e,t,"formTarget",c.formTarget,c,null)):(xt(e,t,"encType",c.encType,c,null),xt(e,t,"method",c.method,c,null),xt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=pi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=fn);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=pi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),fi(e,"popover",l);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=K0.get(n)||n,fi(e,n,l))}}function xd(e,t,n,l,c,u){switch(n){case"style":rm(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?nl(e,l):(typeof l=="number"||typeof l=="bigint")&&nl(e,""+l);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[oa]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):fi(e,n,l)}}}function Qt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var l=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var y=n[u];if(y!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:xt(e,t,u,y,n,null)}}c&&xt(e,t,"srcSet",n.srcSet,n,null),l&&xt(e,t,"src",n.src,n,null);return;case"input":Ke("invalid",e);var C=u=y=c=null,_=null,Z=null;for(l in n)if(n.hasOwnProperty(l)){var te=n[l];if(te!=null)switch(l){case"name":c=te;break;case"type":y=te;break;case"checked":_=te;break;case"defaultChecked":Z=te;break;case"value":u=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,t));break;default:xt(e,t,l,te,n,null)}}am(e,u,C,_,Z,y,c,!1);return;case"select":Ke("invalid",e),l=y=u=null;for(c in n)if(n.hasOwnProperty(c)&&(C=n[c],C!=null))switch(c){case"value":u=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:xt(e,t,c,C,n,null)}t=u,n=y,e.multiple=!!l,t!=null?al(e,!!l,t,!1):n!=null&&al(e,!!l,n,!0);return;case"textarea":Ke("invalid",e),u=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(C=n[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":c=C;break;case"children":u=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:xt(e,t,y,C,n,null)}sm(e,l,c,u);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(l=n[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xt(e,t,_,l,n,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(l=0;l<Pr.length;l++)Ke(Pr[l],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(l=n[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:xt(e,t,Z,l,n,null)}return;default:if(Dc(t)){for(te in n)n.hasOwnProperty(te)&&(l=n[te],l!==void 0&&xd(e,t,te,l,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null&&xt(e,t,C,l,n,null))}function Sb(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,C=null,_=null,Z=null,te=null;for(J in n){var ce=n[J];if(n.hasOwnProperty(J)&&ce!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":_=ce;default:l.hasOwnProperty(J)||xt(e,t,J,null,l,ce)}}for(var W in l){var J=l[W];if(ce=n[W],l.hasOwnProperty(W)&&(J!=null||ce!=null))switch(W){case"type":u=J;break;case"name":c=J;break;case"checked":Z=J;break;case"defaultChecked":te=J;break;case"value":y=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:J!==ce&&xt(e,t,W,J,l,ce)}}Tc(e,y,C,_,Z,te,u,c);return;case"select":J=y=C=W=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":J=_;default:l.hasOwnProperty(u)||xt(e,t,u,null,l,_)}for(c in l)if(u=l[c],_=n[c],l.hasOwnProperty(c)&&(u!=null||_!=null))switch(c){case"value":W=u;break;case"defaultValue":C=u;break;case"multiple":y=u;default:u!==_&&xt(e,t,c,u,l,_)}t=C,n=y,l=J,W!=null?al(e,!!n,W,!1):!!l!=!!n&&(t!=null?al(e,!!n,t,!0):al(e,!!n,n?[]:"",!1));return;case"textarea":J=W=null;for(C in n)if(c=n[C],n.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:xt(e,t,C,null,l,c)}for(y in l)if(c=l[y],u=n[y],l.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":W=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&xt(e,t,y,c,l,u)}nm(e,W,J);return;case"option":for(var Ae in n)if(W=n[Ae],n.hasOwnProperty(Ae)&&W!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:xt(e,t,Ae,null,l,W)}for(_ in l)if(W=l[_],J=n[_],l.hasOwnProperty(_)&&W!==J&&(W!=null||J!=null))switch(_){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:xt(e,t,_,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in n)W=n[Le],n.hasOwnProperty(Le)&&W!=null&&!l.hasOwnProperty(Le)&&xt(e,t,Le,null,l,W);for(Z in l)if(W=l[Z],J=n[Z],l.hasOwnProperty(Z)&&W!==J&&(W!=null||J!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:xt(e,t,Z,W,l,J)}return;default:if(Dc(t)){for(var gt in n)W=n[gt],n.hasOwnProperty(gt)&&W!==void 0&&!l.hasOwnProperty(gt)&&xd(e,t,gt,void 0,l,W);for(te in l)W=l[te],J=n[te],!l.hasOwnProperty(te)||W===J||W===void 0&&J===void 0||xd(e,t,te,W,l,J);return}}for(var G in n)W=n[G],n.hasOwnProperty(G)&&W!=null&&!l.hasOwnProperty(G)&&xt(e,t,G,null,l,W);for(ce in l)W=l[ce],J=n[ce],!l.hasOwnProperty(ce)||W===J||W==null&&J==null||xt(e,t,ce,W,l,J)}function ix(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],u=c.transferSize,y=c.initiatorType,C=c.duration;if(u&&C&&ix(y)){for(y=0,C=c.responseEnd,l+=1;l<n.length;l++){var _=n[l],Z=_.startTime;if(Z>C)break;var te=_.transferSize,ce=_.initiatorType;te&&ix(ce)&&(_=_.responseEnd,y+=te*(_<C?1:(C-Z)/(_-Z)))}if(--l,t+=8*(u+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,yd=null;function uo(e){return e.nodeType===9?e:e.ownerDocument}function ox(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cx(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jd=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===jd?!1:(jd=e,!0):(jd=null,!1)}var ux=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(Tb)}:ux;function Tb(e){setTimeout(function(){throw e})}function ns(e){return e==="head"}function fx(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Pl(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Lr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Lr(n);for(var u=n.firstChild;u;){var y=u.nextSibling,C=u.nodeName;u[er]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=y}}else n==="body"&&Lr(e.ownerDocument.body);n=c}while(n);Pl(t)}function mx(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function bd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bd(n),Ac(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Mb(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[er])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=La(e.nextSibling),e===null)break}return null}function Db(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=La(e.nextSibling),e===null))return null;return e}function hx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=La(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wd=null;function px(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return La(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function xx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function gx(e,t,n){switch(t=uo(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Lr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ac(e)}var za=new Map,yx=new Set;function fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=X.d;X.d={f:Rb,r:_b,D:Pb,C:kb,L:Lb,m:zb,X:Ub,S:Ib,M:qb};function Rb(){var e=Tn.f(),t=ao();return e||t}function _b(e){var t=Js(e);t!==null&&t.tag===5&&t.type==="form"?kh(t):Tn.r(e)}var Ol=typeof document>"u"?null:document;function vx(e,t,n){var l=Ol;if(l&&typeof t=="string"&&t){var c=Ma(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),yx.has(c)||(yx.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Qt(t,"link",e),qt(t),l.head.appendChild(t)))}}function Pb(e){Tn.D(e),vx("dns-prefetch",e,null)}function kb(e,t){Tn.C(e,t),vx("preconnect",e,t)}function Lb(e,t,n){Tn.L(e,t,n);var l=Ol;if(l&&e&&t){var c='link[rel="preload"][as="'+Ma(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Ma(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Ma(n.imageSizes)+'"]')):c+='[href="'+Ma(e)+'"]';var u=c;switch(t){case"style":u=Rl(e);break;case"script":u=_l(e)}za.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),za.set(u,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(zr(u))||t==="script"&&l.querySelector(Ir(u))||(t=l.createElement("link"),Qt(t,"link",e),qt(t),l.head.appendChild(t)))}}function zb(e,t){Tn.m(e,t);var n=Ol;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Ma(l)+'"][href="'+Ma(e)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=_l(e)}if(!za.has(u)&&(e=v({rel:"modulepreload",href:e},t),za.set(u,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ir(u)))return}l=n.createElement("link"),Qt(l,"link",e),qt(l),n.head.appendChild(l)}}}function Ib(e,t,n){Tn.S(e,t,n);var l=Ol;if(l&&e){var c=el(l).hoistableStyles,u=Rl(e);t=t||"default";var y=c.get(u);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(zr(u)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=za.get(u))&&Cd(e,n);var _=y=l.createElement("link");qt(_),Qt(_,"link",e),_._p=new Promise(function(Z,te){_.onload=Z,_.onerror=te}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,mo(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:C},c.set(u,y)}}}function Ub(e,t){Tn.X(e,t);var n=Ol;if(n&&e){var l=el(n).hoistableScripts,c=_l(e),u=l.get(c);u||(u=n.querySelector(Ir(c)),u||(e=v({src:e,async:!0},t),(t=za.get(c))&&Ad(e,t),u=n.createElement("script"),qt(u),Qt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function qb(e,t){Tn.M(e,t);var n=Ol;if(n&&e){var l=el(n).hoistableScripts,c=_l(e),u=l.get(c);u||(u=n.querySelector(Ir(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=za.get(c))&&Ad(e,t),u=n.createElement("script"),qt(u),Qt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function jx(e,t,n,l){var c=(c=me.current)?fo(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Rl(n.href),n=el(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rl(n.href);var u=el(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(zr(e)))&&!u._p&&(y.instance=u,y.state.loading=5),za.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},za.set(e,n),u||Hb(c,e,n,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_l(n),n=el(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rl(e){return'href="'+Ma(e)+'"'}function zr(e){return'link[rel="stylesheet"]['+e+"]"}function bx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Hb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Qt(t,"link",n),qt(t),e.head.appendChild(t))}function _l(e){return'[src="'+Ma(e)+'"]'}function Ir(e){return"script[async]"+e}function Nx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ma(n.href)+'"]');if(l)return t.instance=l,qt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),qt(l),Qt(l,"style",c),mo(l,n.precedence,e),t.instance=l;case"stylesheet":c=Rl(n.href);var u=e.querySelector(zr(c));if(u)return t.state.loading|=4,t.instance=u,qt(u),u;l=bx(n),(c=za.get(c))&&Cd(l,c),u=(e.ownerDocument||e).createElement("link"),qt(u);var y=u;return y._p=new Promise(function(C,_){y.onload=C,y.onerror=_}),Qt(u,"link",l),t.state.loading|=4,mo(u,n.precedence,e),t.instance=u;case"script":return u=_l(n.src),(c=e.querySelector(Ir(u)))?(t.instance=c,qt(c),c):(l=n,(c=za.get(u))&&(l=v({},n),Ad(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),qt(c),Qt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,mo(l,n.precedence,e));return t.instance}function mo(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===t)u=C;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Cd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ad(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ho=null;function Sx(e,t,n){if(ho===null){var l=new Map,c=ho=new Map;c.set(n,l)}else c=ho,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[er]||u[Vt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(t)||"";y=e+y;var C=l.get(y);C?C.push(u):l.set(y,[u])}}return l}function wx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Bb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fb(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Rl(l.href),u=t.querySelector(zr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=po.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,qt(u);return}u=t.ownerDocument||t,l=bx(l),(c=za.get(c))&&Cd(l,c),u=u.createElement("link"),qt(u);var y=u;y._p=new Promise(function(C,_){y.onload=C,y.onerror=_}),Qt(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=po.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ed=0;function Vb(e,t){return e.stylesheets&&e.count===0&&go(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&go(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ed===0&&(Ed=62500*wb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&go(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ed?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function po(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xo=null;function go(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xo=new Map,t.forEach(Gb,e),xo=null,po.call(e))}function Gb(e,t){if(!(t.state.loading&4)){var n=xo.get(e);if(n)var l=n.get(null);else{n=new Map,xo.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),u=n.get(y)||l,u===l&&n.set(null,c),n.set(y,c),this.count++,l=po.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ur={$$typeof:M,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Yb(e,t,n,l,c,u,y,C,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ax(e,t,n,l,c,u,y,C,_,Z,te,ce){return e=new Yb(e,t,n,y,_,Z,te,ce,C),t=1,u===!0&&(t|=24),u=ya(3,null,null,t),e.current=u,u.stateNode=e,t=ru(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},uu(u),e}function Ex(e){return e?(e=ul,e):ul}function Tx(e,t,n,l,c,u){c=Ex(c),l.context===null?l.context=c:l.pendingContext=c,l=Yn(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=$n(e,l,t),n!==null&&(ha(n,e,t),gr(n,e,t))}function Mx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Td(e,t){Mx(e,t),(e=e.alternate)&&Mx(e,t)}function Dx(e){if(e.tag===13||e.tag===31){var t=Ss(e,67108864);t!==null&&ha(t,e,67108864),Td(e,67108864)}}function Ox(e){if(e.tag===13||e.tag===31){var t=Sa();t=Sc(t);var n=Ss(e,t);n!==null&&ha(n,e,t),Td(e,t)}}var yo=!0;function $b(e,t,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=2,Md(e,t,n,l)}finally{X.p=u,L.T=c}}function Qb(e,t,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=8,Md(e,t,n,l)}finally{X.p=u,L.T=c}}function Md(e,t,n,l){if(yo){var c=Dd(l);if(c===null)pd(e,t,l,vo,n),_x(e,l);else if(Kb(c,e,t,n,l))l.stopPropagation();else if(_x(e,l),t&4&&-1<Xb.indexOf(e)){for(;c!==null;){var u=Js(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=ys(u.pendingLanes);if(y!==0){var C=u;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var _=1<<31-Kt(y);C.entanglements[1]|=_,y&=~_}en(u),(it&6)===0&&(eo=Ft()+500,_r(0))}}break;case 31:case 13:C=Ss(u,2),C!==null&&ha(C,u,2),ao(),Td(u,2)}if(u=Dd(l),u===null&&pd(e,t,l,vo,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else pd(e,t,l,null,n)}}function Dd(e){return e=Rc(e),Od(e)}var vo=null;function Od(e){if(vo=null,e=Ws(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vo=e,null}function Rx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case Zl:return 2;case un:return 8;case Ka:case k:return 32;case oe:return 268435456;default:return 32}default:return 32}}var Rd=!1,ss=null,ls=null,rs=null,qr=new Map,Hr=new Map,is=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _x(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function Br(e,t,n,l,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Js(t),t!==null&&Dx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kb(e,t,n,l,c){switch(t){case"focusin":return ss=Br(ss,e,t,n,l,c),!0;case"dragenter":return ls=Br(ls,e,t,n,l,c),!0;case"mouseover":return rs=Br(rs,e,t,n,l,c),!0;case"pointerover":var u=c.pointerId;return qr.set(u,Br(qr.get(u)||null,e,t,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,Hr.set(u,Br(Hr.get(u)||null,e,t,n,l,c)),!0}return!1}function Px(e){var t=Ws(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Qf(e.priority,function(){Ox(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Qf(e.priority,function(){Ox(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Oc=l,n.target.dispatchEvent(l),Oc=null}else return t=Js(n),t!==null&&Dx(t),e.blockedOn=n,!1;t.shift()}return!0}function kx(e,t,n){jo(e)&&n.delete(t)}function Zb(){Rd=!1,ss!==null&&jo(ss)&&(ss=null),ls!==null&&jo(ls)&&(ls=null),rs!==null&&jo(rs)&&(rs=null),qr.forEach(kx),Hr.forEach(kx)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var No=null;function Lx(e){No!==e&&(No=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){No===e&&(No=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Od(l||n)===null)continue;break}var u=Js(n);u!==null&&(e.splice(t,3),t-=3,Du(u,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Pl(e){function t(_){return bo(_,e)}ss!==null&&bo(ss,e),ls!==null&&bo(ls,e),rs!==null&&bo(rs,e),qr.forEach(t),Hr.forEach(t);for(var n=0;n<is.length;n++){var l=is[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(n=is[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&is.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],u=n[l+1],y=c[oa]||null;if(typeof u=="function")y||Lx(n);else if(y){var C=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[oa]||null)C=y.formAction;else if(Od(c)!==null)continue}else C=y.action;typeof C=="function"?n[l+1]=C:(n.splice(l,3),l-=3),Lx(n)}}}function zx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function _d(e){this._internalRoot=e}So.prototype.render=_d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=Sa();Tx(n,l,e,t,null,null)},So.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tx(e.current,2,null,e,null,null),ao(),t[Zs]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=$f();e={blockedOn:null,target:e,priority:t};for(var n=0;n<is.length&&t!==0&&t<is[n].priority;n++);is.splice(n,0,e),n===0&&Px(e)}};var Ix=r.version;if(Ix!=="19.2.3")throw Error(o(527,Ix,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Ie=wo.inject(Wb),ke=wo}catch{}}return Vr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,l="",c=Gh,u=Yh,y=$h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Ax(e,1,!1,null,null,n,l,null,c,u,y,zx),e[Zs]=t.current,hd(e),new _d(t)},Vr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var l=!1,c="",u=Gh,y=Yh,C=$h,_=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Ax(e,1,!0,t,n??null,l,c,_,u,y,C,zx),t.context=Ex(null),n=t.current,l=Sa(),l=Sc(l),c=Yn(l),c.callback=null,$n(n,c,l),n=l,t.current.lanes=n,Jl(t,n),en(t),e[Zs]=t.current,hd(e),new So(t)},Vr.version="19.2.3",Vr}var Qx;function oN(){if(Qx)return Ld.exports;Qx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ld.exports=iN(),Ld.exports}var cN=oN();class uN{constructor(){this.dbName="SofaFactoryManager",this.version=3,this.db=null,this.initPromise=null}async resetDatabase(){return new Promise((r,i)=>{this.db&&(this.db.close(),this.db=null);const o=indexedDB.deleteDatabase(this.dbName);o.onsuccess=()=>{console.log("Database deleted successfully"),r()},o.onerror=()=>{console.error("Error deleting database"),i(o.error)},o.onblocked=()=>{console.warn("Database deletion blocked"),r()}})}async init(){return this.initPromise?this.initPromise:this.db?this.db:(this.initPromise=new Promise((r,i)=>{try{const o=indexedDB.open(this.dbName,this.version);o.onerror=d=>{console.error("Database error:",d.target.error),this.initPromise=null,i(d.target.error)},o.onsuccess=()=>{this.db=o.result,this.initPromise=null,this.db.onerror=d=>{console.error("Database error:",d.target.error)},r(this.db)},o.onblocked=()=>{console.warn("Database upgrade blocked. Please close other tabs.")},o.onupgradeneeded=d=>{const f=d.target.result;if(f.objectStoreNames.contains("company")||f.createObjectStore("company",{keyPath:"id"}),f.objectStoreNames.contains("locations")||f.createObjectStore("locations",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!0}),!f.objectStoreNames.contains("users")){const h=f.createObjectStore("users",{keyPath:"id",autoIncrement:!0});h.createIndex("email","email",{unique:!0}),h.createIndex("role","role",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1})}if(!f.objectStoreNames.contains("suppliers")){const h=f.createObjectStore("suppliers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("customers")){const h=f.createObjectStore("customers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("phone","phone",{unique:!1})}if(!f.objectStoreNames.contains("rawMaterials")){const h=f.createObjectStore("rawMaterials",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("labourers")){const h=f.createObjectStore("labourers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("sofaModels")){const h=f.createObjectStore("sofaModels",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("orders")){const h=f.createObjectStore("orders",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("orderDate","orderDate",{unique:!1})}if(!f.objectStoreNames.contains("labourCosts")){const h=f.createObjectStore("labourCosts",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("month","month",{unique:!1})}if(!f.objectStoreNames.contains("purchases")){const h=f.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0});h.createIndex("supplierId","supplierId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("sales")){const h=f.createObjectStore("sales",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("cleaningServices")){const h=f.createObjectStore("cleaningServices",{keyPath:"id",autoIncrement:!0});h.createIndex("saleId","saleId",{unique:!1}),h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("scheduledDate","scheduledDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("linkedEntities")){const h=f.createObjectStore("linkedEntities",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("supplierId","supplierId",{unique:!1})}if(!f.objectStoreNames.contains("notifications")){const h=f.createObjectStore("notifications",{keyPath:"id",autoIncrement:!0});h.createIndex("userId","userId",{unique:!1}),h.createIndex("type","type",{unique:!1}),h.createIndex("read","read",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("syncRecords")){const h=f.createObjectStore("syncRecords",{keyPath:"id",autoIncrement:!0});h.createIndex("tableName","tableName",{unique:!1}),h.createIndex("recordId","recordId",{unique:!1}),h.createIndex("action","action",{unique:!1}),h.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains("productions")){const h=f.createObjectStore("productions",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("productionType","productionType",{unique:!1}),h.createIndex("startDate","startDate",{unique:!1})}if(!f.objectStoreNames.contains("labourPayments")){const h=f.createObjectStore("labourPayments",{keyPath:"id",autoIncrement:!0});h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentDate","paymentDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}}}catch(o){console.error("Error initializing database:",o),this.initPromise=null,i(o)}}),this.initPromise)}async ensureReady(){return this.db||await this.init(),this.db}async add(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.createdAt=new Date().toISOString(),i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.add(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error adding to ${r}:`,g.error),p(g.error)}});return this.trackSync(r,f,"create").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in add for ${r}:`,o),o}}async get(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readonly").objectStore(r);return new Promise((f,h)=>{const p=d.get(i);p.onsuccess=()=>f(p.result||null),p.onerror=()=>{console.error(`Error getting from ${r}:`,p.error),f(null)}})}catch(o){return console.error(`Error in get for ${r}:`,o),null}}async getAll(r,i=null,o=null){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist, returning empty array`),[];const f=this.db.transaction([r],"readonly").objectStore(r);return new Promise((h,p)=>{let g;if(i&&o!==null)try{g=f.index(i).getAll(o)}catch{g=f.getAll()}else g=f.getAll();g.onsuccess=()=>h(g.result||[]),g.onerror=()=>{console.error(`Error getting all from ${r}:`,g.error),h([])}})}catch(d){return console.error(`Error in getAll for ${r}:`,d),[]}}async update(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.put(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error updating ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i.id,"update").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in update for ${r}:`,o),o}}async delete(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r),f=await new Promise((h,p)=>{const g=d.delete(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error deleting from ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i,"delete").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in delete for ${r}:`,o),o}}async trackSync(r,i,o){try{const d={tableName:r,recordId:i,action:o,timestamp:new Date().toISOString(),synced:!1};if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return null;const h=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords");return new Promise((p,g)=>{const m=h.add(d);m.onsuccess=()=>p(m.result),m.onerror=()=>{console.warn("Sync tracking error:",m.error),p(null)}})}catch(d){return console.warn("Sync tracking failed:",d),null}}async getUnsyncedRecords(){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return[];const i=this.db.transaction(["syncRecords"],"readonly").objectStore("syncRecords");return new Promise((o,d)=>{const f=i.getAll();f.onsuccess=()=>{const p=(f.result||[]).filter(g=>!g.synced);o(p)},f.onerror=()=>o([])})}catch(r){return console.error("Error getting unsynced records:",r),[]}}async markSynced(r){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return;const o=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords"),d=r.map(f=>new Promise((h,p)=>{const g=o.get(f);g.onsuccess=()=>{const m=g.result;if(m){m.synced=!0;const x=o.put(m);x.onsuccess=()=>h(),x.onerror=()=>h()}else h()},g.onerror=()=>h()}));return Promise.all(d)}catch(i){console.error("Error marking synced:",i)}}async getCurrentUser(){try{return(await this.getAll("users")).find(i=>i.isCurrentUser)||null}catch(r){return console.error("Error getting current user:",r),null}}async getCompanyProfile(){try{return await this.get("company","profile")}catch(r){return console.error("Error getting company profile:",r),null}}async getPendingPayments(r=null){try{const i=await this.getAll("purchases","paymentStatus","unpaid"),o=await this.getAll("sales","paymentStatus","unpaid");let d={purchases:[],sales:[]};return r?(d.purchases=(i||[]).filter(f=>f.locationId===r),d.sales=(o||[]).filter(f=>f.locationId===r)):(d.purchases=i||[],d.sales=o||[]),d}catch(i){return console.error("Error getting pending payments:",i),{purchases:[],sales:[]}}}async getMonthlyLabourReport(r,i,o=null){try{const d=await this.getAll("labourCosts","month",`${i}-${r.toString().padStart(2,"0")}`);if(o){const h=(await this.getAll("sofaModels","locationId",o)||[]).map(p=>p.id);return(d||[]).filter(p=>h.includes(p.sofaModelId))}return d||[]}catch(d){return console.error("Error getting monthly labour report:",d),[]}}async calculateProfit(r){try{const i=await this.get("sales",r);if(!i)return null;const o=await this.get("sofaModels",i.sofaModelId);if(!o)return null;const d=i.finalPrice-(o.totalProductionCost||0);return{revenue:i.finalPrice,cost:o.totalProductionCost||0,profit:d,margin:i.finalPrice>0?d/i.finalPrice*100:0}}catch(i){return console.error("Error calculating profit:",i),null}}}const pe=new uN,tn={ADMIN:"admin",STAFF:"staff",LABOUR_MANAGER:"labour_manager"},kl={VIEW_PROFITS:"view_profits",MANAGE_COSTS:"manage_costs",APPROVE_SALES:"approve_sales",MANAGE_USERS:"manage_users",MANAGE_COMPANY:"manage_company",MANAGE_LABOUR:"manage_labour",VIEW_ALL_LOCATIONS:"view_all_locations",SEND_NOTIFICATIONS:"send_notifications"};class dN{constructor(){this.currentUser=null,this.isInitialized=!1}async init(){this.isInitialized||(await pe.init(),this.currentUser=await pe.getCurrentUser(),this.isInitialized=!0)}async isFirstTimeSetup(){return(await pe.getAll("users")).length===0}async createAdminAccount(r){const i={...r,role:tn.ADMIN,isCurrentUser:!0,permissions:this.getPermissionsForRole(tn.ADMIN),setupCode:null,locationId:null},o=await pe.add("users",i);return this.currentUser=await pe.get("users",o),this.currentUser}generateSetupCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}async createUserProfile(r){const i=this.generateSetupCode(),o={...r,setupCode:i,permissions:this.getPermissionsForRole(r.role),isActive:!1,isCurrentUser:!1};return{userId:await pe.add("users",o),setupCode:i}}async activateUserAccount(r,i={}){const o=await pe.getAll("users"),d=o.find(h=>h.setupCode===r&&!h.isActive);if(!d)throw new Error("Invalid or expired setup code");d.isActive=!0,d.isCurrentUser=!0,d.deviceInfo=i,d.lastLogin=new Date().toISOString();const f=o.filter(h=>h.id!==d.id&&h.isCurrentUser);for(const h of f)h.isCurrentUser=!1,await pe.update("users",h);return await pe.update("users",d),this.currentUser=d,d}async login(r){const i=await pe.get("users",r);if(!i||!i.isActive)throw new Error("User not found or inactive");const o=await pe.getAll("users");for(const d of o)d.isCurrentUser=d.id===r,await pe.update("users",d);return i.lastLogin=new Date().toISOString(),await pe.update("users",i),this.currentUser=i,i}async logout(){this.currentUser&&(this.currentUser.isCurrentUser=!1,await pe.update("users",this.currentUser),this.currentUser=null)}getPermissionsForRole(r){switch(r){case tn.ADMIN:return Object.values(kl);case tn.LABOUR_MANAGER:return[kl.MANAGE_LABOUR,kl.MANAGE_COSTS];case tn.STAFF:return[];default:return[]}}hasPermission(r){return this.currentUser?this.currentUser.permissions.includes(r):!1}canAccessLocation(r){return this.currentUser?this.currentUser.role===tn.ADMIN?!0:this.currentUser.locationId===r:!1}async getAccessibleLocations(){if(!this.currentUser)return[];const r=await pe.getAll("locations");return this.currentUser.role===tn.ADMIN?r:r.filter(i=>i.id===this.currentUser.locationId)}getCurrentUser(){return this.currentUser}async updateUserPermissions(r,i){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");const o=await pe.get("users",r);if(!o)throw new Error("User not found");return o.permissions=i,await pe.update("users",o),o}async getAllUsers(){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");return await pe.getAll("users")}async deleteUser(r){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");if(r===this.currentUser.id)throw new Error("Cannot delete current user");await pe.delete("users",r)}isAdmin(){return this.currentUser&&this.currentUser.role===tn.ADMIN}isStaff(){return this.currentUser&&this.currentUser.role===tn.STAFF}isLabourManager(){return this.currentUser&&this.currentUser.role===tn.LABOUR_MANAGER}}const Ia=new dN,Hg={user:null,isAuthenticated:!1,isLoading:!0,company:null,locations:[],currentLocation:null,suppliers:[],customers:[],rawMaterials:[],labourers:[],sofaModels:[],purchases:[],sales:[],cleaningServices:[],notifications:[],productions:[],orders:[],sidebarOpen:!1,currentView:"dashboard",locationFilter:"all",dateFilter:"all"},we={SET_USER:"SET_USER",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_COMPANY:"SET_COMPANY",SET_LOCATIONS:"SET_LOCATIONS",SET_CURRENT_LOCATION:"SET_CURRENT_LOCATION",SET_SUPPLIERS:"SET_SUPPLIERS",SET_CUSTOMERS:"SET_CUSTOMERS",SET_RAW_MATERIALS:"SET_RAW_MATERIALS",SET_LABOURERS:"SET_LABOURERS",SET_SOFA_MODELS:"SET_SOFA_MODELS",SET_PURCHASES:"SET_PURCHASES",SET_SALES:"SET_SALES",SET_CLEANING_SERVICES:"SET_CLEANING_SERVICES",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_PRODUCTIONS:"SET_PRODUCTIONS",SET_ORDERS:"SET_ORDERS",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SET_SIDEBAR_OPEN:"SET_SIDEBAR_OPEN",SET_CURRENT_VIEW:"SET_CURRENT_VIEW",SET_LOCATION_FILTER:"SET_LOCATION_FILTER",SET_DATE_FILTER:"SET_DATE_FILTER",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ"};function fN(s,r){switch(r.type){case we.SET_USER:return{...s,user:r.payload,isAuthenticated:!!r.payload,isLoading:!1};case we.SET_LOADING:return{...s,isLoading:r.payload};case we.LOGOUT:return{...Hg,isLoading:!1};case we.SET_COMPANY:return{...s,company:r.payload};case we.SET_LOCATIONS:return{...s,locations:r.payload};case we.SET_CURRENT_LOCATION:return{...s,currentLocation:r.payload};case we.SET_SUPPLIERS:return{...s,suppliers:r.payload};case we.SET_CUSTOMERS:return{...s,customers:r.payload};case we.SET_RAW_MATERIALS:return{...s,rawMaterials:r.payload};case we.SET_LABOURERS:return{...s,labourers:r.payload};case we.SET_SOFA_MODELS:return{...s,sofaModels:r.payload};case we.SET_PURCHASES:return{...s,purchases:r.payload};case we.SET_SALES:return{...s,sales:r.payload};case we.SET_CLEANING_SERVICES:return{...s,cleaningServices:r.payload};case we.SET_NOTIFICATIONS:return{...s,notifications:r.payload};case we.SET_PRODUCTIONS:return{...s,productions:r.payload};case we.SET_ORDERS:return{...s,orders:r.payload};case we.ADD_ITEM:const{collection:i,item:o}=r.payload;return{...s,[i]:[...s[i]||[],o]};case we.UPDATE_ITEM:const{collection:d,item:f}=r.payload;return{...s,[d]:(s[d]||[]).map(g=>g.id===f.id?f:g)};case we.DELETE_ITEM:const{collection:h,id:p}=r.payload;return{...s,[h]:(s[h]||[]).filter(g=>g.id!==p)};case we.SET_SIDEBAR_OPEN:return{...s,sidebarOpen:r.payload};case we.SET_CURRENT_VIEW:return{...s,currentView:r.payload};case we.SET_LOCATION_FILTER:return{...s,locationFilter:r.payload};case we.SET_DATE_FILTER:return{...s,dateFilter:r.payload};case we.ADD_NOTIFICATION:return{...s,notifications:[r.payload,...s.notifications]};case we.MARK_NOTIFICATION_READ:return{...s,notifications:s.notifications.map(g=>g.id===r.payload?{...g,read:!0}:g)};default:return s}}const Bg=j.createContext();function mN({children:s}){const[r,i]=j.useReducer(fN,Hg);j.useEffect(()=>{o()},[]);const o=async()=>{try{i({type:we.SET_LOADING,payload:!0}),await Ia.init();const m=Ia.getCurrentUser();m?(i({type:we.SET_USER,payload:m}),await d()):i({type:we.SET_LOADING,payload:!1})}catch(m){console.error("Failed to initialize app:",m),i({type:we.SET_LOADING,payload:!1})}},d=async()=>{try{const m=await pe.getCompanyProfile();m&&i({type:we.SET_COMPANY,payload:m});const x=await pe.getAll("locations");i({type:we.SET_LOCATIONS,payload:x});const v=Ia.getCurrentUser();if(v){const b=await Ia.getAccessibleLocations();Ia.hasPermission("VIEW_ALL_LOCATIONS")?await f():await h(v.locationId)}}catch(m){console.error("Failed to load app data:",m)}},f=async()=>{try{const[m,x,v,b,S,E,w,N,P,T,M]=await Promise.all([pe.getAll("suppliers"),pe.getAll("customers"),pe.getAll("rawMaterials"),pe.getAll("labourers"),pe.getAll("sofaModels"),pe.getAll("purchases"),pe.getAll("sales"),pe.getAll("cleaningServices"),pe.getAll("notifications"),pe.getAll("productions"),pe.getAll("orders")]);i({type:we.SET_SUPPLIERS,payload:m||[]}),i({type:we.SET_CUSTOMERS,payload:x||[]}),i({type:we.SET_RAW_MATERIALS,payload:v||[]}),i({type:we.SET_LABOURERS,payload:b||[]}),i({type:we.SET_SOFA_MODELS,payload:S||[]}),i({type:we.SET_PURCHASES,payload:E||[]}),i({type:we.SET_SALES,payload:w||[]}),i({type:we.SET_CLEANING_SERVICES,payload:N||[]}),i({type:we.SET_NOTIFICATIONS,payload:P||[]}),i({type:we.SET_PRODUCTIONS,payload:T||[]}),i({type:we.SET_ORDERS,payload:M||[]})}catch(m){console.error("Failed to load all data:",m)}},h=async m=>{var x;try{const[v,b,S,E,w,N,P,T,M,D,A]=await Promise.all([pe.getAll("suppliers","locationId",m),pe.getAll("customers","locationId",m),pe.getAll("rawMaterials","locationId",m),pe.getAll("labourers","locationId",m),pe.getAll("sofaModels","locationId",m),pe.getAll("purchases","locationId",m),pe.getAll("sales","locationId",m),pe.getAll("cleaningServices","locationId",m),pe.getAll("notifications","userId",(x=Ia.getCurrentUser())==null?void 0:x.id),pe.getAll("productions","locationId",m),pe.getAll("orders","locationId",m)]);i({type:we.SET_SUPPLIERS,payload:v||[]}),i({type:we.SET_CUSTOMERS,payload:b||[]}),i({type:we.SET_RAW_MATERIALS,payload:S||[]}),i({type:we.SET_LABOURERS,payload:E||[]}),i({type:we.SET_SOFA_MODELS,payload:w||[]}),i({type:we.SET_PURCHASES,payload:N||[]}),i({type:we.SET_SALES,payload:P||[]}),i({type:we.SET_CLEANING_SERVICES,payload:T||[]}),i({type:we.SET_NOTIFICATIONS,payload:M||[]}),i({type:we.SET_PRODUCTIONS,payload:D||[]}),i({type:we.SET_ORDERS,payload:A||[]})}catch(v){console.error("Failed to load location data:",v)}},g={state:r,actions:{login:async m=>{try{const x=await Ia.login(m);return i({type:we.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},logout:async()=>{try{await Ia.logout(),i({type:we.LOGOUT})}catch(m){console.error("Logout failed:",m)}},createAdminAccount:async m=>{try{const x=await Ia.createAdminAccount(m);return i({type:we.SET_USER,payload:x}),x}catch(x){throw console.error("Failed to create admin account:",x),x}},activateUserAccount:async(m,x)=>{try{const v=await Ia.activateUserAccount(m,x);return i({type:we.SET_USER,payload:v}),await d(),v}catch(v){throw console.error("Failed to activate user account:",v),v}},getAllUsers:async()=>{try{return await pe.getAll("users")}catch(m){throw console.error("Failed to get all users:",m),m}},loginUser:async m=>{try{const x=await Ia.login(m);return i({type:we.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},addItem:async(m,x)=>{try{const v=await pe.add(m,x),b=await pe.get(m,v);return i({type:we.ADD_ITEM,payload:{collection:m,item:b}}),b}catch(v){throw console.error(`Failed to add ${m} item:`,v),v}},updateItem:async(m,x)=>{try{return await pe.update(m,x),i({type:we.UPDATE_ITEM,payload:{collection:m,item:x}}),x}catch(v){throw console.error(`Failed to update ${m} item:`,v),v}},deleteItem:async(m,x)=>{try{await pe.delete(m,x),i({type:we.DELETE_ITEM,payload:{collection:m,id:x}})}catch(v){throw console.error(`Failed to delete ${m} item:`,v),v}},getAllOrders:async()=>{try{return await pe.getAll("orders")||[]}catch(m){return console.error("Failed to get all orders:",m),[]}},setSidebarOpen:m=>{i({type:we.SET_SIDEBAR_OPEN,payload:m})},setCurrentView:m=>{i({type:we.SET_CURRENT_VIEW,payload:m})},setLocationFilter:m=>{i({type:we.SET_LOCATION_FILTER,payload:m})},setDateFilter:m=>{i({type:we.SET_DATE_FILTER,payload:m})},addNotification:async m=>{try{const x=await pe.add("notifications",m),v=await pe.get("notifications",x);return i({type:we.ADD_NOTIFICATION,payload:v}),v}catch(x){throw console.error("Failed to add notification:",x),x}},markNotificationRead:async m=>{try{const x=await pe.get("notifications",m);x&&(x.read=!0,await pe.update("notifications",x),i({type:we.MARK_NOTIFICATION_READ,payload:m}))}catch(x){console.error("Failed to mark notification as read:",x)}},updateCompany:async m=>{try{const x=await pe.get("company","profile");if(x){const v={...x,...m,id:"profile"};return await pe.update("company",v),i({type:we.SET_COMPANY,payload:v}),v}else{const v={...m,id:"profile"};return await pe.add("company",v),i({type:we.SET_COMPANY,payload:v}),v}}catch(x){throw console.error("Failed to update company:",x),x}},updateLocations:async m=>{try{const x=await pe.getAll("locations");for(const b of x)await pe.delete("locations",b.id);const v=[];for(const b of m){const S=await pe.add("locations",b),E=await pe.get("locations",S);v.push(E)}return i({type:we.SET_LOCATIONS,payload:v}),v}catch(x){throw console.error("Failed to update locations:",x),x}},refreshData:async()=>{await d()}},auth:Ia};return a.jsx(Bg.Provider,{value:g,children:s})}function Et(){const s=j.useContext(Bg);if(!s)throw new Error("useApp must be used within an AppProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Xx=s=>{const r=pN(s);return r.charAt(0).toUpperCase()+r.slice(1)},Fg=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),xN=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},g)=>j.createElement("svg",{ref:g,...gN,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:Fg("lucide",d),...!f&&!xN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,x])=>j.createElement(m,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(s,r)=>{const i=j.forwardRef(({className:o,...d},f)=>j.createElement(yN,{ref:f,iconNode:r,className:Fg(`lucide-${hN(Xx(s))}`,`lucide-${s}`,o),...d}));return i.displayName=Xx(s),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fl=Ue("bell",vN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],bN=Ue("boxes",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Kx=Ue("building-2",NN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],wN=Ue("building",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ds=Ue("calendar",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zx=Ue("camera",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wx=Ue("chart-column",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MN=Ue("chart-pie",TN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ON=Ue("check",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vg=Ue("chevron-down",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PN=Ue("chevron-up",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Us=Ue("circle-check-big",kN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gg=Ue("circle-x",LN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],IN=Ue("clipboard-list",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jd=Ue("clock",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Co=Ue("database",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ua=Ue("dollar-sign",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],FN=Ue("download",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yf=Ue("eye",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Zo=Ue("factory",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qd=Ue("file-text",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],QN=Ue("funnel",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],KN=Ue("house",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WN=Ue("image",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yg=Ue("mail",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ql=Ue("map-pin",eS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],aS=Ue("menu",tS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],sS=Ue("message-circle",nS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$g=Ue("message-square",lS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ca=Ue("package",rS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Qg=Ue("phone",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=Ue("plus",oS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uS=Ue("save",cS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kn=Ue("search",dS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mS=Ue("send",fS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ef=Ue("settings",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Kr=Ue("shopping-cart",pS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fs=Ue("square-pen",xS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rn=Ue("trash-2",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Jx=Ue("trending-down",yS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Io=Ue("trending-up",vS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Is=Ue("triangle-alert",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Uo=Ue("truck",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],SS=Ue("upload",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],tf=Ue("user-check",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qo=Ue("user",CS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zr=Ue("users",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dn=Ue("x",ES);function eg(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function ai(...s){return r=>{let i=!1;const o=s.map(d=>{const f=eg(d,r);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():eg(s[d],null)}}}}function ht(...s){return j.useCallback(ai(...s),s)}var TS=Symbol.for("react.lazy"),Ho=gf[" use ".trim().toString()];function MS(s){return typeof s=="object"&&s!==null&&"then"in s}function Xg(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===TS&&"_payload"in s&&MS(s._payload)}function Kg(s){const r=DS(s),i=j.forwardRef((o,d)=>{let{children:f,...h}=o;Xg(f)&&typeof Ho=="function"&&(f=Ho(f._payload));const p=j.Children.toArray(f),g=p.find(RS);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}var Zg=Kg("Slot");function DS(s){const r=j.forwardRef((i,o)=>{let{children:d,...f}=i;if(Xg(d)&&typeof Ho=="function"&&(d=Ho(d._payload)),j.isValidElement(d)){const h=PS(d),p=_S(f,d.props);return d.type!==j.Fragment&&(p.ref=o?ai(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var OS=Symbol("radix.slottable");function RS(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===OS}function _S(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function PS(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Wg(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(r=0;r<d;r++)s[r]&&(i=Wg(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function Jg(){for(var s,r,i=0,o="",d=arguments.length;i<d;i++)(s=arguments[i])&&(r=Wg(s))&&(o&&(o+=" "),o+=r);return o}const tg=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,ag=Jg,ey=(s,r)=>i=>{var o;if((r==null?void 0:r.variants)==null)return ag(s,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:d,defaultVariants:f}=r,h=Object.keys(d).map(m=>{const x=i==null?void 0:i[m],v=f==null?void 0:f[m];if(x===null)return null;const b=tg(x)||tg(v);return d[m][b]}),p=i&&Object.entries(i).reduce((m,x)=>{let[v,b]=x;return b===void 0||(m[v]=b),m},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((m,x)=>{let{class:v,className:b,...S}=x;return Object.entries(S).every(E=>{let[w,N]=E;return Array.isArray(N)?N.includes({...f,...p}[w]):{...f,...p}[w]===N})?[...m,v,b]:m},[]);return ag(s,h,g,i==null?void 0:i.class,i==null?void 0:i.className)},kS=(s,r)=>{const i=new Array(s.length+r.length);for(let o=0;o<s.length;o++)i[o]=s[o];for(let o=0;o<r.length;o++)i[s.length+o]=r[o];return i},LS=(s,r)=>({classGroupId:s,validator:r}),ty=(s=new Map,r=null,i)=>({nextPart:s,validators:r,classGroupId:i}),Bo="-",ng=[],zS="arbitrary..",IS=s=>{const r=qS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return US(h);const p=h.split(Bo),g=p[0]===""&&p.length>1?1:0;return ay(p,g,r)},getConflictingClassGroupIds:(h,p)=>{if(p){const g=o[h],m=i[h];return g?m?kS(m,g):g:m||ng}return i[h]||ng}}},ay=(s,r,i)=>{if(s.length-r===0)return i.classGroupId;const d=s[r],f=i.nextPart.get(d);if(f){const m=ay(s,r+1,f);if(m)return m}const h=i.validators;if(h===null)return;const p=r===0?s.join(Bo):s.slice(r).join(Bo),g=h.length;for(let m=0;m<g;m++){const x=h[m];if(x.validator(p))return x.classGroupId}},US=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=s.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?zS+o:void 0})(),qS=s=>{const{theme:r,classGroups:i}=s;return HS(i,r)},HS=(s,r)=>{const i=ty();for(const o in s){const d=s[o];vf(d,i,o,r)}return i},vf=(s,r,i,o)=>{const d=s.length;for(let f=0;f<d;f++){const h=s[f];BS(h,r,i,o)}},BS=(s,r,i,o)=>{if(typeof s=="string"){FS(s,r,i);return}if(typeof s=="function"){VS(s,r,i,o);return}GS(s,r,i,o)},FS=(s,r,i)=>{const o=s===""?r:ny(r,s);o.classGroupId=i},VS=(s,r,i,o)=>{if(YS(s)){vf(s(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(LS(i,s))},GS=(s,r,i,o)=>{const d=Object.entries(s),f=d.length;for(let h=0;h<f;h++){const[p,g]=d[h];vf(g,ny(r,p),i,o)}},ny=(s,r)=>{let i=s;const o=r.split(Bo),d=o.length;for(let f=0;f<d;f++){const h=o[f];let p=i.nextPart.get(h);p||(p=ty(),i.nextPart.set(h,p)),i=p}return i},YS=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,$S=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const d=(f,h)=>{i[f]=h,r++,r>s&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return d(f,h),h},set(f,h){f in i?i[f]=h:d(f,h)}}},af="!",sg=":",QS=[],lg=(s,r,i,o,d)=>({modifiers:s,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:d}),XS=s=>{const{prefix:r,experimentalParseClassName:i}=s;let o=d=>{const f=[];let h=0,p=0,g=0,m;const x=d.length;for(let w=0;w<x;w++){const N=d[w];if(h===0&&p===0){if(N===sg){f.push(d.slice(g,w)),g=w+1;continue}if(N==="/"){m=w;continue}}N==="["?h++:N==="]"?h--:N==="("?p++:N===")"&&p--}const v=f.length===0?d:d.slice(g);let b=v,S=!1;v.endsWith(af)?(b=v.slice(0,-1),S=!0):v.startsWith(af)&&(b=v.slice(1),S=!0);const E=m&&m>g?m-g:void 0;return lg(f,S,b,E)};if(r){const d=r+sg,f=o;o=h=>h.startsWith(d)?f(h.slice(d.length)):lg(QS,!1,h,void 0,!0)}if(i){const d=o;o=f=>i({className:f,parseClassName:d})}return o},KS=s=>{const r=new Map;return s.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let d=[];for(let f=0;f<i.length;f++){const h=i[f],p=h[0]==="[",g=r.has(h);p||g?(d.length>0&&(d.sort(),o.push(...d),d=[]),o.push(h)):d.push(h)}return d.length>0&&(d.sort(),o.push(...d)),o}},ZS=s=>({cache:$S(s.cacheSize),parseClassName:XS(s),sortModifiers:KS(s),...IS(s)}),WS=/\s+/,JS=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:d,sortModifiers:f}=r,h=[],p=s.trim().split(WS);let g="";for(let m=p.length-1;m>=0;m-=1){const x=p[m],{isExternal:v,modifiers:b,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:w}=i(x);if(v){g=x+(g.length>0?" "+g:g);continue}let N=!!w,P=o(N?E.substring(0,w):E);if(!P){if(!N){g=x+(g.length>0?" "+g:g);continue}if(P=o(E),!P){g=x+(g.length>0?" "+g:g);continue}N=!1}const T=b.length===0?"":b.length===1?b[0]:f(b).join(":"),M=S?T+af:T,D=M+P;if(h.indexOf(D)>-1)continue;h.push(D);const A=d(P,N);for(let R=0;R<A.length;++R){const z=A[R];h.push(M+z)}g=x+(g.length>0?" "+g:g)}return g},ew=(...s)=>{let r=0,i,o,d="";for(;r<s.length;)(i=s[r++])&&(o=sy(i))&&(d&&(d+=" "),d+=o);return d},sy=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=sy(s[o]))&&(i&&(i+=" "),i+=r);return i},tw=(s,...r)=>{let i,o,d,f;const h=g=>{const m=r.reduce((x,v)=>v(x),s());return i=ZS(m),o=i.cache.get,d=i.cache.set,f=p,p(g)},p=g=>{const m=o(g);if(m)return m;const x=JS(g,i);return d(g,x),x};return f=h,(...g)=>f(ew(...g))},aw=[],Ut=s=>{const r=i=>i[s]||aw;return r.isThemeGetter=!0,r},ly=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ry=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nw=/^\d+\/\d+$/,sw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ow=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ll=s=>nw.test(s),Ye=s=>!!s&&!Number.isNaN(Number(s)),cs=s=>!!s&&Number.isInteger(Number(s)),Hd=s=>s.endsWith("%")&&Ye(s.slice(0,-1)),Mn=s=>sw.test(s),cw=()=>!0,uw=s=>lw.test(s)&&!rw.test(s),iy=()=>!1,dw=s=>iw.test(s),fw=s=>ow.test(s),mw=s=>!Ee(s)&&!Te(s),hw=s=>Yl(s,uy,iy),Ee=s=>ly.test(s),Ls=s=>Yl(s,dy,uw),Bd=s=>Yl(s,vw,Ye),rg=s=>Yl(s,oy,iy),pw=s=>Yl(s,cy,fw),Ao=s=>Yl(s,fy,dw),Te=s=>ry.test(s),Gr=s=>$l(s,dy),xw=s=>$l(s,jw),ig=s=>$l(s,oy),gw=s=>$l(s,uy),yw=s=>$l(s,cy),Eo=s=>$l(s,fy,!0),Yl=(s,r,i)=>{const o=ly.exec(s);return o?o[1]?r(o[1]):i(o[2]):!1},$l=(s,r,i=!1)=>{const o=ry.exec(s);return o?o[1]?r(o[1]):i:!1},oy=s=>s==="position"||s==="percentage",cy=s=>s==="image"||s==="url",uy=s=>s==="length"||s==="size"||s==="bg-size",dy=s=>s==="length",vw=s=>s==="number",jw=s=>s==="family-name",fy=s=>s==="shadow",bw=()=>{const s=Ut("color"),r=Ut("font"),i=Ut("text"),o=Ut("font-weight"),d=Ut("tracking"),f=Ut("leading"),h=Ut("breakpoint"),p=Ut("container"),g=Ut("spacing"),m=Ut("radius"),x=Ut("shadow"),v=Ut("inset-shadow"),b=Ut("text-shadow"),S=Ut("drop-shadow"),E=Ut("blur"),w=Ut("perspective"),N=Ut("aspect"),P=Ut("ease"),T=Ut("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...D(),Te,Ee],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],H=()=>[Te,Ee,g],se=()=>[Ll,"full","auto",...H()],B=()=>[cs,"none","subgrid",Te,Ee],F=()=>["auto",{span:["full",cs,Te,Ee]},cs,Te,Ee],U=()=>[cs,"auto",Te,Ee],ne=()=>["auto","min","max","fr",Te,Ee],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...H()],X=()=>[Ll,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],V=()=>[s,Te,Ee],ie=()=>[...D(),ig,rg,{position:[Te,Ee]}],je=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",gw,hw,{size:[Te,Ee]}],ee=()=>[Hd,Gr,Ls],de=()=>["","none","full",m,Te,Ee],he=()=>["",Ye,Gr,Ls],q=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Ye,Hd,ig,rg],_e=()=>["","none",E,Te,Ee],Y=()=>["none",Ye,Te,Ee],ge=()=>["none",Ye,Te,Ee],Se=()=>[Ye,Te,Ee],Ce=()=>[Ll,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mn],breakpoint:[Mn],color:[cw],container:[Mn],"drop-shadow":[Mn],ease:["in","out","in-out"],font:[mw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mn],shadow:[Mn],spacing:["px",Ye],text:[Mn],"text-shadow":[Mn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ll,Ee,Te,N]}],container:["container"],columns:[{columns:[Ye,Ee,Te,p]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[cs,"auto",Te,Ee]}],basis:[{basis:[Ll,"full","auto",p,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Ll,"auto","initial","none",Ee]}],grow:[{grow:["",Ye,Te,Ee]}],shrink:[{shrink:["",Ye,Te,Ee]}],order:[{order:[cs,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[p,"screen",...X()]}],"min-w":[{"min-w":[p,"screen","none",...X()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",i,Gr,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Te,Bd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hd,Ee]}],"font-family":[{font:[xw,Ee,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,Te,Ee]}],"line-clamp":[{"line-clamp":[Ye,"none",Te,Bd]}],leading:[{leading:[f,...H()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Te,Ls]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Ye,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:je()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cs,Te,Ee],radial:["",Te,Ee],conic:[cs,Te,Ee]},yw,pw]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Te,Ee]}],"outline-w":[{outline:["",Ye,Gr,Ls]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",x,Eo,Ao]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",v,Eo,Ao]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Ye,Ls]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",b,Eo,Ao]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Ye,Te,Ee]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:je()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:_e()}],brightness:[{brightness:[Ye,Te,Ee]}],contrast:[{contrast:[Ye,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",S,Eo,Ao]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Ye,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Ye,Te,Ee]}],invert:[{invert:["",Ye,Te,Ee]}],saturate:[{saturate:[Ye,Te,Ee]}],sepia:[{sepia:["",Ye,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Te,Ee]}],ease:[{ease:["linear","initial",P,Te,Ee]}],delay:[{delay:[Ye,Te,Ee]}],animate:[{animate:["none",T,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Te,Ee]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Ye,Gr,Ls,Bd]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nw=tw(bw);function $e(...s){return Nw(Jg(s))}function ze(s){return s==null?"NPR 0":`NPR ${Number(s).toLocaleString("en-NP")}`}function On(s){return s?new Date(s).toLocaleDateString("en-NP",{year:"numeric",month:"short",day:"numeric"}):""}function og(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function cg(s){return/^(\+977)?[0-9]{10}$/.test(s.replace(/\s/g,""))}function Sw(s,r){const i=s.replace(/\D/g,""),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function ww(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||""}const zs={PENDING_APPROVAL:{value:"pending_approval"},APPROVED:{value:"approved"},IN_PRODUCTION:{value:"in_production"},COMPLETED:{value:"completed"},READY_FOR_DELIVERY:{value:"ready_for_delivery"},DELIVERED:{value:"delivered"},CANCELLED:{value:"cancelled"}},Cw={supplierPayment:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

Dear ${r},

This is a confirmation for our recent transaction.

*Items Received:*
${i.map(h=>`- ${h.name}: ${h.quantity} ${h.unit}`).join(`
`)}

*Financials:*
- Amount Paid Today: ${ze(o)}
- Remaining Balance: ${ze(d)}

${f?"A copy of the payment receipt is attached.":""}

Thank you!

*${s.name}*
${s.phone}`,customerPaymentReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder that your payment of ${ze(i)} is due on ${On(o)}.

Thank you for your business!

*${s.name}*
${s.address}
${s.phone}`,cleaningReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder from *${s.name}* about your sofa cleaning appointment tomorrow at ${o}.

We look forward to serving you!

Sincerely,
*The Team at ${s.name}*
${s.address}
${s.phone}`,accountSettlement:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

*Subject: Statement of Account Settlement*

Dear ${r},

This is a confirmation from *${s.name}* that we have settled our mutual accounts.

*Summary:*
- Amount you were owed: ${ze(i)}
- Amount you owed us: ${ze(o)}

*Settlement:*
- The ${ze(i)} you were owed has been settled against the ${ze(o)} you owed us.

*FINAL RESULT:*
${d===0?"- Account settled. Balance is 0.":f?`- Your new remaining balance due to us is ${ze(Math.abs(d))}.`:`- Our new remaining balance due to you is ${ze(Math.abs(d))}.`}

Thank you.

*${s.name}*
${s.phone}`,orderStatus:(s,r,i,o)=>{let d="";switch(o){case zs.PENDING_APPROVAL.value:d=`Your order #${i} has been received and is awaiting approval. We will notify you when production begins.`;break;case zs.APPROVED.value:d=`Great news, ${r}! Your order #${i} has been approved and will enter production soon.`;break;case zs.IN_PRODUCTION.value:d=`Production has started! Your order #${i} is now being crafted. We are working hard to complete your items.`;break;case zs.COMPLETED.value:d=`Your order #${i} production is complete! We will prepare it for delivery soon.`;break;case zs.READY_FOR_DELIVERY.value:d=`Congratulations, ${r}! Your order #${i} is ready for delivery. Please contact us to arrange delivery.`;break;case zs.DELIVERED.value:d=`Your order #${i} has been delivered successfully. Thank you for choosing us!`;break;case zs.CANCELLED.value:d=`Your order #${i} has been cancelled. Please contact us if you have any questions.`;break;default:d=`The status of your order #${i} has been updated to "${o}".`}return`*${s.name}*

Hi ${r},

${d}

Thank you for your business!

*${s.name}*
${s.phone}`},monthlyLabourReport:(s,r,i,o)=>`*${s.name}*

The Monthly Labour Report for ${ww(r)} ${i} is ready.

Total payroll for the month: ${ze(o)}

Please review the detailed report in the app.

*${s.name}*`},Aw=ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ue({className:s,variant:r,size:i,asChild:o=!1,...d}){const f=o?Zg:"button";return a.jsx(f,{"data-slot":"button",className:$e(Aw({variant:r,size:i,className:s})),...d})}const Ew=ey("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function He({className:s,variant:r,asChild:i=!1,...o}){const d=i?Zg:"span";return a.jsx(d,{"data-slot":"badge",className:$e(Ew({variant:r}),s),...o})}const Tw=[{id:"dashboard",label:"Dashboard",icon:KN,roles:["admin","staff","labour_manager"]},{id:"inventory",label:"Inventory",icon:Ca,roles:["admin","staff","labour_manager"],children:[{id:"raw-materials",label:"Raw Materials",icon:Zo},{id:"finished-products",label:"Finished Products",icon:Ca}]},{id:"suppliers",label:"Suppliers",icon:Uo,roles:["admin","staff"]},{id:"customers",label:"Customers",icon:Zr,roles:["admin","staff"]},{id:"labour",label:"Labour",icon:tf,roles:["admin","labour_manager"]},{id:"sales",label:"Sales",icon:Kr,roles:["admin","staff"]},{id:"purchases",label:"Purchases",icon:Ua,roles:["admin","staff"]},{id:"financials",label:"Financials",icon:Wx,roles:["admin"]},{id:"cleaning",label:"Cleaning Services",icon:ds,roles:["admin","staff"]},{id:"orders",label:"Orders",icon:Kr,roles:["admin","staff"]},{id:"reports",label:"Reports",icon:Wx,roles:["admin","labour_manager"]},{id:"notifications",label:"Notifications",icon:Fl,roles:["admin","staff"],children:[{id:"notification-queue",label:"Notification Queue",icon:Fl},{id:"notification-settings",label:"Settings",icon:ef}]},{id:"settings",label:"Settings",icon:ef,roles:["admin"]}];function Mw(){var v,b;const{state:s,actions:r}=Et(),{sidebarOpen:i,currentView:o,notifications:d,user:f}=s,h=f,p=d.filter(S=>!S.read).length,g=S=>h?S.roles.includes(h.role):!1,m=S=>{r.setCurrentView(S),window.innerWidth<768&&r.setSidebarOpen(!1)},x=()=>{r.setSidebarOpen(!i)};return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r.setSidebarOpen(!1)}),a.jsxs("div",{className:$e("fixed left-0 top-0 h-full bg-slate-800 text-white z-50 transform transition-transform duration-300 ease-in-out","w-64 md:w-72",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0"),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:a.jsx(Zo,{className:"w-5 h-5 text-slate-800"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Sofa Factory"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:x,className:"md:hidden text-white hover:bg-slate-700",children:a.jsx(Dn,{className:"w-4 h-4"})})]}),h&&a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium",children:((b=(v=h.name)==null?void 0:v.charAt(0))==null?void 0:b.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),a.jsx("p",{className:"text-xs text-slate-400 capitalize",children:h.role.replace("_"," ")})]}),p>0&&a.jsx(He,{variant:"destructive",className:"text-xs",children:p})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("ul",{className:"space-y-2",children:Tw.map(S=>{if(!g(S))return null;const E=S.icon,w=o===S.id||S.children&&S.children.some(N=>o===N.id);return a.jsxs("li",{children:[a.jsxs(ue,{variant:"ghost",className:$e("w-full justify-start text-left hover:bg-slate-700",w&&"bg-slate-700 text-amber-400"),onClick:()=>m(S.id),children:[a.jsx(E,{className:"w-4 h-4 mr-3"}),S.label,S.id==="dashboard"&&p>0&&a.jsx(He,{variant:"destructive",className:"ml-auto text-xs",children:p})]}),S.children&&w&&a.jsx("ul",{className:"ml-6 mt-2 space-y-1",children:S.children.map(N=>{const P=N.icon,T=o===N.id;return a.jsx("li",{children:a.jsxs(ue,{variant:"ghost",size:"sm",className:$e("w-full justify-start text-left hover:bg-slate-700",T&&"bg-slate-600 text-amber-400"),onClick:()=>m(N.id),children:[a.jsx(P,{className:"w-3 h-3 mr-2"}),N.label]})},N.id)})})]},S.id)})})}),a.jsx("div",{className:"p-4 border-t border-slate-700",children:a.jsxs(ue,{variant:"ghost",className:"w-full justify-start text-left hover:bg-slate-700 text-slate-400",onClick:r.logout,children:[a.jsx(ef,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]})}function Dw(){const{actions:s}=Et();return a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>s.setSidebarOpen(!0),className:"md:hidden",children:a.jsx(aS,{className:"w-5 h-5"})})}var ni=qg();const Ow=Ug(ni);function ug(s,[r,i]){return Math.min(i,Math.max(r,s))}function Re(s,r,{checkForDefaultPrevented:i=!0}={}){return function(d){if(s==null||s(d),i===!1||!d.defaultPrevented)return r==null?void 0:r(d)}}function Rw(s,r){const i=j.createContext(r),o=f=>{const{children:h,...p}=f,g=j.useMemo(()=>p,Object.values(p));return a.jsx(i.Provider,{value:g,children:h})};o.displayName=s+"Provider";function d(f){const h=j.useContext(i);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[o,d]}function Ln(s,r=[]){let i=[];function o(f,h){const p=j.createContext(h),g=i.length;i=[...i,h];const m=v=>{var P;const{scope:b,children:S,...E}=v,w=((P=b==null?void 0:b[s])==null?void 0:P[g])||p,N=j.useMemo(()=>E,Object.values(E));return a.jsx(w.Provider,{value:N,children:S})};m.displayName=f+"Provider";function x(v,b){var w;const S=((w=b==null?void 0:b[s])==null?void 0:w[g])||p,E=j.useContext(S);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${f}\``)}return[m,x]}const d=()=>{const f=i.map(h=>j.createContext(h));return function(p){const g=(p==null?void 0:p[s])||f;return j.useMemo(()=>({[`__scope${s}`]:{...p,[s]:g}}),[p,g])}};return d.scopeName=s,[o,_w(d,...r)]}function _w(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const h=o.reduce((p,{useScope:g,scopeName:m})=>{const v=g(f)[`__scope${m}`];return{...p,...v}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:h}),[h])}};return i.scopeName=r.scopeName,i}function Vl(s){const r=Pw(s),i=j.forwardRef((o,d)=>{const{children:f,...h}=o,p=j.Children.toArray(f),g=p.find(Lw);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}function Pw(s){const r=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const h=Iw(d),p=zw(f,d.props);return d.type!==j.Fragment&&(p.ref=o?ai(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var kw=Symbol("radix.slottable");function Lw(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===kw}function zw(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function Iw(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function jf(s){const r=s+"CollectionProvider",[i,o]=Ln(r),[d,f]=i(r,{collectionRef:{current:null},itemMap:new Map}),h=w=>{const{scope:N,children:P}=w,T=Ya.useRef(null),M=Ya.useRef(new Map).current;return a.jsx(d,{scope:N,itemMap:M,collectionRef:T,children:P})};h.displayName=r;const p=s+"CollectionSlot",g=Vl(p),m=Ya.forwardRef((w,N)=>{const{scope:P,children:T}=w,M=f(p,P),D=ht(N,M.collectionRef);return a.jsx(g,{ref:D,children:T})});m.displayName=p;const x=s+"CollectionItemSlot",v="data-radix-collection-item",b=Vl(x),S=Ya.forwardRef((w,N)=>{const{scope:P,children:T,...M}=w,D=Ya.useRef(null),A=ht(N,D),R=f(x,P);return Ya.useEffect(()=>(R.itemMap.set(D,{ref:D,...M}),()=>void R.itemMap.delete(D))),a.jsx(b,{[v]:"",ref:A,children:T})});S.displayName=x;function E(w){const N=f(s+"CollectionConsumer",w);return Ya.useCallback(()=>{const T=N.collectionRef.current;if(!T)return[];const M=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(N.itemMap.values()).sort((R,z)=>M.indexOf(R.ref.current)-M.indexOf(z.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:h,Slot:m,ItemSlot:S},E,o]}var Uw=j.createContext(void 0);function Wo(s){const r=j.useContext(Uw);return s||r||"ltr"}var qw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=qw.reduce((s,r)=>{const i=Vl(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function my(s,r){s&&ni.flushSync(()=>s.dispatchEvent(r))}function rn(s){const r=j.useRef(s);return j.useEffect(()=>{r.current=s}),j.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Hw(s,r=globalThis==null?void 0:globalThis.document){const i=rn(s);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Bw="DismissableLayer",nf="dismissableLayer.update",Fw="dismissableLayer.pointerDownOutside",Vw="dismissableLayer.focusOutside",dg,hy=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jo=j.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,...g}=s,m=j.useContext(hy),[x,v]=j.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=j.useState({}),E=ht(r,z=>v(z)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=w.indexOf(N),T=x?w.indexOf(x):-1,M=m.layersWithOutsidePointerEventsDisabled.size>0,D=T>=P,A=$w(z=>{const H=z.target,se=[...m.branches].some(B=>B.contains(H));!D||se||(d==null||d(z),h==null||h(z),z.defaultPrevented||p==null||p())},b),R=Qw(z=>{const H=z.target;[...m.branches].some(B=>B.contains(H))||(f==null||f(z),h==null||h(z),z.defaultPrevented||p==null||p())},b);return Hw(z=>{T===m.layers.size-1&&(o==null||o(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},b),j.useEffect(()=>{if(x)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),fg(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=dg)}},[x,b,i,m]),j.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),fg())},[x,m]),j.useEffect(()=>{const z=()=>S({});return document.addEventListener(nf,z),()=>document.removeEventListener(nf,z)},[]),a.jsx(Ge.div,{...g,ref:E,style:{pointerEvents:M?D?"auto":"none":void 0,...s.style},onFocusCapture:Re(s.onFocusCapture,R.onFocusCapture),onBlurCapture:Re(s.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Re(s.onPointerDownCapture,A.onPointerDownCapture)})});Jo.displayName=Bw;var Gw="DismissableLayerBranch",Yw=j.forwardRef((s,r)=>{const i=j.useContext(hy),o=j.useRef(null),d=ht(r,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),a.jsx(Ge.div,{...s,ref:d})});Yw.displayName=Gw;function $w(s,r=globalThis==null?void 0:globalThis.document){const i=rn(s),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=p=>{if(p.target&&!o.current){let g=function(){py(Fw,i,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=g,r.addEventListener("click",d.current,{once:!0})):g()}else r.removeEventListener("click",d.current);o.current=!1},h=window.setTimeout(()=>{r.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(h),r.removeEventListener("pointerdown",f),r.removeEventListener("click",d.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Qw(s,r=globalThis==null?void 0:globalThis.document){const i=rn(s),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&py(Vw,i,{originalEvent:f},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function fg(){const s=new CustomEvent(nf);document.dispatchEvent(s)}function py(s,r,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&d.addEventListener(s,r,{once:!0}),o?my(d,f):d.dispatchEvent(f)}var Fd=0;function bf(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??mg()),document.body.insertAdjacentElement("beforeend",s[1]??mg()),Fd++,()=>{Fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Fd--}},[])}function mg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Vd="focusScope.autoFocusOnMount",Gd="focusScope.autoFocusOnUnmount",hg={bubbles:!1,cancelable:!0},Xw="FocusScope",ec=j.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...h}=s,[p,g]=j.useState(null),m=rn(d),x=rn(f),v=j.useRef(null),b=ht(r,w=>g(w)),S=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let w=function(M){if(S.paused||!p)return;const D=M.target;p.contains(D)?v.current=D:us(v.current,{select:!0})},N=function(M){if(S.paused||!p)return;const D=M.relatedTarget;D!==null&&(p.contains(D)||us(v.current,{select:!0}))},P=function(M){if(document.activeElement===document.body)for(const A of M)A.removedNodes.length>0&&us(p)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const T=new MutationObserver(P);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),T.disconnect()}}},[o,p,S.paused]),j.useEffect(()=>{if(p){xg.add(S);const w=document.activeElement;if(!p.contains(w)){const P=new CustomEvent(Vd,hg);p.addEventListener(Vd,m),p.dispatchEvent(P),P.defaultPrevented||(Kw(t1(xy(p)),{select:!0}),document.activeElement===w&&us(p))}return()=>{p.removeEventListener(Vd,m),setTimeout(()=>{const P=new CustomEvent(Gd,hg);p.addEventListener(Gd,x),p.dispatchEvent(P),P.defaultPrevented||us(w??document.body,{select:!0}),p.removeEventListener(Gd,x),xg.remove(S)},0)}}},[p,m,x,S]);const E=j.useCallback(w=>{if(!i&&!o||S.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,P=document.activeElement;if(N&&P){const T=w.currentTarget,[M,D]=Zw(T);M&&D?!w.shiftKey&&P===D?(w.preventDefault(),i&&us(M,{select:!0})):w.shiftKey&&P===M&&(w.preventDefault(),i&&us(D,{select:!0})):P===T&&w.preventDefault()}},[i,o,S.paused]);return a.jsx(Ge.div,{tabIndex:-1,...h,ref:b,onKeyDown:E})});ec.displayName=Xw;function Kw(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(us(o,{select:r}),document.activeElement!==i)return}function Zw(s){const r=xy(s),i=pg(r,s),o=pg(r.reverse(),s);return[i,o]}function xy(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function pg(s,r){for(const i of s)if(!Ww(i,{upTo:r}))return i}function Ww(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function Jw(s){return s instanceof HTMLInputElement&&"select"in s}function us(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&Jw(s)&&r&&s.select()}}var xg=e1();function e1(){let s=[];return{add(r){const i=s[0];r!==i&&(i==null||i.pause()),s=gg(s,r),s.unshift(r)},remove(r){var i;s=gg(s,r),(i=s[0])==null||i.resume()}}}function gg(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function t1(s){return s.filter(r=>r.tagName!=="A")}var sa=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},a1=gf[" useId ".trim().toString()]||(()=>{}),n1=0;function sn(s){const[r,i]=j.useState(a1());return sa(()=>{i(o=>o??String(n1++))},[s]),s||(r?`radix-${r}`:"")}const s1=["top","right","bottom","left"],ms=Math.min,wa=Math.max,Fo=Math.round,To=Math.floor,ln=s=>({x:s,y:s}),l1={left:"right",right:"left",bottom:"top",top:"bottom"},r1={start:"end",end:"start"};function sf(s,r,i){return wa(s,ms(r,i))}function _n(s,r){return typeof s=="function"?s(r):s}function Pn(s){return s.split("-")[0]}function Ql(s){return s.split("-")[1]}function Nf(s){return s==="x"?"y":"x"}function Sf(s){return s==="y"?"height":"width"}const i1=new Set(["top","bottom"]);function nn(s){return i1.has(Pn(s))?"y":"x"}function wf(s){return Nf(nn(s))}function o1(s,r,i){i===void 0&&(i=!1);const o=Ql(s),d=wf(s),f=Sf(d);let h=d==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[f]>r.floating[f]&&(h=Vo(h)),[h,Vo(h)]}function c1(s){const r=Vo(s);return[lf(s),r,lf(r)]}function lf(s){return s.replace(/start|end/g,r=>r1[r])}const yg=["left","right"],vg=["right","left"],u1=["top","bottom"],d1=["bottom","top"];function f1(s,r,i){switch(s){case"top":case"bottom":return i?r?vg:yg:r?yg:vg;case"left":case"right":return r?u1:d1;default:return[]}}function m1(s,r,i,o){const d=Ql(s);let f=f1(Pn(s),i==="start",o);return d&&(f=f.map(h=>h+"-"+d),r&&(f=f.concat(f.map(lf)))),f}function Vo(s){return s.replace(/left|right|bottom|top/g,r=>l1[r])}function h1(s){return{top:0,right:0,bottom:0,left:0,...s}}function gy(s){return typeof s!="number"?h1(s):{top:s,right:s,bottom:s,left:s}}function Go(s){const{x:r,y:i,width:o,height:d}=s;return{width:o,height:d,top:i,left:r,right:r+o,bottom:i+d,x:r,y:i}}function jg(s,r,i){let{reference:o,floating:d}=s;const f=nn(r),h=wf(r),p=Sf(h),g=Pn(r),m=f==="y",x=o.x+o.width/2-d.width/2,v=o.y+o.height/2-d.height/2,b=o[p]/2-d[p]/2;let S;switch(g){case"top":S={x,y:o.y-d.height};break;case"bottom":S={x,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:v};break;case"left":S={x:o.x-d.width,y:v};break;default:S={x:o.x,y:o.y}}switch(Ql(r)){case"start":S[h]-=b*(i&&m?-1:1);break;case"end":S[h]+=b*(i&&m?-1:1);break}return S}const p1=async(s,r,i)=>{const{placement:o="bottom",strategy:d="absolute",middleware:f=[],platform:h}=i,p=f.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(r));let m=await h.getElementRects({reference:s,floating:r,strategy:d}),{x,y:v}=jg(m,o,g),b=o,S={},E=0;for(let w=0;w<p.length;w++){const{name:N,fn:P}=p[w],{x:T,y:M,data:D,reset:A}=await P({x,y:v,initialPlacement:o,placement:b,strategy:d,middlewareData:S,rects:m,platform:h,elements:{reference:s,floating:r}});x=T??x,v=M??v,S={...S,[N]:{...S[N],...D}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(m=A.rects===!0?await h.getElementRects({reference:s,floating:r,strategy:d}):A.rects),{x,y:v}=jg(m,b,g)),w=-1)}return{x,y:v,placement:b,strategy:d,middlewareData:S}};async function Wr(s,r){var i;r===void 0&&(r={});const{x:o,y:d,platform:f,rects:h,elements:p,strategy:g}=s,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=_n(r,s),E=gy(S),N=p[b?v==="floating"?"reference":"floating":v],P=Go(await f.getClippingRect({element:(i=await(f.isElement==null?void 0:f.isElement(N)))==null||i?N:N.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(p.floating)),boundary:m,rootBoundary:x,strategy:g})),T=v==="floating"?{x:o,y:d,width:h.floating.width,height:h.floating.height}:h.reference,M=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p.floating)),D=await(f.isElement==null?void 0:f.isElement(M))?await(f.getScale==null?void 0:f.getScale(M))||{x:1,y:1}:{x:1,y:1},A=Go(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:T,offsetParent:M,strategy:g}):T);return{top:(P.top-A.top+E.top)/D.y,bottom:(A.bottom-P.bottom+E.bottom)/D.y,left:(P.left-A.left+E.left)/D.x,right:(A.right-P.right+E.right)/D.x}}const x1=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:d,rects:f,platform:h,elements:p,middlewareData:g}=r,{element:m,padding:x=0}=_n(s,r)||{};if(m==null)return{};const v=gy(x),b={x:i,y:o},S=wf(d),E=Sf(S),w=await h.getDimensions(m),N=S==="y",P=N?"top":"left",T=N?"bottom":"right",M=N?"clientHeight":"clientWidth",D=f.reference[E]+f.reference[S]-b[S]-f.floating[E],A=b[S]-f.reference[S],R=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let z=R?R[M]:0;(!z||!await(h.isElement==null?void 0:h.isElement(R)))&&(z=p.floating[M]||f.floating[E]);const H=D/2-A/2,se=z/2-w[E]/2-1,B=ms(v[P],se),F=ms(v[T],se),U=B,ne=z-w[E]-F,$=z/2-w[E]/2+H,xe=sf(U,$,ne),L=!g.arrow&&Ql(d)!=null&&$!==xe&&f.reference[E]/2-($<U?B:F)-w[E]/2<0,X=L?$<U?$-U:$-ne:0;return{[S]:b[S]+X,data:{[S]:xe,centerOffset:$-xe-X,...L&&{alignmentOffset:X}},reset:L}}}),g1=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:d,middlewareData:f,rects:h,initialPlacement:p,platform:g,elements:m}=r,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...N}=_n(s,r);if((i=f.arrow)!=null&&i.alignmentOffset)return{};const P=Pn(d),T=nn(p),M=Pn(p)===p,D=await(g.isRTL==null?void 0:g.isRTL(m.floating)),A=b||(M||!w?[Vo(p)]:c1(p)),R=E!=="none";!b&&R&&A.push(...m1(p,w,E,D));const z=[p,...A],H=await Wr(r,N),se=[];let B=((o=f.flip)==null?void 0:o.overflows)||[];if(x&&se.push(H[P]),v){const $=o1(d,h,D);se.push(H[$[0]],H[$[1]])}if(B=[...B,{placement:d,overflows:se}],!se.every($=>$<=0)){var F,U;const $=(((F=f.flip)==null?void 0:F.index)||0)+1,xe=z[$];if(xe&&(!(v==="alignment"?T!==nn(xe):!1)||B.every(V=>nn(V.placement)===T?V.overflows[0]>0:!0)))return{data:{index:$,overflows:B},reset:{placement:xe}};let L=(U=B.filter(X=>X.overflows[0]<=0).sort((X,V)=>X.overflows[1]-V.overflows[1])[0])==null?void 0:U.placement;if(!L)switch(S){case"bestFit":{var ne;const X=(ne=B.filter(V=>{if(R){const ie=nn(V.placement);return ie===T||ie==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ie=>ie>0).reduce((ie,je)=>ie+je,0)]).sort((V,ie)=>V[1]-ie[1])[0])==null?void 0:ne[0];X&&(L=X);break}case"initialPlacement":L=p;break}if(d!==L)return{reset:{placement:L}}}return{}}}};function bg(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function Ng(s){return s1.some(r=>s[r]>=0)}const y1=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...d}=_n(s,r);switch(o){case"referenceHidden":{const f=await Wr(r,{...d,elementContext:"reference"}),h=bg(f,i.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ng(h)}}}case"escaped":{const f=await Wr(r,{...d,altBoundary:!0}),h=bg(f,i.floating);return{data:{escapedOffsets:h,escaped:Ng(h)}}}default:return{}}}}},yy=new Set(["left","top"]);async function v1(s,r){const{placement:i,platform:o,elements:d}=s,f=await(o.isRTL==null?void 0:o.isRTL(d.floating)),h=Pn(i),p=Ql(i),g=nn(i)==="y",m=yy.has(h)?-1:1,x=f&&g?-1:1,v=_n(r,s);let{mainAxis:b,crossAxis:S,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return p&&typeof E=="number"&&(S=p==="end"?E*-1:E),g?{x:S*x,y:b*m}:{x:b*m,y:S*x}}const j1=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:d,y:f,placement:h,middlewareData:p}=r,g=await v1(r,s);return h===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:d+g.x,y:f+g.y,data:{...g,placement:h}}}}},b1=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:d}=r,{mainAxis:f=!0,crossAxis:h=!1,limiter:p={fn:N=>{let{x:P,y:T}=N;return{x:P,y:T}}},...g}=_n(s,r),m={x:i,y:o},x=await Wr(r,g),v=nn(Pn(d)),b=Nf(v);let S=m[b],E=m[v];if(f){const N=b==="y"?"top":"left",P=b==="y"?"bottom":"right",T=S+x[N],M=S-x[P];S=sf(T,S,M)}if(h){const N=v==="y"?"top":"left",P=v==="y"?"bottom":"right",T=E+x[N],M=E-x[P];E=sf(T,E,M)}const w=p.fn({...r,[b]:S,[v]:E});return{...w,data:{x:w.x-i,y:w.y-o,enabled:{[b]:f,[v]:h}}}}}},N1=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:d,rects:f,middlewareData:h}=r,{offset:p=0,mainAxis:g=!0,crossAxis:m=!0}=_n(s,r),x={x:i,y:o},v=nn(d),b=Nf(v);let S=x[b],E=x[v];const w=_n(p,r),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(g){const M=b==="y"?"height":"width",D=f.reference[b]-f.floating[M]+N.mainAxis,A=f.reference[b]+f.reference[M]-N.mainAxis;S<D?S=D:S>A&&(S=A)}if(m){var P,T;const M=b==="y"?"width":"height",D=yy.has(Pn(d)),A=f.reference[v]-f.floating[M]+(D&&((P=h.offset)==null?void 0:P[v])||0)+(D?0:N.crossAxis),R=f.reference[v]+f.reference[M]+(D?0:((T=h.offset)==null?void 0:T[v])||0)-(D?N.crossAxis:0);E<A?E=A:E>R&&(E=R)}return{[b]:S,[v]:E}}}},S1=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:d,rects:f,platform:h,elements:p}=r,{apply:g=()=>{},...m}=_n(s,r),x=await Wr(r,m),v=Pn(d),b=Ql(d),S=nn(d)==="y",{width:E,height:w}=f.floating;let N,P;v==="top"||v==="bottom"?(N=v,P=b===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(P=v,N=b==="end"?"top":"bottom");const T=w-x.top-x.bottom,M=E-x.left-x.right,D=ms(w-x[N],T),A=ms(E-x[P],M),R=!r.middlewareData.shift;let z=D,H=A;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(H=M),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(z=T),R&&!b){const B=wa(x.left,0),F=wa(x.right,0),U=wa(x.top,0),ne=wa(x.bottom,0);S?H=E-2*(B!==0||F!==0?B+F:wa(x.left,x.right)):z=w-2*(U!==0||ne!==0?U+ne:wa(x.top,x.bottom))}await g({...r,availableWidth:H,availableHeight:z});const se=await h.getDimensions(p.floating);return E!==se.width||w!==se.height?{reset:{rects:!0}}:{}}}};function tc(){return typeof window<"u"}function Xl(s){return vy(s)?(s.nodeName||"").toLowerCase():"#document"}function Aa(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function cn(s){var r;return(r=(vy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function vy(s){return tc()?s instanceof Node||s instanceof Aa(s).Node:!1}function $a(s){return tc()?s instanceof Element||s instanceof Aa(s).Element:!1}function on(s){return tc()?s instanceof HTMLElement||s instanceof Aa(s).HTMLElement:!1}function Sg(s){return!tc()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Aa(s).ShadowRoot}const w1=new Set(["inline","contents"]);function si(s){const{overflow:r,overflowX:i,overflowY:o,display:d}=Qa(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!w1.has(d)}const C1=new Set(["table","td","th"]);function A1(s){return C1.has(Xl(s))}const E1=[":popover-open",":modal"];function ac(s){return E1.some(r=>{try{return s.matches(r)}catch{return!1}})}const T1=["transform","translate","scale","rotate","perspective"],M1=["transform","translate","scale","rotate","perspective","filter"],D1=["paint","layout","strict","content"];function Cf(s){const r=Af(),i=$a(s)?Qa(s):s;return T1.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||M1.some(o=>(i.willChange||"").includes(o))||D1.some(o=>(i.contain||"").includes(o))}function O1(s){let r=hs(s);for(;on(r)&&!Gl(r);){if(Cf(r))return r;if(ac(r))return null;r=hs(r)}return null}function Af(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const R1=new Set(["html","body","#document"]);function Gl(s){return R1.has(Xl(s))}function Qa(s){return Aa(s).getComputedStyle(s)}function nc(s){return $a(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function hs(s){if(Xl(s)==="html")return s;const r=s.assignedSlot||s.parentNode||Sg(s)&&s.host||cn(s);return Sg(r)?r.host:r}function jy(s){const r=hs(s);return Gl(r)?s.ownerDocument?s.ownerDocument.body:s.body:on(r)&&si(r)?r:jy(r)}function Jr(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const d=jy(s),f=d===((o=s.ownerDocument)==null?void 0:o.body),h=Aa(d);if(f){const p=rf(h);return r.concat(h,h.visualViewport||[],si(d)?d:[],p&&i?Jr(p):[])}return r.concat(d,Jr(d,[],i))}function rf(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function by(s){const r=Qa(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const d=on(s),f=d?s.offsetWidth:i,h=d?s.offsetHeight:o,p=Fo(i)!==f||Fo(o)!==h;return p&&(i=f,o=h),{width:i,height:o,$:p}}function Ef(s){return $a(s)?s:s.contextElement}function Hl(s){const r=Ef(s);if(!on(r))return ln(1);const i=r.getBoundingClientRect(),{width:o,height:d,$:f}=by(r);let h=(f?Fo(i.width):i.width)/o,p=(f?Fo(i.height):i.height)/d;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const _1=ln(0);function Ny(s){const r=Aa(s);return!Af()||!r.visualViewport?_1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function P1(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==Aa(s)?!1:r}function Fs(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const d=s.getBoundingClientRect(),f=Ef(s);let h=ln(1);r&&(o?$a(o)&&(h=Hl(o)):h=Hl(s));const p=P1(f,i,o)?Ny(f):ln(0);let g=(d.left+p.x)/h.x,m=(d.top+p.y)/h.y,x=d.width/h.x,v=d.height/h.y;if(f){const b=Aa(f),S=o&&$a(o)?Aa(o):o;let E=b,w=rf(E);for(;w&&o&&S!==E;){const N=Hl(w),P=w.getBoundingClientRect(),T=Qa(w),M=P.left+(w.clientLeft+parseFloat(T.paddingLeft))*N.x,D=P.top+(w.clientTop+parseFloat(T.paddingTop))*N.y;g*=N.x,m*=N.y,x*=N.x,v*=N.y,g+=M,m+=D,E=Aa(w),w=rf(E)}}return Go({width:x,height:v,x:g,y:m})}function sc(s,r){const i=nc(s).scrollLeft;return r?r.left+i:Fs(cn(s)).left+i}function Sy(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-sc(s,i),d=i.top+r.scrollTop;return{x:o,y:d}}function k1(s){let{elements:r,rect:i,offsetParent:o,strategy:d}=s;const f=d==="fixed",h=cn(o),p=r?ac(r.floating):!1;if(o===h||p&&f)return i;let g={scrollLeft:0,scrollTop:0},m=ln(1);const x=ln(0),v=on(o);if((v||!v&&!f)&&((Xl(o)!=="body"||si(h))&&(g=nc(o)),on(o))){const S=Fs(o);m=Hl(o),x.x=S.x+o.clientLeft,x.y=S.y+o.clientTop}const b=h&&!v&&!f?Sy(h,g):ln(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-g.scrollLeft*m.x+x.x+b.x,y:i.y*m.y-g.scrollTop*m.y+x.y+b.y}}function L1(s){return Array.from(s.getClientRects())}function z1(s){const r=cn(s),i=nc(s),o=s.ownerDocument.body,d=wa(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),f=wa(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let h=-i.scrollLeft+sc(s);const p=-i.scrollTop;return Qa(o).direction==="rtl"&&(h+=wa(r.clientWidth,o.clientWidth)-d),{width:d,height:f,x:h,y:p}}const wg=25;function I1(s,r){const i=Aa(s),o=cn(s),d=i.visualViewport;let f=o.clientWidth,h=o.clientHeight,p=0,g=0;if(d){f=d.width,h=d.height;const x=Af();(!x||x&&r==="fixed")&&(p=d.offsetLeft,g=d.offsetTop)}const m=sc(o);if(m<=0){const x=o.ownerDocument,v=x.body,b=getComputedStyle(v),S=x.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(o.clientWidth-v.clientWidth-S);E<=wg&&(f-=E)}else m<=wg&&(f+=m);return{width:f,height:h,x:p,y:g}}const U1=new Set(["absolute","fixed"]);function q1(s,r){const i=Fs(s,!0,r==="fixed"),o=i.top+s.clientTop,d=i.left+s.clientLeft,f=on(s)?Hl(s):ln(1),h=s.clientWidth*f.x,p=s.clientHeight*f.y,g=d*f.x,m=o*f.y;return{width:h,height:p,x:g,y:m}}function Cg(s,r,i){let o;if(r==="viewport")o=I1(s,i);else if(r==="document")o=z1(cn(s));else if($a(r))o=q1(r,i);else{const d=Ny(s);o={x:r.x-d.x,y:r.y-d.y,width:r.width,height:r.height}}return Go(o)}function wy(s,r){const i=hs(s);return i===r||!$a(i)||Gl(i)?!1:Qa(i).position==="fixed"||wy(i,r)}function H1(s,r){const i=r.get(s);if(i)return i;let o=Jr(s,[],!1).filter(p=>$a(p)&&Xl(p)!=="body"),d=null;const f=Qa(s).position==="fixed";let h=f?hs(s):s;for(;$a(h)&&!Gl(h);){const p=Qa(h),g=Cf(h);!g&&p.position==="fixed"&&(d=null),(f?!g&&!d:!g&&p.position==="static"&&!!d&&U1.has(d.position)||si(h)&&!g&&wy(s,h))?o=o.filter(x=>x!==h):d=p,h=hs(h)}return r.set(s,o),o}function B1(s){let{element:r,boundary:i,rootBoundary:o,strategy:d}=s;const h=[...i==="clippingAncestors"?ac(r)?[]:H1(r,this._c):[].concat(i),o],p=h[0],g=h.reduce((m,x)=>{const v=Cg(r,x,d);return m.top=wa(v.top,m.top),m.right=ms(v.right,m.right),m.bottom=ms(v.bottom,m.bottom),m.left=wa(v.left,m.left),m},Cg(r,p,d));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function F1(s){const{width:r,height:i}=by(s);return{width:r,height:i}}function V1(s,r,i){const o=on(r),d=cn(r),f=i==="fixed",h=Fs(s,!0,f,r);let p={scrollLeft:0,scrollTop:0};const g=ln(0);function m(){g.x=sc(d)}if(o||!o&&!f)if((Xl(r)!=="body"||si(d))&&(p=nc(r)),o){const S=Fs(r,!0,f,r);g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}else d&&m();f&&!o&&d&&m();const x=d&&!o&&!f?Sy(d,p):ln(0),v=h.left+p.scrollLeft-g.x-x.x,b=h.top+p.scrollTop-g.y-x.y;return{x:v,y:b,width:h.width,height:h.height}}function Yd(s){return Qa(s).position==="static"}function Ag(s,r){if(!on(s)||Qa(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return cn(s)===i&&(i=i.ownerDocument.body),i}function Cy(s,r){const i=Aa(s);if(ac(s))return i;if(!on(s)){let d=hs(s);for(;d&&!Gl(d);){if($a(d)&&!Yd(d))return d;d=hs(d)}return i}let o=Ag(s,r);for(;o&&A1(o)&&Yd(o);)o=Ag(o,r);return o&&Gl(o)&&Yd(o)&&!Cf(o)?i:o||O1(s)||i}const G1=async function(s){const r=this.getOffsetParent||Cy,i=this.getDimensions,o=await i(s.floating);return{reference:V1(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Y1(s){return Qa(s).direction==="rtl"}const $1={convertOffsetParentRelativeRectToViewportRelativeRect:k1,getDocumentElement:cn,getClippingRect:B1,getOffsetParent:Cy,getElementRects:G1,getClientRects:L1,getDimensions:F1,getScale:Hl,isElement:$a,isRTL:Y1};function Ay(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function Q1(s,r){let i=null,o;const d=cn(s);function f(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function h(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),f();const m=s.getBoundingClientRect(),{left:x,top:v,width:b,height:S}=m;if(p||r(),!b||!S)return;const E=To(v),w=To(d.clientWidth-(x+b)),N=To(d.clientHeight-(v+S)),P=To(x),M={rootMargin:-E+"px "+-w+"px "+-N+"px "+-P+"px",threshold:wa(0,ms(1,g))||1};let D=!0;function A(R){const z=R[0].intersectionRatio;if(z!==g){if(!D)return h();z?h(!1,z):o=setTimeout(()=>{h(!1,1e-7)},1e3)}z===1&&!Ay(m,s.getBoundingClientRect())&&h(),D=!1}try{i=new IntersectionObserver(A,{...M,root:d.ownerDocument})}catch{i=new IntersectionObserver(A,M)}i.observe(s)}return h(!0),f}function X1(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:d=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,m=Ef(s),x=d||f?[...m?Jr(m):[],...Jr(r)]:[];x.forEach(P=>{d&&P.addEventListener("scroll",i,{passive:!0}),f&&P.addEventListener("resize",i)});const v=m&&p?Q1(m,i):null;let b=-1,S=null;h&&(S=new ResizeObserver(P=>{let[T]=P;T&&T.target===m&&S&&(S.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var M;(M=S)==null||M.observe(r)})),i()}),m&&!g&&S.observe(m),S.observe(r));let E,w=g?Fs(s):null;g&&N();function N(){const P=Fs(s);w&&!Ay(w,P)&&i(),w=P,E=requestAnimationFrame(N)}return i(),()=>{var P;x.forEach(T=>{d&&T.removeEventListener("scroll",i),f&&T.removeEventListener("resize",i)}),v==null||v(),(P=S)==null||P.disconnect(),S=null,g&&cancelAnimationFrame(E)}}const K1=j1,Z1=b1,W1=g1,J1=S1,e2=y1,Eg=x1,t2=N1,a2=(s,r,i)=>{const o=new Map,d={platform:$1,...i},f={...d.platform,_c:o};return p1(s,r,{...d,platform:f})};var n2=typeof document<"u",s2=function(){},ko=n2?j.useLayoutEffect:s2;function Yo(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,d;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!Yo(s[o],r[o]))return!1;return!0}if(d=Object.keys(s),i=d.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,d[o]))return!1;for(o=i;o--!==0;){const f=d[o];if(!(f==="_owner"&&s.$$typeof)&&!Yo(s[f],r[f]))return!1}return!0}return s!==s&&r!==r}function Ey(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(s,r){const i=Ey(s);return Math.round(r*i)/i}function $d(s){const r=j.useRef(s);return ko(()=>{r.current=s}),r}function l2(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d,elements:{reference:f,floating:h}={},transform:p=!0,whileElementsMounted:g,open:m}=s,[x,v]=j.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[b,S]=j.useState(o);Yo(b,o)||S(o);const[E,w]=j.useState(null),[N,P]=j.useState(null),T=j.useCallback(V=>{V!==R.current&&(R.current=V,w(V))},[]),M=j.useCallback(V=>{V!==z.current&&(z.current=V,P(V))},[]),D=f||E,A=h||N,R=j.useRef(null),z=j.useRef(null),H=j.useRef(x),se=g!=null,B=$d(g),F=$d(d),U=$d(m),ne=j.useCallback(()=>{if(!R.current||!z.current)return;const V={placement:r,strategy:i,middleware:b};F.current&&(V.platform=F.current),a2(R.current,z.current,V).then(ie=>{const je={...ie,isPositioned:U.current!==!1};$.current&&!Yo(H.current,je)&&(H.current=je,ni.flushSync(()=>{v(je)}))})},[b,r,i,F,U]);ko(()=>{m===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[m]);const $=j.useRef(!1);ko(()=>($.current=!0,()=>{$.current=!1}),[]),ko(()=>{if(D&&(R.current=D),A&&(z.current=A),D&&A){if(B.current)return B.current(D,A,ne);ne()}},[D,A,ne,B,se]);const xe=j.useMemo(()=>({reference:R,floating:z,setReference:T,setFloating:M}),[T,M]),L=j.useMemo(()=>({reference:D,floating:A}),[D,A]),X=j.useMemo(()=>{const V={position:i,left:0,top:0};if(!L.floating)return V;const ie=Tg(L.floating,x.x),je=Tg(L.floating,x.y);return p?{...V,transform:"translate("+ie+"px, "+je+"px)",...Ey(L.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:ie,top:je}},[i,p,L.floating,x.x,x.y]);return j.useMemo(()=>({...x,update:ne,refs:xe,elements:L,floatingStyles:X}),[x,ne,xe,L,X])}const r2=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:d}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?Eg({element:o.current,padding:d}).fn(i):{}:o?Eg({element:o,padding:d}).fn(i):{}}}},i2=(s,r)=>({...K1(s),options:[s,r]}),o2=(s,r)=>({...Z1(s),options:[s,r]}),c2=(s,r)=>({...t2(s),options:[s,r]}),u2=(s,r)=>({...W1(s),options:[s,r]}),d2=(s,r)=>({...J1(s),options:[s,r]}),f2=(s,r)=>({...e2(s),options:[s,r]}),m2=(s,r)=>({...r2(s),options:[s,r]});var h2="Arrow",Ty=j.forwardRef((s,r)=>{const{children:i,width:o=10,height:d=5,...f}=s;return a.jsx(Ge.svg,{...f,ref:r,width:o,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ty.displayName=h2;var p2=Ty;function My(s){const[r,i]=j.useState(void 0);return sa(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let h,p;if("borderBoxSize"in f){const g=f.borderBoxSize,m=Array.isArray(g)?g[0]:g;h=m.inlineSize,p=m.blockSize}else h=s.offsetWidth,p=s.offsetHeight;i({width:h,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var Tf="Popper",[Dy,lc]=Ln(Tf),[x2,Oy]=Dy(Tf),Ry=s=>{const{__scopePopper:r,children:i}=s,[o,d]=j.useState(null);return a.jsx(x2,{scope:r,anchor:o,onAnchorChange:d,children:i})};Ry.displayName=Tf;var _y="PopperAnchor",Py=j.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...d}=s,f=Oy(_y,i),h=j.useRef(null),p=ht(r,h),g=j.useRef(null);return j.useEffect(()=>{const m=g.current;g.current=(o==null?void 0:o.current)||h.current,m!==g.current&&f.onAnchorChange(g.current)}),o?null:a.jsx(Ge.div,{...d,ref:p})});Py.displayName=_y;var Mf="PopperContent",[g2,y2]=Dy(Mf),ky=j.forwardRef((s,r)=>{var ae,_e,Y,ge,Se,Ce;const{__scopePopper:i,side:o="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:E,...w}=s,N=Oy(Mf,i),[P,T]=j.useState(null),M=ht(r,yt=>T(yt)),[D,A]=j.useState(null),R=My(D),z=(R==null?void 0:R.width)??0,H=(R==null?void 0:R.height)??0,se=o+(f!=="center"?"-"+f:""),B=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},F=Array.isArray(m)?m:[m],U=F.length>0,ne={padding:B,boundary:F.filter(j2),altBoundary:U},{refs:$,floatingStyles:xe,placement:L,isPositioned:X,middlewareData:V}=l2({strategy:"fixed",placement:se,whileElementsMounted:(...yt)=>X1(...yt,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[i2({mainAxis:d+H,alignmentAxis:h}),g&&o2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?c2():void 0,...ne}),g&&u2({...ne}),d2({...ne,apply:({elements:yt,rects:nt,availableWidth:jt,availableHeight:Tt})=>{const{width:wt,height:Ea}=nt.reference,Ot=yt.floating.style;Ot.setProperty("--radix-popper-available-width",`${jt}px`),Ot.setProperty("--radix-popper-available-height",`${Tt}px`),Ot.setProperty("--radix-popper-anchor-width",`${wt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Ea}px`)}}),D&&m2({element:D,padding:p}),b2({arrowWidth:z,arrowHeight:H}),b&&f2({strategy:"referenceHidden",...ne})]}),[ie,je]=Iy(L),O=rn(E);sa(()=>{X&&(O==null||O())},[X,O]);const ee=(ae=V.arrow)==null?void 0:ae.x,de=(_e=V.arrow)==null?void 0:_e.y,he=((Y=V.arrow)==null?void 0:Y.centerOffset)!==0,[q,me]=j.useState();return sa(()=>{P&&me(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:X?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ge=V.transformOrigin)==null?void 0:ge.x,(Se=V.transformOrigin)==null?void 0:Se.y].join(" "),...((Ce=V.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:a.jsx(g2,{scope:i,placedSide:ie,onArrowChange:A,arrowX:ee,arrowY:de,shouldHideArrow:he,children:a.jsx(Ge.div,{"data-side":ie,"data-align":je,...w,ref:M,style:{...w.style,animation:X?void 0:"none"}})})})});ky.displayName=Mf;var Ly="PopperArrow",v2={top:"bottom",right:"left",bottom:"top",left:"right"},zy=j.forwardRef(function(r,i){const{__scopePopper:o,...d}=r,f=y2(Ly,o),h=v2[f.placedSide];return a.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:a.jsx(p2,{...d,ref:i,style:{...d.style,display:"block"}})})});zy.displayName=Ly;function j2(s){return s!==null}var b2=s=>({name:"transformOrigin",options:s,fn(r){var N,P,T;const{placement:i,rects:o,middlewareData:d}=r,h=((N=d.arrow)==null?void 0:N.centerOffset)!==0,p=h?0:s.arrowWidth,g=h?0:s.arrowHeight,[m,x]=Iy(i),v={start:"0%",center:"50%",end:"100%"}[x],b=(((P=d.arrow)==null?void 0:P.x)??0)+p/2,S=(((T=d.arrow)==null?void 0:T.y)??0)+g/2;let E="",w="";return m==="bottom"?(E=h?v:`${b}px`,w=`${-g}px`):m==="top"?(E=h?v:`${b}px`,w=`${o.floating.height+g}px`):m==="right"?(E=`${-g}px`,w=h?v:`${S}px`):m==="left"&&(E=`${o.floating.width+g}px`,w=h?v:`${S}px`),{data:{x:E,y:w}}}});function Iy(s){const[r,i="center"]=s.split("-");return[r,i]}var Uy=Ry,qy=Py,Hy=ky,By=zy,N2="Portal",rc=j.forwardRef((s,r)=>{var p;const{container:i,...o}=s,[d,f]=j.useState(!1);sa(()=>f(!0),[]);const h=i||d&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?Ow.createPortal(a.jsx(Ge.div,{...o,ref:r}),h):null});rc.displayName=N2;var S2=gf[" useInsertionEffect ".trim().toString()]||sa;function Vs({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[d,f,h]=w2({defaultProp:r,onChange:i}),p=s!==void 0,g=p?s:d;{const x=j.useRef(s!==void 0);j.useEffect(()=>{const v=x.current;v!==p&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,o])}const m=j.useCallback(x=>{var v;if(p){const b=C2(x)?x(s):x;b!==s&&((v=h.current)==null||v.call(h,b))}else f(x)},[p,s,f,h]);return[g,m]}function w2({defaultProp:s,onChange:r}){const[i,o]=j.useState(s),d=j.useRef(i),f=j.useRef(r);return S2(()=>{f.current=r},[r]),j.useEffect(()=>{var h;d.current!==i&&((h=f.current)==null||h.call(f,i),d.current=i)},[i,d]),[i,o,f]}function C2(s){return typeof s=="function"}function Fy(s){const r=j.useRef({value:s,previous:s});return j.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Vy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A2="VisuallyHidden",E2=j.forwardRef((s,r)=>a.jsx(Ge.span,{...s,ref:r,style:{...Vy,...s.style}}));E2.displayName=A2;var T2=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},zl=new WeakMap,Mo=new WeakMap,Do={},Qd=0,Gy=function(s){return s&&(s.host||Gy(s.parentNode))},M2=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=Gy(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},D2=function(s,r,i,o){var d=M2(r,Array.isArray(s)?s:[s]);Do[i]||(Do[i]=new WeakMap);var f=Do[i],h=[],p=new Set,g=new Set(d),m=function(v){!v||p.has(v)||(p.add(v),m(v.parentNode))};d.forEach(m);var x=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(b){if(p.has(b))x(b);else try{var S=b.getAttribute(o),E=S!==null&&S!=="false",w=(zl.get(b)||0)+1,N=(f.get(b)||0)+1;zl.set(b,w),f.set(b,N),h.push(b),w===1&&E&&Mo.set(b,!0),N===1&&b.setAttribute(i,"true"),E||b.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",b,P)}})};return x(r),p.clear(),Qd++,function(){h.forEach(function(v){var b=zl.get(v)-1,S=f.get(v)-1;zl.set(v,b),f.set(v,S),b||(Mo.has(v)||v.removeAttribute(o),Mo.delete(v)),S||v.removeAttribute(i)}),Qd--,Qd||(zl=new WeakMap,zl=new WeakMap,Mo=new WeakMap,Do={})}},Df=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),d=T2(s);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),D2(o,d,i,"aria-hidden")):function(){return null}},an=function(){return an=Object.assign||function(r){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f])}return r},an.apply(this,arguments)};function Yy(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(i[o[d]]=s[o[d]]);return i}function O2(s,r,i){if(i||arguments.length===2)for(var o=0,d=r.length,f;o<d;o++)(f||!(o in r))&&(f||(f=Array.prototype.slice.call(r,0,o)),f[o]=r[o]);return s.concat(f||Array.prototype.slice.call(r))}var Lo="right-scroll-bar-position",zo="width-before-scroll-bar",R2="with-scroll-bars-hidden",_2="--removed-body-scroll-bar-size";function Xd(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function P2(s,r){var i=j.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=r,i.facade}var k2=typeof window<"u"?j.useLayoutEffect:j.useEffect,Mg=new WeakMap;function L2(s,r){var i=P2(null,function(o){return s.forEach(function(d){return Xd(d,o)})});return k2(function(){var o=Mg.get(i);if(o){var d=new Set(o),f=new Set(s),h=i.current;d.forEach(function(p){f.has(p)||Xd(p,null)}),f.forEach(function(p){d.has(p)||Xd(p,h)})}Mg.set(i,s)},[s]),i}function z2(s){return s}function I2(s,r){r===void 0&&(r=z2);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(f){var h=r(f,o);return i.push(h),function(){i=i.filter(function(p){return p!==h})}},assignSyncMedium:function(f){for(o=!0;i.length;){var h=i;i=[],h.forEach(f)}i={push:function(p){return f(p)},filter:function(){return i}}},assignMedium:function(f){o=!0;var h=[];if(i.length){var p=i;i=[],p.forEach(f),h=i}var g=function(){var x=h;h=[],x.forEach(f)},m=function(){return Promise.resolve().then(g)};m(),i={push:function(x){h.push(x),m()},filter:function(x){return h=h.filter(x),i}}}};return d}function U2(s){s===void 0&&(s={});var r=I2(null);return r.options=an({async:!0,ssr:!1},s),r}var $y=function(s){var r=s.sideCar,i=Yy(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,an({},i))};$y.isSideCarExport=!0;function q2(s,r){return s.useMedium(r),$y}var Qy=U2(),Kd=function(){},ic=j.forwardRef(function(s,r){var i=j.useRef(null),o=j.useState({onScrollCapture:Kd,onWheelCapture:Kd,onTouchMoveCapture:Kd}),d=o[0],f=o[1],h=s.forwardProps,p=s.children,g=s.className,m=s.removeScrollBar,x=s.enabled,v=s.shards,b=s.sideCar,S=s.noRelative,E=s.noIsolation,w=s.inert,N=s.allowPinchZoom,P=s.as,T=P===void 0?"div":P,M=s.gapMode,D=Yy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,R=L2([i,r]),z=an(an({},D),d);return j.createElement(j.Fragment,null,x&&j.createElement(A,{sideCar:Qy,removeScrollBar:m,shards:v,noRelative:S,noIsolation:E,inert:w,setCallbacks:f,allowPinchZoom:!!N,lockRef:i,gapMode:M}),h?j.cloneElement(j.Children.only(p),an(an({},z),{ref:R})):j.createElement(T,an({},z,{className:g,ref:R}),p))});ic.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ic.classNames={fullWidth:zo,zeroRight:Lo};var H2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=H2();return r&&s.setAttribute("nonce",r),s}function F2(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function V2(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var G2=function(){var s=0,r=null;return{add:function(i){s==0&&(r=B2())&&(F2(r,i),V2(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Y2=function(){var s=G2();return function(r,i){j.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Xy=function(){var s=Y2(),r=function(i){var o=i.styles,d=i.dynamic;return s(o,d),null};return r},$2={left:0,top:0,right:0,gap:0},Zd=function(s){return parseInt(s||"",10)||0},Q2=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],d=r[s==="padding"?"paddingRight":"marginRight"];return[Zd(i),Zd(o),Zd(d)]},X2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return $2;var r=Q2(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},K2=Xy(),Bl="data-scroll-locked",Z2=function(s,r,i,o){var d=s.left,f=s.top,h=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(R2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lo,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(zo,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Lo," .").concat(Lo,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(zo," .").concat(zo,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(_2,": ").concat(p,`px;
  }
`)},Dg=function(){var s=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(s)?s:0},W2=function(){j.useEffect(function(){return document.body.setAttribute(Bl,(Dg()+1).toString()),function(){var s=Dg()-1;s<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,s.toString())}},[])},J2=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,d=o===void 0?"margin":o;W2();var f=j.useMemo(function(){return X2(d)},[d]);return j.createElement(K2,{styles:Z2(f,!r,d,i?"":"!important")})},of=!1;if(typeof window<"u")try{var Oo=Object.defineProperty({},"passive",{get:function(){return of=!0,!0}});window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{of=!1}var Il=of?{passive:!1}:!1,eC=function(s){return s.tagName==="TEXTAREA"},Ky=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!eC(s)&&i[r]==="visible")},tC=function(s){return Ky(s,"overflowY")},aC=function(s){return Ky(s,"overflowX")},Og=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Zy(s,o);if(d){var f=Wy(s,o),h=f[1],p=f[2];if(h>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},nC=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},sC=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Zy=function(s,r){return s==="v"?tC(r):aC(r)},Wy=function(s,r){return s==="v"?nC(r):sC(r)},lC=function(s,r){return s==="h"&&r==="rtl"?-1:1},rC=function(s,r,i,o,d){var f=lC(s,window.getComputedStyle(r).direction),h=f*o,p=i.target,g=r.contains(p),m=!1,x=h>0,v=0,b=0;do{if(!p)break;var S=Wy(s,p),E=S[0],w=S[1],N=S[2],P=w-N-f*E;(E||P)&&Zy(s,p)&&(v+=P,b+=E);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!g&&p!==document.body||g&&(r.contains(p)||r===p));return(x&&Math.abs(v)<1||!x&&Math.abs(b)<1)&&(m=!0),m},Ro=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Rg=function(s){return[s.deltaX,s.deltaY]},_g=function(s){return s&&"current"in s?s.current:s},iC=function(s,r){return s[0]===r[0]&&s[1]===r[1]},oC=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},cC=0,Ul=[];function uC(s){var r=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(cC++)[0],f=j.useState(Xy)[0],h=j.useRef(s);j.useEffect(function(){h.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var w=O2([s.lockRef.current],(s.shards||[]).map(_g),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var p=j.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!h.current.allowPinchZoom;var P=Ro(w),T=i.current,M="deltaX"in w?w.deltaX:T[0]-P[0],D="deltaY"in w?w.deltaY:T[1]-P[1],A,R=w.target,z=Math.abs(M)>Math.abs(D)?"h":"v";if("touches"in w&&z==="h"&&R.type==="range")return!1;var H=window.getSelection(),se=H&&H.anchorNode,B=se?se===R||se.contains(R):!1;if(B)return!1;var F=Og(z,R);if(!F)return!0;if(F?A=z:(A=z==="v"?"h":"v",F=Og(z,R)),!F)return!1;if(!o.current&&"changedTouches"in w&&(M||D)&&(o.current=A),!A)return!0;var U=o.current||A;return rC(U,N,w,U==="h"?M:D)},[]),g=j.useCallback(function(w){var N=w;if(!(!Ul.length||Ul[Ul.length-1]!==f)){var P="deltaY"in N?Rg(N):Ro(N),T=r.current.filter(function(A){return A.name===N.type&&(A.target===N.target||N.target===A.shadowParent)&&iC(A.delta,P)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var M=(h.current.shards||[]).map(_g).filter(Boolean).filter(function(A){return A.contains(N.target)}),D=M.length>0?p(N,M[0]):!h.current.noIsolation;D&&N.cancelable&&N.preventDefault()}}},[]),m=j.useCallback(function(w,N,P,T){var M={name:w,delta:N,target:P,should:T,shadowParent:dC(P)};r.current.push(M),setTimeout(function(){r.current=r.current.filter(function(D){return D!==M})},1)},[]),x=j.useCallback(function(w){i.current=Ro(w),o.current=void 0},[]),v=j.useCallback(function(w){m(w.type,Rg(w),w.target,p(w,s.lockRef.current))},[]),b=j.useCallback(function(w){m(w.type,Ro(w),w.target,p(w,s.lockRef.current))},[]);j.useEffect(function(){return Ul.push(f),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",g,Il),document.addEventListener("touchmove",g,Il),document.addEventListener("touchstart",x,Il),function(){Ul=Ul.filter(function(w){return w!==f}),document.removeEventListener("wheel",g,Il),document.removeEventListener("touchmove",g,Il),document.removeEventListener("touchstart",x,Il)}},[]);var S=s.removeScrollBar,E=s.inert;return j.createElement(j.Fragment,null,E?j.createElement(f,{styles:oC(d)}):null,S?j.createElement(J2,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function dC(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const fC=q2(Qy,uC);var oc=j.forwardRef(function(s,r){return j.createElement(ic,an({},s,{ref:r,sideCar:fC}))});oc.classNames=ic.classNames;var mC=[" ","Enter","ArrowUp","ArrowDown"],hC=[" ","Enter"],Gs="Select",[cc,uc,pC]=jf(Gs),[Kl]=Ln(Gs,[pC,lc]),dc=lc(),[xC,ps]=Kl(Gs),[gC,yC]=Kl(Gs),Jy=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:d,onOpenChange:f,value:h,defaultValue:p,onValueChange:g,dir:m,name:x,autoComplete:v,disabled:b,required:S,form:E}=s,w=dc(r),[N,P]=j.useState(null),[T,M]=j.useState(null),[D,A]=j.useState(!1),R=Wo(m),[z,H]=Vs({prop:o,defaultProp:d??!1,onChange:f,caller:Gs}),[se,B]=Vs({prop:h,defaultProp:p,onChange:g,caller:Gs}),F=j.useRef(null),U=N?E||!!N.closest("form"):!0,[ne,$]=j.useState(new Set),xe=Array.from(ne).map(L=>L.props.value).join(";");return a.jsx(Uy,{...w,children:a.jsxs(xC,{required:S,scope:r,trigger:N,onTriggerChange:P,valueNode:T,onValueNodeChange:M,valueNodeHasChildren:D,onValueNodeHasChildrenChange:A,contentId:sn(),value:se,onValueChange:B,open:z,onOpenChange:H,dir:R,triggerPointerDownPosRef:F,disabled:b,children:[a.jsx(cc.Provider,{scope:r,children:a.jsx(gC,{scope:s.__scopeSelect,onNativeOptionAdd:j.useCallback(L=>{$(X=>new Set(X).add(L))},[]),onNativeOptionRemove:j.useCallback(L=>{$(X=>{const V=new Set(X);return V.delete(L),V})},[]),children:i})}),U?a.jsxs(bv,{"aria-hidden":!0,required:S,tabIndex:-1,name:x,autoComplete:v,value:se,onChange:L=>B(L.target.value),disabled:b,form:E,children:[se===void 0?a.jsx("option",{value:""}):null,Array.from(ne)]},xe):null]})})};Jy.displayName=Gs;var ev="SelectTrigger",tv=j.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...d}=s,f=dc(i),h=ps(ev,i),p=h.disabled||o,g=ht(r,h.onTriggerChange),m=uc(i),x=j.useRef("touch"),[v,b,S]=Sv(w=>{const N=m().filter(M=>!M.disabled),P=N.find(M=>M.value===h.value),T=wv(N,w,P);T!==void 0&&h.onValueChange(T.value)}),E=w=>{p||(h.onOpenChange(!0),S()),w&&(h.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return a.jsx(qy,{asChild:!0,...f,children:a.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Nv(h.value)?"":void 0,...d,ref:g,onClick:Re(d.onClick,w=>{w.currentTarget.focus(),x.current!=="mouse"&&E(w)}),onPointerDown:Re(d.onPointerDown,w=>{x.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:Re(d.onKeyDown,w=>{const N=v.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&b(w.key),!(N&&w.key===" ")&&mC.includes(w.key)&&(E(),w.preventDefault())})})})});tv.displayName=ev;var av="SelectValue",nv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,children:f,placeholder:h="",...p}=s,g=ps(av,i),{onValueNodeHasChildrenChange:m}=g,x=f!==void 0,v=ht(r,g.onValueNodeChange);return sa(()=>{m(x)},[m,x]),a.jsx(Ge.span,{...p,ref:v,style:{pointerEvents:"none"},children:Nv(g.value)?a.jsx(a.Fragment,{children:h}):f})});nv.displayName=av;var vC="SelectIcon",sv=j.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...d}=s;return a.jsx(Ge.span,{"aria-hidden":!0,...d,ref:r,children:o||""})});sv.displayName=vC;var jC="SelectPortal",lv=s=>a.jsx(rc,{asChild:!0,...s});lv.displayName=jC;var Ys="SelectContent",rv=j.forwardRef((s,r)=>{const i=ps(Ys,s.__scopeSelect),[o,d]=j.useState();if(sa(()=>{d(new DocumentFragment)},[]),!i.open){const f=o;return f?ni.createPortal(a.jsx(iv,{scope:s.__scopeSelect,children:a.jsx(cc.Slot,{scope:s.__scopeSelect,children:a.jsx("div",{children:s.children})})}),f):null}return a.jsx(ov,{...s,ref:r})});rv.displayName=Ys;var Ga=10,[iv,xs]=Kl(Ys),bC="SelectContentImpl",NC=Vl("SelectContent.RemoveScroll"),ov=j.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:E,hideWhenDetached:w,avoidCollisions:N,...P}=s,T=ps(Ys,i),[M,D]=j.useState(null),[A,R]=j.useState(null),z=ht(r,ae=>D(ae)),[H,se]=j.useState(null),[B,F]=j.useState(null),U=uc(i),[ne,$]=j.useState(!1),xe=j.useRef(!1);j.useEffect(()=>{if(M)return Df(M)},[M]),bf();const L=j.useCallback(ae=>{const[_e,...Y]=U().map(Ce=>Ce.ref.current),[ge]=Y.slice(-1),Se=document.activeElement;for(const Ce of ae)if(Ce===Se||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===_e&&A&&(A.scrollTop=0),Ce===ge&&A&&(A.scrollTop=A.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Se))return},[U,A]),X=j.useCallback(()=>L([H,M]),[L,H,M]);j.useEffect(()=>{ne&&X()},[ne,X]);const{onOpenChange:V,triggerPointerDownPosRef:ie}=T;j.useEffect(()=>{if(M){let ae={x:0,y:0};const _e=ge=>{var Se,Ce;ae={x:Math.abs(Math.round(ge.pageX)-(((Se=ie.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Ce=ie.current)==null?void 0:Ce.y)??0))}},Y=ge=>{ae.x<=10&&ae.y<=10?ge.preventDefault():M.contains(ge.target)||V(!1),document.removeEventListener("pointermove",_e),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Y,{capture:!0})}}},[M,V,ie]),j.useEffect(()=>{const ae=()=>V(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[V]);const[je,O]=Sv(ae=>{const _e=U().filter(Se=>!Se.disabled),Y=_e.find(Se=>Se.ref.current===document.activeElement),ge=wv(_e,ae,Y);ge&&setTimeout(()=>ge.ref.current.focus())}),ee=j.useCallback((ae,_e,Y)=>{const ge=!xe.current&&!Y;(T.value!==void 0&&T.value===_e||ge)&&(se(ae),ge&&(xe.current=!0))},[T.value]),de=j.useCallback(()=>M==null?void 0:M.focus(),[M]),he=j.useCallback((ae,_e,Y)=>{const ge=!xe.current&&!Y;(T.value!==void 0&&T.value===_e||ge)&&F(ae)},[T.value]),q=o==="popper"?cf:cv,me=q===cf?{side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:E,hideWhenDetached:w,avoidCollisions:N}:{};return a.jsx(iv,{scope:i,content:M,viewport:A,onViewportChange:R,itemRefCallback:ee,selectedItem:H,onItemLeave:de,itemTextRefCallback:he,focusSelectedItem:X,selectedItemText:B,position:o,isPositioned:ne,searchRef:je,children:a.jsx(oc,{as:NC,allowPinchZoom:!0,children:a.jsx(ec,{asChild:!0,trapped:T.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Re(d,ae=>{var _e;(_e=T.trigger)==null||_e.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(q,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ae=>ae.preventDefault(),...P,...me,onPlaced:()=>$(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Re(P.onKeyDown,ae=>{const _e=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!_e&&ae.key.length===1&&O(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ge=U().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Se=ae.target,Ce=ge.indexOf(Se);ge=ge.slice(Ce+1)}setTimeout(()=>L(ge)),ae.preventDefault()}})})})})})})});ov.displayName=bC;var SC="SelectItemAlignedPosition",cv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...d}=s,f=ps(Ys,i),h=xs(Ys,i),[p,g]=j.useState(null),[m,x]=j.useState(null),v=ht(r,z=>x(z)),b=uc(i),S=j.useRef(!1),E=j.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:P,focusSelectedItem:T}=h,M=j.useCallback(()=>{if(f.trigger&&f.valueNode&&p&&m&&w&&N&&P){const z=f.trigger.getBoundingClientRect(),H=m.getBoundingClientRect(),se=f.valueNode.getBoundingClientRect(),B=P.getBoundingClientRect();if(f.dir!=="rtl"){const Se=B.left-H.left,Ce=se.left-Se,yt=z.left-Ce,nt=z.width+yt,jt=Math.max(nt,H.width),Tt=window.innerWidth-Ga,wt=ug(Ce,[Ga,Math.max(Ga,Tt-jt)]);p.style.minWidth=nt+"px",p.style.left=wt+"px"}else{const Se=H.right-B.right,Ce=window.innerWidth-se.right-Se,yt=window.innerWidth-z.right-Ce,nt=z.width+yt,jt=Math.max(nt,H.width),Tt=window.innerWidth-Ga,wt=ug(Ce,[Ga,Math.max(Ga,Tt-jt)]);p.style.minWidth=nt+"px",p.style.right=wt+"px"}const F=b(),U=window.innerHeight-Ga*2,ne=w.scrollHeight,$=window.getComputedStyle(m),xe=parseInt($.borderTopWidth,10),L=parseInt($.paddingTop,10),X=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),ie=xe+L+ne+V+X,je=Math.min(N.offsetHeight*5,ie),O=window.getComputedStyle(w),ee=parseInt(O.paddingTop,10),de=parseInt(O.paddingBottom,10),he=z.top+z.height/2-Ga,q=U-he,me=N.offsetHeight/2,ae=N.offsetTop+me,_e=xe+L+ae,Y=ie-_e;if(_e<=he){const Se=F.length>0&&N===F[F.length-1].ref.current;p.style.bottom="0px";const Ce=m.clientHeight-w.offsetTop-w.offsetHeight,yt=Math.max(q,me+(Se?de:0)+Ce+X),nt=_e+yt;p.style.height=nt+"px"}else{const Se=F.length>0&&N===F[0].ref.current;p.style.top="0px";const yt=Math.max(he,xe+w.offsetTop+(Se?ee:0)+me)+Y;p.style.height=yt+"px",w.scrollTop=_e-he+w.offsetTop}p.style.margin=`${Ga}px 0`,p.style.minHeight=je+"px",p.style.maxHeight=U+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[b,f.trigger,f.valueNode,p,m,w,N,P,f.dir,o]);sa(()=>M(),[M]);const[D,A]=j.useState();sa(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const R=j.useCallback(z=>{z&&E.current===!0&&(M(),T==null||T(),E.current=!1)},[M,T]);return a.jsx(CC,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:S,onScrollButtonChange:R,children:a.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:a.jsx(Ge.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});cv.displayName=SC;var wC="SelectPopperPosition",cf=j.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:d=Ga,...f}=s,h=dc(i);return a.jsx(Hy,{...h,...f,ref:r,align:o,collisionPadding:d,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cf.displayName=wC;var[CC,Of]=Kl(Ys,{}),uf="SelectViewport",uv=j.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...d}=s,f=xs(uf,i),h=Of(uf,i),p=ht(r,f.onViewportChange),g=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(cc.Slot,{scope:i,children:a.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:Re(d.onScroll,m=>{const x=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&v){const S=Math.abs(g.current-x.scrollTop);if(S>0){const E=window.innerHeight-Ga*2,w=parseFloat(v.style.minHeight),N=parseFloat(v.style.height),P=Math.max(w,N);if(P<E){const T=P+S,M=Math.min(E,T),D=T-M;v.style.height=M+"px",v.style.bottom==="0px"&&(x.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});uv.displayName=uf;var dv="SelectGroup",[AC,EC]=Kl(dv),TC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=sn();return a.jsx(AC,{scope:i,id:d,children:a.jsx(Ge.div,{role:"group","aria-labelledby":d,...o,ref:r})})});TC.displayName=dv;var fv="SelectLabel",MC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=EC(fv,i);return a.jsx(Ge.div,{id:d.id,...o,ref:r})});MC.displayName=fv;var $o="SelectItem",[DC,mv]=Kl($o),hv=j.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:d=!1,textValue:f,...h}=s,p=ps($o,i),g=xs($o,i),m=p.value===o,[x,v]=j.useState(f??""),[b,S]=j.useState(!1),E=ht(r,T=>{var M;return(M=g.itemRefCallback)==null?void 0:M.call(g,T,o,d)}),w=sn(),N=j.useRef("touch"),P=()=>{d||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(DC,{scope:i,value:o,disabled:d,textId:w,isSelected:m,onItemTextChange:j.useCallback(T=>{v(M=>M||((T==null?void 0:T.textContent)??"").trim())},[]),children:a.jsx(cc.ItemSlot,{scope:i,value:o,disabled:d,textValue:x,children:a.jsx(Ge.div,{role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...h,ref:E,onFocus:Re(h.onFocus,()=>S(!0)),onBlur:Re(h.onBlur,()=>S(!1)),onClick:Re(h.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:Re(h.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:Re(h.onPointerDown,T=>{N.current=T.pointerType}),onPointerMove:Re(h.onPointerMove,T=>{var M;N.current=T.pointerType,d?(M=g.onItemLeave)==null||M.call(g):N.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(h.onPointerLeave,T=>{var M;T.currentTarget===document.activeElement&&((M=g.onItemLeave)==null||M.call(g))}),onKeyDown:Re(h.onKeyDown,T=>{var D;((D=g.searchRef)==null?void 0:D.current)!==""&&T.key===" "||(hC.includes(T.key)&&P(),T.key===" "&&T.preventDefault())})})})})});hv.displayName=$o;var $r="SelectItemText",pv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,...f}=s,h=ps($r,i),p=xs($r,i),g=mv($r,i),m=yC($r,i),[x,v]=j.useState(null),b=ht(r,P=>v(P),g.onItemTextChange,P=>{var T;return(T=p.itemTextRefCallback)==null?void 0:T.call(p,P,g.value,g.disabled)}),S=x==null?void 0:x.textContent,E=j.useMemo(()=>a.jsx("option",{value:g.value,disabled:g.disabled,children:S},g.value),[g.disabled,g.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=m;return sa(()=>(w(E),()=>N(E)),[w,N,E]),a.jsxs(a.Fragment,{children:[a.jsx(Ge.span,{id:g.textId,...f,ref:b}),g.isSelected&&h.valueNode&&!h.valueNodeHasChildren?ni.createPortal(f.children,h.valueNode):null]})});pv.displayName=$r;var xv="SelectItemIndicator",gv=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return mv(xv,i).isSelected?a.jsx(Ge.span,{"aria-hidden":!0,...o,ref:r}):null});gv.displayName=xv;var df="SelectScrollUpButton",yv=j.forwardRef((s,r)=>{const i=xs(df,s.__scopeSelect),o=Of(df,s.__scopeSelect),[d,f]=j.useState(!1),h=ht(r,o.onScrollButtonChange);return sa(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollTop>0;f(m)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(jv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});yv.displayName=df;var ff="SelectScrollDownButton",vv=j.forwardRef((s,r)=>{const i=xs(ff,s.__scopeSelect),o=Of(ff,s.__scopeSelect),[d,f]=j.useState(!1),h=ht(r,o.onScrollButtonChange);return sa(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<m;f(x)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(jv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});vv.displayName=ff;var jv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...d}=s,f=xs("SelectScrollButton",i),h=j.useRef(null),p=uc(i),g=j.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return j.useEffect(()=>()=>g(),[g]),sa(()=>{var x;const m=p().find(v=>v.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[p]),a.jsx(Ge.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:Re(d.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:Re(d.onPointerMove,()=>{var m;(m=f.onItemLeave)==null||m.call(f),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:Re(d.onPointerLeave,()=>{g()})})}),OC="SelectSeparator",RC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return a.jsx(Ge.div,{"aria-hidden":!0,...o,ref:r})});RC.displayName=OC;var mf="SelectArrow",_C=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=dc(i),f=ps(mf,i),h=xs(mf,i);return f.open&&h.position==="popper"?a.jsx(By,{...d,...o,ref:r}):null});_C.displayName=mf;var PC="SelectBubbleInput",bv=j.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const d=j.useRef(null),f=ht(o,d),h=Fy(r);return j.useEffect(()=>{const p=d.current;if(!p)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(h!==r&&x){const v=new Event("change",{bubbles:!0});x.call(p,r),p.dispatchEvent(v)}},[h,r]),a.jsx(Ge.select,{...i,style:{...Vy,...i.style},ref:f,defaultValue:r})});bv.displayName=PC;function Nv(s){return s===""||s===void 0}function Sv(s){const r=rn(s),i=j.useRef(""),o=j.useRef(0),d=j.useCallback(h=>{const p=i.current+h;r(p),(function g(m){i.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(p)},[r]),f=j.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,d,f]}function wv(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=kC(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.textValue.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function kC(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var LC=Jy,zC=tv,IC=nv,UC=sv,qC=lv,HC=rv,BC=uv,FC=hv,VC=pv,GC=gv,YC=yv,$C=vv;function ot({...s}){return a.jsx(LC,{"data-slot":"select",...s})}function ct({...s}){return a.jsx(IC,{"data-slot":"select-value",...s})}function ut({className:s,size:r="default",children:i,...o}){return a.jsxs(zC,{"data-slot":"select-trigger","data-size":r,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o,children:[i,a.jsx(UC,{asChild:!0,children:a.jsx(Vg,{className:"size-4 opacity-50"})})]})}function dt({className:s,children:r,position:i="popper",...o}){return a.jsx(qC,{children:a.jsxs(HC,{"data-slot":"select-content",className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[a.jsx(QC,{}),a.jsx(BC,{className:$e("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),a.jsx(XC,{})]})})}function ye({className:s,children:r,...i}){return a.jsxs(FC,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(GC,{children:a.jsx(ON,{className:"size-4"})})}),a.jsx(VC,{children:r})]})}function QC({className:s,...r}){return a.jsx(YC,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(PN,{className:"size-4"})})}function XC({className:s,...r}){return a.jsx($C,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(Vg,{className:"size-4"})})}function KC(s,r){return j.useReducer((i,o)=>r[i][o]??i,s)}var zn=s=>{const{present:r,children:i}=s,o=ZC(r),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=ht(o.ref,WC(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};zn.displayName="Presence";function ZC(s){const[r,i]=j.useState(),o=j.useRef(null),d=j.useRef(s),f=j.useRef("none"),h=s?"mounted":"unmounted",[p,g]=KC(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=_o(o.current);f.current=p==="mounted"?m:"none"},[p]),sa(()=>{const m=o.current,x=d.current;if(x!==s){const b=f.current,S=_o(m);s?g("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?g("UNMOUNT"):g(x&&b!==S?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),sa(()=>{if(r){let m;const x=r.ownerDocument.defaultView??window,v=S=>{const w=_o(o.current).includes(CSS.escape(S.animationName));if(S.target===r&&w&&(g("ANIMATION_END"),!d.current)){const N=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=N)})}},b=S=>{S.target===r&&(f.current=_o(o.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",v),r.addEventListener("animationend",v),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",v),r.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:j.useCallback(m=>{o.current=m?getComputedStyle(m):null,i(m)},[])}}function _o(s){return(s==null?void 0:s.animationName)||"none"}function WC(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Wd="rovingFocusGroup.onEntryFocus",JC={bubbles:!1,cancelable:!0},li="RovingFocusGroup",[hf,Cv,eA]=jf(li),[tA,fc]=Ln(li,[eA]),[aA,nA]=tA(li),Av=j.forwardRef((s,r)=>a.jsx(hf.Provider,{scope:s.__scopeRovingFocusGroup,children:a.jsx(hf.Slot,{scope:s.__scopeRovingFocusGroup,children:a.jsx(sA,{...s,ref:r})})}));Av.displayName=li;var sA=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:d=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...v}=s,b=j.useRef(null),S=ht(r,b),E=Wo(f),[w,N]=Vs({prop:h,defaultProp:p??null,onChange:g,caller:li}),[P,T]=j.useState(!1),M=rn(m),D=Cv(i),A=j.useRef(!1),[R,z]=j.useState(0);return j.useEffect(()=>{const H=b.current;if(H)return H.addEventListener(Wd,M),()=>H.removeEventListener(Wd,M)},[M]),a.jsx(aA,{scope:i,orientation:o,dir:E,loop:d,currentTabStopId:w,onItemFocus:j.useCallback(H=>N(H),[N]),onItemShiftTab:j.useCallback(()=>T(!0),[]),onFocusableItemAdd:j.useCallback(()=>z(H=>H+1),[]),onFocusableItemRemove:j.useCallback(()=>z(H=>H-1),[]),children:a.jsx(Ge.div,{tabIndex:P||R===0?-1:0,"data-orientation":o,...v,ref:S,style:{outline:"none",...s.style},onMouseDown:Re(s.onMouseDown,()=>{A.current=!0}),onFocus:Re(s.onFocus,H=>{const se=!A.current;if(H.target===H.currentTarget&&se&&!P){const B=new CustomEvent(Wd,JC);if(H.currentTarget.dispatchEvent(B),!B.defaultPrevented){const F=D().filter(L=>L.focusable),U=F.find(L=>L.active),ne=F.find(L=>L.id===w),xe=[U,ne,...F].filter(Boolean).map(L=>L.ref.current);Mv(xe,x)}}A.current=!1}),onBlur:Re(s.onBlur,()=>T(!1))})})}),Ev="RovingFocusGroupItem",Tv=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:d=!1,tabStopId:f,children:h,...p}=s,g=sn(),m=f||g,x=nA(Ev,i),v=x.currentTabStopId===m,b=Cv(i),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:w}=x;return j.useEffect(()=>{if(o)return S(),()=>E()},[o,S,E]),a.jsx(hf.ItemSlot,{scope:i,id:m,focusable:o,active:d,children:a.jsx(Ge.span,{tabIndex:v?0:-1,"data-orientation":x.orientation,...p,ref:r,onMouseDown:Re(s.onMouseDown,N=>{o?x.onItemFocus(m):N.preventDefault()}),onFocus:Re(s.onFocus,()=>x.onItemFocus(m)),onKeyDown:Re(s.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const P=iA(N,x.orientation,x.dir);if(P!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let M=b().filter(D=>D.focusable).map(D=>D.ref.current);if(P==="last")M.reverse();else if(P==="prev"||P==="next"){P==="prev"&&M.reverse();const D=M.indexOf(N.currentTarget);M=x.loop?oA(M,D+1):M.slice(D+1)}setTimeout(()=>Mv(M))}}),children:typeof h=="function"?h({isCurrentTabStop:v,hasTabStop:w!=null}):h})})});Tv.displayName=Ev;var lA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rA(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function iA(s,r,i){const o=rA(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return lA[o]}function Mv(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function oA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var Dv=Av,Ov=Tv,pf=["Enter"," "],cA=["ArrowDown","PageUp","Home"],Rv=["ArrowUp","PageDown","End"],uA=[...cA,...Rv],dA={ltr:[...pf,"ArrowRight"],rtl:[...pf,"ArrowLeft"]},fA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ri="Menu",[ei,mA,hA]=jf(ri),[Qs,_v]=Ln(ri,[hA,lc,fc]),mc=lc(),Pv=fc(),[pA,Xs]=Qs(ri),[xA,ii]=Qs(ri),kv=s=>{const{__scopeMenu:r,open:i=!1,children:o,dir:d,onOpenChange:f,modal:h=!0}=s,p=mc(r),[g,m]=j.useState(null),x=j.useRef(!1),v=rn(f),b=Wo(d);return j.useEffect(()=>{const S=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(Uy,{...p,children:a.jsx(pA,{scope:r,open:i,onOpenChange:v,content:g,onContentChange:m,children:a.jsx(xA,{scope:r,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:x,dir:b,modal:h,children:o})})})};kv.displayName=ri;var gA="MenuAnchor",Rf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=mc(i);return a.jsx(qy,{...d,...o,ref:r})});Rf.displayName=gA;var _f="MenuPortal",[yA,Lv]=Qs(_f,{forceMount:void 0}),zv=s=>{const{__scopeMenu:r,forceMount:i,children:o,container:d}=s,f=Xs(_f,r);return a.jsx(yA,{scope:r,forceMount:i,children:a.jsx(zn,{present:i||f.open,children:a.jsx(rc,{asChild:!0,container:d,children:o})})})};zv.displayName=_f;var qa="MenuContent",[vA,Pf]=Qs(qa),Iv=j.forwardRef((s,r)=>{const i=Lv(qa,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Xs(qa,s.__scopeMenu),h=ii(qa,s.__scopeMenu);return a.jsx(ei.Provider,{scope:s.__scopeMenu,children:a.jsx(zn,{present:o||f.open,children:a.jsx(ei.Slot,{scope:s.__scopeMenu,children:h.modal?a.jsx(jA,{...d,ref:r}):a.jsx(bA,{...d,ref:r})})})})}),jA=j.forwardRef((s,r)=>{const i=Xs(qa,s.__scopeMenu),o=j.useRef(null),d=ht(r,o);return j.useEffect(()=>{const f=o.current;if(f)return Df(f)},[]),a.jsx(kf,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Re(s.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),bA=j.forwardRef((s,r)=>{const i=Xs(qa,s.__scopeMenu);return a.jsx(kf,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),NA=Vl("MenuContent.ScrollLock"),kf=j.forwardRef((s,r)=>{const{__scopeMenu:i,loop:o=!1,trapFocus:d,onOpenAutoFocus:f,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:S,disableOutsideScroll:E,...w}=s,N=Xs(qa,i),P=ii(qa,i),T=mc(i),M=Pv(i),D=mA(i),[A,R]=j.useState(null),z=j.useRef(null),H=ht(r,z,N.onContentChange),se=j.useRef(0),B=j.useRef(""),F=j.useRef(0),U=j.useRef(null),ne=j.useRef("right"),$=j.useRef(0),xe=E?oc:j.Fragment,L=E?{as:NA,allowPinchZoom:!0}:void 0,X=ie=>{var ae,_e;const je=B.current+ie,O=D().filter(Y=>!Y.disabled),ee=document.activeElement,de=(ae=O.find(Y=>Y.ref.current===ee))==null?void 0:ae.textValue,he=O.map(Y=>Y.textValue),q=PA(he,je,de),me=(_e=O.find(Y=>Y.textValue===q))==null?void 0:_e.ref.current;(function Y(ge){B.current=ge,window.clearTimeout(se.current),ge!==""&&(se.current=window.setTimeout(()=>Y(""),1e3))})(je),me&&setTimeout(()=>me.focus())};j.useEffect(()=>()=>window.clearTimeout(se.current),[]),bf();const V=j.useCallback(ie=>{var O,ee;return ne.current===((O=U.current)==null?void 0:O.side)&&LA(ie,(ee=U.current)==null?void 0:ee.area)},[]);return a.jsx(vA,{scope:i,searchRef:B,onItemEnter:j.useCallback(ie=>{V(ie)&&ie.preventDefault()},[V]),onItemLeave:j.useCallback(ie=>{var je;V(ie)||((je=z.current)==null||je.focus(),R(null))},[V]),onTriggerLeave:j.useCallback(ie=>{V(ie)&&ie.preventDefault()},[V]),pointerGraceTimerRef:F,onPointerGraceIntentChange:j.useCallback(ie=>{U.current=ie},[]),children:a.jsx(xe,{...L,children:a.jsx(ec,{asChild:!0,trapped:d,onMountAutoFocus:Re(f,ie=>{var je;ie.preventDefault(),(je=z.current)==null||je.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:a.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:S,children:a.jsx(Dv,{asChild:!0,...M,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:Re(g,ie=>{P.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Hy,{role:"menu","aria-orientation":"vertical","data-state":e0(N.open),"data-radix-menu-content":"",dir:P.dir,...T,...w,ref:H,style:{outline:"none",...w.style},onKeyDown:Re(w.onKeyDown,ie=>{const O=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,ee=ie.ctrlKey||ie.altKey||ie.metaKey,de=ie.key.length===1;O&&(ie.key==="Tab"&&ie.preventDefault(),!ee&&de&&X(ie.key));const he=z.current;if(ie.target!==he||!uA.includes(ie.key))return;ie.preventDefault();const me=D().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);Rv.includes(ie.key)&&me.reverse(),RA(me)}),onBlur:Re(s.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(se.current),B.current="")}),onPointerMove:Re(s.onPointerMove,ti(ie=>{const je=ie.target,O=$.current!==ie.clientX;if(ie.currentTarget.contains(je)&&O){const ee=ie.clientX>$.current?"right":"left";ne.current=ee,$.current=ie.clientX}}))})})})})})})});Iv.displayName=qa;var SA="MenuGroup",Lf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ge.div,{role:"group",...o,ref:r})});Lf.displayName=SA;var wA="MenuLabel",Uv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ge.div,{...o,ref:r})});Uv.displayName=wA;var Qo="MenuItem",Pg="menu.itemSelect",hc=j.forwardRef((s,r)=>{const{disabled:i=!1,onSelect:o,...d}=s,f=j.useRef(null),h=ii(Qo,s.__scopeMenu),p=Pf(Qo,s.__scopeMenu),g=ht(r,f),m=j.useRef(!1),x=()=>{const v=f.current;if(!i&&v){const b=new CustomEvent(Pg,{bubbles:!0,cancelable:!0});v.addEventListener(Pg,S=>o==null?void 0:o(S),{once:!0}),my(v,b),b.defaultPrevented?m.current=!1:h.onClose()}};return a.jsx(qv,{...d,ref:g,disabled:i,onClick:Re(s.onClick,x),onPointerDown:v=>{var b;(b=s.onPointerDown)==null||b.call(s,v),m.current=!0},onPointerUp:Re(s.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:Re(s.onKeyDown,v=>{const b=p.searchRef.current!=="";i||b&&v.key===" "||pf.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});hc.displayName=Qo;var qv=j.forwardRef((s,r)=>{const{__scopeMenu:i,disabled:o=!1,textValue:d,...f}=s,h=Pf(Qo,i),p=Pv(i),g=j.useRef(null),m=ht(r,g),[x,v]=j.useState(!1),[b,S]=j.useState("");return j.useEffect(()=>{const E=g.current;E&&S((E.textContent??"").trim())},[f.children]),a.jsx(ei.ItemSlot,{scope:i,disabled:o,textValue:d??b,children:a.jsx(Ov,{asChild:!0,...p,focusable:!o,children:a.jsx(Ge.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:Re(s.onPointerMove,ti(E=>{o?h.onItemLeave(E):(h.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(s.onPointerLeave,ti(E=>h.onItemLeave(E))),onFocus:Re(s.onFocus,()=>v(!0)),onBlur:Re(s.onBlur,()=>v(!1))})})})}),CA="MenuCheckboxItem",Hv=j.forwardRef((s,r)=>{const{checked:i=!1,onCheckedChange:o,...d}=s;return a.jsx(Yv,{scope:s.__scopeMenu,checked:i,children:a.jsx(hc,{role:"menuitemcheckbox","aria-checked":Xo(i)?"mixed":i,...d,ref:r,"data-state":If(i),onSelect:Re(d.onSelect,()=>o==null?void 0:o(Xo(i)?!0:!i),{checkForDefaultPrevented:!1})})})});Hv.displayName=CA;var Bv="MenuRadioGroup",[AA,EA]=Qs(Bv,{value:void 0,onValueChange:()=>{}}),Fv=j.forwardRef((s,r)=>{const{value:i,onValueChange:o,...d}=s,f=rn(o);return a.jsx(AA,{scope:s.__scopeMenu,value:i,onValueChange:f,children:a.jsx(Lf,{...d,ref:r})})});Fv.displayName=Bv;var Vv="MenuRadioItem",Gv=j.forwardRef((s,r)=>{const{value:i,...o}=s,d=EA(Vv,s.__scopeMenu),f=i===d.value;return a.jsx(Yv,{scope:s.__scopeMenu,checked:f,children:a.jsx(hc,{role:"menuitemradio","aria-checked":f,...o,ref:r,"data-state":If(f),onSelect:Re(o.onSelect,()=>{var h;return(h=d.onValueChange)==null?void 0:h.call(d,i)},{checkForDefaultPrevented:!1})})})});Gv.displayName=Vv;var zf="MenuItemIndicator",[Yv,TA]=Qs(zf,{checked:!1}),$v=j.forwardRef((s,r)=>{const{__scopeMenu:i,forceMount:o,...d}=s,f=TA(zf,i);return a.jsx(zn,{present:o||Xo(f.checked)||f.checked===!0,children:a.jsx(Ge.span,{...d,ref:r,"data-state":If(f.checked)})})});$v.displayName=zf;var MA="MenuSeparator",Qv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Qv.displayName=MA;var DA="MenuArrow",Xv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=mc(i);return a.jsx(By,{...d,...o,ref:r})});Xv.displayName=DA;var OA="MenuSub",[GT,Kv]=Qs(OA),Qr="MenuSubTrigger",Zv=j.forwardRef((s,r)=>{const i=Xs(Qr,s.__scopeMenu),o=ii(Qr,s.__scopeMenu),d=Kv(Qr,s.__scopeMenu),f=Pf(Qr,s.__scopeMenu),h=j.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=f,m={__scopeMenu:s.__scopeMenu},x=j.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return j.useEffect(()=>x,[x]),j.useEffect(()=>{const v=p.current;return()=>{window.clearTimeout(v),g(null)}},[p,g]),a.jsx(Rf,{asChild:!0,...m,children:a.jsx(qv,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":d.contentId,"data-state":e0(i.open),...s,ref:ai(r,d.onTriggerChange),onClick:v=>{var b;(b=s.onClick)==null||b.call(s,v),!(s.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Re(s.onPointerMove,ti(v=>{f.onItemEnter(v),!v.defaultPrevented&&!s.disabled&&!i.open&&!h.current&&(f.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{i.onOpenChange(!0),x()},100))})),onPointerLeave:Re(s.onPointerLeave,ti(v=>{var S,E;x();const b=(S=i.content)==null?void 0:S.getBoundingClientRect();if(b){const w=(E=i.content)==null?void 0:E.dataset.side,N=w==="right",P=N?-5:5,T=b[N?"left":"right"],M=b[N?"right":"left"];f.onPointerGraceIntentChange({area:[{x:v.clientX+P,y:v.clientY},{x:T,y:b.top},{x:M,y:b.top},{x:M,y:b.bottom},{x:T,y:b.bottom}],side:w}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(v),v.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:Re(s.onKeyDown,v=>{var S;const b=f.searchRef.current!=="";s.disabled||b&&v.key===" "||dA[o.dir].includes(v.key)&&(i.onOpenChange(!0),(S=i.content)==null||S.focus(),v.preventDefault())})})})});Zv.displayName=Qr;var Wv="MenuSubContent",Jv=j.forwardRef((s,r)=>{const i=Lv(qa,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Xs(qa,s.__scopeMenu),h=ii(qa,s.__scopeMenu),p=Kv(Wv,s.__scopeMenu),g=j.useRef(null),m=ht(r,g);return a.jsx(ei.Provider,{scope:s.__scopeMenu,children:a.jsx(zn,{present:o||f.open,children:a.jsx(ei.Slot,{scope:s.__scopeMenu,children:a.jsx(kf,{id:p.contentId,"aria-labelledby":p.triggerId,...d,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var v;h.isUsingKeyboardRef.current&&((v=g.current)==null||v.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Re(s.onFocusOutside,x=>{x.target!==p.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:Re(s.onEscapeKeyDown,x=>{h.onClose(),x.preventDefault()}),onKeyDown:Re(s.onKeyDown,x=>{var S;const v=x.currentTarget.contains(x.target),b=fA[h.dir].includes(x.key);v&&b&&(f.onOpenChange(!1),(S=p.trigger)==null||S.focus(),x.preventDefault())})})})})})});Jv.displayName=Wv;function e0(s){return s?"open":"closed"}function Xo(s){return s==="indeterminate"}function If(s){return Xo(s)?"indeterminate":s?"checked":"unchecked"}function RA(s){const r=document.activeElement;for(const i of s)if(i===r||(i.focus(),document.activeElement!==r))return}function _A(s,r){return s.map((i,o)=>s[(r+o)%s.length])}function PA(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=_A(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function kA(s,r){const{x:i,y:o}=s;let d=!1;for(let f=0,h=r.length-1;f<r.length;h=f++){const p=r[f],g=r[h],m=p.x,x=p.y,v=g.x,b=g.y;x>o!=b>o&&i<(v-m)*(o-x)/(b-x)+m&&(d=!d)}return d}function LA(s,r){if(!r)return!1;const i={x:s.clientX,y:s.clientY};return kA(i,r)}function ti(s){return r=>r.pointerType==="mouse"?s(r):void 0}var zA=kv,IA=Rf,UA=zv,qA=Iv,HA=Lf,BA=Uv,FA=hc,VA=Hv,GA=Fv,YA=Gv,$A=$v,QA=Qv,XA=Xv,KA=Zv,ZA=Jv,pc="DropdownMenu",[WA]=Ln(pc,[_v]),ia=_v(),[JA,t0]=WA(pc),a0=s=>{const{__scopeDropdownMenu:r,children:i,dir:o,open:d,defaultOpen:f,onOpenChange:h,modal:p=!0}=s,g=ia(r),m=j.useRef(null),[x,v]=Vs({prop:d,defaultProp:f??!1,onChange:h,caller:pc});return a.jsx(JA,{scope:r,triggerId:sn(),triggerRef:m,contentId:sn(),open:x,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(b=>!b),[v]),modal:p,children:a.jsx(zA,{...g,open:x,onOpenChange:v,dir:o,modal:p,children:i})})};a0.displayName=pc;var n0="DropdownMenuTrigger",s0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,disabled:o=!1,...d}=s,f=t0(n0,i),h=ia(i);return a.jsx(IA,{asChild:!0,...h,children:a.jsx(Ge.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...d,ref:ai(r,f.triggerRef),onPointerDown:Re(s.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(f.onOpenToggle(),f.open||p.preventDefault())}),onKeyDown:Re(s.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&f.onOpenToggle(),p.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});s0.displayName=n0;var eE="DropdownMenuPortal",l0=s=>{const{__scopeDropdownMenu:r,...i}=s,o=ia(r);return a.jsx(UA,{...o,...i})};l0.displayName=eE;var r0="DropdownMenuContent",i0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=t0(r0,i),f=ia(i),h=j.useRef(!1);return a.jsx(qA,{id:d.contentId,"aria-labelledby":d.triggerId,...f,...o,ref:r,onCloseAutoFocus:Re(s.onCloseAutoFocus,p=>{var g;h.current||(g=d.triggerRef.current)==null||g.focus(),h.current=!1,p.preventDefault()}),onInteractOutside:Re(s.onInteractOutside,p=>{const g=p.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,x=g.button===2||m;(!d.modal||x)&&(h.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i0.displayName=r0;var tE="DropdownMenuGroup",aE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(HA,{...d,...o,ref:r})});aE.displayName=tE;var nE="DropdownMenuLabel",sE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(BA,{...d,...o,ref:r})});sE.displayName=nE;var lE="DropdownMenuItem",o0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(FA,{...d,...o,ref:r})});o0.displayName=lE;var rE="DropdownMenuCheckboxItem",iE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(VA,{...d,...o,ref:r})});iE.displayName=rE;var oE="DropdownMenuRadioGroup",cE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(GA,{...d,...o,ref:r})});cE.displayName=oE;var uE="DropdownMenuRadioItem",dE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(YA,{...d,...o,ref:r})});dE.displayName=uE;var fE="DropdownMenuItemIndicator",mE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx($A,{...d,...o,ref:r})});mE.displayName=fE;var hE="DropdownMenuSeparator",pE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(QA,{...d,...o,ref:r})});pE.displayName=hE;var xE="DropdownMenuArrow",gE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(XA,{...d,...o,ref:r})});gE.displayName=xE;var yE="DropdownMenuSubTrigger",vE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(KA,{...d,...o,ref:r})});vE.displayName=yE;var jE="DropdownMenuSubContent",bE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=ia(i);return a.jsx(ZA,{...d,...o,ref:r,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bE.displayName=jE;var NE=a0,SE=s0,wE=l0,CE=i0,AE=o0;function EE({...s}){return a.jsx(NE,{"data-slot":"dropdown-menu",...s})}function TE({...s}){return a.jsx(SE,{"data-slot":"dropdown-menu-trigger",...s})}function ME({className:s,sideOffset:r=4,...i}){return a.jsx(wE,{children:a.jsx(CE,{"data-slot":"dropdown-menu-content",sideOffset:r,className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...i})})}function DE({className:s,inset:r,variant:i="default",...o}){return a.jsx(AE,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":i,className:$e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o})}function OE(){var S,E;const{state:s,actions:r,auth:i}=Et(),{locations:o,locationFilter:d,notifications:f,currentView:h}=s,p=i.getCurrentUser(),g=f.filter(w=>!w.read).length,m=i.hasPermission("VIEW_ALL_LOCATIONS"),x=()=>({dashboard:"Dashboard","raw-materials":"Raw Materials","finished-products":"Finished Products",suppliers:"Suppliers",customers:"Customers",labour:"Labour Management",sales:"Sales",purchases:"Purchases",financials:"Financials",cleaning:"Cleaning Services",reports:"Reports",settings:"Settings"})[h]||"Sofa Factory Manager",v=w=>{r.setLocationFilter(w)},b=w=>{switch(w.read||r.markNotificationRead(w.id),w.type){case"sale_approval":r.setCurrentView("sales");break;case"low_stock":r.setCurrentView("raw-materials");break;case"payment_due":r.setCurrentView("financials");break;case"labour_report":r.setCurrentView("labour");break}};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Dw,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:x()}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-NP",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[m&&o.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ql,{className:"w-4 h-4 text-gray-500"}),a.jsxs(ot,{value:d,onValueChange:v,children:[a.jsx(ut,{className:"w-40",children:a.jsx(ct,{placeholder:"Select location"})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"all",children:"All Locations"}),o.map(w=>a.jsx(ye,{value:w.id.toString(),children:w.name},w.id))]})]})]}),a.jsxs(EE,{children:[a.jsx(TE,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Fl,{className:"w-4 h-4"}),g>0&&a.jsx(He,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 text-xs flex items-center justify-center p-0",children:g>9?"9+":g})]})}),a.jsxs(ME,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-3 border-b",children:[a.jsx("h3",{className:"font-medium",children:"Notifications"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g," unread"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.slice(0,10).map(w=>a.jsx(DE,{className:"p-3 cursor-pointer",onClick:()=>b(w),children:a.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.read?"bg-gray-300":"bg-amber-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm ${w.read?"text-gray-600":"text-gray-900 font-medium"}`,children:w.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:On(w.createdAt)})]})]})},w.id))}),f.length>10&&a.jsx("div",{className:"p-3 border-t text-center",children:a.jsx(ue,{variant:"ghost",size:"sm",children:"View all notifications"})})]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:((E=(S=p.name)==null?void 0:S.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role.replace("_"," ")})]})]})]})]})})}function RE({children:s}){const{state:r}=Et(),{isAuthenticated:i,company:o}=r;return!i||!o?a.jsx(a.Fragment,{children:s}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Mw,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(OE,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function _E(){const{actions:s}=Et(),[r,i]=j.useState({username:"",password:"",email:""}),[o,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),m=b=>{i({...r,[b.target.name]:b.target.value}),d(""),h("")},x=async b=>{if(b.preventDefault(),!r.username.trim()||!r.password.trim()){d("Username and password are required");return}g(!0),d("");try{if(r.username.trim()==="admin"&&r.password.trim()==="admin123"){const w={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()};try{await s.createAdminAccount(w)}catch(N){console.log("Admin account setup:",N.message)}await s.login(w.id);return}const E=(await s.getAllUsers()).find(w=>w.role==="admin"&&w.username===r.username.trim()&&w.password===r.password.trim());if(!E){d("Invalid username or password"),g(!1);return}await s.login(E.id)}catch(S){console.error("Login failed:",S),d("Login failed. Please try again."),g(!1)}},v=async b=>{if(b.preventDefault(),!r.email.trim()){d("Email is required for password recovery");return}g(!0),d(""),h("");try{const E=(await s.getAllUsers()).find(w=>w.email===r.email.trim());if(!E){d("No account found with this email"),g(!1);return}h(`Password recovery: Your username is "${E.username}" and password is "${E.password}". Please save these credentials.`),g(!1)}catch(S){console.error("Password recovery failed:",S),d("Password recovery failed. Please try again."),g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:a.jsx(Zo,{className:"w-10 h-10 text-slate-900"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sofa Factory Manager"}),a.jsx("p",{className:"text-slate-300",children:"Admin Login Portal"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Forgot your password?"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,placeholder:"Enter your email for password recovery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Recovering...":"Recover Password"})]}),o&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),f&&a.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-green-600",children:f})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-slate-300",children:["Default credentials: ",a.jsx("span",{className:"font-semibold text-amber-400",children:"admin / admin123"})]})})]})})}function ve({className:s,type:r,...i}){return a.jsx("input",{type:r,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var PE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kE=PE.reduce((s,r)=>{const i=Kg(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{}),LE="Label",c0=j.forwardRef((s,r)=>a.jsx(kE.label,{...s,ref:r,onMouseDown:i=>{var d;i.target.closest("button, input, select, textarea")||((d=s.onMouseDown)==null||d.call(s,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));c0.displayName=LE;var zE=c0;function Q({className:s,...r}){return a.jsx(zE,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}function fe({className:s,...r}){return a.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function Me({className:s,...r}){return a.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function De({className:s,...r}){return a.jsx("div",{"data-slot":"card-title",className:$e("leading-none font-semibold",s),...r})}function qe({className:s,...r}){return a.jsx("div",{"data-slot":"card-description",className:$e("text-muted-foreground text-sm",s),...r})}function Ne({className:s,...r}){return a.jsx("div",{"data-slot":"card-content",className:$e("px-6",s),...r})}function Xt({className:s,...r}){return a.jsx("textarea",{"data-slot":"textarea",className:$e("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}const Yr=[{id:"admin",title:"Create Admin Account",description:"Set up your administrator account",icon:qo},{id:"company",title:"Company Profile",description:"Enter your company information",icon:wN},{id:"locations",title:"Factory Locations",description:"Add your factory locations",icon:ql}];function kg(){const{actions:s}=Et(),[r,i]=j.useState(0),[o,d]=j.useState(!1),[f,h]=j.useState({}),[p,g]=j.useState({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",securityQuestion1:"What is your mother's maiden name?",securityAnswer1:"",securityQuestion2:"What was the name of your first pet?",securityAnswer2:""}),[m,x]=j.useState({name:"",address:"",phone:"",email:""}),[v,b]=j.useState([{name:"",address:""}]),S=A=>{const R={};switch(A){case 0:p.name.trim()||(R.adminName="Name is required"),p.email.trim()?og(p.email)||(R.adminEmail="Invalid email format"):R.adminEmail="Email is required",p.phone.trim()?cg(p.phone)||(R.adminPhone="Invalid phone format"):R.adminPhone="Phone is required",p.username.trim()?p.username.length<4&&(R.adminUsername="Username must be at least 4 characters"):R.adminUsername="Username is required",p.password.trim()?p.password.length<6&&(R.adminPassword="Password must be at least 6 characters"):R.adminPassword="Password is required",p.password!==p.confirmPassword&&(R.adminConfirmPassword="Passwords do not match"),p.securityAnswer1.trim()||(R.securityAnswer1="Security answer is required"),p.securityAnswer2.trim()||(R.securityAnswer2="Security answer is required");break;case 1:m.name.trim()||(R.companyName="Company name is required"),m.address.trim()||(R.companyAddress="Company address is required"),m.phone.trim()?cg(m.phone)||(R.companyPhone="Invalid phone format"):R.companyPhone="Company phone is required",m.email&&!og(m.email)&&(R.companyEmail="Invalid email format");break;case 2:v.forEach((z,H)=>{z.name.trim()||(R[`location${H}Name`]="Location name is required"),z.address.trim()||(R[`location${H}Address`]="Location address is required")});break}return h(R),Object.keys(R).length===0},E=()=>{S(r)&&i(r+1)},w=()=>{i(r-1),h({})},N=()=>{b([...v,{name:"",address:""}])},P=A=>{v.length>1&&b(v.filter((R,z)=>z!==A))},T=(A,R,z)=>{const H=v.map((se,B)=>B===A?{...se,[R]:z}:se);b(H)},M=async()=>{if(S(r)){d(!0);try{const A=await s.createAdminAccount(p);await s.addItem("company",{id:"profile",...m});for(const R of v)await s.addItem("locations",R);await s.refreshData()}catch(A){console.error("Setup failed:",A),h({general:"Setup failed. Please try again."})}finally{d(!1)}}},D=()=>{switch(r){case 0:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminName",children:"Full Name"}),a.jsx(ve,{id:"adminName",value:p.name,onChange:A=>g({...p,name:A.target.value}),placeholder:"Enter your full name",className:f.adminName?"border-red-500":""}),f.adminName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminName})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminEmail",children:"Email Address"}),a.jsx(ve,{id:"adminEmail",type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),placeholder:"Enter your email address",className:f.adminEmail?"border-red-500":""}),f.adminEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminEmail})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminPhone",children:"Phone Number"}),a.jsx(ve,{id:"adminPhone",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),placeholder:"Enter your phone number",className:f.adminPhone?"border-red-500":""}),f.adminPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPhone})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Login Credentials"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminUsername",children:"Username"}),a.jsx(ve,{id:"adminUsername",value:p.username,onChange:A=>g({...p,username:A.target.value}),placeholder:"Choose a username (min 4 characters)",className:f.adminUsername?"border-red-500":""}),f.adminUsername&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminUsername})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminPassword",children:"Password"}),a.jsx(ve,{id:"adminPassword",type:"password",value:p.password,onChange:A=>g({...p,password:A.target.value}),placeholder:"Choose a password (min 6 characters)",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPassword})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"adminConfirmPassword",children:"Confirm Password"}),a.jsx(ve,{id:"adminConfirmPassword",type:"password",value:p.confirmPassword,onChange:A=>g({...p,confirmPassword:A.target.value}),placeholder:"Re-enter your password",className:f.adminConfirmPassword?"border-red-500":""}),f.adminConfirmPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminConfirmPassword})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Security Questions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"These will help you recover your password if you forget it"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"securityAnswer1",children:p.securityQuestion1}),a.jsx(ve,{id:"securityAnswer1",value:p.securityAnswer1,onChange:A=>g({...p,securityAnswer1:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer1?"border-red-500":""}),f.securityAnswer1&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer1})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"securityAnswer2",children:p.securityQuestion2}),a.jsx(ve,{id:"securityAnswer2",value:p.securityAnswer2,onChange:A=>g({...p,securityAnswer2:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer2?"border-red-500":""}),f.securityAnswer2&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer2})]})]})]})]});case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"companyName",children:"Company Name"}),a.jsx(ve,{id:"companyName",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"Enter your company name",className:f.companyName?"border-red-500":""}),f.companyName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyName})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"companyAddress",children:"Company Address"}),a.jsx(Xt,{id:"companyAddress",value:m.address,onChange:A=>x({...m,address:A.target.value}),placeholder:"Enter your company address",className:f.companyAddress?"border-red-500":"",rows:3}),f.companyAddress&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyAddress})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"companyPhone",children:"Company Phone"}),a.jsx(ve,{id:"companyPhone",value:m.phone,onChange:A=>x({...m,phone:A.target.value}),placeholder:"Enter company phone number",className:f.companyPhone?"border-red-500":""}),f.companyPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyPhone})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"companyEmail",children:"Company Email (Optional)"}),a.jsx(ve,{id:"companyEmail",type:"email",value:m.email,onChange:A=>x({...m,email:A.target.value}),placeholder:"Enter company email address",className:f.companyEmail?"border-red-500":""}),f.companyEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyEmail})]})]});case 2:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Factory Locations"}),a.jsx(ue,{onClick:N,variant:"outline",size:"sm",children:"Add Location"})]}),v.map((A,R)=>a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Location ",R+1]}),v.length>1&&a.jsx(ue,{onClick:()=>P(R),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:"Remove"})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:`location${R}Name`,children:"Location Name"}),a.jsx(ve,{id:`location${R}Name`,value:A.name,onChange:z=>T(R,"name",z.target.value),placeholder:"e.g., Factory A - Kathmandu",className:f[`location${R}Name`]?"border-red-500":""}),f[`location${R}Name`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${R}Name`]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:`location${R}Address`,children:"Address"}),a.jsx(Xt,{id:`location${R}Address`,value:A.address,onChange:z=>T(R,"address",z.target.value),placeholder:"Enter location address",className:f[`location${R}Address`]?"border-red-500":"",rows:2}),f[`location${R}Address`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${R}Address`]})]})]})},R))]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Zo,{className:"w-8 h-8 text-amber-500"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Sofa Factory Manager"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Let's set up your application"})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:Yr.map((A,R)=>{const z=A.icon,H=R===r,se=R<r;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${H?"bg-slate-800 text-white":se?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:a.jsx(z,{className:"w-5 h-5"})}),R<Yr.length-1&&a.jsx("div",{className:`w-16 h-1 mx-2 ${se?"bg-green-500":"bg-gray-200"}`})]},A.id)})}),a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:Yr[r].title}),a.jsx(qe,{children:Yr[r].description})]}),a.jsxs(Ne,{children:[f.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:a.jsx("p",{className:"text-sm text-red-600",children:f.general})}),D(),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ue,{onClick:w,variant:"outline",disabled:r===0,children:"Previous"}),r<Yr.length-1?a.jsx(ue,{onClick:E,children:"Next"}):a.jsx(ue,{onClick:M,disabled:o,children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}function Lg(){const{state:s}=Et(),{user:r}=s,[i,o]=j.useState({sales:[],purchases:[],rawMaterials:[],products:[],customers:[],suppliers:[],loading:!0});j.useEffect(()=>{d()},[]);const d=async()=>{try{const[x,v,b,S,E,w]=await Promise.all([pe.getAll("sales"),pe.getAll("purchases"),pe.getAll("rawMaterials"),pe.getAll("sofaModels"),pe.getAll("customers"),pe.getAll("suppliers")]);console.log("Dashboard data loaded:",{sales:(x==null?void 0:x.length)||0,purchases:(v==null?void 0:v.length)||0,rawMaterials:(b==null?void 0:b.length)||0,products:(S==null?void 0:S.length)||0,customers:(E==null?void 0:E.length)||0,suppliers:(w==null?void 0:w.length)||0});const N=P=>(r==null?void 0:r.role)==="admin"?P:P.filter(T=>T.location===(r==null?void 0:r.location));o({sales:N(x||[]),purchases:N(v||[]),rawMaterials:N(b||[]),products:S||[],customers:E||[],suppliers:w||[],loading:!1})}catch(x){console.error("Error loading dashboard data:",x),o(v=>({...v,loading:!1}))}};if(i.loading)return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(x=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})]})});const f=i.sales.filter(x=>x.approvalStatus==="approved").length,h=i.sales.filter(x=>x.approvalStatus==="pending").length,p=i.sales.filter(x=>x.approvalStatus==="approved").reduce((x,v)=>x+(parseFloat(v.totalAmount)||parseFloat(v.salePrice)||0),0),g=i.rawMaterials.filter(x=>(x.currentStock||0)<=(x.minStock||10)).length,m=({title:x,value:v,icon:b,color:S="blue",description:E})=>a.jsx(fe,{children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:x}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),E&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),a.jsx("div",{className:`p-3 rounded-full bg-${S}-100`,children:a.jsx(b,{className:`w-6 h-6 text-${S}-600`})})]})})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(r==null?void 0:r.name)||"User","!"]}),a.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your factory today"})]}),(r==null?void 0:r.location)&&a.jsx(He,{variant:"outline",className:"text-sm",children:r.location})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(m,{title:"Total Sales",value:f,icon:Kr,color:"blue",description:`${h} pending approval`}),a.jsx(m,{title:"Revenue",value:`NPR ${p.toLocaleString()}`,icon:Ua,color:"green",description:"From completed sales"}),a.jsx(m,{title:"Customers",value:i.customers.length,icon:Zr,color:"purple",description:"Active customers"}),a.jsx(m,{title:"Suppliers",value:i.suppliers.length,icon:Uo,color:"orange",description:"Active suppliers"})]}),(h>0||g>0)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h>0&&a.jsx(fe,{className:"border-orange-200 bg-orange-50",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:a.jsx(Kr,{className:"w-4 h-4 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pending Sales"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[h," sales need approval"]})]}),a.jsx(He,{variant:"secondary",children:h})]})})}),g>0&&a.jsx(fe,{className:"border-red-200 bg-red-50",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100",children:a.jsx(Is,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Low Stock"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g," items need restocking"]})]}),a.jsx(He,{variant:"destructive",children:g})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-5 h-5"}),a.jsx("span",{children:"Inventory Overview"})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:[i.rawMaterials.length," types"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Finished Products"}),a.jsxs("span",{className:"font-medium",children:[i.products.length," models"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),a.jsx(He,{variant:g>0?"destructive":"secondary",children:g})]})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center space-x-2",children:[a.jsx(Ua,{className:"w-5 h-5"}),a.jsx("span",{children:"Sales Overview"})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Completed Sales"}),a.jsx("span",{className:"font-medium",children:f})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pending Approval"}),a.jsx(He,{variant:h>0?"secondary":"outline",children:h})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsxs("span",{className:"font-medium text-green-600",children:["NPR ",p.toLocaleString()]})]})]})})]})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-5 h-5"}),a.jsx("span",{children:"Recent Activity"})]})}),a.jsx(Ne,{children:(()=>{const x=[];i.sales.slice(0,5).forEach(b=>{var S;x.push({type:"sale",icon:"",title:`Sale ${b.saleNumber}`,description:`${b.customerName} - ${b.productName}`,amount:`NPR ${((S=b.totalAmount)==null?void 0:S.toLocaleString())||0}`,status:b.approvalStatus||"pending",date:b.createdAt})}),i.purchases.slice(0,3).forEach(b=>{var S;x.push({type:"purchase",icon:"",title:`Purchase #${b.id}`,description:b.supplierName||"Raw materials",amount:`NPR ${((S=b.totalAmount)==null?void 0:S.toLocaleString())||0}`,status:"completed",date:b.createdAt})}),x.sort((b,S)=>new Date(S.date)-new Date(b.date));const v=x.slice(0,8);return v.length>0?a.jsx("div",{className:"space-y-3",children:v.map((b,S)=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[a.jsx("span",{className:"text-2xl",children:b.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:b.title}),a.jsx("p",{className:"text-xs text-gray-600",children:b.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-sm text-green-600",children:b.amount}),b.status==="pending"&&a.jsx(He,{className:"bg-orange-500 text-white text-xs mt-1",children:"Pending"}),b.status==="approved"&&a.jsx(He,{className:"bg-green-500 text-white text-xs mt-1",children:"Approved"})]})]},S))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ds,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No recent activities"}),a.jsx("p",{className:"text-sm",children:"Sales and purchases will appear here"})]})})()})]})]})}var xc="Tabs",[IE]=Ln(xc,[fc]),u0=fc(),[UE,Uf]=IE(xc),d0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:d,defaultValue:f,orientation:h="horizontal",dir:p,activationMode:g="automatic",...m}=s,x=Wo(p),[v,b]=Vs({prop:o,onChange:d,defaultProp:f??"",caller:xc});return a.jsx(UE,{scope:i,baseId:sn(),value:v,onValueChange:b,orientation:h,dir:x,activationMode:g,children:a.jsx(Ge.div,{dir:x,"data-orientation":h,...m,ref:r})})});d0.displayName=xc;var f0="TabsList",m0=j.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...d}=s,f=Uf(f0,i),h=u0(i);return a.jsx(Dv,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:o,children:a.jsx(Ge.div,{role:"tablist","aria-orientation":f.orientation,...d,ref:r})})});m0.displayName=f0;var h0="TabsTrigger",p0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:d=!1,...f}=s,h=Uf(h0,i),p=u0(i),g=y0(h.baseId,o),m=v0(h.baseId,o),x=o===h.value;return a.jsx(Ov,{asChild:!0,...p,focusable:!d,active:x,children:a.jsx(Ge.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:g,...f,ref:r,onMouseDown:Re(s.onMouseDown,v=>{!d&&v.button===0&&v.ctrlKey===!1?h.onValueChange(o):v.preventDefault()}),onKeyDown:Re(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(o)}),onFocus:Re(s.onFocus,()=>{const v=h.activationMode!=="manual";!x&&!d&&v&&h.onValueChange(o)})})})});p0.displayName=h0;var x0="TabsContent",g0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:d,children:f,...h}=s,p=Uf(x0,i),g=y0(p.baseId,o),m=v0(p.baseId,o),x=o===p.value,v=j.useRef(x);return j.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(zn,{present:d||x,children:({present:b})=>a.jsx(Ge.div,{"data-state":x?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:m,tabIndex:0,...h,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:b&&f})})});g0.displayName=x0;function y0(s,r){return`${s}-trigger-${r}`}function v0(s,r){return`${s}-content-${r}`}var qE=d0,HE=m0,BE=p0,FE=g0;function oi({className:s,...r}){return a.jsx(qE,{"data-slot":"tabs",className:$e("flex flex-col gap-2",s),...r})}function ci({className:s,...r}){return a.jsx(HE,{"data-slot":"tabs-list",className:$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...r})}function Wt({className:s,...r}){return a.jsx(BE,{"data-slot":"tabs-trigger",className:$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r})}function Jt({className:s,...r}){return a.jsx(FE,{"data-slot":"tabs-content",className:$e("flex-1 outline-none",s),...r})}function VE(){const{state:s,actions:r}=Et(),{company:i,locations:o}=s,[d,f]=j.useState({name:(i==null?void 0:i.name)||"",address:(i==null?void 0:i.address)||"",phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||"",labourManagerName:(i==null?void 0:i.labourManagerName)||"",labourManagerPhone:(i==null?void 0:i.labourManagerPhone)||""}),[h,p]=j.useState(o&&o.length>0?o:[{name:"",address:""}]),g=(E,w)=>{f(N=>({...N,[E]:w}))},m=async()=>{try{if(!d.name||!d.address||!d.phone){alert("Please fill in all required fields (Name, Address, Phone)");return}await r.updateCompany(d),alert("Company profile updated successfully!")}catch(E){console.error("Error saving company profile:",E),alert("Failed to save company profile. Please try again.")}},x=(E,w,N)=>{const P=[...h];P[E]={...P[E],[w]:N},p(P)},v=()=>{p([...h,{name:"",address:""}])},b=E=>{h.length>1&&p(h.filter((w,N)=>N!==E))},S=async()=>{try{const E=h.filter(w=>w.name&&w.address);if(E.length===0){alert("Please add at least one location with name and address");return}await r.updateLocations(E),alert("Locations updated successfully!")}catch(E){console.error("Error saving locations:",E),alert("Failed to save locations. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your application settings and preferences"})]}),a.jsxs(oi,{defaultValue:"company",className:"space-y-6",children:[a.jsxs(ci,{children:[a.jsxs(Wt,{value:"company",className:"flex items-center space-x-2",children:[a.jsx(Kx,{className:"w-4 h-4"}),a.jsx("span",{children:"Company Profile"})]}),a.jsxs(Wt,{value:"locations",className:"flex items-center space-x-2",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:"Locations"})]}),a.jsxs(Wt,{value:"data",className:"flex items-center space-x-2",children:[a.jsx(Co,{className:"w-4 h-4"}),a.jsx("span",{children:"Data Management"})]})]}),a.jsx(Jt,{value:"company",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Company Profile"}),a.jsx(qe,{children:"Update your company information that appears in notifications and reports"})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"companyName",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"companyName",value:d.name,onChange:E=>g("name",E.target.value),placeholder:"Enter company name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"companyPhone",children:["Company Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"companyPhone",value:d.phone,onChange:E=>g("phone",E.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"companyEmail",children:"Company Email"}),a.jsx(ve,{id:"companyEmail",type:"email",value:d.email,onChange:E=>g("email",E.target.value),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"labourManagerName",children:"Labour Manager Name"}),a.jsx(ve,{id:"labourManagerName",value:d.labourManagerName,onChange:E=>g("labourManagerName",E.target.value),placeholder:"Enter labour manager name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"labourManagerPhone",children:"Labour Manager Phone"}),a.jsx(ve,{id:"labourManagerPhone",value:d.labourManagerPhone,onChange:E=>g("labourManagerPhone",E.target.value),placeholder:"Enter labour manager phone"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"companyAddress",children:["Company Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Xt,{id:"companyAddress",value:d.address,onChange:E=>g("address",E.target.value),placeholder:"Enter complete company address",rows:3})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:m,className:"px-6",children:[a.jsx(Kx,{className:"w-4 h-4 mr-2"}),"Save Company Profile"]})})]})]})}),a.jsx(Jt,{value:"locations",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Factory Locations"}),a.jsx(qe,{children:"Manage your factory locations and addresses"})]}),a.jsxs(Ne,{className:"space-y-6",children:[h.map((E,w)=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:["Location ",w+1]}),h.length>1&&a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>b(w),children:"Remove"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:`locationName${w}`,children:["Location Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:`locationName${w}`,value:E.name,onChange:N=>x(w,"name",N.target.value),placeholder:"e.g., Main Factory, Warehouse 1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:`locationAddress${w}`,children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:`locationAddress${w}`,value:E.address,onChange:N=>x(w,"address",N.target.value),placeholder:"Enter location address"})]})]})]},w)),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs(ue,{variant:"outline",onClick:v,children:[a.jsx(ql,{className:"w-4 h-4 mr-2"}),"Add Location"]}),a.jsxs(ue,{onClick:S,className:"px-6",children:[a.jsx(ql,{className:"w-4 h-4 mr-2"}),"Save Locations"]})]})]})]})}),a.jsx(Jt,{value:"data",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Data Management"}),a.jsx(qe,{children:"Export, import, or reset your application data"})]}),a.jsx(Ne,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all your application data as a backup"}),a.jsxs(ue,{variant:"outline",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Import Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Restore data from a previous backup"}),a.jsxs(ue,{variant:"outline",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Import Data"]})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Reset Application"}),a.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Clear all data and return to first-time setup"}),a.jsxs(ue,{variant:"destructive",onClick:()=>window.location.href="/reset.html",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Reset Application"]})]})]})})]})})]})]})}var gc="Dialog",[j0]=Ln(gc),[GE,Xa]=j0(gc),b0=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:h=!0}=s,p=j.useRef(null),g=j.useRef(null),[m,x]=Vs({prop:o,defaultProp:d??!1,onChange:f,caller:gc});return a.jsx(GE,{scope:r,triggerRef:p,contentRef:g,contentId:sn(),titleId:sn(),descriptionId:sn(),open:m,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(v=>!v),[x]),modal:h,children:i})};b0.displayName=gc;var N0="DialogTrigger",YE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Xa(N0,i),f=ht(r,d.triggerRef);return a.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Bf(d.open),...o,ref:f,onClick:Re(s.onClick,d.onOpenToggle)})});YE.displayName=N0;var qf="DialogPortal",[$E,S0]=j0(qf,{forceMount:void 0}),w0=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:d}=s,f=Xa(qf,r);return a.jsx($E,{scope:r,forceMount:i,children:j.Children.map(o,h=>a.jsx(zn,{present:i||f.open,children:a.jsx(rc,{asChild:!0,container:d,children:h})}))})};w0.displayName=qf;var Ko="DialogOverlay",C0=j.forwardRef((s,r)=>{const i=S0(Ko,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Xa(Ko,s.__scopeDialog);return f.modal?a.jsx(zn,{present:o||f.open,children:a.jsx(XE,{...d,ref:r})}):null});C0.displayName=Ko;var QE=Vl("DialogOverlay.RemoveScroll"),XE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Xa(Ko,i);return a.jsx(oc,{as:QE,allowPinchZoom:!0,shards:[d.contentRef],children:a.jsx(Ge.div,{"data-state":Bf(d.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),$s="DialogContent",A0=j.forwardRef((s,r)=>{const i=S0($s,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Xa($s,s.__scopeDialog);return a.jsx(zn,{present:o||f.open,children:f.modal?a.jsx(KE,{...d,ref:r}):a.jsx(ZE,{...d,ref:r})})});A0.displayName=$s;var KE=j.forwardRef((s,r)=>{const i=Xa($s,s.__scopeDialog),o=j.useRef(null),d=ht(r,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return Df(f)},[]),a.jsx(E0,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(s.onCloseAutoFocus,f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Re(s.onPointerDownOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&f.preventDefault()}),onFocusOutside:Re(s.onFocusOutside,f=>f.preventDefault())})}),ZE=j.forwardRef((s,r)=>{const i=Xa($s,s.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return a.jsx(E0,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,p;(h=s.onCloseAutoFocus)==null||h.call(s,f),f.defaultPrevented||(o.current||(p=i.triggerRef.current)==null||p.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{var g,m;(g=s.onInteractOutside)==null||g.call(s,f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const h=f.target;((m=i.triggerRef.current)==null?void 0:m.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),E0=j.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...h}=s,p=Xa($s,i),g=j.useRef(null),m=ht(r,g);return bf(),a.jsxs(a.Fragment,{children:[a.jsx(ec,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:a.jsx(Jo,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Bf(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(WE,{titleId:p.titleId}),a.jsx(eT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Hf="DialogTitle",T0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Xa(Hf,i);return a.jsx(Ge.h2,{id:d.titleId,...o,ref:r})});T0.displayName=Hf;var M0="DialogDescription",D0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Xa(M0,i);return a.jsx(Ge.p,{id:d.descriptionId,...o,ref:r})});D0.displayName=M0;var O0="DialogClose",R0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Xa(O0,i);return a.jsx(Ge.button,{type:"button",...o,ref:r,onClick:Re(s.onClick,()=>d.onOpenChange(!1))})});R0.displayName=O0;function Bf(s){return s?"open":"closed"}var _0="DialogTitleWarning",[YT,P0]=Rw(_0,{contentName:$s,titleName:Hf,docsSlug:"dialog"}),WE=({titleId:s})=>{const r=P0(_0),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},JE="DialogDescriptionWarning",eT=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P0(JE).contentName}}.`;return j.useEffect(()=>{var f;const d=(f=s.current)==null?void 0:f.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},tT=b0,aT=w0,nT=C0,sT=A0,lT=T0,rT=D0,iT=R0;function ea({...s}){return a.jsx(tT,{"data-slot":"dialog",...s})}function oT({...s}){return a.jsx(aT,{"data-slot":"dialog-portal",...s})}function cT({className:s,...r}){return a.jsx(nT,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function ta({className:s,children:r,...i}){return a.jsxs(oT,{"data-slot":"dialog-portal",children:[a.jsx(cT,{}),a.jsxs(sT,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[r,a.jsxs(iT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Dn,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function aa({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",s),...r})}function ra({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function na({className:s,...r}){return a.jsx(lT,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",s),...r})}function xa({className:s,...r}){return a.jsx(rT,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",s),...r})}function uT(){const{state:s,actions:r}=Et(),{customers:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",phone:"",email:"",address:"",notes:""}),v=i.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.phone.includes(o)||N.email&&N.email.toLowerCase().includes(o.toLowerCase())),b=(N=null)=>{N?(g(N),x({name:N.name,phone:N.phone,email:N.email||"",address:N.address||"",notes:N.notes||""})):(g(null),x({name:"",phone:"",email:"",address:"",notes:""})),h(!0)},S=()=>{h(!1),g(null),x({name:"",phone:"",email:"",address:"",notes:""})},E=async N=>{if(N.preventDefault(),!m.name||!m.phone){alert("Please fill in customer name and phone number");return}try{const P={...m,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("customers",{...P,id:p.id}),alert("Customer updated successfully!")):(await r.addItem("customers",P),alert("Customer added successfully!")),S()}catch(P){console.error("Error saving customer:",P),alert("Failed to save customer. Please try again.")}},w=async N=>{if(window.confirm(`Are you sure you want to delete ${N.name}?`))try{await r.deleteItem("customers",N.id),alert("Customer deleted successfully!")}catch(P){console.error("Error deleting customer:",P),alert("Failed to delete customer. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer information and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:N=>d(N.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),v.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(qo,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No customers found":"No customers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first customer"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(N=>a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(De,{className:"text-lg",children:N.name}),a.jsxs(qe,{className:"mt-1",children:["Customer since ",new Date(N.createdAt).toLocaleDateString()]})]}),a.jsx(He,{variant:"outline",className:"ml-2",children:"Active"})]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Qg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`tel:${N.phone}`,className:"hover:text-blue-600",children:N.phone})]}),N.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Yg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`mailto:${N.email}`,className:"hover:text-blue-600 truncate",children:N.email})]}),N.address&&a.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[a.jsx(ql,{className:"w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:N.address})]}),N.notes&&a.jsx("div",{className:"pt-2 border-t",children:a.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:N.notes})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(N),children:[a.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>w(N),children:a.jsx(Rn,{className:"w-4 h-4"})})]})]})]},N.id))}),a.jsx(ea,{open:f,onOpenChange:h,children:a.jsxs(ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(aa,{children:[a.jsx(na,{children:p?"Edit Customer":"Add New Customer"}),a.jsx(xa,{children:p?"Update customer information below":"Enter customer details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"name",children:["Customer Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"name",value:m.name,onChange:N=>x({...m,name:N.target.value}),placeholder:"Enter customer name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"phone",value:m.phone,onChange:N=>x({...m,phone:N.target.value}),placeholder:"Enter phone number",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email Address"}),a.jsx(ve,{id:"email",type:"email",value:m.email,onChange:N=>x({...m,email:N.target.value}),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"address",children:"Address"}),a.jsx(Xt,{id:"address",value:m.address,onChange:N=>x({...m,address:N.target.value}),placeholder:"Enter customer address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"notes",children:"Notes"}),a.jsx(Xt,{id:"notes",value:m.notes,onChange:N=>x({...m,notes:N.target.value}),placeholder:"Add any additional notes about this customer",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})]})})]})}function dT(){const{state:s,actions:r}=Et(),{sofaModels:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null}),v=i.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase())),b=(A=null)=>{A?(g(A),x({name:A.name,description:A.description||"",materialCost:A.materialCost||"",laborCost:A.laborCost||"",sellingPrice:A.sellingPrice||"",estimatedDays:A.estimatedDays||"",stockQuantity:A.stockQuantity||"0",billOfMaterials:A.billOfMaterials||[],images:A.images||[],primaryImageId:A.primaryImageId||null})):(g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[]})),h(!0)},S=()=>{h(!1),g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null})},E=()=>{let A=0;m.billOfMaterials&&m.billOfMaterials.length>0?A=m.billOfMaterials.reduce((z,H)=>z+(H.totalCost||0),0):A=parseFloat(m.materialCost)||0;const R=parseFloat(m.laborCost)||0;return A+R},w=()=>m.billOfMaterials&&m.billOfMaterials.length>0?m.billOfMaterials.reduce((A,R)=>A+(R.totalCost||0),0):0,N=()=>{const A=E();return(parseFloat(m.sellingPrice)||0)-A},P=async A=>{if(!A||A.length===0)return;const R=5,z=5*1024*1024,H=R-m.images.length,se=A.slice(0,H);for(const B of se){if(!B.type.startsWith("image/")){alert(`${B.name} is not an image file`);continue}if(B.size>z){alert(`${B.name} is too large (max 5MB)`);continue}const F=new FileReader;F.onload=U=>{const ne=Date.now()+Math.random(),$={id:ne,data:U.target.result,name:B.name};x(xe=>{const L=[...xe.images,$];return{...xe,images:L,primaryImageId:xe.primaryImageId||ne}})},F.readAsDataURL(B)}},T=A=>{x(R=>{const z=R.images.filter(se=>se.id!==A);let H=R.primaryImageId;return A===R.primaryImageId&&z.length>0?H=z[0].id:z.length===0&&(H=null),{...R,images:z,primaryImageId:H}})},M=async A=>{if(A.preventDefault(),!m.name){alert("Please enter product name");return}try{const R=w(),z=R>0?R:parseFloat(m.materialCost)||0,H={name:m.name,description:m.description,billOfMaterials:m.billOfMaterials||[],images:m.images||[],primaryImageId:m.primaryImageId||null,materialCost:z,laborCost:parseFloat(m.laborCost)||0,sellingPrice:parseFloat(m.sellingPrice)||0,estimatedDays:parseInt(m.estimatedDays)||0,stockQuantity:parseInt(m.stockQuantity)||0,totalCost:E(),profit:N(),createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("sofaModels",{...H,id:p.id}),alert("Product updated successfully!")):(await r.addItem("sofaModels",H),alert("Product added successfully!")),S()}catch(R){console.error("Error saving product:",R),alert("Failed to save product. Please try again.")}},D=async A=>{if(window.confirm(`Are you sure you want to delete ${A.name}?`))try{await r.deleteItem("sofaModels",A.id),alert("Product deleted successfully!")}catch(R){console.error("Error deleting product:",R),alert("Failed to delete product. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finished Products"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your sofa models and product catalog"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Stock is automatically updated when production is completed."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search products by name or description...",value:o,onChange:A=>d(A.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),v.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ca,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No products found":"No products yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first product"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(A=>{var R;return a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[A.images&&A.images.length>0&&a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:((R=A.images.find(z=>z.id===A.primaryImageId))==null?void 0:R.data)||A.images[0].data,alt:A.name,className:"w-full h-full object-cover"}),A.images.length>1&&a.jsxs(He,{className:"absolute top-2 right-2 bg-black bg-opacity-70",children:["+",A.images.length-1," more"]})]}),a.jsxs(Me,{children:[a.jsx(De,{className:"text-lg",children:A.name}),A.description&&a.jsx(qe,{className:"line-clamp-2",children:A.description})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Material Cost"}),a.jsx("p",{className:"font-semibold",children:ze(A.materialCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Labor Cost"}),a.jsx("p",{className:"font-semibold text-blue-600",children:ze(A.laborCost)})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total Cost"}),a.jsx("p",{className:"font-semibold",children:ze(A.totalCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Selling Price"}),a.jsx("p",{className:"font-semibold text-green-600",children:ze(A.sellingPrice)})]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),a.jsx(He,{variant:A.profit>0?"default":"destructive",children:ze(A.profit)})]})}),A.estimatedDays>0&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Estimated Production: ",a.jsxs("span",{className:"font-semibold text-gray-900",children:[A.estimatedDays," days"]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Stock Quantity"}),a.jsxs(He,{variant:(A.stockQuantity||0)>0?"default":"destructive",children:[A.stockQuantity||0," units"]})]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(A),children:[a.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>D(A),children:a.jsx(Rn,{className:"w-4 h-4"})})]})]})]},A.id)})}),a.jsx(ea,{open:f,onOpenChange:h,children:a.jsxs(ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(aa,{children:[a.jsx(na,{children:p?"Edit Product":"Add New Product"}),a.jsx(xa,{children:p?"Update product information below":"Enter product details including labor cost for accurate pricing"})]}),a.jsxs("form",{onSubmit:M,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"name",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"name",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Sofa",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"description",children:"Description"}),a.jsx(Xt,{id:"description",value:m.description,onChange:A=>x({...m,description:A.target.value}),placeholder:"Enter product description",rows:3})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-base font-semibold",children:"Product Images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload up to 5 images (Click or drag & drop)"})]}),a.jsxs("div",{className:"space-y-3",children:[m.images.length<5&&a.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-6 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>document.getElementById("imageUpload").click(),onDragOver:A=>A.preventDefault(),onDrop:A=>{A.preventDefault();const R=Array.from(A.dataTransfer.files);P(R)},children:[a.jsx(Ca,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/png,image/jpeg,image/jpg",multiple:!0,className:"hidden",onChange:A=>P(Array.from(A.target.files))})]}),m.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.images.map(A=>a.jsxs("div",{className:`relative group border-2 rounded-lg overflow-hidden ${A.id===m.primaryImageId?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:[a.jsx("img",{src:A.data,alt:"Product",className:"w-full h-32 object-cover"}),A.id===m.primaryImageId&&a.jsx(He,{className:"absolute top-2 left-2 bg-blue-500",children:"Primary"}),a.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center gap-2",children:[A.id!==m.primaryImageId&&a.jsx(ue,{type:"button",size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x({...m,primaryImageId:A.id}),children:"Set Primary"}),a.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>T(A.id),children:a.jsx(Rn,{className:"w-4 h-4"})})]})]},A.id))})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx(Q,{className:"text-base font-semibold text-blue-900",children:"Bill of Materials (BOM)"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 mb-3",children:["BOM is now managed in the ",a.jsx("strong",{children:"Production"})," section when starting a new job."]}),m.billOfMaterials.length>0?a.jsxs("div",{className:"space-y-1",children:[m.billOfMaterials.map((A,R)=>a.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[a.jsx("span",{children:A.materialName}),a.jsxs("span",{children:[A.quantity," ",A.unit]})]},R)),a.jsxs("div",{className:"pt-2 mt-2 border-t border-blue-200 flex justify-between font-bold text-blue-900",children:[a.jsx("span",{children:"Total Material Cost"}),a.jsx("span",{children:ze(w())})]})]}):a.jsx("p",{className:"text-sm text-blue-600 italic",children:"No BOM defined for this product yet."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"materialCost",children:["Material Cost (NPR)",m.billOfMaterials.length>0&&a.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Auto-calculated from BOM)"})]}),a.jsx(ve,{id:"materialCost",type:"number",step:"0.01",value:m.billOfMaterials.length>0?w():m.materialCost,onChange:A=>x({...m,materialCost:A.target.value}),placeholder:"0.00",disabled:m.billOfMaterials.length>0,className:m.billOfMaterials.length>0?"bg-gray-100 font-semibold":""}),m.billOfMaterials.length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Or use Bill of Materials above for detailed tracking"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"laborCost",className:"flex items-center",children:[a.jsx(Ua,{className:"w-4 h-4 mr-1 text-blue-600"}),"Labor Cost (NPR)"]}),a.jsx(ve,{id:"laborCost",type:"number",step:"0.01",value:m.laborCost,onChange:A=>x({...m,laborCost:A.target.value}),placeholder:"0.00"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Estimated labor cost for production"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:ze(E())})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Material Cost + Labor Cost"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"sellingPrice",children:"Selling Price (NPR)"}),a.jsx(ve,{id:"sellingPrice",type:"number",step:"0.01",value:m.sellingPrice,onChange:A=>x({...m,sellingPrice:A.target.value}),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"estimatedDays",children:"Estimated Production (Days)"}),a.jsx(ve,{id:"estimatedDays",type:"number",value:m.estimatedDays,onChange:A=>x({...m,estimatedDays:A.target.value}),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"stockQuantity",children:["Stock Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"stockQuantity",type:"number",min:"0",value:m.stockQuantity,onChange:A=>x({...m,stockQuantity:A.target.value}),placeholder:"0",required:!0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Available units in stock"})]})]}),m.sellingPrice&&a.jsxs("div",{className:`p-4 rounded-lg ${N()>=0?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Profit Margin"}),a.jsx("span",{className:`text-lg font-bold ${N()>=0?"text-green-600":"text-red-600"}`,children:ze(N())})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N()>=0?"Profitable product":"Selling below cost"})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Product":"Add Product"})]})]})]})})]})}const Qe={PENDING_APPROVAL:{value:"pending_approval",label:"Pending Approval",color:"bg-yellow-100 text-yellow-800"},APPROVED:{value:"approved",label:"Approved",color:"bg-blue-100 text-blue-800"},IN_PRODUCTION:{value:"in_production",label:"In Production",color:"bg-purple-100 text-purple-800"},COMPLETED:{value:"completed",label:"Completed",color:"bg-green-100 text-green-800"},READY_FOR_DELIVERY:{value:"ready_for_delivery",label:"Ready for Delivery",color:"bg-orange-100 text-orange-800"},DELIVERED:{value:"delivered",label:"Delivered",color:"bg-emerald-100 text-emerald-800"},CANCELLED:{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800"}},fT=["Pieces","Meters","Feet","Yards","Sq.Ft","Sq.M","Kg","Grams","Liters","Sheets","Rolls","Sets"];function mT(){var Ka;const{state:s,actions:r}=Et(),{customers:i,rawMaterials:o,sofaModels:d,company:f}=s,[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState(""),[b,S]=j.useState("all"),[E,w]=j.useState("all"),[N,P]=j.useState(!1),[T,M]=j.useState(null),[D,A]=j.useState(!1),[R,z]=j.useState(!1),[H,se]=j.useState(null),[B,F]=j.useState(null),[U,ne]=j.useState({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[],labourCosts:[]}),[$,xe]=j.useState({productPhoto:null,productPhotoPreview:"",sellingPrice:""}),[L,X]=j.useState({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""});j.useEffect(()=>{(async()=>{try{const[oe,be]=await Promise.all([r.getAllOrders(),pe.getAll("labourers")]);p(oe||[]),m((be||[]).filter(le=>le.status==="active"))}catch(oe){console.error("Error loading data:",oe)}})()},[]);const V=h.filter(k=>{var Ie,ke,Ze;const oe=((Ie=k.orderNumber)==null?void 0:Ie.toLowerCase().includes(x.toLowerCase()))||((ke=k.customerName)==null?void 0:ke.toLowerCase().includes(x.toLowerCase()))||((Ze=k.productName)==null?void 0:Ze.toLowerCase().includes(x.toLowerCase())),be=b==="all"||k.status===b,le=E==="all"||k.orderType===E;return oe&&be&&le}),ie=()=>U.bom.reduce((k,oe)=>{const be=(o||[]).find(le=>le.id===parseInt(oe.materialId));if(be){const le=parseFloat(oe.quantity)||0,Ie=parseFloat(be.pricePerUnit)||0;return k+le*Ie}return k},0),je=()=>U.labourCosts.reduce((k,oe)=>k+(parseFloat(oe.cost)||0),0),O=()=>{const k=ie(),oe=je(),be=parseInt(U.quantity)||1;return(k+oe)*be},ee=()=>{ne({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[],labourCosts:[]}),P(!0)},de=()=>{P(!1)},he=()=>{ne({...U,bom:[...U.bom,{materialId:"",materialName:"",category:"",unit:"Pieces",quantity:1,availableStock:0,pricePerUnit:0,isOutOfStock:!1,needToPurchase:!1,purchaseNote:""}]})},q=()=>{ne({...U,bom:[...U.bom,{materialId:"custom",materialName:"",category:"Custom",unit:"Pieces",quantity:1,availableStock:0,pricePerUnit:0,isOutOfStock:!0,needToPurchase:!0,purchaseNote:"",estimatedCost:""}]})},me=k=>{const oe=U.bom.filter((be,le)=>le!==k);ne({...U,bom:oe})},ae=(k,oe,be)=>{const le=[...U.bom];if(le[k]={...le[k],[oe]:be},oe==="materialId"&&be!=="custom"){const Ie=(o||[]).find(ke=>ke.id===parseInt(be));Ie&&(le[k]={...le[k],materialName:Ie.name,category:Ie.category||"General",unit:Ie.unit||"Pieces",availableStock:parseFloat(Ie.quantity)||0,pricePerUnit:parseFloat(Ie.pricePerUnit)||0,isOutOfStock:(parseFloat(Ie.quantity)||0)===0,needToPurchase:!1})}if(oe==="quantity"&&le[k].materialId!=="custom"){const Ie=(o||[]).find(ke=>ke.id===parseInt(le[k].materialId));if(Ie){const ke=parseFloat(be)||0,Ze=parseFloat(Ie.quantity)||0;le[k].isOutOfStock=Ze<ke,le[k].shortage=Math.max(0,ke-Ze)}}ne({...U,bom:le})},_e=()=>{ne({...U,labourCosts:[...U.labourCosts,{labourerId:"",labourerName:"",workType:"",hoursEstimated:"",ratePerHour:"",cost:""}]})},Y=k=>{const oe=U.labourCosts.filter((be,le)=>le!==k);ne({...U,labourCosts:oe})},ge=(k,oe,be)=>{const le=[...U.labourCosts];if(le[k]={...le[k],[oe]:be},oe==="labourerId"){const Ie=g.find(ke=>ke.id===parseInt(be));if(Ie&&(le[k]={...le[k],labourerName:Ie.name,ratePerHour:(parseFloat(Ie.dailyWage)/8).toFixed(2),specialization:Ie.specialization},le[k].hoursEstimated)){const ke=parseFloat(le[k].hoursEstimated)||0,Ze=parseFloat(le[k].ratePerHour)||0;le[k].cost=(ke*Ze).toFixed(2)}}if(oe==="hoursEstimated"||oe==="ratePerHour"){const Ie=parseFloat(oe==="hoursEstimated"?be:le[k].hoursEstimated)||0,ke=parseFloat(oe==="ratePerHour"?be:le[k].ratePerHour)||0;le[k].cost=(Ie*ke).toFixed(2)}ne({...U,labourCosts:le})},Se=async k=>{if(k.preventDefault(),!U.productName.trim()){alert("Please enter product name");return}if(U.orderType==="customer"&&!U.customerId){alert("Please select a customer for customer order");return}if(U.bom.length===0){alert("Please add at least one material to the Bill of Materials");return}const oe=U.bom.filter(be=>be.needToPurchase||be.isOutOfStock);try{const be=parseInt(U.quantity)||1,le=parseFloat(U.unitPrice)||0,Ie=`ORD-${Date.now().toString().slice(-6)}`;let ke={};if(U.orderType==="customer"){const bt=i.find(Ks=>Ks.id===parseInt(U.customerId));if(!bt){alert("Invalid customer selection");return}ke={customerId:bt.id,customerName:bt.name,customerPhone:bt.phone,customerAddress:bt.address}}const Ze=ie(),Kt=je(),vc=(Ze+Kt)*be,jc={orderNumber:Ie,orderType:U.orderType,...ke,productName:U.productName.trim(),quantity:be,unitPrice:le,totalAmount:le*be,materialCost:Ze*be,labourCost:Kt*be,totalProductionCost:vc,bom:U.bom.map(bt=>({...bt,quantity:parseFloat(bt.quantity)||0,totalNeeded:(parseFloat(bt.quantity)||0)*be})),labourCosts:U.labourCosts.map(bt=>({...bt,totalCost:(parseFloat(bt.cost)||0)*be})),materialsNeedingPurchase:oe.map(bt=>({materialName:bt.materialName,quantityNeeded:(parseFloat(bt.quantity)||0)*be,shortage:(bt.shortage||bt.quantity)*be,unit:bt.unit,purchaseNote:bt.purchaseNote,estimatedCost:bt.estimatedCost})),status:Qe.PENDING_APPROVAL.value,notes:U.notes,dueDate:U.dueDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:Qe.PENDING_APPROVAL.value,timestamp:new Date().toISOString(),note:"Order created"}]},bc=await r.addItem("orders",jc);p([...h,bc]),oe.length>0?alert(`Order created successfully!

Note: ${oe.length} material(s) need to be purchased before production can start.`):alert("Order created successfully!"),de()}catch(be){console.error("Error creating order:",be),alert("Failed to create order. Please try again.")}},Ce=async(k,oe,be={})=>{var le;try{const Ie=(le=Qe[Object.keys(Qe).find(Ze=>Qe[Ze].value===oe)])==null?void 0:le.label,ke={...k,...be,status:oe,updatedAt:new Date().toISOString(),statusHistory:[...k.statusHistory||[],{status:oe,timestamp:new Date().toISOString(),note:`Status updated to ${Ie}`}]};return oe===Qe.IN_PRODUCTION.value&&await yt(k),k.orderType==="stock"&&oe===Qe.COMPLETED.value&&await nt(k,be),k.orderType==="customer"&&oe===Qe.DELIVERED.value&&await jt(k,be),await r.updateItem("orders",ke),p(h.map(Ze=>Ze.id===k.id?ke:Ze)),!0}catch(Ie){return console.error("Error updating order:",Ie),alert("Failed to update order status. Please try again."),!1}},yt=async k=>{if(!(!k.bom||k.bom.length===0))for(const oe of k.bom){if(oe.materialId==="custom")continue;const be=(o||[]).find(le=>le.id===parseInt(oe.materialId));if(be){const le=oe.totalNeeded||oe.quantity*k.quantity,Ie=Math.max(0,(parseFloat(be.quantity)||0)-le),ke={...be,quantity:Ie};await r.updateItem("rawMaterials",ke)}}},nt=async(k,oe)=>{const be={name:k.productName,category:"Finished Product",stock:k.quantity,sellingPrice:parseFloat(oe.sellingPrice)||0,productionCost:k.totalProductionCost||0,photo:oe.productPhotoPreview||null,orderNumber:k.orderNumber,createdAt:new Date().toISOString()};await r.addItem("finishedProducts",be)},jt=async(k,oe)=>{const be={date:oe.deliveryDate||new Date().toISOString().split("T")[0],customerId:k.customerId,customerName:k.customerName,productName:k.productName,quantity:k.quantity,unitPrice:k.unitPrice,totalAmount:k.totalAmount,productionCost:k.totalProductionCost||0,profit:(k.totalAmount||0)-(k.totalProductionCost||0),orderNumber:k.orderNumber,deliveryNotes:oe.deliveryNotes,createdAt:new Date().toISOString()};await r.addItem("sales",be)},Tt=async k=>{const oe=[];for(const le of k.bom||[]){if(le.materialId==="custom")continue;const Ie=(o||[]).find(ke=>ke.id===parseInt(le.materialId));if(!Ie)oe.push(`${le.materialName} (not found)`);else{const ke=parseFloat(Ie.quantity)||0,Ze=le.totalNeeded||le.quantity*k.quantity;ke<Ze&&oe.push(`${le.materialName}: Need ${Ze}, Have ${ke}`)}}let be="Approve this order and move to production queue?";oe.length>0&&(be=`Warning: Some materials are insufficient:
${oe.join(`
`)}

Do you still want to approve this order?`),window.confirm(be)&&(await Ce(k,Qe.APPROVED.value),alert("Order approved!"))},wt=async k=>{window.confirm("Are you sure you want to cancel this order?")&&(await Ce(k,Qe.CANCELLED.value),alert("Order cancelled."))},Ea=async k=>{let oe=!0,be=[];for(const le of k.bom||[]){if(le.materialId==="custom"){le.needToPurchase&&(oe=!1,be.push(`${le.materialName}: Custom material - needs to be purchased`));continue}const Ie=le.totalNeeded||le.quantity*k.quantity,ke=(o||[]).find(Ze=>Ze.id===parseInt(le.materialId));if(!ke)oe=!1,be.push(`${le.materialName}: Not found in inventory`);else{const Ze=parseFloat(ke.quantity)||0;Ze<Ie&&(oe=!1,be.push(`${le.materialName}: Need ${Ie}, Have ${Ze}`))}}if(!oe){alert(`Cannot start production. Insufficient materials:
${be.join(`
`)}`);return}window.confirm("Start production? Materials will be deducted from inventory.")&&await Ce(k,Qe.IN_PRODUCTION.value)&&alert("Production started! Materials have been deducted.")},Ot=k=>{var oe;se(k),xe({productPhoto:null,productPhotoPreview:"",sellingPrice:((oe=k.unitPrice)==null?void 0:oe.toString())||""}),A(!0)},In=async()=>{if(!H)return;if(H.orderType==="stock"&&!$.sellingPrice){alert("Please enter selling price for stock item");return}const k=(H.orderType==="stock",Qe.COMPLETED.value);await Ce(H,k,$)&&(H.orderType==="stock"?alert("Production completed! Product added to Finished Products inventory."):(alert("Production completed! Order is ready for delivery."),await Ce({...H,status:k},Qe.READY_FOR_DELIVERY.value)),A(!1),se(null))},st=k=>{F(k),X({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""}),z(!0)},Ha=async()=>{if(!B)return;await Ce(B,Qe.DELIVERED.value,L)&&(alert("Order delivered! Sale record has been created."),z(!1),F(null))},Bt=(k,oe)=>{const be=k.target.files[0];if(be){const le=new FileReader;le.onloadend=()=>{oe==="completion"?xe({...$,productPhoto:be,productPhotoPreview:le.result}):oe==="delivery"&&X({...L,deliveryPhoto:be,deliveryPhotoPreview:le.result})},le.readAsDataURL(be)}},Ft=k=>{const oe=[];switch(k.status){case Qe.PENDING_APPROVAL.value:oe.push({label:"Approve",action:()=>Tt(k),variant:"default"}),oe.push({label:"Cancel",action:()=>wt(k),variant:"destructive"});break;case Qe.APPROVED.value:oe.push({label:"Start Production",action:()=>Ea(k),variant:"default"}),oe.push({label:"Cancel",action:()=>wt(k),variant:"destructive"});break;case Qe.IN_PRODUCTION.value:oe.push({label:"Complete Production",action:()=>Ot(k),variant:"default"});break;case Qe.COMPLETED.value:k.orderType==="customer"&&oe.push({label:"Ready for Delivery",action:()=>st(k),variant:"default"});break;case Qe.READY_FOR_DELIVERY.value:oe.push({label:"Mark Delivered",action:()=>st(k),variant:"default"});break}return oe},gs=k=>{const oe=Qe[Object.keys(Qe).find(be=>Qe[be].value===k)];return(oe==null?void 0:oe.color)||"bg-gray-100 text-gray-800"},un=(()=>{const k={pendingApproval:0,inProduction:0,readyForDelivery:0,completedThisMonth:0},oe=new Date,be=new Date(oe.getFullYear(),oe.getMonth(),1);return h.forEach(le=>{le.status===Qe.PENDING_APPROVAL.value&&k.pendingApproval++,le.status===Qe.IN_PRODUCTION.value&&k.inProduction++,le.status===Qe.READY_FOR_DELIVERY.value&&k.readyForDelivery++,(le.status===Qe.COMPLETED.value||le.status===Qe.DELIVERED.value)&&new Date(le.updatedAt)>=be&&k.completedThisMonth++}),k})();return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),a.jsx("p",{className:"text-gray-500",children:"Manage stock and customer orders with full production workflow"}),a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"* Orders flow: Pending Approval  Approved  In Production  Completed/Delivered"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Pending Approval"}),a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:un.pendingApproval})]})}),a.jsx(fe,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"In Production"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:un.inProduction})]})}),a.jsx(fe,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Ready for Delivery"}),a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:un.readyForDelivery})]})}),a.jsx(fe,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Completed This Month"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:un.completedThisMonth})]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ve,{placeholder:"Search orders...",value:x,onChange:k=>v(k.target.value),className:"pl-10"})]}),a.jsxs(ot,{value:E,onValueChange:w,children:[a.jsx(ut,{className:"w-[150px]",children:a.jsx(ct,{placeholder:"All Types"})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"all",children:"All Types"}),a.jsx(ye,{value:"stock",children:"Stock Orders"}),a.jsx(ye,{value:"customer",children:"Customer Orders"})]})]}),a.jsxs(ot,{value:b,onValueChange:S,children:[a.jsx(ut,{className:"w-[180px]",children:a.jsx(ct,{placeholder:"All Statuses"})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"all",children:"All Statuses"}),Object.values(Qe).map(k=>a.jsx(ye,{value:k.value,children:k.label},k.value))]})]}),a.jsxs(ue,{onClick:ee,children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),a.jsx("div",{className:"space-y-4",children:V.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"p-8 text-center text-gray-500",children:[a.jsx(Ca,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No orders found. Create your first order to get started."})]})}):V.map(k=>{var oe,be,le,Ie;return a.jsx(fe,{className:"hover:shadow-md transition-shadow",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold text-lg",children:k.orderNumber}),a.jsx(He,{className:gs(k.status),children:(oe=Qe[Object.keys(Qe).find(ke=>Qe[ke].value===k.status)])==null?void 0:oe.label}),a.jsx(He,{variant:"outline",children:k.orderType==="stock"?" Stock":" Customer"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Product:"})," ",k.productName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Quantity:"})," ",k.quantity]}),k.customerName&&a.jsxs("p",{children:[a.jsx("strong",{children:"Customer:"})," ",k.customerName]}),((be=k.materialsNeedingPurchase)==null?void 0:be.length)>0&&a.jsxs("p",{className:"text-orange-600 flex items-center gap-1",children:[a.jsx(Is,{className:"w-4 h-4"}),k.materialsNeedingPurchase.length," material(s) need to be purchased"]}),k.totalProductionCost>0&&a.jsxs("p",{children:[a.jsx("strong",{children:"Production Cost:"})," ",ze(k.totalProductionCost)]})]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["Materials: ",((le=k.bom)==null?void 0:le.length)||0," items | Labour: ",((Ie=k.labourCosts)==null?void 0:Ie.length)||0," entries"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>M(k),children:[a.jsx(yf,{className:"w-4 h-4 mr-1"}),"View"]}),Ft(k).map((ke,Ze)=>a.jsx(ue,{size:"sm",variant:ke.variant,onClick:ke.action,children:ke.label},Ze))]})]})})},k.id)})}),a.jsx(ea,{open:N,onOpenChange:P,children:a.jsxs(ta,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Create New Order"}),a.jsx(xa,{children:"Create a stock order (for inventory) or customer order (for delivery)"})]}),a.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Order Type *"}),a.jsxs(ot,{value:U.orderType,onValueChange:k=>ne({...U,orderType:k,customerId:""}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"stock",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),"Stock Order (Build for Inventory)"]})}),a.jsx(ye,{value:"customer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Uo,{className:"w-4 h-4"}),"Customer Order (For Delivery)"]})})]})]})]}),U.orderType==="customer"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Customer *"}),a.jsxs(ot,{value:U.customerId,onValueChange:k=>ne({...U,customerId:k}),children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select customer"})}),a.jsx(dt,{children:(i||[]).map(k=>a.jsxs(ye,{value:k.id.toString(),children:[k.name," - ",k.phone]},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Product Name *"}),a.jsx(ve,{value:U.productName,onChange:k=>ne({...U,productName:k.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Couch"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Quantity *"}),a.jsx(ve,{type:"number",min:"1",value:U.quantity,onChange:k=>ne({...U,quantity:k.target.value})})]}),U.orderType==="customer"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Unit Price (NPR)"}),a.jsx(ve,{type:"number",min:"0",value:U.unitPrice,onChange:k=>ne({...U,unitPrice:k.target.value}),placeholder:"Price per unit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Due Date"}),a.jsx(ve,{type:"date",value:U.dueDate,onChange:k=>ne({...U,dueDate:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(Q,{className:"flex items-center gap-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),"Bill of Materials (BOM) *"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:he,children:[a.jsx(At,{className:"w-4 h-4 mr-1"}),"From Inventory"]}),a.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:q,children:[a.jsx(Kr,{className:"w-4 h-4 mr-1"}),"Custom (To Purchase)"]})]})]}),U.bom.length===0?a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:"No materials added. Add materials from inventory or custom materials to purchase."}):a.jsxs("div",{className:"space-y-3 border rounded-lg p-3",children:[U.bom.map((k,oe)=>{var be;return a.jsxs("div",{className:`p-3 rounded-lg ${k.isOutOfStock?"bg-red-50 border border-red-200":"bg-gray-50"}`,children:[a.jsx("div",{className:"grid grid-cols-12 gap-2 items-end",children:k.materialId==="custom"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-4",children:[a.jsx(Q,{className:"text-xs",children:"Material Name (Custom)"}),a.jsx(ve,{value:k.materialName,onChange:le=>ae(oe,"materialName",le.target.value),placeholder:"Enter material name",className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Quantity"}),a.jsx(ve,{type:"number",min:"0",step:"0.01",value:k.quantity,onChange:le=>ae(oe,"quantity",le.target.value),className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Unit"}),a.jsxs(ot,{value:k.unit,onValueChange:le=>ae(oe,"unit",le),children:[a.jsx(ut,{className:"h-9",children:a.jsx(ct,{})}),a.jsx(dt,{children:fT.map(le=>a.jsx(ye,{value:le,children:le},le))})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Est. Cost"}),a.jsx(ve,{type:"number",min:"0",value:k.estimatedCost,onChange:le=>ae(oe,"estimatedCost",le.target.value),placeholder:"NPR",className:"h-9"})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>me(oe),children:a.jsx(Dn,{className:"w-4 h-4"})})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-4",children:[a.jsx(Q,{className:"text-xs",children:"Select Material"}),a.jsxs(ot,{value:(be=k.materialId)==null?void 0:be.toString(),onValueChange:le=>ae(oe,"materialId",le),children:[a.jsx(ut,{className:"h-9",children:a.jsx(ct,{placeholder:"Select from inventory"})}),a.jsx(dt,{children:(o||[]).map(le=>{const Ie=parseFloat(le.quantity)||0,ke=Ie===0,Ze=Ie>0&&Ie<=(parseFloat(le.minStock)||0);return a.jsx(ye,{value:le.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[ke?a.jsx(Is,{className:"w-3 h-3 text-red-500"}):Ze?a.jsx(Is,{className:"w-3 h-3 text-yellow-500"}):a.jsx(Us,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:le.name}),a.jsxs("span",{className:"text-xs text-gray-400",children:["(",Ie," ",le.unit,")"]})]})},le.id)})})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Qty Needed"}),a.jsx(ve,{type:"number",min:"0",step:"0.01",value:k.quantity,onChange:le=>ae(oe,"quantity",le.target.value),className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Available"}),a.jsxs("div",{className:`h-9 flex items-center px-2 rounded text-sm ${k.availableStock>=(parseFloat(k.quantity)||0)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[k.availableStock," ",k.unit]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Unit Cost"}),a.jsx("div",{className:"h-9 flex items-center px-2 bg-gray-100 rounded text-sm",children:ze(k.pricePerUnit)})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>me(oe),children:a.jsx(Dn,{className:"w-4 h-4"})})})]})}),k.isOutOfStock&&k.materialId!=="custom"&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(Is,{className:"w-4 h-4 text-red-500"}),a.jsxs("span",{className:"text-sm text-red-600",children:["Insufficient stock! Shortage: ",k.shortage||k.quantity," ",k.unit]}),a.jsxs("label",{className:"flex items-center gap-1 ml-4",children:[a.jsx("input",{type:"checkbox",checked:k.needToPurchase,onChange:le=>ae(oe,"needToPurchase",le.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm",children:"Mark for purchase"})]})]}),(k.needToPurchase||k.materialId==="custom")&&a.jsx("div",{className:"mt-2",children:a.jsx(ve,{value:k.purchaseNote,onChange:le=>ae(oe,"purchaseNote",le.target.value),placeholder:"Purchase note (e.g., supplier, urgency)",className:"h-8 text-sm"})})]},oe)}),a.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Estimated Material Cost (per unit):"}),a.jsx("span",{className:"font-bold",children:ze(ie())})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(Q,{className:"flex items-center gap-2",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Labour Costs"]}),a.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:_e,children:[a.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Labour"]})]}),U.labourCosts.length===0?a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:'No labour costs added. Click "Add Labour" to assign workers.'}):a.jsxs("div",{className:"space-y-3 border rounded-lg p-3",children:[U.labourCosts.map((k,oe)=>{var be;return a.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"col-span-3",children:[a.jsx(Q,{className:"text-xs",children:"Select Worker"}),a.jsxs(ot,{value:(be=k.labourerId)==null?void 0:be.toString(),onValueChange:le=>ge(oe,"labourerId",le),children:[a.jsx(ut,{className:"h-9",children:a.jsx(ct,{placeholder:"Select worker"})}),a.jsx(dt,{children:g.map(le=>a.jsxs(ye,{value:le.id.toString(),children:[le.name," (",le.specialization,")"]},le.id))})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Work Type"}),a.jsx(ve,{value:k.workType,onChange:le=>ge(oe,"workType",le.target.value),placeholder:"e.g., Assembly",className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Hours Est."}),a.jsx(ve,{type:"number",min:"0",step:"0.5",value:k.hoursEstimated,onChange:le=>ge(oe,"hoursEstimated",le.target.value),className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Rate/Hour"}),a.jsx(ve,{type:"number",min:"0",value:k.ratePerHour,onChange:le=>ge(oe,"ratePerHour",le.target.value),className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-xs",children:"Total Cost"}),a.jsx("div",{className:"h-9 flex items-center px-2 bg-blue-100 rounded text-sm font-medium",children:ze(parseFloat(k.cost)||0)})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>Y(oe),children:a.jsx(Dn,{className:"w-4 h-4"})})})]},oe)}),a.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Labour Cost (per unit):"}),a.jsx("span",{className:"font-bold",children:ze(je())})]})]})]}),a.jsx(fe,{className:"bg-blue-50",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Material Cost (per unit):"}),a.jsx("span",{children:ze(ie())})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Labour Cost (per unit):"}),a.jsx("span",{children:ze(je())})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Quantity:"}),a.jsxs("span",{children:[" ",U.quantity||1]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Production Cost:"}),a.jsx("span",{children:ze(O())})]})]})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Notes"}),a.jsx(Xt,{value:U.notes,onChange:k=>ne({...U,notes:k.target.value}),placeholder:"Additional notes about this order",rows:2})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:de,children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Create Order"})]})]})]})}),a.jsx(ea,{open:!!T,onOpenChange:()=>M(null),children:a.jsxs(ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(aa,{children:a.jsxs(na,{children:["Order Details - ",T==null?void 0:T.orderNumber]})}),T&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Order Type"}),a.jsx("p",{className:"font-medium",children:T.orderType==="stock"?"Stock Order":"Customer Order"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Status"}),a.jsx(He,{className:gs(T.status),children:(Ka=Qe[Object.keys(Qe).find(k=>Qe[k].value===T.status)])==null?void 0:Ka.label})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:T.productName})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:T.quantity})]}),T.customerName&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:T.customerName})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium",children:T.customerPhone})]})]}),T.totalProductionCost>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Material Cost"}),a.jsx("p",{className:"font-medium",children:ze(T.materialCost||0)})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Labour Cost"}),a.jsx("p",{className:"font-medium",children:ze(T.labourCost||0)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Q,{className:"text-gray-500",children:"Total Production Cost"}),a.jsx("p",{className:"font-bold text-lg",children:ze(T.totalProductionCost)})]})]})]}),T.bom&&T.bom.length>0&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Bill of Materials"}),a.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Material"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Qty/Unit"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Total Needed"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),a.jsx("tbody",{children:T.bom.map((k,oe)=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-3 py-2",children:k.materialName}),a.jsxs("td",{className:"px-3 py-2 text-right",children:[k.quantity," ",k.unit]}),a.jsxs("td",{className:"px-3 py-2 text-right",children:[k.totalNeeded," ",k.unit]}),a.jsx("td",{className:"px-3 py-2 text-center",children:k.needToPurchase||k.materialId==="custom"?a.jsx(He,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"To Purchase"}):a.jsx(He,{variant:"outline",className:"bg-green-50 text-green-700",children:"In Stock"})})]},oe))})]})})]}),T.labourCosts&&T.labourCosts.length>0&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Labour Costs"}),a.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Worker"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Work Type"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Hours"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Cost"})]})}),a.jsx("tbody",{children:T.labourCosts.map((k,oe)=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-3 py-2",children:k.labourerName}),a.jsx("td",{className:"px-3 py-2",children:k.workType}),a.jsx("td",{className:"px-3 py-2 text-right",children:k.hoursEstimated}),a.jsx("td",{className:"px-3 py-2 text-right",children:ze(k.totalCost||k.cost)})]},oe))})]})})]}),T.materialsNeedingPurchase&&T.materialsNeedingPurchase.length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsxs(Q,{className:"text-orange-700 flex items-center gap-2",children:[a.jsx(Is,{className:"w-4 h-4"}),"Materials Needing Purchase"]}),a.jsx("ul",{className:"mt-2 space-y-1 text-sm",children:T.materialsNeedingPurchase.map((k,oe)=>a.jsxs("li",{className:"flex justify-between",children:[a.jsx("span",{children:k.materialName}),a.jsxs("span",{children:[k.shortage," ",k.unit]})]},oe))})]}),T.statusHistory&&T.statusHistory.length>0&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Status History"}),a.jsx("div",{className:"mt-2 space-y-2",children:T.statusHistory.map((k,oe)=>{var be;return a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(He,{className:gs(k.status),variant:"outline",children:(be=Qe[Object.keys(Qe).find(le=>Qe[le].value===k.status)])==null?void 0:be.label}),a.jsx("span",{className:"text-gray-500",children:On(k.timestamp)}),k.note&&a.jsxs("span",{className:"text-gray-400",children:["- ",k.note]})]},oe)})})]}),T.notes&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Notes"}),a.jsx("p",{className:"text-sm",children:T.notes})]})]})]})}),a.jsx(ea,{open:D,onOpenChange:A,children:a.jsxs(ta,{children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Complete Production"}),a.jsx(xa,{children:"Add product photo and set selling price for inventory"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Selling Price (NPR) *"}),a.jsx(ve,{type:"number",min:"0",value:$.sellingPrice,onChange:k=>xe({...$,sellingPrice:k.target.value}),placeholder:"Enter selling price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Product Photo"}),a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:$.productPhotoPreview?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:$.productPhotoPreview,alt:"Product",className:"max-h-40 mx-auto rounded"}),a.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>xe({...$,productPhoto:null,productPhotoPreview:""}),children:a.jsx(Dn,{className:"w-4 h-4"})})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(Zx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload photo"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k=>Bt(k,"completion")})]})})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsxs(ue,{onClick:In,children:[a.jsx(Us,{className:"w-4 h-4 mr-2"}),"Complete Production"]})]})]})}),a.jsx(ea,{open:R,onOpenChange:z,children:a.jsxs(ta,{children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Confirm Delivery"}),a.jsx(xa,{children:"Record delivery details for this order"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Delivery Date *"}),a.jsx(ve,{type:"date",value:L.deliveryDate,onChange:k=>X({...L,deliveryDate:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Delivery Notes"}),a.jsx(Xt,{value:L.deliveryNotes,onChange:k=>X({...L,deliveryNotes:k.target.value}),placeholder:"Any notes about the delivery",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Delivery Photo"}),a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:L.deliveryPhotoPreview?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:L.deliveryPhotoPreview,alt:"Delivery",className:"max-h-40 mx-auto rounded"}),a.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>X({...L,deliveryPhoto:null,deliveryPhotoPreview:""}),children:a.jsx(Dn,{className:"w-4 h-4"})})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(Zx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload delivery photo"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k=>Bt(k,"delivery")})]})})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),a.jsxs(ue,{onClick:Ha,children:[a.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Confirm Delivery"]})]})]})})]})}function hT(s,r="977"){if(!s)return"";const i=s.replace(/\D/g,"");return i.startsWith(r)?i:r+i}function pT(s){if(!s)return!1;const r=s.replace(/\D/g,"");return r.length===10||r.length===13}function xT(s,r){const i=hT(s),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function gT(s,r){let i=s;return Object.keys(r).forEach(o=>{const d=new RegExp(`\\{${o}\\}`,"g");i=i.replace(d,r[o]||"")}),i}const Xr={orderConfirmation:{title:"Order Confirmation",template:`Hello {customerName}! 

Your order has been confirmed:
Order #: {orderNumber}
Product: {productName}
Quantity: {quantity}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Expected Delivery: {expectedDelivery}

Thank you for choosing us!
- {companyName}`,variables:["customerName","orderNumber","productName","quantity","totalAmount","paidAmount","dueAmount","expectedDelivery","companyName"]},productionStarted:{title:"Production Started",template:`Hello {customerName}! 

Great news! Production has started for your order.
Order #: {orderNumber}
Product: {productName}

Expected Completion: {expectedCompletion}

We'll notify you when it's ready!
- {companyName}`,variables:["customerName","orderNumber","productName","expectedCompletion","companyName"]},productionCompleted:{title:"Production Completed",template:`Hello {customerName}! 

Your sofa is ready!
Order #: {orderNumber}
Product: {productName}

Please contact us to schedule delivery.

Thank you for your patience!
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},paymentReminder:{title:"Payment Reminder",template:`Hello {customerName}! 

Payment reminder for your order:
Order #: {orderNumber}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Please make payment at your earliest convenience.

Thank you!
- {companyName}`,variables:["customerName","orderNumber","totalAmount","paidAmount","dueAmount","companyName"]},deliveryScheduled:{title:"Delivery Scheduled",template:`Hello {customerName}! 

Your delivery has been scheduled:
Order #: {orderNumber}
Product: {productName}
Delivery Date: {deliveryDate}
Address: {deliveryAddress}

Please be available on the scheduled date.
- {companyName}`,variables:["customerName","orderNumber","productName","deliveryDate","deliveryAddress","companyName"]},orderDelivered:{title:"Order Delivered",template:`Hello {customerName}! 

Your order has been delivered!
Order #: {orderNumber}
Product: {productName}

Thank you for your business. We hope you enjoy your new sofa!

Please let us know if you have any questions.
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},purchaseOrderCreated:{title:"Purchase Order Created",template:`Hello {supplierName}! 

New purchase order:
PO #: {poNumber}
Items: {itemCount}
Total Amount: NPR {totalAmount}

Please confirm receipt and delivery schedule.

Thank you!
- {companyName}`,variables:["supplierName","poNumber","itemCount","totalAmount","companyName"]},lowStockAlert:{title:"Low Stock Alert",template:` LOW STOCK ALERT

Item: {itemName}
Current Stock: {currentStock}
Minimum Stock: {minStock}

Action needed: Reorder soon!
- {companyName}`,variables:["itemName","currentStock","minStock","companyName"]}};function zg(){return{id:1,whatsappEnabled:!0,defaultCountryCode:"977",companyName:"Sofa Factory",adminPhoneNumber:"",notificationTypes:{orderConfirmation:!0,productionStarted:!0,productionCompleted:!0,paymentReminder:!0,deliveryScheduled:!0,orderDelivered:!0,purchaseOrderCreated:!1,lowStockAlert:!0},messageTemplates:Xr}}function yT(s,r,i,o={}){return{type:s,recipient:r,message:i,status:"pending",createdAt:new Date().toISOString(),sentAt:null,relatedId:o.id||null,relatedType:o.type||null}}function vT(s,r){const i=xT(s,r);window.open(i,"_blank")}async function k0(s){try{const r=await s.getItems("notificationSettings");return r&&r.length>0?r[0]:null}catch(r){return console.error("Error getting notification settings:",r),null}}async function jT(s,r){const i=await k0(s);return!i||!i.whatsappEnabled?!1:i.notificationTypes[r]===!0}async function bT(s,r){try{await s.addItem("notificationQueue",r),console.log("Notification queued:",r.type)}catch(i){console.error("Error queueing notification:",i)}}async function NT(s,r,i,o){var d;try{if(!await jT(s,"orderConfirmation"))return;const h=await k0(s);if(!h)return;const p=(d=h.messageTemplates.orderConfirmation)==null?void 0:d.template;if(!p)return;const g={customerName:i.name||"Customer",orderNumber:r.orderNumber||r.id,productName:o.name||"Product",quantity:r.quantity||1,totalAmount:ze(r.totalAmount||0),paidAmount:ze(r.paidAmount||0),dueAmount:ze((r.totalAmount||0)-(r.paidAmount||0)),expectedDelivery:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"To be confirmed",companyName:h.companyName||"Sofa Factory"},m=gT(p,g),x=yT("orderConfirmation",{name:i.name,phone:i.phone},m,{id:r.id,type:"order"});await bT(s,x)}catch(f){console.error("Error sending order confirmation:",f)}}function ST(){var se,B;const{state:s,actions:r}=Et(),{customers:i,sofaModels:o,sales:d}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(null),[v,b]=j.useState({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),S=d.filter(F=>{var U,ne,$;return((U=F.customerName)==null?void 0:U.toLowerCase().includes(f.toLowerCase()))||((ne=F.productName)==null?void 0:ne.toLowerCase().includes(f.toLowerCase()))||(($=F.saleNumber)==null?void 0:$.toLowerCase().includes(f.toLowerCase()))}),E=d.reduce((F,U)=>F+(U.totalAmount||0),0),w=d.filter(F=>{const U=new Date(F.createdAt),ne=new Date;return U.toDateString()===ne.toDateString()}),N=w.reduce((F,U)=>F+(U.totalAmount||0),0),P=()=>{b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),g(!0)},T=()=>{g(!1),b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""})},M=F=>{console.log("Product selected:",F);const U=parseInt(F),ne=o.find($=>$.id===U);if(console.log("Product details:",ne),ne){const $={...v,productId:U,unitPrice:ne.sellingPrice.toString()};console.log("Updated form data:",$),b($)}else console.error("Product not found for ID:",F)},D=F=>{console.log("Customer selected:",F);const U=parseInt(F),ne=i.find(xe=>xe.id===U);console.log("Customer details:",ne);const $={...v,customerId:U};console.log("Updated form data:",$),b($)},A=()=>{const F=parseInt(v.quantity)||0,U=parseFloat(v.unitPrice)||0,ne=parseFloat(v.discount)||0;return F*U-ne},R=async F=>{if(window.confirm(`Approve sale ${F.saleNumber}? This will deduct ${F.quantity} units from inventory.`))try{const U={...F,approvalStatus:"approved",status:"completed",approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",U);const ne=o.find($=>$.id===F.productId);if(ne){const $={...ne,stockQuantity:(ne.stockQuantity||0)-F.quantity,updatedAt:new Date().toISOString()};await r.updateItem("sofaModels",$)}alert("Sale approved successfully! Stock has been updated.")}catch(U){console.error("Error approving sale:",U),alert("Failed to approve sale. Please try again.")}},z=async F=>{const U=window.prompt(`Reject sale ${F.saleNumber}? Please enter reason:`);if(U)try{const ne={...F,approvalStatus:"rejected",status:"rejected",rejectionReason:U,rejectedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",ne),alert("Sale rejected successfully.")}catch(ne){console.error("Error rejecting sale:",ne),alert("Failed to reject sale. Please try again.")}},H=async F=>{if(F.preventDefault(),console.log("=== SALES FORM SUBMISSION DEBUG ==="),console.log("Form Data:",v),console.log("Customers available:",i.length),console.log("Products available:",o.length),console.log("All customers:",i),console.log("All products:",o),i.length===0){alert("No customers found! Please add customers first from the Customers page.");return}if(o.length===0){alert("No products found! Please add finished products first from the Inventory page.");return}if(!v.customerId||!v.productId){console.error("Missing selection - Customer ID:",v.customerId,"Product ID:",v.productId),alert("Please select both customer and product from the dropdowns");return}try{const U=i.find(he=>he.id===v.customerId),ne=o.find(he=>he.id===v.productId);if(console.log("Found customer:",U),console.log("Found product:",ne),!U||!ne){console.error("Validation failed - Customer found:",!!U,"Product found:",!!ne),alert(`Invalid selection. Customer: ${U?"OK":"NOT FOUND"}, Product: ${ne?"OK":"NOT FOUND"}`);return}const $=parseInt(v.quantity)||1,xe=parseFloat(v.unitPrice)||0,L=parseFloat(v.discount)||0,X=A(),V=parseFloat(v.paidAmount)||0,ie=X-V,je=`SAL-${Date.now().toString().slice(-6)}`;if((ne.stockQuantity||0)<$){alert(`Insufficient stock! Available: ${ne.stockQuantity||0} units, Requested: ${$} units`);return}let O="unpaid";V>=X?O="paid":V>0&&(O="partial");const ee={saleNumber:je,customerId:U.id,customerName:U.name,customerPhone:U.phone,productId:ne.id,productName:ne.name,quantity:$,unitPrice:xe,discount:L,subtotal:$*xe,totalAmount:X,paidAmount:V,dueAmount:ie,paymentStatus:O,paymentMethod:v.paymentMethod,paymentHistory:[{amount:V,method:v.paymentMethod,date:new Date().toISOString(),note:"Initial payment"}],notes:v.notes,status:"pending",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},de=await r.addItem("sales",ee);try{await NT(r,ee,U,ne)}catch(he){console.error("Error sending notification:",he)}alert("Sale recorded successfully! Waiting for admin approval."),T()}catch(U){console.error("Error recording sale:",U),alert("Failed to record sale. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales transactions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Total Sales"}),a.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time transactions"})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Today's Sales"}),a.jsx(Ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:ze(N)})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ze(E)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time revenue"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search sales by number, customer, or product...",value:f,onChange:F=>h(F.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:P,className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]}),S.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ua,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No sales found":"No sales yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first sale to get started"}),!f&&a.jsxs(ue,{onClick:P,children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]})}):a.jsx("div",{className:"space-y-4",children:S.map(F=>a.jsx(fe,{className:"hover:shadow-lg transition-shadow",children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:F.saleNumber}),F.approvalStatus==="pending"&&a.jsx(He,{className:"bg-orange-500 text-white",children:"Pending Approval"}),F.approvalStatus==="approved"&&a.jsx(He,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}),F.approvalStatus==="rejected"&&a.jsx(He,{className:"bg-red-100 text-red-800",children:"Rejected"}),F.paymentStatus==="paid"&&a.jsx(He,{className:"bg-green-500 text-white",children:"Paid"}),F.paymentStatus==="partial"&&a.jsx(He,{className:"bg-yellow-500 text-white",children:"Partial Payment"}),F.paymentStatus==="unpaid"&&a.jsx(He,{className:"bg-red-500 text-white",children:"Unpaid"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:F.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:F.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:F.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:ze(F.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:F.dueAmount>0?ze(F.dueAmount):"NPR 0"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Payment: ",F.paymentMethod]}),a.jsx("span",{children:""}),a.jsx("span",{children:On(F.createdAt)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[F.approvalStatus==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>R(F),children:"Approve"}),a.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>z(F),children:"Reject"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>x(F),children:[a.jsx(yf,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})},F.id))}),a.jsx(ea,{open:p,onOpenChange:g,children:a.jsxs(ta,{className:"max-w-2xl",children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Record New Sale"}),a.jsx(xa,{children:"Enter sale details to record a new transaction"})]}),a.jsxs("form",{onSubmit:H,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:((se=v.customerId)==null?void 0:se.toString())||"",onValueChange:D,children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select customer"})}),a.jsx(dt,{children:i.map(F=>a.jsx(ye,{value:F.id.toString(),children:F.name},F.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:((B=v.productId)==null?void 0:B.toString())||"",onValueChange:M,children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select product"})}),a.jsx(dt,{children:o.map(F=>a.jsxs(ye,{value:F.id.toString(),children:[F.name," - ",ze(F.sellingPrice)]},F.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"quantity",children:"Quantity"}),a.jsx(ve,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:F=>b({...v,quantity:F.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"unitPrice",children:"Unit Price (NPR)"}),a.jsx(ve,{id:"unitPrice",type:"number",step:"0.01",value:v.unitPrice,onChange:F=>b({...v,unitPrice:F.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"discount",children:"Discount (NPR)"}),a.jsx(ve,{id:"discount",type:"number",step:"0.01",value:v.discount,onChange:F=>b({...v,discount:F.target.value})})]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:ze(A())})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(ot,{value:v.paymentMethod,onValueChange:F=>b({...v,paymentMethod:F}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"cash",children:"Cash"}),a.jsx(ye,{value:"bank_transfer",children:"Bank Transfer"}),a.jsx(ye,{value:"card",children:"Card"}),a.jsx(ye,{value:"mobile_payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paidAmount",children:"Paid Amount (NPR)"}),a.jsx(ve,{id:"paidAmount",type:"number",step:"0.01",min:"0",placeholder:"Enter amount paid",value:v.paidAmount,onChange:F=>b({...v,paidAmount:F.target.value})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Leave empty or enter 0 for unpaid. Total: ",ze(A())]})]})]}),v.paidAmount&&parseFloat(v.paidAmount)<A()&&a.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"font-medium text-yellow-800",children:"Due Amount:"}),a.jsx("span",{className:"text-lg font-bold text-yellow-900",children:ze(A()-parseFloat(v.paidAmount||0))})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"notes",children:"Notes"}),a.jsx(Xt,{id:"notes",value:v.notes,onChange:F=>b({...v,notes:F.target.value}),placeholder:"Add any additional notes",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Record Sale"})]})]})]})}),m&&a.jsx(ea,{open:!!m,onOpenChange:()=>x(null),children:a.jsxs(ta,{className:"max-w-2xl",children:[a.jsxs(aa,{children:[a.jsxs(na,{children:["Sale Details - ",m.saleNumber]}),a.jsxs(xa,{children:["Recorded on ",On(m.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:m.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:m.customerPhone})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Product"}),a.jsx("p",{className:"font-medium",children:m.productName})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:m.quantity})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:ze(m.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Subtotal"}),a.jsx("p",{className:"font-medium",children:ze(m.subtotal)})]})]}),m.discount>0&&a.jsxs("div",{children:[a.jsx(Q,{children:"Discount"}),a.jsxs("p",{className:"font-medium text-red-600",children:["- ",ze(m.discount)]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:ze(m.totalAmount)})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Paid Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:ze(m.paidAmount||0)})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:ze(m.dueAmount||0)})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Payment Status"}),a.jsxs("div",{children:[m.paymentStatus==="paid"&&a.jsx(He,{className:"bg-green-500 text-white",children:"Paid"}),m.paymentStatus==="partial"&&a.jsx(He,{className:"bg-yellow-500 text-white",children:"Partial"}),m.paymentStatus==="unpaid"&&a.jsx(He,{className:"bg-red-500 text-white",children:"Unpaid"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:m.paymentMethod.replace("_"," ")})]}),m.paymentHistory&&m.paymentHistory.length>0&&a.jsxs("div",{children:[a.jsx(Q,{children:"Payment History"}),a.jsx("div",{className:"mt-2 space-y-2",children:m.paymentHistory.map((F,U)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ze(F.amount)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[F.method.replace("_"," "),"  ",On(F.date)]}),F.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:F.note})]})},U))})]}),m.notes&&a.jsxs("div",{children:[a.jsx(Q,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:m.notes})]})]}),a.jsx(ra,{children:a.jsx(ue,{variant:"outline",onClick:()=>x(null),children:"Close"})})]})})]})}function wT(){const{state:s,actions:r}=Et(),{customers:i,cleaningServices:o,company:d}=s,[f,h]=j.useState(""),[p,g]=j.useState("all"),[m,x]=j.useState(!1),[v,b]=j.useState(null),[S,E]=j.useState({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""}),w=o.filter(B=>{var ne,$;const F=((ne=B.customerName)==null?void 0:ne.toLowerCase().includes(f.toLowerCase()))||(($=B.serviceNumber)==null?void 0:$.toLowerCase().includes(f.toLowerCase())),U=p==="all"||B.status===p;return F&&U}),N=w.filter(B=>B.status==="scheduled"),P=w.filter(B=>B.status==="completed"),T=w.filter(B=>B.status==="cancelled"),M=(B=null)=>{B?(b(B),E({customerId:B.customerId,serviceDate:B.serviceDate,serviceTime:B.serviceTime,serviceType:B.serviceType,price:B.price.toString(),address:B.address,notes:B.notes||""})):(b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})),x(!0)},D=()=>{x(!1),b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})},A=B=>{const F=i.find(U=>U.id===B);F&&F.address?E({...S,customerId:B,address:F.address}):E({...S,customerId:B})},R=async B=>{if(B.preventDefault(),!S.customerId||!S.serviceDate||!S.serviceTime){alert("Please fill in all required fields");return}try{const F=i.find(ne=>ne.id===S.customerId);if(!F){alert("Invalid customer selection");return}const U={serviceNumber:(v==null?void 0:v.serviceNumber)||`CLN-${Date.now().toString().slice(-6)}`,customerId:F.id,customerName:F.name,customerPhone:F.phone,serviceDate:S.serviceDate,serviceTime:S.serviceTime,serviceType:S.serviceType,price:parseFloat(S.price)||0,address:S.address,notes:S.notes,status:(v==null?void 0:v.status)||"scheduled",createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};v?(await r.updateItem("cleaningServices",{...U,id:v.id}),alert("Service updated successfully!")):(await r.addItem("cleaningServices",U),alert("Service scheduled successfully!")),D()}catch(F){console.error("Error saving service:",F),alert("Failed to save service. Please try again.")}},z=async(B,F)=>{if(window.confirm(`Update service status to "${F}"?`))try{const U={...B,status:F,updatedAt:new Date().toISOString()};await r.updateItem("cleaningServices",U),alert("Service status updated successfully!")}catch(U){console.error("Error updating service:",U),alert("Failed to update service status. Please try again.")}},H=B=>{if(!d){alert("Company information not set up");return}const F=Cw.cleaningReminder(d,B.customerName,B.serviceDate,B.serviceTime),U=Sw(B.customerPhone,F);window.open(U,"_blank")},se=B=>{switch(B){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cleaning Services"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage sofa cleaning appointments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Upcoming"}),a.jsx(Jd,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:N.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled appointments"})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Completed"}),a.jsx(Us,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:P.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Services completed"})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(De,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ze(o.reduce((B,F)=>B+(F.price||0),0))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"From cleaning services"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search services by number or customer...",value:f,onChange:B=>h(B.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>M(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Schedule Service"]})]}),a.jsxs(oi,{defaultValue:"scheduled",className:"space-y-4",children:[a.jsxs(ci,{className:"grid w-full grid-cols-3",children:[a.jsxs(Wt,{value:"scheduled",children:["Scheduled",a.jsx(He,{variant:"secondary",className:"ml-2",children:N.length})]}),a.jsxs(Wt,{value:"completed",children:["Completed",a.jsx(He,{variant:"secondary",className:"ml-2",children:P.length})]}),a.jsxs(Wt,{value:"cancelled",children:["Cancelled",a.jsx(He,{variant:"secondary",className:"ml-2",children:T.length})]})]}),a.jsx(Jt,{value:"scheduled",children:N.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ds,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No scheduled services"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(B=>a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(De,{className:"text-lg",children:B.serviceNumber}),a.jsx(qe,{children:B.customerName})]}),a.jsx(He,{className:se(B.status),children:B.status})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),a.jsxs("p",{className:"font-medium",children:[On(B.serviceDate)," at ",B.serviceTime]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:B.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:ze(B.price)})]}),B.address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"text-sm line-clamp-2",children:B.address})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>M(B),children:[a.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>H(B),children:a.jsx(sS,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>z(B,"completed"),children:a.jsx(Us,{className:"w-4 h-4"})})]})]})})]},B.id))})}),a.jsx(Jt,{value:"completed",children:P.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Us,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No completed services"})]})}):a.jsx("div",{className:"space-y-4",children:P.map(B=>a.jsx(fe,{children:a.jsx(Ne,{className:"p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:B.serviceNumber}),a.jsx(He,{className:se(B.status),children:B.status})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:B.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:On(B.serviceDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:B.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:ze(B.price)})]})]})]})})})},B.id))})}),a.jsx(Jt,{value:"cancelled",children:T.length===0?a.jsx(fe,{children:a.jsx(Ne,{className:"flex flex-col items-center justify-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No cancelled services"})})}):a.jsx("div",{className:"space-y-4",children:T.map(B=>a.jsx(fe,{children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold",children:[B.serviceNumber," - ",B.customerName]}),a.jsx("p",{className:"text-sm text-gray-500",children:On(B.serviceDate)})]}),a.jsx(He,{className:se(B.status),children:B.status})]})})},B.id))})})]}),a.jsx(ea,{open:m,onOpenChange:x,children:a.jsxs(ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(aa,{children:[a.jsx(na,{children:v?"Edit Service":"Schedule New Service"}),a.jsx(xa,{children:v?"Update service appointment details":"Schedule a new cleaning service appointment"})]}),a.jsxs("form",{onSubmit:R,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:S.customerId,onValueChange:A,children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select customer"})}),a.jsx(dt,{children:i.map(B=>a.jsxs(ye,{value:B.id,children:[B.name," - ",B.phone]},B.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"serviceDate",children:["Service Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"serviceDate",type:"date",value:S.serviceDate,onChange:B=>E({...S,serviceDate:B.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"serviceTime",children:["Service Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"serviceTime",type:"time",value:S.serviceTime,onChange:B=>E({...S,serviceTime:B.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"serviceType",children:"Service Type"}),a.jsxs(ot,{value:S.serviceType,onValueChange:B=>E({...S,serviceType:B}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"regular",children:"Regular Cleaning"}),a.jsx(ye,{value:"deep",children:"Deep Cleaning"}),a.jsx(ye,{value:"stain_removal",children:"Stain Removal"}),a.jsx(ye,{value:"maintenance",children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"price",children:"Price (NPR)"}),a.jsx(ve,{id:"price",type:"number",step:"0.01",value:S.price,onChange:B=>E({...S,price:B.target.value}),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"address",children:"Service Address"}),a.jsx(Xt,{id:"address",value:S.address,onChange:B=>E({...S,address:B.target.value}),placeholder:"Enter service address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"notes",children:"Notes"}),a.jsx(Xt,{id:"notes",value:S.notes,onChange:B=>E({...S,notes:B.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),a.jsx(ue,{type:"submit",children:v?"Update Service":"Schedule Service"})]})]})]})})]})}function qs({className:s,...r}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:$e("w-full caption-bottom text-sm",s),...r})})}function Hs({className:s,...r}){return a.jsx("thead",{"data-slot":"table-header",className:$e("[&_tr]:border-b",s),...r})}function Bs({className:s,...r}){return a.jsx("tbody",{"data-slot":"table-body",className:$e("[&_tr:last-child]:border-0",s),...r})}function pa({className:s,...r}){return a.jsx("tr",{"data-slot":"table-row",className:$e("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function tt({className:s,...r}){return a.jsx("th",{"data-slot":"table-head",className:$e("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function at({className:s,...r}){return a.jsx("td",{"data-slot":"table-cell",className:$e("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function CT(){const{state:s,actions:r}=Et(),[i,o]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState(""),[x,v]=j.useState(!1),[b,S]=j.useState(!1),[E,w]=j.useState(!1),[N,P]=j.useState(null),[T,M]=j.useState(null),[D,A]=j.useState({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"}),[R,z]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""}),[H,se]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""});j.useEffect(()=>{B()},[]);const B=async()=>{try{const[q,me,ae]=await Promise.all([pe.getAll("labourers"),pe.getAll("attendance"),pe.getAll("labourPayments")]);o(q||[]),f(me||[]),p(ae||[])}catch(q){console.error("Error loading labour data:",q)}},F=i.filter(q=>q.name.toLowerCase().includes(g.toLowerCase())||q.phone&&q.phone.includes(g)||q.specialization&&q.specialization.toLowerCase().includes(g.toLowerCase())),U=(q=null)=>{var me;q?(P(q),A({name:q.name,phone:q.phone||"",address:q.address||"",dailyWage:((me=q.dailyWage)==null?void 0:me.toString())||"",specialization:q.specialization||"Carpenter",joinDate:q.joinDate||new Date().toISOString().split("T")[0],status:q.status||"active"})):(P(null),A({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"})),v(!0)},ne=()=>{v(!1),P(null)},$=async q=>{if(q.preventDefault(),!D.name||!D.dailyWage){alert("Please fill in required fields (Name and Daily Wage)");return}try{const me={name:D.name,phone:D.phone,address:D.address,dailyWage:parseFloat(D.dailyWage),specialization:D.specialization,joinDate:D.joinDate,status:D.status,createdAt:(N==null?void 0:N.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};N?(await pe.update("labourers",{...me,id:N.id}),alert("Labourer updated successfully!")):(await pe.add("labourers",me),alert("Labourer added successfully!")),await B(),ne()}catch(me){console.error("Error saving labourer:",me),alert("Failed to save labourer. Please try again.")}},xe=async q=>{if(window.confirm(`Are you sure you want to delete ${q.name}?`))try{await pe.delete("labourers",q.id),alert("Labourer deleted successfully!"),await B()}catch(me){console.error("Error deleting labourer:",me),alert("Failed to delete labourer. Please try again.")}},L=(q=null)=>{q?(M(q),z({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})):(M(null),z({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})),S(!0)},X=async q=>{if(q.preventDefault(),!R.labourerId){alert("Please select a labourer");return}try{const me=i.find(_e=>_e.id===parseInt(R.labourerId)),ae={labourerId:parseInt(R.labourerId),labourerName:(me==null?void 0:me.name)||"",date:R.date,status:R.status,hoursWorked:parseFloat(R.hoursWorked)||0,notes:R.notes,createdAt:new Date().toISOString()};await pe.add("attendance",ae),alert("Attendance marked successfully!"),await B(),S(!1)}catch(me){console.error("Error marking attendance:",me),alert("Failed to mark attendance. Please try again.")}},V=(q=null)=>{var me;q?(M(q),se({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],amount:((me=q.dailyWage)==null?void 0:me.toString())||"",paymentMethod:"Cash",notes:""})):(M(null),se({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""})),w(!0)},ie=async q=>{if(q.preventDefault(),!H.labourerId||!H.amount){alert("Please fill in required fields");return}try{const me=i.find(_e=>_e.id===parseInt(H.labourerId)),ae={labourerId:parseInt(H.labourerId),labourerName:(me==null?void 0:me.name)||"",date:H.date,amount:parseFloat(H.amount),paymentMethod:H.paymentMethod,notes:H.notes,createdAt:new Date().toISOString()};await pe.add("labourPayments",ae),alert("Payment recorded successfully!"),await B(),w(!1)}catch(me){console.error("Error recording payment:",me),alert("Failed to record payment. Please try again.")}},je=i.filter(q=>q.status==="active").length,O=h.reduce((q,me)=>q+(me.amount||0),0),ee=h.filter(q=>{const me=new Date(q.date),ae=new Date;return me.getMonth()===ae.getMonth()&&me.getFullYear()===ae.getFullYear()}).reduce((q,me)=>q+(me.amount||0),0),he=d.filter(q=>q.date===new Date().toISOString().split("T")[0]).filter(q=>q.status==="present").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Labour Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage labourers, track attendance, and record payments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Active Labourers"}),a.jsx(De,{className:"text-2xl",children:je})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Present Today"}),a.jsx(De,{className:"text-2xl text-green-600",children:he})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"This Month Payments"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",ee.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Payments"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",O.toLocaleString()]})]})})]}),a.jsxs(oi,{defaultValue:"labourers",className:"space-y-4",children:[a.jsxs(ci,{children:[a.jsx(Wt,{value:"labourers",children:"Labourers"}),a.jsx(Wt,{value:"attendance",children:"Attendance"}),a.jsx(Wt,{value:"payments",children:"Payments"})]}),a.jsxs(Jt,{value:"labourers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search labourers...",value:g,onChange:q=>m(q.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>U(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]}),F.length>0?a.jsx(fe,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Name"}),a.jsx(tt,{children:"Phone"}),a.jsx(tt,{children:"Specialization"}),a.jsx(tt,{children:"Daily Wage"}),a.jsx(tt,{children:"Status"}),a.jsx(tt,{children:"Actions"})]})}),a.jsx(Bs,{children:F.map(q=>a.jsxs(pa,{children:[a.jsxs(at,{children:[a.jsx("div",{className:"font-medium",children:q.name}),q.address&&a.jsx("div",{className:"text-sm text-gray-500",children:q.address})]}),a.jsx(at,{children:q.phone}),a.jsx(at,{children:q.specialization}),a.jsxs(at,{className:"font-medium",children:["NPR ",q.dailyWage]}),a.jsx(at,{children:a.jsx(He,{variant:q.status==="active"?"success":"default",children:q.status})}),a.jsx(at,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>L(q),title:"Mark Attendance",children:a.jsx(tf,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>V(q),title:"Record Payment",children:a.jsx(Ua,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>U(q),children:a.jsx(fs,{className:"w-4 h-4"})}),a.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>xe(q),children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},q.id))})]})})}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(tf,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"No labourers found":"No labourers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:g?"Try adjusting your search":"Add your first labourer to get started"}),!g&&a.jsxs(ue,{onClick:()=>U(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]})})]}),a.jsxs(Jt,{value:"attendance",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:()=>L(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),d.length>0?a.jsx(fe,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Date"}),a.jsx(tt,{children:"Labourer"}),a.jsx(tt,{children:"Status"}),a.jsx(tt,{children:"Hours Worked"}),a.jsx(tt,{children:"Notes"})]})}),a.jsx(Bs,{children:d.slice(0,50).map((q,me)=>a.jsxs(pa,{children:[a.jsx(at,{children:new Date(q.date).toLocaleDateString()}),a.jsx(at,{children:q.labourerName}),a.jsx(at,{children:a.jsx(He,{variant:q.status==="present"?"success":q.status==="absent"?"destructive":"warning",children:q.status})}),a.jsxs(at,{children:[q.hoursWorked," hrs"]}),a.jsx(at,{className:"text-sm text-gray-600",children:q.notes})]},me))})]})})}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ds,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No attendance records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start marking attendance for your labourers"}),a.jsxs(ue,{onClick:()=>L(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})})]}),a.jsxs(Jt,{value:"payments",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ue,{onClick:()=>V(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Payment"]})}),h.length>0?a.jsx(fe,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Date"}),a.jsx(tt,{children:"Labourer"}),a.jsx(tt,{children:"Amount"}),a.jsx(tt,{children:"Payment Method"}),a.jsx(tt,{children:"Notes"})]})}),a.jsx(Bs,{children:h.slice(0,50).map((q,me)=>a.jsxs(pa,{children:[a.jsx(at,{children:new Date(q.date).toLocaleDateString()}),a.jsx(at,{children:q.labourerName}),a.jsxs(at,{className:"font-medium",children:["NPR ",q.amount.toLocaleString()]}),a.jsx(at,{children:q.paymentMethod}),a.jsx(at,{className:"text-sm text-gray-600",children:q.notes})]},me))})]})})}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ua,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start recording payments for your labourers"}),a.jsxs(ue,{onClick:()=>V(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})})]})]}),a.jsx(ea,{open:x,onOpenChange:v,children:a.jsxs(ta,{className:"max-w-2xl",children:[a.jsxs(aa,{children:[a.jsx(na,{children:N?"Edit Labourer":"Add New Labourer"}),a.jsx(xa,{children:N?"Update labourer information":"Enter labourer details"})]}),a.jsxs("form",{onSubmit:$,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"name",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"name",value:D.name,onChange:q=>A({...D,name:q.target.value}),placeholder:"e.g., Ram Bahadur",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"phone",children:"Phone"}),a.jsx(ve,{id:"phone",type:"tel",value:D.phone,onChange:q=>A({...D,phone:q.target.value}),placeholder:"e.g., 9841234567"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"address",children:"Address"}),a.jsx(ve,{id:"address",value:D.address,onChange:q=>A({...D,address:q.target.value}),placeholder:"e.g., Kathmandu"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"specialization",children:"Specialization"}),a.jsxs(ot,{value:D.specialization,onValueChange:q=>A({...D,specialization:q}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Carpenter",children:"Carpenter"}),a.jsx(ye,{value:"Upholsterer",children:"Upholsterer"}),a.jsx(ye,{value:"Painter",children:"Painter"}),a.jsx(ye,{value:"Helper",children:"Helper"}),a.jsx(ye,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"dailyWage",children:["Daily Wage (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"dailyWage",type:"number",step:"0.01",min:"0",value:D.dailyWage,onChange:q=>A({...D,dailyWage:q.target.value}),placeholder:"e.g., 1500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"joinDate",children:"Join Date"}),a.jsx(ve,{id:"joinDate",type:"date",value:D.joinDate,onChange:q=>A({...D,joinDate:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"status",children:"Status"}),a.jsxs(ot,{value:D.status,onValueChange:q=>A({...D,status:q}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"active",children:"Active"}),a.jsx(ye,{value:"inactive",children:"Inactive"})]})]})]})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:ne,children:"Cancel"}),a.jsx(ue,{type:"submit",children:N?"Update Labourer":"Add Labourer"})]})]})]})}),a.jsx(ea,{open:b,onOpenChange:S,children:a.jsxs(ta,{children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Mark Attendance"}),a.jsx(xa,{children:T?`Mark attendance for ${T.name}`:"Select a labourer and mark attendance"})]}),a.jsxs("form",{onSubmit:X,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!T&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"labourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:R.labourerId,onValueChange:q=>z({...R,labourerId:q}),children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select labourer"})}),a.jsx(dt,{children:i.filter(q=>q.status==="active").map(q=>a.jsx(ye,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"attendanceDate",children:"Date"}),a.jsx(ve,{id:"attendanceDate",type:"date",value:R.date,onChange:q=>z({...R,date:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"attendanceStatus",children:"Status"}),a.jsxs(ot,{value:R.status,onValueChange:q=>z({...R,status:q}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"present",children:"Present"}),a.jsx(ye,{value:"absent",children:"Absent"}),a.jsx(ye,{value:"half-day",children:"Half Day"}),a.jsx(ye,{value:"leave",children:"Leave"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"hoursWorked",children:"Hours Worked"}),a.jsx(ve,{id:"hoursWorked",type:"number",step:"0.5",min:"0",max:"24",value:R.hoursWorked,onChange:q=>z({...R,hoursWorked:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"attendanceNotes",children:"Notes"}),a.jsx(Xt,{id:"attendanceNotes",value:R.notes,onChange:q=>z({...R,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Mark Attendance"})]})]})]})}),a.jsx(ea,{open:E,onOpenChange:w,children:a.jsxs(ta,{children:[a.jsxs(aa,{children:[a.jsx(na,{children:"Record Payment"}),a.jsx(xa,{children:T?`Record payment for ${T.name}`:"Select a labourer and record payment"})]}),a.jsxs("form",{onSubmit:ie,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!T&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"paymentLabourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:H.labourerId,onValueChange:q=>{var ae;const me=i.find(_e=>_e.id===parseInt(q));se({...H,labourerId:q,amount:((ae=me==null?void 0:me.dailyWage)==null?void 0:ae.toString())||""})},children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select labourer"})}),a.jsx(dt,{children:i.filter(q=>q.status==="active").map(q=>a.jsxs(ye,{value:q.id.toString(),children:[q.name," (NPR ",q.dailyWage,"/day)"]},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentDate",children:"Date"}),a.jsx(ve,{id:"paymentDate",type:"date",value:H.date,onChange:q=>se({...H,date:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"amount",children:["Amount (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"amount",type:"number",step:"0.01",min:"0",value:H.amount,onChange:q=>se({...H,amount:q.target.value}),placeholder:"e.g., 1500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(ot,{value:H.paymentMethod,onValueChange:q=>se({...H,paymentMethod:q}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Cash",children:"Cash"}),a.jsx(ye,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(ye,{value:"Mobile Payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentNotes",children:"Notes"}),a.jsx(Xt,{id:"paymentNotes",value:H.notes,onChange:q=>se({...H,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(ue,{type:"submit",children:"Record Payment"})]})]})]})})]})}function AT(){const{state:s,actions:r}=Et(),{rawMaterials:i=[],sofaModels:o=[]}=s,d=j.useMemo(()=>{const p=i.length,g=i.reduce((S,E)=>{const w=parseFloat(E.quantity)||0,N=parseFloat(E.unitPrice)||0;return S+w*N},0),m=o.length,x=o.reduce((S,E)=>{const w=parseFloat(E.stock)||0,N=parseFloat(E.sellingPrice)||parseFloat(E.basePrice)||0;return S+w*N},0),v=i.filter(S=>{const E=parseFloat(S.quantity)||0,w=parseFloat(S.minStock)||10;return E>0&&E<w}),b=i.filter(S=>(parseFloat(S.quantity)||0)<=0);return[{label:"Raw Materials",count:p,value:` ${g.toLocaleString()}`,color:"bg-blue-500",icon:Ca},{label:"Finished Products",count:m,value:` ${x.toLocaleString()}`,color:"bg-green-500",icon:bN},{label:"Low Stock Items",count:v.length,color:"bg-yellow-500",icon:Is},{label:"Out of Stock",count:b.length,color:"bg-red-500",icon:Gg}]},[i,o]),f=j.useMemo(()=>{const p=[];return[...i].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,3).forEach(x=>{p.push({text:`${x.name} - ${x.quantity} ${x.unit||"units"} in stock`,time:x.updatedAt||x.createdAt,color:"bg-green-500"})}),[...o].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,2).forEach(x=>{p.push({text:`${x.name} - ${x.stock||0} units in stock`,time:x.updatedAt||x.createdAt,color:"bg-blue-500"})}),i.filter(x=>{const v=parseFloat(x.quantity)||0,b=parseFloat(x.minStock)||10;return v>0&&v<b}).slice(0,2).forEach(x=>{p.push({text:`Low stock alert: ${x.name}`,time:new Date().toISOString(),color:"bg-yellow-500"})}),p.slice(0,5)},[i,o]),h=p=>{if(!p)return"Recently";const g=new Date(p),x=new Date-g,v=Math.floor(x/6e4),b=Math.floor(x/36e5),S=Math.floor(x/864e5);return v<60?`${v} minutes ago`:b<24?`${b} hours ago`:`${S} days ago`};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Overview of raw materials and finished products inventory"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((p,g)=>{const m=p.icon;return a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.count}),p.value&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.value})]}),a.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:a.jsx(m,{className:"w-6 h-6 text-white"})})]})},g)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>r.setCurrentView("raw-materials"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Raw Materials"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("finished-products"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Finished Products"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("suppliers"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"View Suppliers"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((p,g)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`w-2 h-2 ${p.color} rounded-full mt-2 mr-3`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:p.text}),a.jsx("p",{className:"text-xs text-gray-500",children:h(p.time)})]})]},g))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add raw materials or products to see activity here"})]})]})]})]})}function ET(){const{state:s,actions:r}=Et(),{rawMaterials:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""}),v=i.filter(M=>M.name.toLowerCase().includes(o.toLowerCase())||M.category&&M.category.toLowerCase().includes(o.toLowerCase())||M.supplier&&M.supplier.toLowerCase().includes(o.toLowerCase())),b=(M,D)=>{const A=parseFloat(M)||0,R=parseFloat(D)||0;return A===0?{label:"Out of Stock",variant:"destructive"}:A<=R?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"}},S=(M=null)=>{var D,A,R;M?(g(M),x({name:M.name,category:M.category||"Wood",quantity:((D=M.quantity)==null?void 0:D.toString())||"",unit:M.unit||"meters",pricePerUnit:((A=M.pricePerUnit)==null?void 0:A.toString())||"",minStock:((R=M.minStock)==null?void 0:R.toString())||"",supplier:M.supplier||"",description:M.description||""})):(g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})),h(!0)},E=()=>{h(!1),g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})},w=async M=>{if(M.preventDefault(),!m.name||!m.quantity||!m.pricePerUnit){alert("Please fill in required fields (Name, Quantity, Price)");return}try{const D={name:m.name,category:m.category,quantity:parseFloat(m.quantity),unit:m.unit,pricePerUnit:parseFloat(m.pricePerUnit),minStock:parseFloat(m.minStock)||0,supplier:m.supplier,description:m.description,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("rawMaterials",{...D,id:p.id}),alert("Material updated successfully!")):(await r.addItem("rawMaterials",D),alert("Material added successfully!")),E()}catch(D){console.error("Error saving material:",D),alert("Failed to save material. Please try again.")}},N=async M=>{if(window.confirm(`Are you sure you want to delete ${M.name}?`))try{await r.deleteItem("rawMaterials",M.id),alert("Material deleted successfully!")}catch(D){console.error("Error deleting material:",D),alert("Failed to delete material. Please try again.")}},P=i.reduce((M,D)=>M+(D.quantity||0)*(D.pricePerUnit||0),0),T=i.filter(M=>{const D=parseFloat(M.quantity)||0,A=parseFloat(M.minStock)||0;return D<=A}).length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Raw Materials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage raw materials inventory"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Materials"}),a.jsx(De,{className:"text-2xl",children:i.length})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Inventory Value"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",P.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Low Stock Items"}),a.jsx(De,{className:"text-2xl text-orange-600",children:T})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search materials...",value:o,onChange:M=>d(M.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>S(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Material"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(M=>{const D=b(M.quantity,M.minStock),A=(M.quantity||0)*(M.pricePerUnit||0);return a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Me,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(De,{className:"text-lg",children:M.name}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[M.category&&a.jsx(He,{variant:"outline",children:M.category}),a.jsx(He,{variant:D.variant,children:D.label})]})]})})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium",children:[M.quantity," ",M.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Price/Unit:"}),a.jsxs("span",{className:"font-medium",children:["NPR ",(M.pricePerUnit||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Min Stock:"}),a.jsxs("span",{className:"font-medium",children:[M.minStock||0," ",M.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Value:"}),a.jsxs("span",{className:"font-semibold",children:["NPR ",A.toLocaleString()]})]}),M.purchaseDate&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Purchased: ",new Date(M.purchaseDate).toLocaleDateString()]}),(M.supplier||M.supplierName)&&a.jsxs("div",{className:"text-sm text-gray-600 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Supplier:"})," ",M.supplier||M.supplierName]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>S(M),children:[a.jsx(fs,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>N(M),children:a.jsx(Rn,{className:"w-3 h-3"})})]})]})]},M.id)})}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ca,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No materials found":"No materials yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first material to get started"}),!o&&a.jsxs(ue,{onClick:()=>S(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Material"]})]})}),a.jsx(ea,{open:f,onOpenChange:h,children:a.jsxs(ta,{className:"max-w-2xl",children:[a.jsxs(aa,{children:[a.jsx(na,{children:p?"Edit Material":"Add New Material"}),a.jsx(xa,{children:p?"Update material information below":"Enter material details to add to your inventory"})]}),a.jsxs("form",{onSubmit:w,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"name",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"name",value:m.name,onChange:M=>x({...m,name:M.target.value}),placeholder:"e.g., Teak Wood",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"category",children:"Category"}),a.jsxs(ot,{value:m.category,onValueChange:M=>x({...m,category:M}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Wood",children:"Wood"}),a.jsx(ye,{value:"Fabric",children:"Fabric"}),a.jsx(ye,{value:"Foam",children:"Foam"}),a.jsx(ye,{value:"Hardware",children:"Hardware"}),a.jsx(ye,{value:"Cushioning",children:"Cushioning"}),a.jsx(ye,{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"quantity",type:"number",step:"0.01",min:"0",value:m.quantity,onChange:M=>x({...m,quantity:M.target.value}),placeholder:"e.g., 150",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"unit",children:"Unit"}),a.jsxs(ot,{value:m.unit,onValueChange:M=>x({...m,unit:M}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"meters",children:"meters"}),a.jsx(ye,{value:"pieces",children:"pieces"}),a.jsx(ye,{value:"sheets",children:"sheets"}),a.jsx(ye,{value:"kg",children:"kg"}),a.jsx(ye,{value:"liters",children:"liters"}),a.jsx(ye,{value:"boxes",children:"boxes"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"pricePerUnit",children:["Price per Unit (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:m.pricePerUnit,onChange:M=>x({...m,pricePerUnit:M.target.value}),placeholder:"e.g., 800",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"minStock",children:"Minimum Stock Level"}),a.jsx(ve,{id:"minStock",type:"number",step:"0.01",min:"0",value:m.minStock,onChange:M=>x({...m,minStock:M.target.value}),placeholder:"e.g., 50"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"supplier",children:"Supplier"}),a.jsx(ve,{id:"supplier",value:m.supplier,onChange:M=>x({...m,supplier:M.target.value}),placeholder:"e.g., Timber Traders Ltd"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"description",children:"Description"}),a.jsx(ve,{id:"description",value:m.description,onChange:M=>x({...m,description:M.target.value}),placeholder:"Additional notes about this material"})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Material":"Add Material"})]})]})]})})]})}function TT(){const{state:s,actions:r}=Et(),{suppliers:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""}),v=i.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.contactPerson&&N.contactPerson.toLowerCase().includes(o.toLowerCase())||N.category&&N.category.toLowerCase().includes(o.toLowerCase())),b=(N=null)=>{N?(g(N),x({name:N.name,contactPerson:N.contactPerson||"",phone:N.phone||"",email:N.email||"",address:N.address||"",category:N.category||"Wood",notes:N.notes||""})):(g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})),h(!0)},S=()=>{h(!1),g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})},E=async N=>{if(N.preventDefault(),!m.name||!m.phone){alert("Please fill in required fields (Name and Phone)");return}try{const P={name:m.name,contactPerson:m.contactPerson,phone:m.phone,email:m.email,address:m.address,category:m.category,notes:m.notes,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("suppliers",{...P,id:p.id}),alert("Supplier updated successfully!")):(await r.addItem("suppliers",P),alert("Supplier added successfully!")),S()}catch(P){console.error("Error saving supplier:",P),alert("Failed to save supplier. Please try again.")}},w=async N=>{if(window.confirm(`Are you sure you want to delete ${N.name}?`))try{await r.deleteItem("suppliers",N.id),alert("Supplier deleted successfully!")}catch(P){console.error("Error deleting supplier:",P),alert("Failed to delete supplier. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your supplier relationships and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ve,{type:"text",placeholder:"Search suppliers...",value:o,onChange:N=>d(N.target.value),className:"pl-10"})]}),a.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(N=>a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Me,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(De,{className:"text-lg",children:N.name}),N.category&&a.jsx(He,{variant:"outline",className:"mt-2",children:N.category})]})})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[N.contactPerson&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(qo,{className:"w-4 h-4 mr-2 text-gray-400"}),N.contactPerson]}),N.phone&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Qg,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone]}),N.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Yg,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]}),N.address&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{className:"line-clamp-2",children:N.address})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>b(N),children:[a.jsx(fs,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>w(N),children:a.jsx(Rn,{className:"w-3 h-3"})})]})]})]},N.id))}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(qo,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No suppliers found":"No suppliers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first supplier to get started"}),!o&&a.jsxs(ue,{onClick:()=>b(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})}),a.jsx(ea,{open:f,onOpenChange:h,children:a.jsxs(ta,{className:"max-w-2xl",children:[a.jsxs(aa,{children:[a.jsx(na,{children:p?"Edit Supplier":"Add New Supplier"}),a.jsx(xa,{children:p?"Update supplier information below":"Enter supplier details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"name",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"name",value:m.name,onChange:N=>x({...m,name:N.target.value}),placeholder:"e.g., Timber Traders Ltd",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"contactPerson",children:"Contact Person"}),a.jsx(ve,{id:"contactPerson",value:m.contactPerson,onChange:N=>x({...m,contactPerson:N.target.value}),placeholder:"e.g., Ram Kumar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"phone",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"phone",type:"tel",value:m.phone,onChange:N=>x({...m,phone:N.target.value}),placeholder:"e.g., 9841111111",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ve,{id:"email",type:"email",value:m.email,onChange:N=>x({...m,email:N.target.value}),placeholder:"e.g., supplier@example.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"category",children:"Category"}),a.jsxs(ot,{value:m.category,onValueChange:N=>x({...m,category:N}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Wood",children:"Wood"}),a.jsx(ye,{value:"Fabric",children:"Fabric"}),a.jsx(ye,{value:"Foam",children:"Foam"}),a.jsx(ye,{value:"Hardware",children:"Hardware"}),a.jsx(ye,{value:"Cushioning",children:"Cushioning"}),a.jsx(ye,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"address",children:"Address"}),a.jsx(Xt,{id:"address",value:m.address,onChange:N=>x({...m,address:N.target.value}),placeholder:"Enter supplier address",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"notes",children:"Notes"}),a.jsx(Xt,{id:"notes",value:m.notes,onChange:N=>x({...m,notes:N.target.value}),placeholder:"Additional notes about this supplier",rows:3})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),a.jsx(ue,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})]})})]})}const MT=[{value:"pieces",label:"Pieces"},{value:"meters",label:"Meters"},{value:"feet",label:"Feet"},{value:"sqft",label:"Square Feet (sqft)"},{value:"sqm",label:"Square Meters (sqm)"},{value:"cuft",label:"Cubic Feet (cuft)"},{value:"cum",label:"Cubic Meters (cum)"},{value:"kg",label:"Kilograms (kg)"},{value:"grams",label:"Grams (g)"},{value:"lbs",label:"Pounds (lbs)"},{value:"liters",label:"Liters (L)"},{value:"gallons",label:"Gallons"},{value:"ml",label:"Milliliters (ml)"},{value:"yards",label:"Yards"},{value:"inches",label:"Inches"},{value:"cm",label:"Centimeters (cm)"},{value:"sheets",label:"Sheets"},{value:"rolls",label:"Rolls"},{value:"bundles",label:"Bundles"},{value:"sets",label:"Sets"},{value:"pairs",label:"Pairs"},{value:"boxes",label:"Boxes"},{value:"cartons",label:"Cartons"},{value:"bags",label:"Bags"},{value:"packets",label:"Packets"},{value:"bottles",label:"Bottles"},{value:"cans",label:"Cans"},{value:"units",label:"Units"}],DT=["General","Wood","Fabric","Foam","Metal","Hardware","Adhesive","Finishing","Leather","Springs","Webbing","Thread","Zipper","Cushion","Packaging","Other"],Po={materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:""};function OT(){var q,me,ae,_e;const{state:s,actions:r}=Et(),{purchases:i=[],suppliers:o=[],rawMaterials:d=[]}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[v,b]=j.useState(null),[S,E]=j.useState(null),[w,N]=j.useState(null),[P,T]=j.useState(null),M=j.useRef(null),[D,A]=j.useState([{...Po}]),[R,z]=j.useState({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),H=d.map(Y=>Y.name),se=i.filter(Y=>Y.supplierName&&Y.supplierName.toLowerCase().includes(f.toLowerCase())||Y.materialName&&Y.materialName.toLowerCase().includes(f.toLowerCase())||Y.items&&Y.items.some(ge=>{var Se;return(Se=ge.materialName)==null?void 0:Se.toLowerCase().includes(f.toLowerCase())})||Y.paymentMethod&&Y.paymentMethod.toLowerCase().includes(f.toLowerCase())),B=Y=>{switch(Y){case"Paid":return"success";case"Partial":return"warning";case"Unpaid":return"destructive";default:return"default"}},F=()=>D.reduce((Y,ge)=>Y+(parseFloat(ge.totalAmount)||0),0),U=(Y=null)=>{var ge,Se,Ce,yt;Y?(b(Y),z({date:Y.date,supplierId:((ge=Y.supplierId)==null?void 0:ge.toString())||"",paymentMethod:Y.paymentMethod||"Cash",paymentStatus:Y.paymentStatus||"Paid",notes:Y.notes||""}),Y.items&&Y.items.length>0?A(Y.items.map(nt=>{var jt,Tt,wt;return{materialName:nt.materialName||"",materialCategory:nt.materialCategory||"General",unit:nt.unit||"pieces",quantity:((jt=nt.quantity)==null?void 0:jt.toString())||"",pricePerUnit:((Tt=nt.pricePerUnit)==null?void 0:Tt.toString())||"",totalAmount:((wt=nt.totalAmount)==null?void 0:wt.toString())||""}})):A([{materialName:Y.materialName||"",materialCategory:Y.materialCategory||"General",unit:Y.unit||"pieces",quantity:((Se=Y.quantity)==null?void 0:Se.toString())||"",pricePerUnit:((Ce=Y.pricePerUnit)==null?void 0:Ce.toString())||"",totalAmount:((yt=Y.totalAmount)==null?void 0:yt.toString())||""}]),Y.invoiceData&&(T(Y.invoiceData),N({name:Y.invoiceFileName||"Invoice",type:Y.invoiceType}))):(b(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Po}]),N(null),T(null)),g(!0)},ne=()=>{g(!1),b(null),N(null),T(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Po}])},$=()=>{A([...D,{...Po}])},xe=Y=>{D.length>1&&A(D.filter((ge,Se)=>Se!==Y))},L=(Y,ge,Se)=>{var yt,nt;const Ce=[...D];if(Ce[Y]={...Ce[Y],[ge]:Se},ge==="materialName"){const jt=d.find(Tt=>Tt.name.toLowerCase()===Se.toLowerCase());jt&&(Ce[Y].unit=jt.unit||"pieces",Ce[Y].materialCategory=jt.category||"General",Ce[Y].pricePerUnit=((yt=jt.unitPrice)==null?void 0:yt.toString())||((nt=jt.pricePerUnit)==null?void 0:nt.toString())||"")}if(ge==="quantity"||ge==="pricePerUnit"){const jt=parseFloat(ge==="quantity"?Se:Ce[Y].quantity),Tt=parseFloat(ge==="pricePerUnit"?Se:Ce[Y].pricePerUnit);!isNaN(jt)&&!isNaN(Tt)&&(Ce[Y].totalAmount=(jt*Tt).toString())}A(Ce)},X=Y=>{const ge=Y.target.files[0];if(!ge)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/webp"].includes(ge.type)){alert("Please upload a PDF or image file (JPEG, PNG, WebP)");return}if(ge.size>5*1024*1024){alert("File size must be less than 5MB");return}N(ge);const Ce=new FileReader;Ce.onloadend=()=>{T(Ce.result)},Ce.readAsDataURL(ge)},V=()=>{N(null),T(null),M.current&&(M.current.value="")},ie=async Y=>{var ge,Se,Ce,yt,nt,jt,Tt;if(Y.preventDefault(),!R.supplierId){alert("Please select a supplier");return}for(let wt=0;wt<D.length;wt++){const Ea=D[wt];if(!Ea.materialName||!Ea.quantity||!Ea.pricePerUnit){alert(`Please fill in all required fields for item ${wt+1}`);return}}try{const wt=o.find(st=>st.id===parseInt(R.supplierId));if(!wt){alert("Invalid supplier selected");return}const Ea=F(),Ot=D.map(st=>({materialName:st.materialName,materialCategory:st.materialCategory,unit:st.unit,quantity:parseFloat(st.quantity),pricePerUnit:parseFloat(st.pricePerUnit),totalAmount:parseFloat(st.totalAmount)})),In={date:R.date,supplierId:parseInt(R.supplierId),supplierName:wt.name,items:Ot,materialName:((ge=Ot[0])==null?void 0:ge.materialName)||"",materialCategory:((Se=Ot[0])==null?void 0:Se.materialCategory)||"General",unit:((Ce=Ot[0])==null?void 0:Ce.unit)||"pieces",quantity:((yt=Ot[0])==null?void 0:yt.quantity)||0,pricePerUnit:((nt=Ot[0])==null?void 0:nt.pricePerUnit)||0,totalAmount:Ea,itemCount:Ot.length,paymentMethod:R.paymentMethod,paymentStatus:R.paymentStatus,notes:R.notes,invoiceData:P||null,invoiceFileName:(w==null?void 0:w.name)||null,invoiceType:(w==null?void 0:w.type)||null,createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};if(v){await r.updateItem("purchases",{...In,id:v.id});for(const st of Ot){const Ha=d.find(Bt=>Bt.name.toLowerCase()===st.materialName.toLowerCase());if(Ha){const Bt=((jt=v.items)==null?void 0:jt.find(un=>{var Ka;return((Ka=un.materialName)==null?void 0:Ka.toLowerCase())===st.materialName.toLowerCase()}))||(((Tt=v.materialName)==null?void 0:Tt.toLowerCase())===st.materialName.toLowerCase()?v:null),Ft=(Bt==null?void 0:Bt.quantity)||0,gs=st.quantity-Ft,Zl={...Ha,quantity:(parseFloat(Ha.quantity)||0)+gs,pricePerUnit:st.pricePerUnit};await r.updateItem("rawMaterials",Zl)}}alert("Purchase updated successfully!")}else{await r.addItem("purchases",In);for(const st of Ot){const Ha=d.find(Bt=>Bt.name.toLowerCase()===st.materialName.toLowerCase()&&parseFloat(Bt.pricePerUnit)===parseFloat(st.pricePerUnit));if(Ha){const Bt={...Ha,quantity:(parseFloat(Ha.quantity)||0)+st.quantity,lastPurchaseDate:R.date,updatedAt:new Date().toISOString()};await r.updateItem("rawMaterials",Bt)}else{const Bt={name:st.materialName,category:st.materialCategory,unit:st.unit,quantity:st.quantity,pricePerUnit:st.pricePerUnit,purchaseDate:R.date,minStock:10,supplierId:parseInt(R.supplierId),supplierName:wt.name,description:`Purchased on ${R.date} @ NPR ${st.pricePerUnit}/${st.unit}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("rawMaterials",Bt)}}alert(`Purchase recorded! ${Ot.length} item(s) added to inventory.`)}ne()}catch(wt){console.error("Error saving purchase:",wt),alert("Failed to save purchase. Please try again.")}},je=async Y=>{if(confirm("Are you sure you want to delete this purchase? This will NOT reverse the inventory changes."))try{await r.deleteItem("purchases",Y.id),alert("Purchase deleted successfully")}catch(ge){console.error("Error deleting purchase:",ge),alert("Failed to delete purchase")}},O=Y=>{E(Y),x(!0)},ee=i.length,de=i.reduce((Y,ge)=>Y+(parseFloat(ge.totalAmount)||0),0),he=i.filter(Y=>Y.paymentStatus==="Unpaid"||Y.paymentStatus==="Partial").reduce((Y,ge)=>Y+(parseFloat(ge.totalAmount)||0),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),a.jsx("p",{className:"text-gray-600",children:"Track purchase orders and manage inventory"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"* Purchases automatically update raw material inventory"})]}),a.jsxs(ue,{onClick:()=>U(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),a.jsx("p",{className:"text-2xl font-bold",children:ee})]}),a.jsx(Ca,{className:"w-8 h-8 text-blue-500"})]})})}),a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),a.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",de.toLocaleString()]})]}),a.jsx(Ua,{className:"w-8 h-8 text-green-500"})]})})}),a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["NPR ",he.toLocaleString()]})]}),a.jsx(ds,{className:"w-8 h-8 text-red-500"})]})})})]}),a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ve,{type:"text",placeholder:"Search purchases...",value:f,onChange:Y=>h(Y.target.value),className:"pl-10"})]}),se.length>0?a.jsx(fe,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Date"}),a.jsx(tt,{children:"Supplier"}),a.jsx(tt,{children:"Items"}),a.jsx(tt,{className:"text-right",children:"Total Amount"}),a.jsx(tt,{children:"Payment"}),a.jsx(tt,{children:"Invoice"}),a.jsx(tt,{className:"text-right",children:"Actions"})]})}),a.jsx(Bs,{children:se.map(Y=>a.jsxs(pa,{children:[a.jsx(at,{children:new Date(Y.date).toLocaleDateString()}),a.jsx(at,{className:"font-medium",children:Y.supplierName}),a.jsx(at,{children:Y.items&&Y.items.length>1?a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[Y.items.length," items"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Y.items.map(ge=>ge.materialName).join(", ").substring(0,30),"..."]})]}):a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:Y.materialName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Y.quantity," ",Y.unit]})]})}),a.jsxs(at,{className:"text-right font-medium",children:["NPR ",(Y.totalAmount||0).toLocaleString()]}),a.jsx(at,{children:a.jsx(He,{variant:B(Y.paymentStatus),children:Y.paymentStatus})}),a.jsx(at,{children:Y.invoiceData?a.jsxs(He,{variant:"outline",className:"text-green-600",children:[a.jsx(qd,{className:"w-3 h-3 mr-1"}),"Attached"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),a.jsx(at,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>O(Y),children:a.jsx(yf,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>U(Y),children:a.jsx(fs,{className:"w-4 h-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>je(Y),className:"text-red-600 hover:text-red-700",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},Y.id))})]})})}):a.jsx(fe,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ca,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No purchases found":"No purchases yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first purchase to get started"}),!f&&a.jsxs(ue,{onClick:()=>U(),children:[a.jsx(At,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]})}),a.jsx(ea,{open:p,onOpenChange:g,children:a.jsxs(ta,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(aa,{children:[a.jsx(na,{children:v?"Edit Purchase":"New Purchase"}),a.jsx(xa,{children:v?"Update purchase details below":"Record a new purchase with multiple items - inventory will be updated automatically"})]}),a.jsxs("form",{onSubmit:ie,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"date",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{id:"date",type:"date",value:R.date,onChange:Y=>z({...R,date:Y.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"supplier",children:["Supplier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(ot,{value:R.supplierId,onValueChange:Y=>z({...R,supplierId:Y}),children:[a.jsx(ut,{children:a.jsx(ct,{placeholder:"Select supplier"})}),a.jsx(dt,{children:o.map(Y=>a.jsx(ye,{value:Y.id.toString(),children:Y.name},Y.id))})]})]})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Q,{className:"text-base font-semibold",children:"Purchase Items"}),a.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:$,children:[a.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),D.map((Y,ge)=>a.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Item ",ge+1]}),D.length>1&&a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>xe(ge),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:a.jsx(Dn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Q,{className:"text-xs",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{type:"text",value:Y.materialName,onChange:Se=>L(ge,"materialName",Se.target.value),placeholder:"Enter material name",list:`material-suggestions-${ge}`,required:!0}),a.jsx("datalist",{id:`material-suggestions-${ge}`,children:H.map((Se,Ce)=>a.jsx("option",{value:Se},Ce))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Q,{className:"text-xs",children:"Category"}),a.jsxs(ot,{value:Y.materialCategory,onValueChange:Se=>L(ge,"materialCategory",Se),children:[a.jsx(ut,{className:"h-9",children:a.jsx(ct,{})}),a.jsx(dt,{children:DT.map(Se=>a.jsx(ye,{value:Se,children:Se},Se))})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Q,{className:"text-xs",children:"Unit"}),a.jsxs(ot,{value:Y.unit,onValueChange:Se=>L(ge,"unit",Se),children:[a.jsx(ut,{className:"h-9",children:a.jsx(ct,{})}),a.jsx(dt,{children:MT.map(Se=>a.jsx(ye,{value:Se.value,children:Se.label},Se.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Q,{className:"text-xs",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{type:"number",step:"0.01",min:"0",value:Y.quantity,onChange:Se=>L(ge,"quantity",Se.target.value),placeholder:"Qty",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Q,{className:"text-xs",children:["Price/Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ve,{type:"number",step:"0.01",min:"0",value:Y.pricePerUnit,onChange:Se=>L(ge,"pricePerUnit",Se.target.value),placeholder:"Price",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Q,{className:"text-xs",children:"Total"}),a.jsx(ve,{type:"number",value:Y.totalAmount,readOnly:!0,className:"h-9 bg-gray-100"})]})]})]},ge)),a.jsxs("div",{className:"flex justify-end items-center pt-2 border-t",children:[a.jsx("span",{className:"text-sm font-medium mr-4",children:"Grand Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["NPR ",F().toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(ot,{value:R.paymentMethod,onValueChange:Y=>z({...R,paymentMethod:Y}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Cash",children:"Cash"}),a.jsx(ye,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(ye,{value:"Card",children:"Card"}),a.jsx(ye,{value:"Mobile Payment",children:"Mobile Payment"}),a.jsx(ye,{value:"Credit",children:"Credit"}),a.jsx(ye,{value:"Cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"paymentStatus",children:"Payment Status"}),a.jsxs(ot,{value:R.paymentStatus,onValueChange:Y=>z({...R,paymentStatus:Y}),children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"Paid",children:"Paid"}),a.jsx(ye,{value:"Partial",children:"Partial"}),a.jsx(ye,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Invoice / Bill (PDF or Image)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[P?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[(q=w==null?void 0:w.type)!=null&&q.includes("pdf")?a.jsx(qd,{className:"w-8 h-8 text-red-500"}):a.jsx(WN,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(w==null?void 0:w.name)||"Invoice"}),a.jsx("p",{className:"text-xs text-gray-500",children:(me=w==null?void 0:w.type)!=null&&me.includes("pdf")?"PDF Document":"Image"})]})]}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:V,className:"text-red-600",children:a.jsx(Dn,{className:"w-4 h-4"})})]}),P&&!((ae=w==null?void 0:w.type)!=null&&ae.includes("pdf"))&&a.jsx("img",{src:P,alt:"Invoice preview",className:"max-h-40 rounded border"})]}):a.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>{var Y;return(Y=M.current)==null?void 0:Y.click()},children:[a.jsx(SS,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload invoice"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPEG, PNG (max 5MB)"})]}),a.jsx("input",{ref:M,type:"file",accept:".pdf,image/jpeg,image/png,image/jpg,image/webp",onChange:X,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"notes",children:"Notes"}),a.jsx(Xt,{id:"notes",value:R.notes,onChange:Y=>z({...R,notes:Y.target.value}),placeholder:"Additional notes about this purchase",rows:2})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:ne,children:"Cancel"}),a.jsx(ue,{type:"submit",children:v?"Update Purchase":"Record Purchase"})]})]})]})}),a.jsx(ea,{open:m,onOpenChange:x,children:a.jsxs(ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(aa,{children:a.jsx(na,{children:"Purchase Details"})}),S&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:new Date(S.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Supplier"}),a.jsx("p",{className:"font-medium",children:S.supplierName})]})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx(Q,{className:"text-gray-500 mb-2 block",children:"Items"}),S.items&&S.items.length>0?a.jsx("div",{className:"space-y-2",children:S.items.map((Y,ge)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Y.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Y.quantity," ",Y.unit,"  NPR ",Y.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(Y.totalAmount||0).toLocaleString()]})]},ge))}):a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[S.quantity," ",S.unit,"  NPR ",S.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(S.totalAmount||0).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("span",{className:"font-medium",children:"Total Amount"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["NPR ",(S.totalAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Payment Method"}),a.jsx("p",{className:"font-medium",children:S.paymentMethod})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Payment Status"}),a.jsx(He,{variant:B(S.paymentStatus),children:S.paymentStatus})]})]}),S.notes&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Notes"}),a.jsx("p",{className:"text-gray-700",children:S.notes})]}),S.invoiceData&&a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-500",children:"Invoice"}),a.jsx("div",{className:"mt-2 border rounded-lg p-3",children:(_e=S.invoiceType)!=null&&_e.includes("pdf")?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qd,{className:"w-8 h-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.invoiceFileName||"Invoice.pdf"}),a.jsx("a",{href:S.invoiceData,download:S.invoiceFileName||"invoice.pdf",className:"text-sm text-blue-600 hover:underline",children:"Download PDF"})]})]}):a.jsx("img",{src:S.invoiceData,alt:"Invoice",className:"max-h-64 rounded cursor-pointer",onClick:()=>window.open(S.invoiceData,"_blank")})})]})]}),a.jsxs(ra,{children:[a.jsx(ue,{variant:"outline",onClick:()=>x(!1),children:"Close"}),a.jsxs(ue,{onClick:()=>{x(!1),U(S)},children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})]})}function RT(){const{state:s,actions:r}=Et(),[i,o]=j.useState("month"),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState([]);j.useEffect(()=>{b()},[r]);const b=async()=>{try{console.log("Financials: Loading data...");const $=await(r.getAllSales?r.getAllSales():pe.getAll("sales")).catch(V=>(console.warn("Failed to load sales:",V),[])),xe=await pe.getAll("purchases").catch(V=>(console.warn("Failed to load purchases:",V),[])),L=await pe.getAll("labourPayments").catch(V=>(console.warn("Failed to load labour payments (table may not exist yet):",V.message),[])),X=await pe.getAll("cleaningServices").catch(V=>(console.warn("Failed to load cleaning services:",V),[]));console.log("Financials: Loaded sales:",($==null?void 0:$.length)||0),console.log("Financials: Loaded purchases:",(xe==null?void 0:xe.length)||0),console.log("Financials: Loaded labour:",(L==null?void 0:L.length)||0),console.log("Financials: Loaded cleaning:",(X==null?void 0:X.length)||0),f($||[]),p(xe||[]),m(L||[]),v(X||[])}catch($){console.error("Error loading financial data:",$)}},S=($,xe="date")=>{const L=new Date,X=new Date;switch(i){case"week":X.setDate(L.getDate()-L.getDay()),X.setHours(0,0,0,0);break;case"month":X.setDate(1),X.setHours(0,0,0,0);break;case"quarter":const V=L.getMonth(),ie=Math.floor(V/3)*3;X.setMonth(ie),X.setDate(1),X.setHours(0,0,0,0);break;case"year":X.setMonth(0),X.setDate(1),X.setHours(0,0,0,0);break;default:X.setDate(1),X.setHours(0,0,0,0)}return $.filter(V=>{if(!V[xe])return!1;const ie=new Date(V[xe]);return isNaN(ie.getTime())?!1:ie>=X&&ie<=L})},E=S(d.filter($=>$.approvalStatus==="approved")),w=S(x.filter($=>$.status==="completed")),N=E.reduce(($,xe)=>$+(xe.totalAmount||0),0),P=w.reduce(($,xe)=>$+(xe.price||0),0),T=N+P,M=S(h),D=S(g),A=M.reduce(($,xe)=>$+(xe.totalAmount||0),0),R=D.reduce(($,xe)=>$+(xe.amount||0),0),z=A+R,H=T-z,se=T>0?(H/T*100).toFixed(1):0,B=[{category:"Raw Materials",amount:A,percentage:z>0?(A/z*100).toFixed(1):0,color:"bg-blue-600"},{category:"Labour Costs",amount:R,percentage:z>0?(R/z*100).toFixed(1):0,color:"bg-green-600"}],F=[{category:"Sales",amount:N,percentage:T>0?(N/T*100).toFixed(1):0,color:"bg-purple-600"},{category:"Cleaning Services",amount:P,percentage:T>0?(P/T*100).toFixed(1):0,color:"bg-orange-600"}],U=[...E.map($=>({id:`sale-${$.id}`,date:$.date,type:"income",description:`Sale to ${$.customerName} - ${$.productName}`,amount:$.totalAmount})),...w.map($=>({id:`cleaning-${$.id}`,date:$.date,type:"income",description:`Cleaning Service - ${$.customerName}`,amount:$.price})),...M.map($=>({id:`purchase-${$.id}`,date:$.date,type:"expense",description:`Purchase - ${$.materialName} from ${$.supplierName}`,amount:$.totalAmount})),...D.map($=>({id:`labour-${$.id}`,date:$.date,type:"expense",description:`Labour Payment - ${$.labourerName}`,amount:$.amount}))].sort(($,xe)=>new Date(xe.date)-new Date($.date)).slice(0,10),ne=()=>{switch(i){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track revenue, expenses, and profitability"})]}),a.jsxs(ot,{value:i,onValueChange:o,children:[a.jsx(ut,{className:"w-[180px]",children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"week",children:"This Week"}),a.jsx(ye,{value:"month",children:"This Month"}),a.jsx(ye,{value:"quarter",children:"This Quarter"}),a.jsx(ye,{value:"year",children:"This Year"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs(fe,{children:[a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Total Revenue"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Io,{className:"w-5 h-5 text-green-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(De,{className:"text-2xl",children:["NPR ",T.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ne()})]})]}),a.jsxs(fe,{children:[a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Total Expenses"}),a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Jx,{className:"w-5 h-5 text-red-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(De,{className:"text-2xl",children:["NPR ",z.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ne()})]})]}),a.jsxs(fe,{children:[a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Net Profit"}),a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${H>=0?"bg-blue-100":"bg-red-100"}`,children:a.jsx(Ua,{className:`w-5 h-5 ${H>=0?"text-blue-600":"text-red-600"}`})})]})}),a.jsxs(Ne,{children:[a.jsxs(De,{className:`text-2xl ${H>=0?"text-blue-600":"text-red-600"}`,children:["NPR ",H.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ne()})]})]}),a.jsxs(fe,{children:[a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Profit Margin"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(MN,{className:"w-5 h-5 text-purple-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(De,{className:"text-2xl",children:[se,"%"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ne()})]})]})]}),a.jsxs(oi,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(ci,{children:[a.jsx(Wt,{value:"overview",children:"Overview"}),a.jsx(Wt,{value:"revenue",children:"Revenue"}),a.jsx(Wt,{value:"expenses",children:"Expenses"}),a.jsx(Wt,{value:"transactions",children:"Transactions"})]}),a.jsx(Jt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Revenue Breakdown"}),a.jsx(qe,{children:ne()})]}),a.jsx(Ne,{className:"space-y-4",children:F.map(($,xe)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:$.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",$.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${$.color} h-2 rounded-full`,style:{width:`${$.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[$.percentage,"% of total revenue"]})]},xe))})]}),a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Expense Breakdown"}),a.jsx(qe,{children:ne()})]}),a.jsx(Ne,{className:"space-y-4",children:B.map(($,xe)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:$.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",$.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${$.color} h-2 rounded-full`,style:{width:`${$.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[$.percentage,"% of total expenses"]})]},xe))})]})]})}),a.jsx(Jt,{value:"revenue",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Sales Revenue"}),a.jsxs(qe,{children:[E.length," approved sales"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",N.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[T>0?(N/T*100).toFixed(1):0,"% of total revenue"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Cleaning Services Revenue"}),a.jsxs(qe,{children:[w.length," completed services"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["NPR ",P.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[T>0?(P/T*100).toFixed(1):0,"% of total revenue"]})]})]})]})}),a.jsx(Jt,{value:"expenses",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Raw Material Purchases"}),a.jsxs(qe,{children:[M.length," purchases"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["NPR ",A.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(A/z*100).toFixed(1):0,"% of total expenses"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Labour Payments"}),a.jsxs(qe,{children:[D.length," payments"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",R.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(R/z*100).toFixed(1):0,"% of total expenses"]})]})]})]})}),a.jsx(Jt,{value:"transactions",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Recent Transactions"}),a.jsxs(qe,{children:["Last 10 transactions from ",ne().toLowerCase()]})]}),a.jsx(Ne,{children:U.length>0?a.jsx("div",{className:"space-y-3",children:U.map($=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${$.type==="income"?"bg-green-100":"bg-red-100"}`,children:$.type==="income"?a.jsx(Io,{className:"w-5 h-5 text-green-600"}):a.jsx(Jx,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:$.description}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date($.date).toLocaleDateString()})]})]}),a.jsxs("p",{className:`text-sm font-semibold ${$.type==="income"?"text-green-600":"text-red-600"}`,children:[$.type==="income"?"+":"-","NPR ",$.amount.toLocaleString()]})]},$.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ds,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No transactions in this period"})]})})]})})]})]})}function _T(){const{state:s}=Et(),[r,i]=j.useState("month"),[o,d]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(!1),m=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis and trends",icon:a.jsx(Io,{className:"w-6 h-6"}),color:"bg-blue-500"},{id:"inventory",name:"Inventory Report",description:"Stock levels and inventory valuation",icon:a.jsx(Ca,{className:"w-6 h-6"}),color:"bg-green-500"},{id:"financial",name:"Financial Report",description:"Profit & loss, revenue, and expenses",icon:a.jsx(Ua,{className:"w-6 h-6"}),color:"bg-purple-500"},{id:"labour",name:"Labour Report",description:"Attendance, payments, and productivity",icon:a.jsx(Zr,{className:"w-6 h-6"}),color:"bg-yellow-500"},{id:"orders",name:"Orders Report",description:"Order status, completion rates",icon:a.jsx(IN,{className:"w-6 h-6"}),color:"bg-red-500"},{id:"customers",name:"Customer Report",description:"Customer insights and purchase history",icon:a.jsx(Zr,{className:"w-6 h-6"}),color:"bg-indigo-500"}],x=(D,A="date")=>{const R=new Date,z=new Date;switch(r){case"week":z.setDate(R.getDate()-7);break;case"month":z.setMonth(R.getMonth()-1);break;case"quarter":z.setMonth(R.getMonth()-3);break;case"year":z.setFullYear(R.getFullYear()-1);break;default:z.setMonth(R.getMonth()-1)}return D.filter(H=>{const se=new Date(H[A]);return se>=z&&se<=R})},v=async D=>{g(!0),d(D);try{let A={};switch(D){case"sales":A=await b();break;case"inventory":A=await S();break;case"financial":A=await E();break;case"labour":A=await w();break;case"orders":A=await N();break;case"customers":A=await P();break;default:A={}}h(A)}catch(A){console.error("Error generating report:",A),alert("Failed to generate report")}finally{g(!1)}},b=async()=>{const D=await pe.getAll("sales"),A=x(D.filter(F=>F.approvalStatus==="approved")),R=A.length,z=A.reduce((F,U)=>F+(U.totalAmount||0),0),H=R>0?z/R:0,se={};A.forEach(F=>{const U=F.productName;se[U]||(se[U]={name:U,quantity:0,revenue:0}),se[U].quantity+=F.quantity||0,se[U].revenue+=F.totalAmount||0});const B=Object.values(se).sort((F,U)=>U.revenue-F.revenue).slice(0,5);return{totalSales:R,totalRevenue:z,averageSale:H,topProducts:B,salesList:A}},S=async()=>{const D=await pe.getAll("rawMaterials"),A=await pe.getAll("sofaModels"),R=D.reduce((B,F)=>B+(F.quantity*F.pricePerUnit||0),0),z=A.reduce((B,F)=>B+(F.stockQuantity||0)*(F.sellingPrice||0),0),H=D.filter(B=>B.quantity<(B.minimumStock||10)),se=A.filter(B=>(B.stockQuantity||0)===0);return{rawMaterials:D,finishedProducts:A,totalRawMaterialValue:R,totalFinishedValue:z,lowStockMaterials:H,lowStockProducts:se}},E=async()=>{const D=await pe.getAll("sales"),A=await pe.getAll("purchases"),R=await pe.getAll("labourPayments"),z=await pe.getAll("cleaningServices"),H=x(D.filter(je=>je.approvalStatus==="approved")),se=x(A),B=x(R),F=x(z.filter(je=>je.status==="completed")),U=H.reduce((je,O)=>je+(O.totalAmount||0),0),ne=F.reduce((je,O)=>je+(O.price||0),0),$=U+ne,xe=se.reduce((je,O)=>je+(O.totalAmount||0),0),L=B.reduce((je,O)=>je+(O.amount||0),0),X=xe+L,V=$-X,ie=$>0?(V/$*100).toFixed(1):0;return{totalRevenue:$,salesRevenue:U,cleaningRevenue:ne,totalExpenses:X,purchaseExpenses:xe,labourExpenses:L,netProfit:V,profitMargin:ie}},w=async()=>{const D=await pe.getAll("labourers"),A=await pe.getAll("attendance"),R=await pe.getAll("labourPayments"),z=x(A),H=x(R),se=H.reduce((U,ne)=>U+(ne.amount||0),0),B=D.filter(U=>U.status==="active").length,F=D.map(U=>{const ne=z.filter(X=>X.labourerId===U.id),$=H.filter(X=>X.labourerId===U.id),xe=ne.filter(X=>X.status==="present").length,L=$.reduce((X,V)=>X+(V.amount||0),0);return{name:U.name,specialization:U.specialization,presentDays:xe,totalPaid:L}});return{activeLabourers:B,totalPayments:se,labourerStats:F,attendanceRecords:z}},N=async()=>{const D=await pe.getAll("orders"),A=x(D),R=A.length,z=A.filter(B=>B.status==="completed").length,H=A.filter(B=>B.status==="pending").length,se=R>0?(z/R*100).toFixed(1):0;return{totalOrders:R,completedOrders:z,pendingOrders:H,completionRate:se,ordersList:A}},P=async()=>{const D=await pe.getAll("customers"),A=await pe.getAll("sales"),R=x(A.filter(se=>se.approvalStatus==="approved")),z=D.map(se=>{const B=R.filter(ne=>ne.customerId===se.id),F=B.length,U=B.reduce((ne,$)=>ne+($.totalAmount||0),0);return{name:se.name,phone:se.phone,totalPurchases:F,totalSpent:U}}).sort((se,B)=>B.totalSpent-se.totalSpent),H=z.slice(0,10);return{totalCustomers:D.length,activeCustomers:z.filter(se=>se.totalPurchases>0).length,topCustomers:H,customerStats:z}},T=()=>{switch(r){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}},M=()=>{if(!f||!o)return;const D=m.find(se=>se.id===o),A=JSON.stringify(f,null,2),R=new Blob([A],{type:"application/json"}),z=URL.createObjectURL(R),H=document.createElement("a");H.href=z,H.download=`${D.name.replace(" ","_")}_${r}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and view business reports"})]}),a.jsxs(ot,{value:r,onValueChange:i,children:[a.jsx(ut,{className:"w-[180px]",children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"week",children:"This Week"}),a.jsx(ye,{value:"month",children:"This Month"}),a.jsx(ye,{value:"quarter",children:"This Quarter"}),a.jsx(ye,{value:"year",children:"This Year"})]})]})]}),!o&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(D=>a.jsx(fe,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(D.id),children:a.jsxs(Me,{children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsx("div",{className:`${D.color} text-white p-3 rounded-lg`,children:D.icon})}),a.jsx(De,{className:"mt-4",children:D.name}),a.jsx(qe,{children:D.description})]})},D.id))}),o&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ue,{variant:"outline",onClick:()=>{d(null),h(null)},children:" Back to Reports"}),a.jsxs(ue,{onClick:M,children:[a.jsx(FN,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),o==="sales"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Sales"}),a.jsx(De,{className:"text-2xl",children:f.totalSales})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Revenue"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Average Sale"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",f.averageSale.toLocaleString()]})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Top Products"})}),a.jsx(Ne,{children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Product"}),a.jsx(tt,{children:"Quantity Sold"}),a.jsx(tt,{children:"Revenue"})]})}),a.jsx(Bs,{children:f.topProducts.map((D,A)=>a.jsxs(pa,{children:[a.jsx(at,{children:D.name}),a.jsx(at,{children:D.quantity}),a.jsxs(at,{children:["NPR ",D.revenue.toLocaleString()]})]},A))})]})})]})]}),o==="inventory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Raw Materials Value"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",f.totalRawMaterialValue.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Finished Products Value"}),a.jsxs(De,{className:"text-2xl",children:["NPR ",f.totalFinishedValue.toLocaleString()]})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Low Stock Alerts"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"font-medium",children:["Raw Materials (",f.lowStockMaterials.length,")"]}),f.lowStockMaterials.map((D,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[D.name,": ",D.quantity," ",D.unit]},A)),a.jsxs("p",{className:"font-medium mt-4",children:["Finished Products (",f.lowStockProducts.length,")"]}),f.lowStockProducts.map((D,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[D.name,": Out of stock"]},A))]})})]})]}),o==="financial"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Revenue"}),a.jsxs(De,{className:"text-2xl text-green-600",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Expenses"}),a.jsxs(De,{className:"text-2xl text-red-600",children:["NPR ",f.totalExpenses.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Net Profit"}),a.jsxs(De,{className:"text-2xl text-blue-600",children:["NPR ",f.netProfit.toLocaleString()]})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Profit Margin"}),a.jsxs(De,{className:"text-2xl",children:[f.profitMargin,"%"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Revenue Breakdown"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sales"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.salesRevenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cleaning Services"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.cleaningRevenue.toLocaleString()]})]})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Expense Breakdown"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.purchaseExpenses.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Labour"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.labourExpenses.toLocaleString()]})]})]})})]})]})]}),o==="labour"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Active Labourers"}),a.jsx(De,{className:"text-2xl",children:f.activeLabourers})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsxs(qe,{children:["Total Payments (",T(),")"]}),a.jsxs(De,{className:"text-2xl",children:["NPR ",f.totalPayments.toLocaleString()]})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Labourer Statistics"})}),a.jsx(Ne,{children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Name"}),a.jsx(tt,{children:"Specialization"}),a.jsx(tt,{children:"Present Days"}),a.jsx(tt,{children:"Total Paid"})]})}),a.jsx(Bs,{children:f.labourerStats.map((D,A)=>a.jsxs(pa,{children:[a.jsx(at,{children:D.name}),a.jsx(at,{children:D.specialization}),a.jsx(at,{children:D.presentDays}),a.jsxs(at,{children:["NPR ",D.totalPaid.toLocaleString()]})]},A))})]})})]})]}),o==="orders"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Orders"}),a.jsx(De,{className:"text-2xl",children:f.totalOrders})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Completed"}),a.jsx(De,{className:"text-2xl text-green-600",children:f.completedOrders})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Pending"}),a.jsx(De,{className:"text-2xl text-orange-600",children:f.pendingOrders})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Completion Rate"}),a.jsxs(De,{className:"text-2xl",children:[f.completionRate,"%"]})]})})]})}),o==="customers"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsx(qe,{children:"Total Customers"}),a.jsx(De,{className:"text-2xl",children:f.totalCustomers})]})}),a.jsx(fe,{children:a.jsxs(Me,{className:"pb-3",children:[a.jsxs(qe,{children:["Active Customers (",T(),")"]}),a.jsx(De,{className:"text-2xl",children:f.activeCustomers})]})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsx(De,{children:"Top Customers"})}),a.jsx(Ne,{children:a.jsxs(qs,{children:[a.jsx(Hs,{children:a.jsxs(pa,{children:[a.jsx(tt,{children:"Name"}),a.jsx(tt,{children:"Phone"}),a.jsx(tt,{children:"Purchases"}),a.jsx(tt,{children:"Total Spent"})]})}),a.jsx(Bs,{children:f.topCustomers.map((D,A)=>a.jsxs(pa,{children:[a.jsx(at,{children:D.name}),a.jsx(at,{children:D.phone}),a.jsx(at,{children:D.totalPurchases}),a.jsxs(at,{children:["NPR ",D.totalSpent.toLocaleString()]})]},A))})]})})]})]})]}),p&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Generating report..."})]})})]})}var yc="Switch",[PT]=Ln(yc),[kT,LT]=PT(yc),L0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:f,required:h,disabled:p,value:g="on",onCheckedChange:m,form:x,...v}=s,[b,S]=j.useState(null),E=ht(r,M=>S(M)),w=j.useRef(!1),N=b?x||!!b.closest("form"):!0,[P,T]=Vs({prop:d,defaultProp:f??!1,onChange:m,caller:yc});return a.jsxs(kT,{scope:i,checked:P,disabled:p,children:[a.jsx(Ge.button,{type:"button",role:"switch","aria-checked":P,"aria-required":h,"data-state":q0(P),"data-disabled":p?"":void 0,disabled:p,value:g,...v,ref:E,onClick:Re(s.onClick,M=>{T(D=>!D),N&&(w.current=M.isPropagationStopped(),w.current||M.stopPropagation())})}),N&&a.jsx(U0,{control:b,bubbles:!w.current,name:o,value:g,checked:P,required:h,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});L0.displayName=yc;var z0="SwitchThumb",I0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,d=LT(z0,i);return a.jsx(Ge.span,{"data-state":q0(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});I0.displayName=z0;var zT="SwitchBubbleInput",U0=j.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...d},f)=>{const h=j.useRef(null),p=ht(h,f),g=Fy(i),m=My(r);return j.useEffect(()=>{const x=h.current;if(!x)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set;if(g!==i&&S){const E=new Event("click",{bubbles:o});S.call(x,i),x.dispatchEvent(E)}},[g,i,o]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:p,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U0.displayName=zT;function q0(s){return s?"checked":"unchecked"}var IT=L0,UT=I0;function Ig({className:s,...r}){return a.jsx(IT,{"data-slot":"switch",className:$e("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:a.jsx(UT,{"data-slot":"switch-thumb",className:$e("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function qT(){const{state:s,actions:r}=Et(),[i,o]=j.useState(null),[d,f]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await r.getItems("notificationSettings");if(b&&b.length>0)o(b[0]);else{const S=zg();await r.addItem("notificationSettings",S),o(S)}}catch(b){console.error("Error loading notification settings:",b),o(zg())}},p=async()=>{try{if(f(!0),i.adminPhoneNumber&&!pT(i.adminPhoneNumber)){alert("Please enter a valid 10-digit phone number"),f(!1);return}await r.updateItem("notificationSettings",i),alert("Settings saved successfully!")}catch(b){console.error("Error saving settings:",b),alert("Failed to save settings. Please try again.")}finally{f(!1)}},g=b=>{o({...i,notificationTypes:{...i.notificationTypes,[b]:!i.notificationTypes[b]}})},m=(b,S)=>{o({...i,messageTemplates:{...i.messageTemplates,[b]:{...i.messageTemplates[b],template:S}}})},x=b=>{window.confirm("Reset this template to default?")&&o({...i,messageTemplates:{...i.messageTemplates,[b]:Xr[b]}})};if(!i)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading settings..."})});const v={orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order Created",lowStockAlert:"Low Stock Alert"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Fl,{className:"w-8 h-8 text-blue-600"}),"WhatsApp Notifications"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure automated WhatsApp notifications for customers and suppliers"})]}),a.jsxs(ue,{onClick:p,disabled:d,children:[a.jsx(uS,{className:"w-4 h-4 mr-2"}),d?"Saving...":"Save Settings"]})]}),a.jsxs(oi,{defaultValue:"general",className:"w-full",children:[a.jsxs(ci,{className:"grid w-full grid-cols-3",children:[a.jsx(Wt,{value:"general",children:"General"}),a.jsx(Wt,{value:"types",children:"Notification Types"}),a.jsx(Wt,{value:"templates",children:"Message Templates"})]}),a.jsx(Jt,{value:"general",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"General Settings"}),a.jsx(qe,{children:"Configure basic WhatsApp notification settings"})]}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Q,{className:"text-base font-semibold",children:"Enable WhatsApp Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Turn on/off all WhatsApp notifications"})]}),a.jsx(Ig,{checked:i.whatsappEnabled,onCheckedChange:b=>o({...i,whatsappEnabled:b})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Company Name"}),a.jsx(ve,{value:i.companyName,onChange:b=>o({...i,companyName:b.target.value}),placeholder:"Your Company Name"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will appear in notification messages"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Default Country Code"}),a.jsx(ve,{value:i.defaultCountryCode,onChange:b=>o({...i,defaultCountryCode:b.target.value}),placeholder:"977"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Country code for phone numbers (Nepal: 977)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Admin Phone Number"}),a.jsx(ve,{value:i.adminPhoneNumber,onChange:b=>o({...i,adminPhoneNumber:b.target.value}),placeholder:"9800000000"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Phone number for receiving admin notifications (10 digits, without country code)"})]}),a.jsx(fe,{className:"bg-blue-50 border-blue-200",children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx($g,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How it works"}),a.jsx("p",{className:"text-sm text-blue-800",children:"When an event occurs (like a new order), the system generates a WhatsApp message and adds it to the notification queue. You can then send it with one click, which opens WhatsApp Web/App with the pre-filled message ready to send."})]})]})})})]})]})}),a.jsx(Jt,{value:"types",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"Notification Types"}),a.jsx(qe,{children:"Enable or disable specific notification types"})]}),a.jsx(Ne,{className:"space-y-3",children:Object.keys(v).map(b=>{var S;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Q,{className:"font-medium",children:v[b]}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:((S=Xr[b])==null?void 0:S.title)||""})]}),a.jsx(Ig,{checked:i.notificationTypes[b],onCheckedChange:()=>g(b)})]},b)})})]})}),a.jsx(Jt,{value:"templates",className:"space-y-4",children:Object.keys(Xr).map(b=>{var S;return a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(De,{children:v[b]}),a.jsxs(qe,{children:["Customize the message template. Use ","{variable}"," for dynamic content."]})]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>x(b),children:"Reset to Default"})]})}),a.jsxs(Ne,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Message Template"}),a.jsx(Xt,{value:((S=i.messageTemplates[b])==null?void 0:S.template)||"",onChange:E=>m(b,E.target.value),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(Q,{className:"text-sm font-semibold mb-2 block",children:"Available Variables:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Xr[b].variables.map(E=>a.jsx("code",{className:"px-2 py-1 bg-white border rounded text-xs",children:"{"+E+"}"},E))})]})]})]},b)})})]})]})}function HT(){const{state:s,actions:r}=Et(),[i,o]=j.useState([]),[d,f]=j.useState("all"),[h,p]=j.useState("all");j.useEffect(()=>{g()},[]);const g=async()=>{try{const M=(await r.getItems("notificationQueue")||[]).sort((D,A)=>new Date(A.createdAt)-new Date(D.createdAt));o(M)}catch(T){console.error("Error loading notifications:",T),o([])}},m=async T=>{try{vT(T.recipient.phone,T.message),await r.updateItem("notificationQueue",{...T,status:"sent",sentAt:new Date().toISOString()}),await g()}catch(M){console.error("Error sending notification:",M),alert("Failed to send notification. Please try again.")}},x=async T=>{if(window.confirm("Delete this notification?"))try{await r.deleteItem("notificationQueue",T.id),await g()}catch(M){console.error("Error deleting notification:",M),alert("Failed to delete notification. Please try again.")}},v=async()=>{if(window.confirm("Clear all sent notifications?"))try{const T=i.filter(M=>M.status==="sent");for(const M of T)await r.deleteItem("notificationQueue",M.id);await g()}catch(T){console.error("Error clearing sent notifications:",T),alert("Failed to clear notifications. Please try again.")}},b=i.filter(T=>!(d!=="all"&&T.status!==d||h!=="all"&&T.type!==h)),S=i.filter(T=>T.status==="pending").length,E=i.filter(T=>T.status==="sent").length,w=T=>{const M={pending:{variant:"secondary",icon:Jd,label:"Pending"},sent:{variant:"success",icon:Us,label:"Sent"},failed:{variant:"destructive",icon:Gg,label:"Failed"}},D=M[T]||M.pending,A=D.icon;return a.jsxs(He,{variant:D.variant,className:"flex items-center gap-1",children:[a.jsx(A,{className:"w-3 h-3"}),D.label]})},N=T=>({orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order",lowStockAlert:"Low Stock Alert"})[T]||T,P=T=>new Date(T).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Fl,{className:"w-8 h-8 text-blue-600"}),"Notification Queue"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and send WhatsApp notifications"})]}),E>0&&a.jsxs(ue,{variant:"outline",onClick:v,children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Clear Sent (",E,")"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(Fl,{className:"w-8 h-8 text-gray-400"})]})})}),a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S})]}),a.jsx(Jd,{className:"w-8 h-8 text-orange-400"})]})})}),a.jsx(fe,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),a.jsx(Us,{className:"w-8 h-8 text-green-400"})]})})})]}),a.jsxs(fe,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2",children:[a.jsx(QN,{className:"w-5 h-5"}),"Filters"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(ot,{value:d,onValueChange:f,children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"all",children:"All Status"}),a.jsx(ye,{value:"pending",children:"Pending"}),a.jsx(ye,{value:"sent",children:"Sent"}),a.jsx(ye,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(ot,{value:h,onValueChange:p,children:[a.jsx(ut,{children:a.jsx(ct,{})}),a.jsxs(dt,{children:[a.jsx(ye,{value:"all",children:"All Types"}),a.jsx(ye,{value:"orderConfirmation",children:"Order Confirmation"}),a.jsx(ye,{value:"productionStarted",children:"Production Started"}),a.jsx(ye,{value:"productionCompleted",children:"Production Completed"}),a.jsx(ye,{value:"paymentReminder",children:"Payment Reminder"}),a.jsx(ye,{value:"deliveryScheduled",children:"Delivery Scheduled"}),a.jsx(ye,{value:"orderDelivered",children:"Order Delivered"}),a.jsx(ye,{value:"lowStockAlert",children:"Low Stock Alert"})]})]})]})]})})]}),a.jsx("div",{className:"space-y-4",children:b.length===0?a.jsx(fe,{children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx($g,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No notifications found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications will appear here when events occur"})]})}):b.map(T=>a.jsx(fe,{className:"hover:shadow-md transition-shadow",children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(He,{variant:"outline",children:N(T.type)}),w(T.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg",children:T.recipient.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",T.recipient.phone]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap font-mono",children:T.message.length>200?T.message.substring(0,200)+"...":T.message})}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created: ",P(T.createdAt)]}),T.sentAt&&a.jsxs("span",{children:["Sent: ",P(T.sentAt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[T.status==="pending"&&a.jsxs(ue,{onClick:()=>m(T),className:"whitespace-nowrap",children:[a.jsx(mS,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),a.jsxs(ue,{variant:"outline",onClick:()=>x(T),children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})},T.id))})]})}function BT(){const{state:s,auth:r,actions:i}=Et(),{isAuthenticated:o,isLoading:d,currentView:f,company:h,user:p}=s,[g,m]=Ya.useState(null);if(Ya.useEffect(()=>{r&&(async()=>{try{const v=await r.isFirstTimeSetup();m(v)}catch(v){console.error("Error checking first time setup:",v),m(!1)}})()},[r]),d||g===null)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(g)return a.jsx(kg,{});if(!o)return a.jsx(_E,{});if(!h)return a.jsx(kg,{});switch(f){case"dashboard":return a.jsx(Lg,{});case"inventory":return a.jsx(AT,{});case"raw-materials":return a.jsx(ET,{});case"finished-products":return a.jsx(dT,{});case"suppliers":return a.jsx(TT,{});case"customers":return a.jsx(uT,{});case"labour":return a.jsx(CT,{});case"sales":return a.jsx(ST,{});case"purchases":return a.jsx(OT,{});case"financials":return a.jsx(RT,{});case"cleaning":return a.jsx(wT,{});case"orders":return a.jsx(mT,{});case"reports":return a.jsx(_T,{});case"settings":return a.jsx(VE,{});case"notification-settings":return a.jsx(qT,{});case"notification-queue":return a.jsx(HT,{});default:return a.jsx(Lg,{})}}async function FT(){try{if((await pe.getAll("users")).some(f=>f.role==="admin"))return!1;const i={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()},o={id:"default-company",name:"Sofa Factory",address:"Kathmandu, Nepal",phone:"9851234567",email:"info@sofafactory.com",labourManagerName:"Manager",labourManagerPhone:"9841234567",createdAt:new Date().toISOString()},d={id:"default-location",name:"Main Factory",address:"Kathmandu",createdAt:new Date().toISOString()};return await pe.add("users",i),await pe.update("company","company-profile",o),await pe.add("locations",d),console.log("Default admin account created successfully"),!0}catch(s){return console.error("Failed to create default admin:",s),!1}}function VT(){return Ya.useEffect(()=>{FT().catch(console.error)},[]),a.jsx(mN,{children:a.jsx(RE,{children:a.jsx(BT,{})})})}cN.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(VT,{})}));
