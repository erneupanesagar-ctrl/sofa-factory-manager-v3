function eN(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Og(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ad={exports:{}},kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function tN(){if(Ox)return kr;Ox=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:h,ref:d!==void 0?d:null,props:f}}return kr.Fragment=r,kr.jsx=i,kr.jsxs=i,kr}var _x;function aN(){return _x||(_x=1,Ad.exports=tN()),Ad.exports}var a=aN(),Ed={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function nN(){if(Px)return Ue;Px=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),N=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function k(O,ee,oe){this.props=O,this.context=ee,this.refs=b,this.updater=oe||E}k.prototype.isReactComponent={},k.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=k.prototype;function T(O,ee,oe){this.props=O,this.context=ee,this.refs=b,this.updater=oe||E}var D=T.prototype=new R;D.constructor=T,S(D,k.prototype),D.isPureReactComponent=!0;var A=Array.isArray;function M(){}var z={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function ae(O,ee,oe){var de=oe.ref;return{$$typeof:s,type:O,key:ee,ref:de!==void 0?de:null,props:oe}}function P(O,ee){return ae(O.type,ee,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function Z(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ee[oe]})}var ie=/\/+/g;function Y(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):ee.toString(36)}function he(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,ee,oe,de,q){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var se=!1;if(O===null)se=!0;else switch(fe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(O.$$typeof){case s:case r:se=!0;break;case g:return se=O._init,L(se(O._payload),ee,oe,de,q)}}if(se)return q=q(O),se=de===""?"."+Y(O,0):de,A(q)?(oe="",se!=null&&(oe=se.replace(ie,"$&/")+"/"),L(q,ee,oe,"",function(xe){return xe})):q!=null&&(I(q)&&(q=P(q,oe+(q.key==null||O&&O.key===q.key?"":(""+q.key).replace(ie,"$&/")+"/")+se)),ee.push(q)),1;se=0;var Oe=de===""?".":de+":";if(A(O))for(var G=0;G<O.length;G++)de=O[G],fe=Oe+Y(de,G),se+=L(de,ee,oe,fe,q);else if(G=w(O),typeof G=="function")for(O=G.call(O),G=0;!(de=O.next()).done;)de=de.value,fe=Oe+Y(de,G++),se+=L(de,ee,oe,fe,q);else if(fe==="object"){if(typeof O.then=="function")return L(he(O),ee,oe,de,q);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return se}function X(O,ee,oe){if(O==null)return O;var de=[],q=0;return L(O,de,"","",function(fe){return ee.call(oe,fe,q++)}),de}function H(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ve={map:X,forEach:function(O,ee,oe){X(O,function(){ee.apply(this,arguments)},oe)},count:function(O){var ee=0;return X(O,function(){ee++}),ee},toArray:function(O){return X(O,function(ee){return ee})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ue.Activity=v,Ue.Children=ve,Ue.Component=k,Ue.Fragment=i,Ue.Profiler=d,Ue.PureComponent=T,Ue.StrictMode=o,Ue.Suspense=x,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},Ue.cache=function(O){return function(){return O.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(O,ee,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=S({},O.props),q=O.key;if(ee!=null)for(fe in ee.key!==void 0&&(q=""+ee.key),ee)!B.call(ee,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ee.ref===void 0||(de[fe]=ee[fe]);var fe=arguments.length-2;if(fe===1)de.children=oe;else if(1<fe){for(var se=Array(fe),Oe=0;Oe<fe;Oe++)se[Oe]=arguments[Oe+2];de.children=se}return ae(O.type,q,de)},Ue.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},Ue.createElement=function(O,ee,oe){var de,q={},fe=null;if(ee!=null)for(de in ee.key!==void 0&&(fe=""+ee.key),ee)B.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(q[de]=ee[de]);var se=arguments.length-2;if(se===1)q.children=oe;else if(1<se){for(var Oe=Array(se),G=0;G<se;G++)Oe[G]=arguments[G+2];q.children=Oe}if(O&&O.defaultProps)for(de in se=O.defaultProps,se)q[de]===void 0&&(q[de]=se[de]);return ae(O,fe,q)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:p,render:O}},Ue.isValidElement=I,Ue.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:H}},Ue.memo=function(O,ee){return{$$typeof:m,type:O,compare:ee===void 0?null:ee}},Ue.startTransition=function(O){var ee=z.T,oe={};z.T=oe;try{var de=O(),q=z.S;q!==null&&q(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(M,re)}catch(fe){re(fe)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),z.T=ee}},Ue.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ue.use=function(O){return z.H.use(O)},Ue.useActionState=function(O,ee,oe){return z.H.useActionState(O,ee,oe)},Ue.useCallback=function(O,ee){return z.H.useCallback(O,ee)},Ue.useContext=function(O){return z.H.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O,ee){return z.H.useDeferredValue(O,ee)},Ue.useEffect=function(O,ee){return z.H.useEffect(O,ee)},Ue.useEffectEvent=function(O){return z.H.useEffectEvent(O)},Ue.useId=function(){return z.H.useId()},Ue.useImperativeHandle=function(O,ee,oe){return z.H.useImperativeHandle(O,ee,oe)},Ue.useInsertionEffect=function(O,ee){return z.H.useInsertionEffect(O,ee)},Ue.useLayoutEffect=function(O,ee){return z.H.useLayoutEffect(O,ee)},Ue.useMemo=function(O,ee){return z.H.useMemo(O,ee)},Ue.useOptimistic=function(O,ee){return z.H.useOptimistic(O,ee)},Ue.useReducer=function(O,ee,oe){return z.H.useReducer(O,ee,oe)},Ue.useRef=function(O){return z.H.useRef(O)},Ue.useState=function(O){return z.H.useState(O)},Ue.useSyncExternalStore=function(O,ee,oe){return z.H.useSyncExternalStore(O,ee,oe)},Ue.useTransition=function(){return z.H.useTransition()},Ue.version="19.2.3",Ue}var kx;function of(){return kx||(kx=1,Ed.exports=nN()),Ed.exports}var j=of();const La=Og(j),cf=eN({__proto__:null,default:La},[j]);var Td={exports:{}},Lr={},Md={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function sN(){return Lx||(Lx=1,(function(s){function r(L,X){var H=L.length;L.push(X);e:for(;0<H;){var re=H-1>>>1,ve=L[re];if(0<d(ve,X))L[re]=X,L[H]=ve,H=re;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var X=L[0],H=L.pop();if(H!==X){L[0]=H;e:for(var re=0,ve=L.length,O=ve>>>1;re<O;){var ee=2*(re+1)-1,oe=L[ee],de=ee+1,q=L[de];if(0>d(oe,H))de<ve&&0>d(q,oe)?(L[re]=q,L[de]=H,re=de):(L[re]=oe,L[ee]=H,re=ee);else if(de<ve&&0>d(q,H))L[re]=q,L[de]=H,re=de;else break e}}return X}function d(L,X){var H=L.sortIndex-X.sortIndex;return H!==0?H:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var x=[],m=[],g=1,v=null,N=3,w=!1,E=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var X=i(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=L)o(m),X.sortIndex=X.expirationTime,r(x,X);else break;X=i(m)}}function A(L){if(S=!1,D(L),!E)if(i(x)!==null)E=!0,M||(M=!0,Z());else{var X=i(m);X!==null&&he(A,X.startTime-L)}}var M=!1,z=-1,B=5,ae=-1;function P(){return b?!0:!(s.unstable_now()-ae<B)}function I(){if(b=!1,M){var L=s.unstable_now();ae=L;var X=!0;try{e:{E=!1,S&&(S=!1,R(z),z=-1),w=!0;var H=N;try{t:{for(D(L),v=i(x);v!==null&&!(v.expirationTime>L&&P());){var re=v.callback;if(typeof re=="function"){v.callback=null,N=v.priorityLevel;var ve=re(v.expirationTime<=L);if(L=s.unstable_now(),typeof ve=="function"){v.callback=ve,D(L),X=!0;break t}v===i(x)&&o(x),D(L)}else o(x);v=i(x)}if(v!==null)X=!0;else{var O=i(m);O!==null&&he(A,O.startTime-L),X=!1}}break e}finally{v=null,N=H,w=!1}X=void 0}}finally{X?Z():M=!1}}}var Z;if(typeof T=="function")Z=function(){T(I)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Y=ie.port2;ie.port1.onmessage=I,Z=function(){Y.postMessage(null)}}else Z=function(){k(I,0)};function he(L,X){z=k(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(L){switch(N){case 1:case 2:case 3:var X=3;break;default:X=N}var H=N;N=X;try{return L()}finally{N=H}},s.unstable_requestPaint=function(){b=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=N;N=L;try{return X()}finally{N=H}},s.unstable_scheduleCallback=function(L,X,H){var re=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=H+ve,L={id:g++,callback:X,priorityLevel:L,startTime:H,expirationTime:ve,sortIndex:-1},H>re?(L.sortIndex=H,r(m,L),i(x)===null&&L===i(m)&&(S?(R(z),z=-1):S=!0,he(A,H-re))):(L.sortIndex=ve,r(x,L),E||w||(E=!0,M||(M=!0,Z()))),L},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(L){var X=N;return function(){var H=N;N=X;try{return L.apply(this,arguments)}finally{N=H}}}})(Dd)),Dd}var zx;function lN(){return zx||(zx=1,Md.exports=sN()),Md.exports}var Rd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function rN(){if(Ux)return Yt;Ux=1;var s=of();function r(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(x,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:x,containerInfo:m,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Yt.createPortal=function(x,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(x,m,null,g)},Yt.flushSync=function(x){var m=h.T,g=o.p;try{if(h.T=null,o.p=2,x)return x()}finally{h.T=m,o.p=g,o.d.f()}},Yt.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(x,m))},Yt.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Yt.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var g=m.as,v=p(g,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?o.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:N,fetchPriority:w}):g==="script"&&o.d.X(x,{crossOrigin:v,integrity:N,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=p(m.as,m.crossOrigin);o.d.M(x,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(x)},Yt.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=p(g,m.crossOrigin);o.d.L(x,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(x,m){if(typeof x=="string")if(m){var g=p(m.as,m.crossOrigin);o.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(x)},Yt.requestFormReset=function(x){o.d.r(x)},Yt.unstable_batchedUpdates=function(x,m){return x(m)},Yt.useFormState=function(x,m,g){return h.H.useFormState(x,m,g)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var Ix;function _g(){if(Ix)return Rd.exports;Ix=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Rd.exports=rN(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function iN(){if(qx)return Lr;qx=1;var s=lN(),r=of(),i=_g();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return x(c),e;if(u===l)return x(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=u;else{for(var y=!1,C=c.child;C;){if(C===n){y=!0,n=c,l=u;break}if(C===l){y=!0,l=c,n=u;break}C=C.sibling}if(!y){for(C=u.child;C;){if(C===n){y=!0,n=u,l=c;break}if(C===l){y=!0,l=u,n=c;break}C=C.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case T:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var he=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},re=[],ve=-1;function O(e){return{current:e}}function ee(e){0>ve||(e.current=re[ve],re[ve]=null,ve--)}function oe(e,t){ve++,re[ve]=e.current,e.current=t}var de=O(null),q=O(null),fe=O(null),se=O(null);function Oe(e,t){switch(oe(fe,t),oe(q,e),oe(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tx(t),e=ax(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(de),oe(de,e)}function G(){ee(de),ee(q),ee(fe)}function xe(e){e.memoizedState!==null&&oe(se,e);var t=de.current,n=ax(t,e.type);t!==n&&(oe(q,e),oe(de,n))}function be(e){q.current===e&&(ee(de),ee(q)),se.current===e&&(ee(se),Rr._currentValue=H)}var Me,mt;function Ze(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",mt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+mt}var gt=!1;function Ct(e,t){if(!e||gt)return"";gt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var K=J}Reflect.construct(e,[],le)}else{try{le.call()}catch(J){K=J}e.call(le.prototype)}}else{try{throw Error()}catch(J){K=J}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),y=u[0],C=u[1];if(y&&C){var _=y.split(`
`),Q=C.split(`
`);for(c=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;if(l===_.length||c===Q.length)for(l=_.length-1,c=Q.length-1;1<=l&&0<=c&&_[l]!==Q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(_[l]!==Q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||_[l]!==Q[c]){var te=`
`+_[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=c);break}}}finally{gt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ze(n):""}function vt(e,t){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==t&&t!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Ct(e.type,!1);case 11:return Ct(e.type.render,!1);case 1:return Ct(e.type,!0);case 31:return Ze("Activity");default:return""}}function fa(e){try{var t="",n=null;do t+=vt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var V=Object.prototype.hasOwnProperty,je=s.unstable_scheduleCallback,ge=s.unstable_cancelCallback,ze=s.unstable_shouldYield,We=s.unstable_requestPaint,lt=s.unstable_now,Lt=s.unstable_getCurrentPriorityLevel,zt=s.unstable_ImmediatePriority,Ia=s.unstable_UserBlockingPriority,$a=s.unstable_NormalPriority,k0=s.unstable_LowPriority,kf=s.unstable_IdlePriority,L0=s.log,z0=s.unstable_setDisableYieldValue,Fl=null,ma=null;function On(e){if(typeof L0=="function"&&z0(e),ma&&typeof ma.setStrictMode=="function")try{ma.setStrictMode(Fl,e)}catch{}}var ha=Math.clz32?Math.clz32:q0,U0=Math.log,I0=Math.LN2;function q0(e){return e>>>=0,e===0?32:31-(U0(e)/I0|0)|0}var ai=256,ni=262144,si=4194304;function fs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~u,l!==0?c=fs(l):(y&=C,y!==0?c=fs(y):n||(n=C&~e,n!==0&&(c=fs(n))))):(C=l&~u,C!==0?c=fs(C):y!==0?c=fs(y):n||(n=l&~e,n!==0&&(c=fs(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function B0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(){var e=si;return si<<=1,(si&62914560)===0&&(si=4194304),e}function hc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function H0(e,t,n,l,c,u){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,_=e.expirationTimes,Q=e.hiddenUpdates;for(n=y&~n;0<n;){var te=31-ha(n),le=1<<te;C[te]=0,_[te]=-1;var K=Q[te];if(K!==null)for(Q[te]=null,te=0;te<K.length;te++){var J=K[te];J!==null&&(J.lane&=-536870913)}n&=~le}l!==0&&zf(e,l,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~t))}function zf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ha(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Uf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ha(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function If(e,t){var n=t&-t;return n=(n&42)!==0?1:pc(n),(n&(e.suspendedLanes|t))!==0?0:n}function pc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qf(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Cx(e.type))}function Bf(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var _n=Math.random().toString(36).slice(2),qt="__reactFiber$"+_n,na="__reactProps$"+_n,Fs="__reactContainer$"+_n,gc="__reactEvents$"+_n,F0="__reactListeners$"+_n,V0="__reactHandles$"+_n,Hf="__reactResources$"+_n,Yl="__reactMarker$"+_n;function yc(e){delete e[qt],delete e[na],delete e[gc],delete e[F0],delete e[V0]}function Vs(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cx(e);e!==null;){if(n=e[qt])return n;e=cx(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){if(e=e[qt]||e[Fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ys(e){var t=e[Hf];return t||(t=e[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ut(e){e[Yl]=!0}var Ff=new Set,Vf={};function ms(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Vf[e]=t,e=0;e<t.length;e++)Ff.add(t[e])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gf={},Yf={};function Y0(e){return V.call(Yf,e)?!0:V.call(Gf,e)?!1:G0.test(e)?Yf[e]=!0:(Gf[e]=!0,!1)}function ri(e,t,n){if(Y0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ii(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function rn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Ca(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $0(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,u.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vc(e){if(!e._valueTracker){var t=$f(e)?"checked":"value";e._valueTracker=$0(e,t,""+e[t])}}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=$f(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Q0=/[\n"\\]/g;function Aa(e){return e.replace(Q0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jc(e,t,n,l,c,u,y,C){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ca(t)):e.value!==""+Ca(t)&&(e.value=""+Ca(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?bc(e,y,Ca(t)):n!=null?bc(e,y,Ca(n)):l!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Ca(C):e.removeAttribute("name")}function Xf(e,t,n,l,c,u,y,C){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){vc(e);return}n=n!=null?""+Ca(n):"",t=t!=null?""+Ca(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),vc(e)}function bc(e,t,n){t==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qs(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ca(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Kf(e,t,n){if(t!=null&&(t=""+Ca(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ca(n):""}function Zf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(he(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Ca(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),vc(e)}function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var X0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||X0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jf(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Wf(e,c,l)}else for(var u in t)t.hasOwnProperty(u)&&Wf(e,u,t[u])}function Nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(e){return Z0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var Sc=null;function wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ks=null,Zs=null;function em(e){var t=Gs(e);if(t&&(e=t.stateNode)){var n=e[na]||null;e:switch(e=t.stateNode,t.type){case"input":if(jc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Aa(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[na]||null;if(!c)throw Error(o(90));jc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Qf(l)}break e;case"textarea":Kf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}}}var Cc=!1;function tm(e,t,n){if(Cc)return e(t,n);Cc=!0;try{var l=e(t);return l}finally{if(Cc=!1,(Ks!==null||Zs!==null)&&(Ki(),Ks&&(t=Ks,e=Zs,Zs=Ks=null,em(t),e)))for(t=0;t<e.length;t++)em(e[t])}}function Ql(e,t){var n=e.stateNode;if(n===null)return null;var l=n[na]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=!1;if(cn)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Ac=!1}var Pn=null,Ec=null,ui=null;function am(){if(ui)return ui;var e,t=Ec,n=t.length,l,c="value"in Pn?Pn.value:Pn.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[u-l];l++);return ui=c.slice(e,1<l?1-l:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fi(){return!0}function nm(){return!1}function sa(e){function t(n,l,c,u,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?fi:nm,this.isPropagationStopped=nm,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=sa(hs),Kl=v({},hs,{view:0,detail:0}),W0=sa(Kl),Tc,Mc,Zl,hi=v({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(Tc=e.screenX-Zl.screenX,Mc=e.screenY-Zl.screenY):Mc=Tc=0,Zl=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Mc}}),sm=sa(hi),J0=v({},hi,{dataTransfer:0}),ej=sa(J0),tj=v({},Kl,{relatedTarget:0}),Dc=sa(tj),aj=v({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=sa(aj),sj=v({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lj=sa(sj),rj=v({},hs,{data:0}),lm=sa(rj),ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cj[e])?!!t[e]:!1}function Rc(){return uj}var dj=v({},Kl,{key:function(e){if(e.key){var t=ij[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fj=sa(dj),mj=v({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=sa(mj),hj=v({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),pj=sa(hj),xj=v({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=sa(xj),yj=v({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vj=sa(yj),jj=v({},hs,{newState:0,oldState:0}),bj=sa(jj),Nj=[9,13,27,32],Oc=cn&&"CompositionEvent"in window,Wl=null;cn&&"documentMode"in document&&(Wl=document.documentMode);var Sj=cn&&"TextEvent"in window&&!Wl,im=cn&&(!Oc||Wl&&8<Wl&&11>=Wl),om=" ",cm=!1;function um(e,t){switch(e){case"keyup":return Nj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function wj(e,t){switch(e){case"compositionend":return dm(t);case"keypress":return t.which!==32?null:(cm=!0,om);case"textInput":return e=t.data,e===om&&cm?null:e;default:return null}}function Cj(e,t){if(Ws)return e==="compositionend"||!Oc&&um(e,t)?(e=am(),ui=Ec=Pn=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return im&&t.locale!=="ko"?null:t.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aj[e.type]:t==="textarea"}function mm(e,t,n,l){Ks?Zs?Zs.push(l):Zs=[l]:Ks=l,t=no(t,"onChange"),0<t.length&&(n=new mi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Jl=null,er=null;function Ej(e){Xp(e,0)}function pi(e){var t=$l(e);if(Qf(t))return e}function hm(e,t){if(e==="change")return t}var pm=!1;if(cn){var _c;if(cn){var Pc="oninput"in document;if(!Pc){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),Pc=typeof xm.oninput=="function"}_c=Pc}else _c=!1;pm=_c&&(!document.documentMode||9<document.documentMode)}function gm(){Jl&&(Jl.detachEvent("onpropertychange",ym),er=Jl=null)}function ym(e){if(e.propertyName==="value"&&pi(er)){var t=[];mm(t,er,e,wc(e)),tm(Ej,t)}}function Tj(e,t,n){e==="focusin"?(gm(),Jl=t,er=n,Jl.attachEvent("onpropertychange",ym)):e==="focusout"&&gm()}function Mj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(er)}function Dj(e,t){if(e==="click")return pi(t)}function Rj(e,t){if(e==="input"||e==="change")return pi(t)}function Oj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pa=typeof Object.is=="function"?Object.is:Oj;function tr(e,t){if(pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!V.call(t,c)||!pa(e[c],t[c]))return!1}return!0}function vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jm(e,t){var n=vm(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vm(n)}}function bm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=oi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _j=cn&&"documentMode"in document&&11>=document.documentMode,Js=null,Lc=null,ar=null,zc=!1;function Sm(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zc||Js==null||Js!==oi(l)||(l=Js,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ar&&tr(ar,l)||(ar=l,l=no(Lc,"onSelect"),0<l.length&&(t=new mi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Js)))}function ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var el={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Uc={},wm={};cn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function xs(e){if(Uc[e])return Uc[e];if(!el[e])return e;var t=el[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wm)return Uc[e]=t[n];return e}var Cm=xs("animationend"),Am=xs("animationiteration"),Em=xs("animationstart"),Pj=xs("transitionrun"),kj=xs("transitionstart"),Lj=xs("transitioncancel"),Tm=xs("transitionend"),Mm=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function qa(e,t){Mm.set(e,t),ms(t,[e])}var xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ea=[],tl=0,qc=0;function gi(){for(var e=tl,t=qc=tl=0;t<e;){var n=Ea[t];Ea[t++]=null;var l=Ea[t];Ea[t++]=null;var c=Ea[t];Ea[t++]=null;var u=Ea[t];if(Ea[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}u!==0&&Dm(n,c,u)}}function yi(e,t,n,l){Ea[tl++]=e,Ea[tl++]=t,Ea[tl++]=n,Ea[tl++]=l,qc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bc(e,t,n,l){return yi(e,t,n,l),vi(e)}function gs(e,t){return yi(e,null,null,t),vi(e)}function Dm(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-ha(n),e=u.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),u):null}function vi(e){if(50<wr)throw wr=0,Ku=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var al={};function zj(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(e,t,n,l){return new zj(e,t,n,l)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var n=e.alternate;return n===null?(n=xa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ji(e,t,n,l,c,u){var y=0;if(l=e,typeof e=="function")Hc(e)&&(y=1);else if(typeof e=="string")y=Hb(e,n,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=xa(31,n,t,c),e.elementType=ae,e.lanes=u,e;case S:return ys(n.children,c,u,t);case b:y=8,c|=24;break;case k:return e=xa(12,n,t,c|2),e.elementType=k,e.lanes=u,e;case A:return e=xa(13,n,t,c),e.elementType=A,e.lanes=u,e;case M:return e=xa(19,n,t,c),e.elementType=M,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:y=10;break e;case R:y=9;break e;case D:y=11;break e;case z:y=14;break e;case B:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=xa(y,n,t,c),t.elementType=e,t.type=l,t.lanes=u,t}function ys(e,t,n,l){return e=xa(7,e,l,t),e.lanes=n,e}function Fc(e,t,n){return e=xa(6,e,null,t),e.lanes=n,e}function Om(e){var t=xa(18,null,null,0);return t.stateNode=e,t}function Vc(e,t,n){return t=xa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _m=new WeakMap;function Ta(e,t){if(typeof e=="object"&&e!==null){var n=_m.get(e);return n!==void 0?n:(t={value:e,source:t,stack:fa(t)},_m.set(e,t),t)}return{value:e,source:t,stack:fa(t)}}var nl=[],sl=0,bi=null,nr=0,Ma=[],Da=0,kn=null,Qa=1,Xa="";function dn(e,t){nl[sl++]=nr,nl[sl++]=bi,bi=e,nr=t}function Pm(e,t,n){Ma[Da++]=Qa,Ma[Da++]=Xa,Ma[Da++]=kn,kn=e;var l=Qa;e=Xa;var c=32-ha(l)-1;l&=~(1<<c),n+=1;var u=32-ha(t)+c;if(30<u){var y=c-c%5;u=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Qa=1<<32-ha(t)+c|n<<c|l,Xa=u+e}else Qa=1<<u|n<<c|l,Xa=e}function Gc(e){e.return!==null&&(dn(e,1),Pm(e,1,0))}function Yc(e){for(;e===bi;)bi=nl[--sl],nl[sl]=null,nr=nl[--sl],nl[sl]=null;for(;e===kn;)kn=Ma[--Da],Ma[Da]=null,Xa=Ma[--Da],Ma[Da]=null,Qa=Ma[--Da],Ma[Da]=null}function km(e,t){Ma[Da++]=Qa,Ma[Da++]=Xa,Ma[Da++]=kn,Qa=t.id,Xa=t.overflow,kn=e}var Bt=null,jt=null,Ke=!1,Ln=null,Ra=!1,$c=Error(o(519));function zn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sr(Ta(t,e)),$c}function Lm(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[qt]=e,t[na]=l,n){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(n=0;n<Ar.length;n++)$e(Ar[n],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),Xf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),Zf(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Jp(t.textContent,n)?(l.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),l.onScroll!=null&&$e("scroll",t),l.onScrollEnd!=null&&$e("scrollend",t),l.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||zn(e,!0)}function zm(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:Bt=Bt.return}}function ll(e){if(e!==Bt)return!1;if(!Ke)return zm(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||dd(e.type,e.memoizedProps)),n=!n),n&&jt&&zn(e),zm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));jt=ox(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));jt=ox(e)}else t===27?(t=jt,Zn(e.type)?(e=xd,xd=null,jt=e):jt=t):jt=Bt?_a(e.stateNode.nextSibling):null;return!0}function vs(){jt=Bt=null,Ke=!1}function Qc(){var e=Ln;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),Ln=null),e}function sr(e){Ln===null?Ln=[e]:Ln.push(e)}var Xc=O(null),js=null,fn=null;function Un(e,t,n){oe(Xc,t._currentValue),t._currentValue=n}function mn(e){e._currentValue=Xc.current,ee(Xc)}function Kc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Zc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var C=u;u=c;for(var _=0;_<t.length;_++)if(C.context===t[_]){u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),Kc(u.return,n,e),l||(y=null);break e}u=C.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,u=y.alternate,u!==null&&(u.lanes|=n),Kc(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(e,t,n,l){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var C=c.type;pa(c.pendingProps.value,y.value)||(e!==null?e.push(C):e=[C])}}else if(c===se.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Rr):e=[Rr])}c=c.return}e!==null&&Zc(t,e,n,l),t.flags|=262144}function Ni(e){for(e=e.firstContext;e!==null;){if(!pa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){js=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Um(js,e)}function Si(e,t){return js===null&&bs(e),Um(e,t)}function Um(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fn===null){if(e===null)throw Error(o(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return n}var Uj=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ij=s.unstable_scheduleCallback,qj=s.unstable_NormalPriority,Dt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new Uj,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&Ij(qj,function(){e.controller.abort()})}var rr=null,Jc=0,il=0,ol=null;function Bj(e,t){if(rr===null){var n=rr=[];Jc=0,il=ad(),ol={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Jc++,t.then(Im,Im),t}function Im(){if(--Jc===0&&rr!==null){ol!==null&&(ol.status="fulfilled");var e=rr;rr=null,il=0,ol=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hj(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var qm=L.S;L.S=function(e,t){Sp=lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bj(e,t),qm!==null&&qm(e,t)};var Ns=O(null);function eu(){var e=Ns.current;return e!==null?e:yt.pooledCache}function wi(e,t){t===null?oe(Ns,Ns.current):oe(Ns,t.pool)}function Bm(){var e=eu();return e===null?null:{parent:Dt._currentValue,pool:e}}var cl=Error(o(460)),tu=Error(o(474)),Ci=Error(o(542)),Ai={then:function(){}};function Hm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gm(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gm(e),e}throw ws=t,cl}}function Ss(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ws=n,cl):n}}var ws=null;function Vm(){if(ws===null)throw Error(o(459));var e=ws;return ws=null,e}function Gm(e){if(e===cl||e===Ci)throw Error(o(483))}var ul=null,ir=0;function Ei(e){var t=ir;return ir+=1,ul===null&&(ul=[]),Fm(ul,e,t)}function or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ti(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ym(e){function t(F,U){if(e){var $=F.deletions;$===null?(F.deletions=[U],F.flags|=16):$.push(U)}}function n(F,U){if(!e)return null;for(;U!==null;)t(F,U),U=U.sibling;return null}function l(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function c(F,U){return F=un(F,U),F.index=0,F.sibling=null,F}function u(F,U,$){return F.index=$,e?($=F.alternate,$!==null?($=$.index,$<U?(F.flags|=67108866,U):$):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function y(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function C(F,U,$,ne){return U===null||U.tag!==6?(U=Fc($,F.mode,ne),U.return=F,U):(U=c(U,$),U.return=F,U)}function _(F,U,$,ne){var _e=$.type;return _e===S?te(F,U,$.props.children,ne,$.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===B&&Ss(_e)===U.type)?(U=c(U,$.props),or(U,$),U.return=F,U):(U=ji($.type,$.key,$.props,null,F.mode,ne),or(U,$),U.return=F,U)}function Q(F,U,$,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=Vc($,F.mode,ne),U.return=F,U):(U=c(U,$.children||[]),U.return=F,U)}function te(F,U,$,ne,_e){return U===null||U.tag!==7?(U=ys($,F.mode,ne,_e),U.return=F,U):(U=c(U,$),U.return=F,U)}function le(F,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fc(""+U,F.mode,$),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return $=ji(U.type,U.key,U.props,null,F.mode,$),or($,U),$.return=F,$;case E:return U=Vc(U,F.mode,$),U.return=F,U;case B:return U=Ss(U),le(F,U,$)}if(he(U)||Z(U))return U=ys(U,F.mode,$,null),U.return=F,U;if(typeof U.then=="function")return le(F,Ei(U),$);if(U.$$typeof===T)return le(F,Si(F,U),$);Ti(F,U)}return null}function K(F,U,$,ne){var _e=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:C(F,U,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===_e?_(F,U,$,ne):null;case E:return $.key===_e?Q(F,U,$,ne):null;case B:return $=Ss($),K(F,U,$,ne)}if(he($)||Z($))return _e!==null?null:te(F,U,$,ne,null);if(typeof $.then=="function")return K(F,U,Ei($),ne);if($.$$typeof===T)return K(F,U,Si(F,$),ne);Ti(F,$)}return null}function J(F,U,$,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get($)||null,C(U,F,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return F=F.get(ne.key===null?$:ne.key)||null,_(U,F,ne,_e);case E:return F=F.get(ne.key===null?$:ne.key)||null,Q(U,F,ne,_e);case B:return ne=Ss(ne),J(F,U,$,ne,_e)}if(he(ne)||Z(ne))return F=F.get($)||null,te(U,F,ne,_e,null);if(typeof ne.then=="function")return J(F,U,$,Ei(ne),_e);if(ne.$$typeof===T)return J(F,U,$,Si(U,ne),_e);Ti(U,ne)}return null}function we(F,U,$,ne){for(var _e=null,at=null,De=U,Be=U=0,Xe=null;De!==null&&Be<$.length;Be++){De.index>Be?(Xe=De,De=null):Xe=De.sibling;var nt=K(F,De,$[Be],ne);if(nt===null){De===null&&(De=Xe);break}e&&De&&nt.alternate===null&&t(F,De),U=u(nt,U,Be),at===null?_e=nt:at.sibling=nt,at=nt,De=Xe}if(Be===$.length)return n(F,De),Ke&&dn(F,Be),_e;if(De===null){for(;Be<$.length;Be++)De=le(F,$[Be],ne),De!==null&&(U=u(De,U,Be),at===null?_e=De:at.sibling=De,at=De);return Ke&&dn(F,Be),_e}for(De=l(De);Be<$.length;Be++)Xe=J(De,F,Be,$[Be],ne),Xe!==null&&(e&&Xe.alternate!==null&&De.delete(Xe.key===null?Be:Xe.key),U=u(Xe,U,Be),at===null?_e=Xe:at.sibling=Xe,at=Xe);return e&&De.forEach(function(as){return t(F,as)}),Ke&&dn(F,Be),_e}function Pe(F,U,$,ne){if($==null)throw Error(o(151));for(var _e=null,at=null,De=U,Be=U=0,Xe=null,nt=$.next();De!==null&&!nt.done;Be++,nt=$.next()){De.index>Be?(Xe=De,De=null):Xe=De.sibling;var as=K(F,De,nt.value,ne);if(as===null){De===null&&(De=Xe);break}e&&De&&as.alternate===null&&t(F,De),U=u(as,U,Be),at===null?_e=as:at.sibling=as,at=as,De=Xe}if(nt.done)return n(F,De),Ke&&dn(F,Be),_e;if(De===null){for(;!nt.done;Be++,nt=$.next())nt=le(F,nt.value,ne),nt!==null&&(U=u(nt,U,Be),at===null?_e=nt:at.sibling=nt,at=nt);return Ke&&dn(F,Be),_e}for(De=l(De);!nt.done;Be++,nt=$.next())nt=J(De,F,Be,nt.value,ne),nt!==null&&(e&&nt.alternate!==null&&De.delete(nt.key===null?Be:nt.key),U=u(nt,U,Be),at===null?_e=nt:at.sibling=nt,at=nt);return e&&De.forEach(function(Jb){return t(F,Jb)}),Ke&&dn(F,Be),_e}function xt(F,U,$,ne){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:e:{for(var _e=$.key;U!==null;){if(U.key===_e){if(_e=$.type,_e===S){if(U.tag===7){n(F,U.sibling),ne=c(U,$.props.children),ne.return=F,F=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===B&&Ss(_e)===U.type){n(F,U.sibling),ne=c(U,$.props),or(ne,$),ne.return=F,F=ne;break e}n(F,U);break}else t(F,U);U=U.sibling}$.type===S?(ne=ys($.props.children,F.mode,ne,$.key),ne.return=F,F=ne):(ne=ji($.type,$.key,$.props,null,F.mode,ne),or(ne,$),ne.return=F,F=ne)}return y(F);case E:e:{for(_e=$.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){n(F,U.sibling),ne=c(U,$.children||[]),ne.return=F,F=ne;break e}else{n(F,U);break}else t(F,U);U=U.sibling}ne=Vc($,F.mode,ne),ne.return=F,F=ne}return y(F);case B:return $=Ss($),xt(F,U,$,ne)}if(he($))return we(F,U,$,ne);if(Z($)){if(_e=Z($),typeof _e!="function")throw Error(o(150));return $=_e.call($),Pe(F,U,$,ne)}if(typeof $.then=="function")return xt(F,U,Ei($),ne);if($.$$typeof===T)return xt(F,U,Si(F,$),ne);Ti(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(n(F,U.sibling),ne=c(U,$),ne.return=F,F=ne):(n(F,U),ne=Fc($,F.mode,ne),ne.return=F,F=ne),y(F)):n(F,U)}return function(F,U,$,ne){try{ir=0;var _e=xt(F,U,$,ne);return ul=null,_e}catch(De){if(De===cl||De===Ci)throw De;var at=xa(29,De,null,F.mode);return at.lanes=ne,at.return=F,at}finally{}}}var Cs=Ym(!0),$m=Ym(!1),In=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=vi(e),Dm(e,null,n),t}return yi(e,l,t,n),vi(e)}function cr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Uf(e,n)}}function su(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lu=!1;function ur(){if(lu){var e=ol;if(e!==null)throw e}}function dr(e,t,n,l){lu=!1;var c=e.updateQueue;In=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var _=C,Q=_.next;_.next=null,y===null?u=Q:y.next=Q,y=_;var te=e.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==y&&(C===null?te.firstBaseUpdate=Q:C.next=Q,te.lastBaseUpdate=_))}if(u!==null){var le=c.baseState;y=0,te=Q=_=null,C=u;do{var K=C.lane&-536870913,J=K!==C.lane;if(J?(Qe&K)===K:(l&K)===K){K!==0&&K===il&&(lu=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var we=e,Pe=C;K=t;var xt=n;switch(Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){le=we.call(xt,le,K);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,K=typeof we=="function"?we.call(xt,le,K):we,K==null)break e;le=v({},le,K);break e;case 2:In=!0}}K=C.callback,K!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[K]:J.push(K))}else J={lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(Q=te=J,_=le):te=te.next=J,y|=K;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;J=C,C=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);te===null&&(_=le),c.baseState=_,c.firstBaseUpdate=Q,c.lastBaseUpdate=te,u===null&&(c.shared.lanes=0),Yn|=y,e.lanes=y,e.memoizedState=le}}function Qm(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Xm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Qm(n[e],t)}var dl=O(null),Mi=O(0);function Km(e,t){e=Nn,oe(Mi,e),oe(dl,t),Nn=e|t.baseLanes}function ru(){oe(Mi,Nn),oe(dl,dl.current)}function iu(){Nn=Mi.current,ee(dl),ee(Mi)}var ga=O(null),Oa=null;function Hn(e){var t=e.alternate;oe(Tt,Tt.current&1),oe(ga,e),Oa===null&&(t===null||dl.current!==null||t.memoizedState!==null)&&(Oa=e)}function ou(e){oe(Tt,Tt.current),oe(ga,e),Oa===null&&(Oa=e)}function Zm(e){e.tag===22?(oe(Tt,Tt.current),oe(ga,e),Oa===null&&(Oa=e)):Fn()}function Fn(){oe(Tt,Tt.current),oe(ga,ga.current)}function ya(e){ee(ga),Oa===e&&(Oa=null),ee(Tt)}var Tt=O(0);function Di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hd(n)||pd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,qe=null,ht=null,Rt=null,Ri=!1,fl=!1,As=!1,Oi=0,fr=0,ml=null,Fj=0;function At(){throw Error(o(321))}function cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pa(e[n],t[n]))return!1;return!0}function uu(e,t,n,l,c,u){return hn=u,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Ph:Cu,As=!1,u=n(l,c),As=!1,fl&&(u=Jm(t,n,l,c)),Wm(e),u}function Wm(e){L.H=pr;var t=ht!==null&&ht.next!==null;if(hn=0,Rt=ht=qe=null,Ri=!1,fr=0,ml=null,t)throw Error(o(300));e===null||Ot||(e=e.dependencies,e!==null&&Ni(e)&&(Ot=!0))}function Jm(e,t,n,l){qe=e;var c=0;do{if(fl&&(ml=null),fr=0,fl=!1,25<=c)throw Error(o(301));if(c+=1,Rt=ht=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}L.H=kh,u=t(n,l)}while(fl);return u}function Vj(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?mr(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(qe.flags|=1024),t}function du(){var e=Oi!==0;return Oi=0,e}function fu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mu(e){if(Ri){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ri=!1}hn=0,Rt=ht=qe=null,fl=!1,fr=Oi=0,ml=null}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?qe.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Mt(){if(ht===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Rt===null?qe.memoizedState:Rt.next;if(t!==null)Rt=t,ht=e;else{if(e===null)throw qe.alternate===null?Error(o(467)):Error(o(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Rt===null?qe.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function _i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(e){var t=fr;return fr+=1,ml===null&&(ml=[]),e=Fm(ml,e,t),t=qe,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Ph:Cu),e}function Pi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mr(e);if(e.$$typeof===T)return Ht(e)}throw Error(o(438,String(e)))}function hu(e){var t=null,n=qe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_i(),qe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=P;return t.index++,n}function pn(e,t){return typeof t=="function"?t(e):t}function ki(e){var t=Mt();return pu(t,ht,e)}function pu(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,u=l.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}t.baseQueue=c=u,l.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var C=y=null,_=null,Q=t,te=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(Qe&le)===le:(hn&le)===le){var K=Q.revertLane;if(K===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===il&&(te=!0);else if((hn&K)===K){Q=Q.next,K===il&&(te=!0);continue}else le={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},_===null?(C=_=le,y=u):_=_.next=le,qe.lanes|=K,Yn|=K;le=Q.action,As&&n(u,le),u=Q.hasEagerState?Q.eagerState:n(u,le)}else K={lane:le,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},_===null?(C=_=K,y=u):_=_.next=K,qe.lanes|=le,Yn|=le;Q=Q.next}while(Q!==null&&Q!==t);if(_===null?y=u:_.next=C,!pa(u,e.memoizedState)&&(Ot=!0,te&&(n=ol,n!==null)))throw n;e.memoizedState=u,e.baseState=y,e.baseQueue=_,l.lastRenderedState=u}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xu(e){var t=Mt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);pa(u,t.memoizedState)||(Ot=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function eh(e,t,n){var l=qe,c=Mt(),u=Ke;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!pa((ht||c).memoizedState,n);if(y&&(c.memoizedState=n,Ot=!0),c=c.queue,vu(nh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,hl(9,{destroy:void 0},ah.bind(null,l,c,n,t),null),yt===null)throw Error(o(349));u||(hn&127)!==0||th(l,t,n)}return n}function th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t=_i(),qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ah(e,t,n,l){t.value=n,t.getSnapshot=l,sh(t)&&lh(e)}function nh(e,t,n){return n(function(){sh(t)&&lh(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pa(e,n)}catch{return!0}}function lh(e){var t=gs(e,2);t!==null&&ca(t,e,2)}function gu(e){var t=ea();if(typeof e=="function"){var n=e;if(e=n(),As){On(!0);try{n()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},t}function rh(e,t,n,l){return e.baseState=n,pu(e,ht,typeof l=="function"?l:pn)}function Gj(e,t,n,l,c){if(Ui(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};L.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,ih(t,u)):(u.next=n.next,t.pending=n.next=u)}}function ih(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var u=L.T,y={};L.T=y;try{var C=n(c,l),_=L.S;_!==null&&_(y,C),oh(e,t,C)}catch(Q){yu(e,t,Q)}finally{u!==null&&y.types!==null&&(u.types=y.types),L.T=u}}else try{u=n(c,l),oh(e,t,u)}catch(Q){yu(e,t,Q)}}function oh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ch(e,t,l)},function(l){return yu(e,t,l)}):ch(e,t,n)}function ch(e,t,n){t.status="fulfilled",t.value=n,uh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ih(e,n)))}function yu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,uh(t),t=t.next;while(t!==l)}e.action=null}function uh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dh(e,t){return t}function fh(e,t){if(Ke){var n=yt.formState;if(n!==null){e:{var l=qe;if(Ke){if(jt){t:{for(var c=jt,u=Ra;c.nodeType!==8;){if(!u){c=null;break t}if(c=_a(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){jt=_a(c.nextSibling),l=c.data==="F!";break e}}zn(l)}l=!1}l&&(t=n[0])}}return n=ea(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},n.queue=l,n=Rh.bind(null,qe,l),l.dispatch=n,l=gu(!1),u=wu.bind(null,qe,!1,l.queue),l=ea(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=Gj.bind(null,qe,c,u,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function mh(e){var t=Mt();return hh(t,ht,e)}function hh(e,t,n){if(t=pu(e,t,dh)[0],e=ki(pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=mr(t)}catch(y){throw y===cl?Ci:y}else l=t;t=Mt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(qe.flags|=2048,hl(9,{destroy:void 0},Yj.bind(null,c,n),null)),[l,u,e]}function Yj(e,t){e.action=t}function ph(e){var t=Mt(),n=ht;if(n!==null)return hh(t,n,e);Mt(),t=t.memoizedState,n=Mt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function hl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=qe.updateQueue,t===null&&(t=_i(),qe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xh(){return Mt().memoizedState}function Li(e,t,n,l){var c=ea();qe.flags|=e,c.memoizedState=hl(1|t,{destroy:void 0},n,l===void 0?null:l)}function zi(e,t,n,l){var c=Mt();l=l===void 0?null:l;var u=c.memoizedState.inst;ht!==null&&l!==null&&cu(l,ht.memoizedState.deps)?c.memoizedState=hl(t,u,n,l):(qe.flags|=e,c.memoizedState=hl(1|t,u,n,l))}function gh(e,t){Li(8390656,8,e,t)}function vu(e,t){zi(2048,8,e,t)}function $j(e){qe.flags|=4;var t=qe.updateQueue;if(t===null)t=_i(),qe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function yh(e){var t=Mt().memoizedState;return $j({ref:t,nextImpl:e}),function(){if((st&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function vh(e,t){return zi(4,2,e,t)}function jh(e,t){return zi(4,4,e,t)}function bh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,n){n=n!=null?n.concat([e]):null,zi(4,4,bh.bind(null,t,e),n)}function ju(){}function Sh(e,t){var n=Mt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&cu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function wh(e,t){var n=Mt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&cu(t,l[1]))return l[0];if(l=e(),As){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[l,t],l}function bu(e,t,n){return n===void 0||(hn&1073741824)!==0&&(Qe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cp(),qe.lanes|=e,Yn|=e,n)}function Ch(e,t,n,l){return pa(n,t)?n:dl.current!==null?(e=bu(e,n,l),pa(e,t)||(Ot=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Qe&261930)===0?(Ot=!0,e.memoizedState=n):(e=Cp(),qe.lanes|=e,Yn|=e,t)}function Ah(e,t,n,l,c){var u=X.p;X.p=u!==0&&8>u?u:8;var y=L.T,C={};L.T=C,wu(e,!1,t,n);try{var _=c(),Q=L.S;if(Q!==null&&Q(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var te=Hj(_,l);hr(e,t,te,ba(e))}else hr(e,t,l,ba(e))}catch(le){hr(e,t,{then:function(){},status:"rejected",reason:le},ba())}finally{X.p=u,y!==null&&C.types!==null&&(y.types=C.types),L.T=y}}function Qj(){}function Nu(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=Eh(e).queue;Ah(e,c,t,H,n===null?Qj:function(){return Th(e),n(l)})}function Eh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:H},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Th(e){var t=Eh(e);t.next===null&&(t=e.alternate.memoizedState),hr(e,t.next.queue,{},ba())}function Su(){return Ht(Rr)}function Mh(){return Mt().memoizedState}function Dh(){return Mt().memoizedState}function Xj(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ba();e=qn(n);var l=Bn(t,e,n);l!==null&&(ca(l,t,n),cr(l,t,n)),t={cache:Wc()},e.payload=t;return}t=t.return}}function Kj(e,t,n){var l=ba();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Oh(t,n):(n=Bc(e,t,n,l),n!==null&&(ca(n,e,l),_h(n,t,l)))}function Rh(e,t,n){var l=ba();hr(e,t,n,l)}function hr(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Oh(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var y=t.lastRenderedState,C=u(y,n);if(c.hasEagerState=!0,c.eagerState=C,pa(C,y))return yi(e,t,c,0),yt===null&&gi(),!1}catch{}finally{}if(n=Bc(e,t,c,l),n!==null)return ca(n,e,l),_h(n,t,l),!0}return!1}function wu(e,t,n,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(o(479))}else t=Bc(e,n,l,2),t!==null&&ca(t,e,2)}function Ui(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Oh(e,t){fl=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _h(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Uf(e,n)}}var pr={readContext:Ht,use:Pi,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};pr.useEffectEvent=At;var Ph={readContext:Ht,use:Pi,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:gh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Li(4194308,4,bh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){Li(4,2,e,t)},useMemo:function(e,t){var n=ea();t=t===void 0?null:t;var l=e();if(As){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=ea();if(n!==void 0){var c=n(t);if(As){On(!0);try{n(t)}finally{On(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Kj.bind(null,qe,e),[l.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:function(e){e=gu(e);var t=e.queue,n=Rh.bind(null,qe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ju,useDeferredValue:function(e,t){var n=ea();return bu(n,e,t)},useTransition:function(){var e=gu(!1);return e=Ah.bind(null,qe,e.queue,!0,!1),ea().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=qe,c=ea();if(Ke){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),yt===null)throw Error(o(349));(Qe&127)!==0||th(l,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,gh(nh.bind(null,l,u,e),[e]),l.flags|=2048,hl(9,{destroy:void 0},ah.bind(null,l,u,n,t),null),n},useId:function(){var e=ea(),t=yt.identifierPrefix;if(Ke){var n=Xa,l=Qa;n=(l&~(1<<32-ha(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Fj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Su,useFormState:fh,useActionState:fh,useOptimistic:function(e){var t=ea();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wu.bind(null,qe,!0,n),n.dispatch=t,[e,t]},useMemoCache:hu,useCacheRefresh:function(){return ea().memoizedState=Xj.bind(null,qe)},useEffectEvent:function(e){var t=ea(),n={impl:e};return t.memoizedState=n,function(){if((st&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Cu={readContext:Ht,use:Pi,useCallback:Sh,useContext:Ht,useEffect:vu,useImperativeHandle:Nh,useInsertionEffect:vh,useLayoutEffect:jh,useMemo:wh,useReducer:ki,useRef:xh,useState:function(){return ki(pn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=Mt();return Ch(n,ht.memoizedState,e,t)},useTransition:function(){var e=ki(pn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:eh,useId:Mh,useHostTransitionStatus:Su,useFormState:mh,useActionState:mh,useOptimistic:function(e,t){var n=Mt();return rh(n,ht,e,t)},useMemoCache:hu,useCacheRefresh:Dh};Cu.useEffectEvent=yh;var kh={readContext:Ht,use:Pi,useCallback:Sh,useContext:Ht,useEffect:vu,useImperativeHandle:Nh,useInsertionEffect:vh,useLayoutEffect:jh,useMemo:wh,useReducer:xu,useRef:xh,useState:function(){return xu(pn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=Mt();return ht===null?bu(n,e,t):Ch(n,ht.memoizedState,e,t)},useTransition:function(){var e=xu(pn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:eh,useId:Mh,useHostTransitionStatus:Su,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var n=Mt();return ht!==null?rh(n,ht,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Dh};kh.useEffectEvent=yh;function Au(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=ba(),c=qn(l);c.payload=t,n!=null&&(c.callback=n),t=Bn(e,c,l),t!==null&&(ca(t,e,l),cr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=ba(),c=qn(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Bn(e,c,l),t!==null&&(ca(t,e,l),cr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ba(),l=qn(n);l.tag=2,t!=null&&(l.callback=t),t=Bn(e,l,n),t!==null&&(ca(t,e,n),cr(t,e,n))}};function Lh(e,t,n,l,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,y):t.prototype&&t.prototype.isPureReactComponent?!tr(n,l)||!tr(c,u):!0}function zh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Eu.enqueueReplaceState(t,t.state,null)}function Es(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Uh(e){xi(e)}function Ih(e){console.error(e)}function qh(e){xi(e)}function Ii(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tu(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ii(e,t)},n}function Hh(e){return e=qn(e),e.tag=3,e}function Fh(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){Bh(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Bh(t,n,l),typeof c!="function"&&($n===null?$n=new Set([this]):$n.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function Zj(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&rl(t,n,c,!0),n=ga.current,n!==null){switch(n.tag){case 31:case 13:return Oa===null?Zi():n.alternate===null&&Et===0&&(Et=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Ai?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Ju(e,l,c)),!1;case 22:return n.flags|=65536,l===Ai?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Ju(e,l,c)),!1}throw Error(o(435,n.tag))}return Ju(e,l,c),Zi(),!1}if(Ke)return t=ga.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==$c&&(e=Error(o(422),{cause:l}),sr(Ta(e,n)))):(l!==$c&&(t=Error(o(423),{cause:l}),sr(Ta(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ta(l,n),c=Tu(e.stateNode,l,c),su(e,c),Et!==4&&(Et=2)),!1;var u=Error(o(520),{cause:l});if(u=Ta(u,n),Sr===null?Sr=[u]:Sr.push(u),Et!==4&&(Et=2),t===null)return!0;l=Ta(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Tu(n.stateNode,l,e),su(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&($n===null||!$n.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Hh(c),Fh(c,e,n,l),su(n,c),!1}n=n.return}while(n!==null);return!1}var Mu=Error(o(461)),Ot=!1;function Ft(e,t,n,l){t.child=e===null?$m(t,null,n,l):Cs(t,e.child,n,l)}function Vh(e,t,n,l,c){n=n.render;var u=t.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return bs(t),l=uu(e,t,n,y,u,c),C=du(),e!==null&&!Ot?(fu(e,t,c),xn(e,t,c)):(Ke&&C&&Gc(t),t.flags|=1,Ft(e,t,l,c),t.child)}function Gh(e,t,n,l,c){if(e===null){var u=n.type;return typeof u=="function"&&!Hc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Yh(e,t,u,l,c)):(e=ji(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!zu(e,c)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(y,l)&&e.ref===t.ref)return xn(e,t,c)}return t.flags|=1,e=un(u,l),e.ref=t.ref,e.return=t,t.child=e}function Yh(e,t,n,l,c){if(e!==null){var u=e.memoizedProps;if(tr(u,l)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=l=u,zu(e,c))(e.flags&131072)!==0&&(Ot=!0);else return t.lanes=e.lanes,xn(e,t,c)}return Du(e,t,n,l,c)}function $h(e,t,n,l){var c=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,t.child=null;return Qh(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wi(t,u!==null?u.cachePool:null),u!==null?Km(t,u):ru(),Zm(t);else return l=t.lanes=536870912,Qh(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(wi(t,u.cachePool),Km(t,u),Fn(),t.memoizedState=null):(e!==null&&wi(t,null),ru(),Fn());return Ft(e,t,c,n),t.child}function xr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qh(e,t,n,l,c){var u=eu();return u=u===null?null:{parent:Dt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&wi(t,null),ru(),Zm(t),e!==null&&rl(e,t,l,!0),t.childLanes=c,null}function qi(e,t){return t=Hi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xh(e,t,n){return Cs(t,e.child,null,n),e=qi(t,t.pendingProps),e.flags|=2,ya(t),t.memoizedState=null,e}function Wj(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(l.mode==="hidden")return e=qi(t,l),t.lanes=536870912,xr(null,e);if(ou(t),(e=jt)?(e=ix(e,Ra),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:Qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},n=Om(e),n.return=t,t.child=n,Bt=t,jt=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return qi(t,l)}var u=e.memoizedState;if(u!==null){var y=u.dehydrated;if(ou(t),c)if(t.flags&256)t.flags&=-257,t=Xh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ot||rl(e,t,n,!1),c=(n&e.childLanes)!==0,Ot||c){if(l=yt,l!==null&&(y=If(l,n),y!==0&&y!==u.retryLane))throw u.retryLane=y,gs(e,y),ca(l,e,y),Mu;Zi(),t=Xh(e,t,n)}else e=u.treeContext,jt=_a(y.nextSibling),Bt=t,Ke=!0,Ln=null,Ra=!1,e!==null&&km(t,e),t=qi(t,l),t.flags|=4096;return t}return e=un(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Du(e,t,n,l,c){return bs(t),n=uu(e,t,n,l,void 0,c),l=du(),e!==null&&!Ot?(fu(e,t,c),xn(e,t,c)):(Ke&&l&&Gc(t),t.flags|=1,Ft(e,t,n,c),t.child)}function Kh(e,t,n,l,c,u){return bs(t),t.updateQueue=null,n=Jm(t,l,n,c),Wm(e),l=du(),e!==null&&!Ot?(fu(e,t,u),xn(e,t,u)):(Ke&&l&&Gc(t),t.flags|=1,Ft(e,t,n,u),t.child)}function Zh(e,t,n,l,c){if(bs(t),t.stateNode===null){var u=al,y=n.contextType;typeof y=="object"&&y!==null&&(u=Ht(y)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Eu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},au(t),y=n.contextType,u.context=typeof y=="object"&&y!==null?Ht(y):al,u.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Au(t,n,y,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&Eu.enqueueReplaceState(u,u.state,null),dr(t,l,u,c),ur(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var C=t.memoizedProps,_=Es(n,C);u.props=_;var Q=u.context,te=n.contextType;y=al,typeof te=="object"&&te!==null&&(y=Ht(te));var le=n.getDerivedStateFromProps;te=typeof le=="function"||typeof u.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,te||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C||Q!==y)&&zh(t,u,l,y),In=!1;var K=t.memoizedState;u.state=K,dr(t,l,u,c),ur(),Q=t.memoizedState,C||K!==Q||In?(typeof le=="function"&&(Au(t,n,le,l),Q=t.memoizedState),(_=In||Lh(t,n,_,l,K,Q,y))?(te||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Q),u.props=l,u.state=Q,u.context=y,l=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,nu(e,t),y=t.memoizedProps,te=Es(n,y),u.props=te,le=t.pendingProps,K=u.context,Q=n.contextType,_=al,typeof Q=="object"&&Q!==null&&(_=Ht(Q)),C=n.getDerivedStateFromProps,(Q=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==le||K!==_)&&zh(t,u,l,_),In=!1,K=t.memoizedState,u.state=K,dr(t,l,u,c),ur();var J=t.memoizedState;y!==le||K!==J||In||e!==null&&e.dependencies!==null&&Ni(e.dependencies)?(typeof C=="function"&&(Au(t,n,C,l),J=t.memoizedState),(te=In||Lh(t,n,te,l,K,J,_)||e!==null&&e.dependencies!==null&&Ni(e.dependencies))?(Q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,J,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,J,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=J),u.props=l,u.state=J,u.context=_,l=te):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Bi(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Cs(t,e.child,null,c),t.child=Cs(t,null,n,c)):Ft(e,t,n,c),t.memoizedState=u.state,e=t.child):e=xn(e,t,c),e}function Wh(e,t,n,l){return vs(),t.flags|=256,Ft(e,t,n,l),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:Bm()}}function _u(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ja),e}function Jh(e,t,n){var l=t.pendingProps,c=!1,u=(t.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(c?Hn(t):Fn(),(e=jt)?(e=ix(e,Ra),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:Qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},n=Om(e),n.return=t,t.child=n,Bt=t,jt=null)):e=null,e===null)throw zn(t);return pd(e)?t.lanes=32:t.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(Fn(),c=t.mode,C=Hi({mode:"hidden",children:C},c),l=ys(l,c,n,null),C.return=t,l.return=t,C.sibling=l,t.child=C,l=t.child,l.memoizedState=Ou(n),l.childLanes=_u(e,y,n),t.memoizedState=Ru,xr(null,l)):(Hn(t),Pu(t,C))}var _=e.memoizedState;if(_!==null&&(C=_.dehydrated,C!==null)){if(u)t.flags&256?(Hn(t),t.flags&=-257,t=ku(e,t,n)):t.memoizedState!==null?(Fn(),t.child=e.child,t.flags|=128,t=null):(Fn(),C=l.fallback,c=t.mode,l=Hi({mode:"visible",children:l.children},c),C=ys(C,c,n,null),C.flags|=2,l.return=t,C.return=t,l.sibling=C,t.child=l,Cs(t,e.child,null,n),l=t.child,l.memoizedState=Ou(n),l.childLanes=_u(e,y,n),t.memoizedState=Ru,t=xr(null,l));else if(Hn(t),pd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var Q=y.dgst;y=Q,l=Error(o(419)),l.stack="",l.digest=y,sr({value:l,source:null,stack:null}),t=ku(e,t,n)}else if(Ot||rl(e,t,n,!1),y=(n&e.childLanes)!==0,Ot||y){if(y=yt,y!==null&&(l=If(y,n),l!==0&&l!==_.retryLane))throw _.retryLane=l,gs(e,l),ca(y,e,l),Mu;hd(C)||Zi(),t=ku(e,t,n)}else hd(C)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,jt=_a(C.nextSibling),Bt=t,Ke=!0,Ln=null,Ra=!1,e!==null&&km(t,e),t=Pu(t,l.children),t.flags|=4096);return t}return c?(Fn(),C=l.fallback,c=t.mode,_=e.child,Q=_.sibling,l=un(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,Q!==null?C=un(Q,C):(C=ys(C,c,n,null),C.flags|=2),C.return=t,l.return=t,l.sibling=C,t.child=l,xr(null,l),l=t.child,C=e.child.memoizedState,C===null?C=Ou(n):(c=C.cachePool,c!==null?(_=Dt._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=Bm(),C={baseLanes:C.baseLanes|n,cachePool:c}),l.memoizedState=C,l.childLanes=_u(e,y,n),t.memoizedState=Ru,xr(e.child,l)):(Hn(t),n=e.child,e=n.sibling,n=un(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Pu(e,t){return t=Hi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hi(e,t){return e=xa(22,e,null,t),e.lanes=0,e}function ku(e,t,n){return Cs(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ep(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Kc(e.return,t,n)}function Lu(e,t,n,l,c,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:u}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=u)}function tp(e,t,n){var l=t.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var y=Tt.current,C=(y&2)!==0;if(C?(y=y&1|2,t.flags|=128):y&=1,oe(Tt,y),Ft(e,t,l,n),l=Ke?nr:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,n,t);else if(e.tag===19)ep(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Di(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Lu(t,!1,c,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Di(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Lu(t,!0,n,null,u,l);break;case"together":Lu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(rl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ni(e)))}function Jj(e,t,n){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),Un(t,Dt,e.memoizedState.cache),vs();break;case 27:case 5:xe(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:Un(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Hn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jh(e,t,n):(Hn(t),e=xn(e,t,n),e!==null?e.sibling:null);Hn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(rl(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return tp(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),oe(Tt,Tt.current),l)break;return null;case 22:return t.lanes=0,$h(e,t,n,t.pendingProps);case 24:Un(t,Dt,e.memoizedState.cache)}return xn(e,t,n)}function ap(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ot=!0;else{if(!zu(e,n)&&(t.flags&128)===0)return Ot=!1,Jj(e,t,n);Ot=(e.flags&131072)!==0}else Ot=!1,Ke&&(t.flags&1048576)!==0&&Pm(t,nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ss(t.elementType),t.type=e,typeof e=="function")Hc(e)?(l=Es(e,l),t.tag=1,t=Zh(null,t,e,l,n)):(t.tag=0,t=Du(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===D){t.tag=11,t=Vh(null,t,e,l,n);break e}else if(c===z){t.tag=14,t=Gh(null,t,e,l,n);break e}}throw t=Y(e)||e,Error(o(306,t,""))}}return t;case 0:return Du(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=Es(l,t.pendingProps),Zh(e,t,l,c,n);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;c=u.element,nu(e,t),dr(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Un(t,Dt,l),l!==u.cache&&Zc(t,[Dt],n,!0),ur(),l=y.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Wh(e,t,l,n);break e}else if(l!==c){c=Ta(Error(o(424)),t),sr(c),t=Wh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(jt=_a(e.firstChild),Bt=t,Ke=!0,Ln=null,Ra=!0,n=$m(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vs(),l===c){t=xn(e,t,n);break e}Ft(e,t,l,n)}t=t.child}return t;case 26:return Bi(e,t),e===null?(n=mx(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=so(fe.current).createElement(n),l[qt]=t,l[na]=e,Vt(l,n,e),Ut(l),t.stateNode=l):t.memoizedState=mx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&Ke&&(l=t.stateNode=ux(t.type,t.pendingProps,fe.current),Bt=t,Ra=!0,c=jt,Zn(t.type)?(xd=c,jt=_a(l.firstChild)):jt=c),Ft(e,t,t.pendingProps.children,n),Bi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((c=l=jt)&&(l=Mb(l,t.type,t.pendingProps,Ra),l!==null?(t.stateNode=l,Bt=t,jt=_a(l.firstChild),Ra=!1,c=!0):c=!1),c||zn(t)),xe(t),c=t.type,u=t.pendingProps,y=e!==null?e.memoizedProps:null,l=u.children,dd(c,u)?l=null:y!==null&&dd(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=uu(e,t,Vj,null,null,n),Rr._currentValue=c),Bi(e,t),Ft(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=jt)&&(n=Db(n,t.pendingProps,Ra),n!==null?(t.stateNode=n,Bt=t,jt=null,e=!0):e=!1),e||zn(t)),null;case 13:return Jh(e,t,n);case 4:return Oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Cs(t,null,l,n):Ft(e,t,l,n),t.child;case 11:return Vh(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Un(t,t.type,l.value),Ft(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,bs(t),c=Ht(c),l=l(c),t.flags|=1,Ft(e,t,l,n),t.child;case 14:return Gh(e,t,t.type,t.pendingProps,n);case 15:return Yh(e,t,t.type,t.pendingProps,n);case 19:return tp(e,t,n);case 31:return Wj(e,t,n);case 22:return $h(e,t,n,t.pendingProps);case 24:return bs(t),l=Ht(Dt),e===null?(c=eu(),c===null&&(c=yt,u=Wc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:l,cache:c},au(t),Un(t,Dt,c)):((e.lanes&n)!==0&&(nu(e,t),dr(t,null,null,n),ur()),c=e.memoizedState,u=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Un(t,Dt,l)):(l=u.cache,Un(t,Dt,l),l!==c.cache&&Zc(t,[Dt],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function gn(e){e.flags|=4}function Uu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Mp())e.flags|=8192;else throw ws=Ai,tu}else e.flags&=-16777217}function np(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yx(t))if(Mp())e.flags|=8192;else throw ws=Ai,tu}function Fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lf():536870912,e.lanes|=t,yl|=t)}function gr(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function eb(e,t,n){var l=t.pendingProps;switch(Yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return bt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),mn(Dt),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ll(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qc())),bt(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(gn(t),u!==null?(bt(t),np(t,u)):(bt(t),Uu(t,c,null,l,n))):u?u!==e.memoizedState?(gn(t),bt(t),np(t,u)):(bt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&gn(t),bt(t),Uu(t,c,e,l,n)),null;case 27:if(be(t),n=fe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return bt(t),null}e=de.current,ll(t)?Lm(t):(e=ux(c,l,n),t.stateNode=e,gn(t))}return bt(t),null;case 5:if(be(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return bt(t),null}if(u=de.current,ll(t))Lm(t);else{var y=so(fe.current);switch(u){case 1:u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}u[qt]=t,u[na]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=u;e:switch(Vt(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gn(t)}}return bt(t),Uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=fe.current,ll(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Jp(e.nodeValue,n)),e||zn(t,!0)}else e=so(e).createTextNode(l),e[qt]=t,t.stateNode=e}return bt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ll(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[qt]=t}else vs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),e=!1}else n=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ya(t),t):(ya(t),null);if((t.flags&128)!==0)throw Error(o(558))}return bt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ll(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[qt]=t}else vs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),c=!1}else c=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ya(t),t):(ya(t),null)}return ya(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fi(t,t.updateQueue),bt(t),null);case 4:return G(),e===null&&rd(t.stateNode.containerInfo),bt(t),null;case 10:return mn(t.type),bt(t),null;case 19:if(ee(Tt),l=t.memoizedState,l===null)return bt(t),null;if(c=(t.flags&128)!==0,u=l.rendering,u===null)if(c)gr(l,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Di(e),u!==null){for(t.flags|=128,gr(l,!1),e=u.updateQueue,t.updateQueue=e,Fi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rm(n,e),n=n.sibling;return oe(Tt,Tt.current&1|2),Ke&&dn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&lt()>Qi&&(t.flags|=128,c=!0,gr(l,!1),t.lanes=4194304)}else{if(!c)if(e=Di(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Fi(t,e),gr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ke)return bt(t),null}else 2*lt()-l.renderingStartTime>Qi&&n!==536870912&&(t.flags|=128,c=!0,gr(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=lt(),e.sibling=null,n=Tt.current,oe(Tt,c?n&1|2:n&1),Ke&&dn(t,l.treeForkCount),e):(bt(t),null);case 22:case 23:return ya(t),iu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),n=t.updateQueue,n!==null&&Fi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ee(Ns),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),mn(Dt),bt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function tb(e,t){switch(Yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mn(Dt),G(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return be(t),null;case 31:if(t.memoizedState!==null){if(ya(t),t.alternate===null)throw Error(o(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Tt),null;case 4:return G(),null;case 10:return mn(t.type),null;case 22:case 23:return ya(t),iu(),e!==null&&ee(Ns),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return mn(Dt),null;case 25:return null;default:return null}}function sp(e,t){switch(Yc(t),t.tag){case 3:mn(Dt),G();break;case 26:case 27:case 5:be(t);break;case 4:G();break;case 31:t.memoizedState!==null&&ya(t);break;case 13:ya(t);break;case 19:ee(Tt);break;case 10:mn(t.type);break;case 22:case 23:ya(t),iu(),e!==null&&ee(Ns);break;case 24:mn(Dt)}}function yr(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var u=n.create,y=n.inst;l=u(),y.destroy=l}n=n.next}while(n!==c)}}catch(C){dt(t,t.return,C)}}function Vn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&e)===e){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,c=t;var _=n,Q=C;try{Q()}catch(te){dt(c,_,te)}}}l=l.next}while(l!==u)}}catch(te){dt(t,t.return,te)}}function lp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xm(t,n)}catch(l){dt(e,e.return,l)}}}function rp(e,t,n){n.props=Es(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){dt(e,t,l)}}function vr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){dt(e,t,c)}}function Ka(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){dt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){dt(e,t,c)}else n.current=null}function ip(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){dt(e,e.return,c)}}function Iu(e,t,n){try{var l=e.stateNode;Sb(l,e.type,n,t),l[na]=t}catch(c){dt(e,e.return,c)}}function op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(l!==4&&(l===27&&Zn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}function Vi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Zn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vi(e,t,n),e=e.sibling;e!==null;)Vi(e,t,n),e=e.sibling}function cp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Vt(t,l,n),t[qt]=e,t[na]=n}catch(u){dt(e,e.return,u)}}var yn=!1,_t=!1,Hu=!1,up=typeof WeakSet=="function"?WeakSet:Set,It=null;function ab(e,t){if(e=e.containerInfo,cd=fo,e=Nm(e),kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,C=-1,_=-1,Q=0,te=0,le=e,K=null;t:for(;;){for(var J;le!==n||c!==0&&le.nodeType!==3||(C=y+c),le!==u||l!==0&&le.nodeType!==3||(_=y+l),le.nodeType===3&&(y+=le.nodeValue.length),(J=le.firstChild)!==null;)K=le,le=J;for(;;){if(le===e)break t;if(K===n&&++Q===c&&(C=y),K===u&&++te===l&&(_=y),(J=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=J}n=C===-1||_===-1?null:{start:C,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:e,selectionRange:n},fo=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var we=Es(n.type,c);e=l.getSnapshotBeforeUpdate(we,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){dt(n,n.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function dp(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),l&4&&yr(5,n);break;case 1:if(jn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){dt(n,n.return,y)}else{var c=Es(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){dt(n,n.return,y)}}l&64&&lp(n),l&512&&vr(n,n.return);break;case 3:if(jn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xm(e,t)}catch(y){dt(n,n.return,y)}}break;case 27:t===null&&l&4&&cp(n);case 26:case 5:jn(e,n),t===null&&l&4&&ip(n),l&512&&vr(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),l&4&&hp(e,n);break;case 13:jn(e,n),l&4&&pp(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=db.bind(null,n),Rb(e,n))));break;case 22:if(l=n.memoizedState!==null||yn,!l){t=t!==null&&t.memoizedState!==null||_t,c=yn;var u=_t;yn=l,(_t=t)&&!u?bn(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),yn=c,_t=u}break;case 30:break;default:jn(e,n)}}function fp(e){var t=e.alternate;t!==null&&(e.alternate=null,fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,la=!1;function vn(e,t,n){for(n=n.child;n!==null;)mp(e,t,n),n=n.sibling}function mp(e,t,n){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 26:_t||Ka(n,t),vn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_t||Ka(n,t);var l=Nt,c=la;Zn(n.type)&&(Nt=n.stateNode,la=!1),vn(e,t,n),Tr(n.stateNode),Nt=l,la=c;break;case 5:_t||Ka(n,t);case 6:if(l=Nt,c=la,Nt=null,vn(e,t,n),Nt=l,la=c,Nt!==null)if(la)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(n.stateNode)}catch(u){dt(n,t,u)}else try{Nt.removeChild(n.stateNode)}catch(u){dt(n,t,u)}break;case 18:Nt!==null&&(la?(e=Nt,lx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Al(e)):lx(Nt,n.stateNode));break;case 4:l=Nt,c=la,Nt=n.stateNode.containerInfo,la=!0,vn(e,t,n),Nt=l,la=c;break;case 0:case 11:case 14:case 15:Vn(2,n,t),_t||Vn(4,n,t),vn(e,t,n);break;case 1:_t||(Ka(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&rp(n,t,l)),vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:_t=(l=_t)||n.memoizedState!==null,vn(e,t,n),_t=l;break;default:vn(e,t,n)}}function hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Al(e)}catch(n){dt(t,t.return,n)}}}function pp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(n){dt(t,t.return,n)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new up),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new up),t;default:throw Error(o(435,e.tag))}}function Gi(e,t){var n=nb(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=fb.bind(null,e,l);l.then(c,c)}})}function ra(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],u=e,y=t,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(Zn(C.type)){Nt=C.stateNode,la=!1;break e}break;case 5:Nt=C.stateNode,la=!1;break e;case 3:case 4:Nt=C.stateNode.containerInfo,la=!0;break e}C=C.return}if(Nt===null)throw Error(o(160));mp(u,y,c),Nt=null,la=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xp(t,e),t=t.sibling}var Ba=null;function xp(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ra(t,e),ia(e),l&4&&(Vn(3,e,e.return),yr(3,e),Vn(5,e,e.return));break;case 1:ra(t,e),ia(e),l&512&&(_t||n===null||Ka(n,n.return)),l&64&&yn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Ba;if(ra(t,e),ia(e),l&512&&(_t||n===null||Ka(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Yl]||u[qt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),Vt(u,l,n),u[qt]=e,Ut(u),l=u;break e;case"link":var y=xx("link","href",c).get(l+(n.href||""));if(y){for(var C=0;C<y.length;C++)if(u=y[C],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(C,1);break t}}u=c.createElement(l),Vt(u,l,n),c.head.appendChild(u);break;case"meta":if(y=xx("meta","content",c).get(l+(n.content||""))){for(C=0;C<y.length;C++)if(u=y[C],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(C,1);break t}}u=c.createElement(l),Vt(u,l,n),c.head.appendChild(u);break;default:throw Error(o(468,l))}u[qt]=e,Ut(u),l=u}e.stateNode=l}else gx(c,e.type,e.stateNode);else e.stateNode=px(c,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?gx(c,e.type,e.stateNode):px(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,n.memoizedProps)}break;case 27:ra(t,e),ia(e),l&512&&(_t||n===null||Ka(n,n.return)),n!==null&&l&4&&Iu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ra(t,e),ia(e),l&512&&(_t||n===null||Ka(n,n.return)),e.flags&32){c=e.stateNode;try{Xs(c,"")}catch(we){dt(e,e.return,we)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Iu(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Hu=!0);break;case 6:if(ra(t,e),ia(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(we){dt(e,e.return,we)}}break;case 3:if(io=null,c=Ba,Ba=lo(t.containerInfo),ra(t,e),Ba=c,ia(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(we){dt(e,e.return,we)}Hu&&(Hu=!1,gp(e));break;case 4:l=Ba,Ba=lo(e.stateNode.containerInfo),ra(t,e),ia(e),Ba=l;break;case 12:ra(t,e),ia(e);break;case 31:ra(t,e),ia(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gi(e,l)));break;case 13:ra(t,e),ia(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($i=lt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gi(e,l)));break;case 22:c=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,Q=yn,te=_t;if(yn=Q||c,_t=te||_,ra(t,e),_t=te,yn=Q,ia(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||_||yn||_t||Ts(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=_.stateNode;var le=_.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;C.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(we){dt(_,_.return,we)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(we){dt(_,_.return,we)}}}else if(t.tag===18){if(n===null){_=t;try{var J=_.stateNode;c?rx(J,!0):rx(_.stateNode,!1)}catch(we){dt(_,_.return,we)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Gi(e,n))));break;case 19:ra(t,e),ia(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gi(e,l)));break;case 30:break;case 21:break;default:ra(t,e),ia(e)}}function ia(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(op(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=qu(e);Vi(e,u,c);break;case 5:var y=n.stateNode;n.flags&32&&(Xs(y,""),n.flags&=-33);var C=qu(e);Vi(e,C,y);break;case 3:case 4:var _=n.stateNode.containerInfo,Q=qu(e);Bu(e,Q,_);break;default:throw Error(o(161))}}catch(te){dt(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dp(e,t.alternate,t),t=t.sibling}function Ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),Ts(t);break;case 1:Ka(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rp(t,t.return,n),Ts(t);break;case 27:Tr(t.stateNode);case 26:case 5:Ka(t,t.return),Ts(t);break;case 22:t.memoizedState===null&&Ts(t);break;case 30:Ts(t);break;default:Ts(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,u=t,y=u.flags;switch(u.tag){case 0:case 11:case 15:bn(c,u,n),yr(4,u);break;case 1:if(bn(c,u,n),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Q){dt(l,l.return,Q)}if(l=u,c=l.updateQueue,c!==null){var C=l.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)Qm(_[c],C)}catch(Q){dt(l,l.return,Q)}}n&&y&64&&lp(u),vr(u,u.return);break;case 27:cp(u);case 26:case 5:bn(c,u,n),n&&l===null&&y&4&&ip(u),vr(u,u.return);break;case 12:bn(c,u,n);break;case 31:bn(c,u,n),n&&y&4&&hp(c,u);break;case 13:bn(c,u,n),n&&y&4&&pp(c,u);break;case 22:u.memoizedState===null&&bn(c,u,n),vr(u,u.return);break;case 30:break;default:bn(c,u,n)}t=t.sibling}}function Fu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lr(n))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function Ha(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(e,t,n,l),t=t.sibling}function yp(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Ha(e,t,n,l),c&2048&&yr(9,t);break;case 1:Ha(e,t,n,l);break;case 3:Ha(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(c&2048){Ha(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,y=u.id,C=u.onPostCommit;typeof C=="function"&&C(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){dt(t,t.return,_)}}else Ha(e,t,n,l);break;case 31:Ha(e,t,n,l);break;case 13:Ha(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,y=t.alternate,t.memoizedState!==null?u._visibility&2?Ha(e,t,n,l):jr(e,t):u._visibility&2?Ha(e,t,n,l):(u._visibility|=2,pl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Fu(y,t);break;case 24:Ha(e,t,n,l),c&2048&&Vu(t.alternate,t);break;default:Ha(e,t,n,l)}}function pl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,y=t,C=n,_=l,Q=y.flags;switch(y.tag){case 0:case 11:case 15:pl(u,y,C,_,c),yr(8,y);break;case 23:break;case 22:var te=y.stateNode;y.memoizedState!==null?te._visibility&2?pl(u,y,C,_,c):jr(u,y):(te._visibility|=2,pl(u,y,C,_,c)),c&&Q&2048&&Fu(y.alternate,y);break;case 24:pl(u,y,C,_,c),c&&Q&2048&&Vu(y.alternate,y);break;default:pl(u,y,C,_,c)}t=t.sibling}}function jr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:jr(n,l),c&2048&&Fu(l.alternate,l);break;case 24:jr(n,l),c&2048&&Vu(l.alternate,l);break;default:jr(n,l)}t=t.sibling}}var br=8192;function xl(e,t,n){if(e.subtreeFlags&br)for(e=e.child;e!==null;)vp(e,t,n),e=e.sibling}function vp(e,t,n){switch(e.tag){case 26:xl(e,t,n),e.flags&br&&e.memoizedState!==null&&Fb(n,Ba,e.memoizedState,e.memoizedProps);break;case 5:xl(e,t,n);break;case 3:case 4:var l=Ba;Ba=lo(e.stateNode.containerInfo),xl(e,t,n),Ba=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=br,br=16777216,xl(e,t,n),br=l):xl(e,t,n));break;default:xl(e,t,n)}}function jp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];It=l,Np(l,e)}jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:Nr(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:Nr(e);break;case 12:Nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yi(e)):Nr(e);break;default:Nr(e)}}function Yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];It=l,Np(l,e)}jp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),Yi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Yi(t));break;default:Yi(t)}e=e.sibling}}function Np(e,t){for(;It!==null;){var n=It;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:lr(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,It=l;else e:for(n=e;It!==null;){l=It;var c=l.sibling,u=l.return;if(fp(l),l===n){It=null;break e}if(c!==null){c.return=u,It=c;break e}It=u}}}var sb={getCacheForType:function(e){var t=Ht(Dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ht(Dt).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,Ye=null,Qe=0,ut=0,va=null,Gn=!1,gl=!1,Gu=!1,Nn=0,Et=0,Yn=0,Ms=0,Yu=0,ja=0,yl=0,Sr=null,oa=null,$u=!1,$i=0,Sp=0,Qi=1/0,Xi=null,$n=null,Pt=0,Qn=null,vl=null,Sn=0,Qu=0,Xu=null,wp=null,wr=0,Ku=null;function ba(){return(st&2)!==0&&Qe!==0?Qe&-Qe:L.T!==null?ad():qf()}function Cp(){if(ja===0)if((Qe&536870912)===0||Ke){var e=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),ja=e}else ja=536870912;return e=ga.current,e!==null&&(e.flags|=32),ja}function ca(e,t,n){(e===yt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(jl(e,0),Xn(e,Qe,ja,!1)),Gl(e,n),((st&2)===0||e!==yt)&&(e===yt&&((st&2)===0&&(Ms|=n),Et===4&&Xn(e,Qe,ja,!1)),Za(e))}function Ap(e,t,n){if((st&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Vl(e,t),c=l?ob(e,t):Wu(e,t,!0),u=l;do{if(c===0){gl&&!l&&Xn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!rb(n)){c=Wu(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var C=e;c=Sr;var _=C.current.memoizedState.isDehydrated;if(_&&(jl(C,y).flags|=256),y=Wu(C,y,!1),y!==2){if(Gu&&!_){C.errorRecoveryDisabledLanes|=u,Ms|=u,c=4;break e}u=oa,oa=c,u!==null&&(oa===null?oa=u:oa.push.apply(oa,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){jl(e,0),Xn(e,t,0,!0);break}e:{switch(l=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Xn(l,t,ja,!Gn);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=$i+300-lt(),10<c)){if(Xn(l,t,ja,!Gn),li(l,0,!0)!==0)break e;Sn=t,l.timeoutHandle=nx(Ep.bind(null,l,n,oa,Xi,$u,t,ja,Ms,yl,Gn,u,"Throttled",-0,0),c);break e}Ep(l,n,oa,Xi,$u,t,ja,Ms,yl,Gn,u,null,-0,0)}}break}while(!0);Za(e)}function Ep(e,t,n,l,c,u,y,C,_,Q,te,le,K,J){if(e.timeoutHandle=-1,le=t.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},vp(t,u,le);var we=(u&62914560)===u?$i-lt():(u&4194048)===u?Sp-lt():0;if(we=Vb(le,we),we!==null){Sn=u,e.cancelPendingCommit=we(kp.bind(null,e,t,u,n,l,c,y,C,_,te,le,null,K,J)),Xn(e,u,y,!Q);return}}kp(e,t,u,n,l,c,y,C,_)}function rb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!pa(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,n,l){t&=~Yu,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var u=31-ha(c),y=1<<u;l[u]=-1,c&=~y}n!==0&&zf(e,n,t)}function Ki(){return(st&6)===0?(Cr(0),!1):!0}function Zu(){if(Ye!==null){if(ut===0)var e=Ye.return;else e=Ye,fn=js=null,mu(e),ul=null,ir=0,e=Ye;for(;e!==null;)sp(e.alternate,e),e=e.return;Ye=null}}function jl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ab(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Sn=0,Zu(),yt=e,Ye=n=un(e.current,null),Qe=t,ut=0,va=null,Gn=!1,gl=Vl(e,t),Gu=!1,yl=ja=Yu=Ms=Yn=Et=0,oa=Sr=null,$u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ha(l),u=1<<c;t|=e[c],l&=~u}return Nn=t,gi(),n}function Tp(e,t){qe=null,L.H=pr,t===cl||t===Ci?(t=Vm(),ut=3):t===tu?(t=Vm(),ut=4):ut=t===Mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,va=t,Ye===null&&(Et=1,Ii(e,Ta(t,e.current)))}function Mp(){var e=ga.current;return e===null?!0:(Qe&4194048)===Qe?Oa===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?e===Oa:!1}function Dp(){var e=L.H;return L.H=pr,e===null?pr:e}function Rp(){var e=L.A;return L.A=sb,e}function Zi(){Et=4,Gn||(Qe&4194048)!==Qe&&ga.current!==null||(gl=!0),(Yn&134217727)===0&&(Ms&134217727)===0||yt===null||Xn(yt,Qe,ja,!1)}function Wu(e,t,n){var l=st;st|=2;var c=Dp(),u=Rp();(yt!==e||Qe!==t)&&(Xi=null,jl(e,t)),t=!1;var y=Et;e:do try{if(ut!==0&&Ye!==null){var C=Ye,_=va;switch(ut){case 8:Zu(),y=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(t=!0);var Q=ut;if(ut=0,va=null,bl(e,C,_,Q),n&&gl){y=0;break e}break;default:Q=ut,ut=0,va=null,bl(e,C,_,Q)}}ib(),y=Et;break}catch(te){Tp(e,te)}while(!0);return t&&e.shellSuspendCounter++,fn=js=null,st=l,L.H=c,L.A=u,Ye===null&&(yt=null,Qe=0,gi()),y}function ib(){for(;Ye!==null;)Op(Ye)}function ob(e,t){var n=st;st|=2;var l=Dp(),c=Rp();yt!==e||Qe!==t?(Xi=null,Qi=lt()+500,jl(e,t)):gl=Vl(e,t);e:do try{if(ut!==0&&Ye!==null){t=Ye;var u=va;t:switch(ut){case 1:ut=0,va=null,bl(e,t,u,1);break;case 2:case 9:if(Hm(u)){ut=0,va=null,_p(t);break}t=function(){ut!==2&&ut!==9||yt!==e||(ut=7),Za(e)},u.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Hm(u)?(ut=0,va=null,_p(t)):(ut=0,va=null,bl(e,t,u,7));break;case 5:var y=null;switch(Ye.tag){case 26:y=Ye.memoizedState;case 5:case 27:var C=Ye;if(y?yx(y):C.stateNode.complete){ut=0,va=null;var _=C.sibling;if(_!==null)Ye=_;else{var Q=C.return;Q!==null?(Ye=Q,Wi(Q)):Ye=null}break t}}ut=0,va=null,bl(e,t,u,5);break;case 6:ut=0,va=null,bl(e,t,u,6);break;case 8:Zu(),Et=6;break e;default:throw Error(o(462))}}cb();break}catch(te){Tp(e,te)}while(!0);return fn=js=null,L.H=l,L.A=c,st=n,Ye!==null?0:(yt=null,Qe=0,gi(),Et)}function cb(){for(;Ye!==null&&!ze();)Op(Ye)}function Op(e){var t=ap(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Wi(e):Ye=t}function _p(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Kh(n,t,t.pendingProps,t.type,void 0,Qe);break;case 11:t=Kh(n,t,t.pendingProps,t.type.render,t.ref,Qe);break;case 5:mu(t);default:sp(n,t),t=Ye=Rm(t,Nn),t=ap(n,t,Nn)}e.memoizedProps=e.pendingProps,t===null?Wi(e):Ye=t}function bl(e,t,n,l){fn=js=null,mu(t),ul=null,ir=0;var c=t.return;try{if(Zj(e,c,t,n,Qe)){Et=1,Ii(e,Ta(n,e.current)),Ye=null;return}}catch(u){if(c!==null)throw Ye=c,u;Et=1,Ii(e,Ta(n,e.current)),Ye=null;return}t.flags&32768?(Ke||l===1?e=!0:gl||(Qe&536870912)!==0?e=!1:(Gn=e=!0,(l===2||l===9||l===3||l===6)&&(l=ga.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pp(t,e)):Wi(t)}function Wi(e){var t=e;do{if((t.flags&32768)!==0){Pp(t,Gn);return}e=t.return;var n=eb(t.alternate,t,Nn);if(n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Et===0&&(Et=5)}function Pp(e,t){do{var n=tb(e.alternate,e);if(n!==null){n.flags&=32767,Ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=n}while(e!==null);Et=6,Ye=null}function kp(e,t,n,l,c,u,y,C,_){e.cancelPendingCommit=null;do Ji();while(Pt!==0);if((st&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=qc,H0(e,n,u,y,C,_),e===yt&&(Ye=yt=null,Qe=0),vl=t,Qn=e,Sn=n,Qu=u,Xu=c,wp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mb($a,function(){return qp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=X.p,X.p=2,y=st,st|=4;try{ab(e,t,n)}finally{st=y,X.p=c,L.T=l}}Pt=1,Lp(),zp(),Up()}}function Lp(){if(Pt===1){Pt=0;var e=Qn,t=vl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=st;st|=4;try{xp(t,e);var u=ud,y=Nm(e.containerInfo),C=u.focusedElem,_=u.selectionRange;if(y!==C&&C&&C.ownerDocument&&bm(C.ownerDocument.documentElement,C)){if(_!==null&&kc(C)){var Q=_.start,te=_.end;if(te===void 0&&(te=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(te,C.value.length);else{var le=C.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var J=K.getSelection(),we=C.textContent.length,Pe=Math.min(_.start,we),xt=_.end===void 0?Pe:Math.min(_.end,we);!J.extend&&Pe>xt&&(y=xt,xt=Pe,Pe=y);var F=jm(C,Pe),U=jm(C,xt);if(F&&U&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var $=le.createRange();$.setStart(F.node,F.offset),J.removeAllRanges(),Pe>xt?(J.addRange($),J.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),J.addRange($))}}}}for(le=[],J=C;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<le.length;C++){var ne=le[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}fo=!!cd,ud=cd=null}finally{st=c,X.p=l,L.T=n}}e.current=t,Pt=2}}function zp(){if(Pt===2){Pt=0;var e=Qn,t=vl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=st;st|=4;try{dp(e,t.alternate,t)}finally{st=c,X.p=l,L.T=n}}Pt=3}}function Up(){if(Pt===4||Pt===3){Pt=0,We();var e=Qn,t=vl,n=Sn,l=wp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,vl=Qn=null,Ip(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&($n=null),xc(n),t=t.stateNode,ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,c=X.p,X.p=2,L.T=null;try{for(var u=e.onRecoverableError,y=0;y<l.length;y++){var C=l[y];u(C.value,{componentStack:C.stack})}}finally{L.T=t,X.p=c}}(Sn&3)!==0&&Ji(),Za(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ku?wr++:(wr=0,Ku=e):wr=0,Cr(0)}}function Ip(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function Ji(){return Lp(),zp(),Up(),qp()}function qp(){if(Pt!==5)return!1;var e=Qn,t=Qu;Qu=0;var n=xc(Sn),l=L.T,c=X.p;try{X.p=32>n?32:n,L.T=null,n=Xu,Xu=null;var u=Qn,y=Sn;if(Pt=0,vl=Qn=null,Sn=0,(st&6)!==0)throw Error(o(331));var C=st;if(st|=4,bp(u.current),yp(u,u.current,y,n),st=C,Cr(0,!1),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(Fl,u)}catch{}return!0}finally{X.p=c,L.T=l,Ip(e,t)}}function Bp(e,t,n){t=Ta(n,t),t=Tu(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(Gl(e,2),Za(e))}function dt(e,t,n){if(e.tag===3)Bp(e,e,n);else for(;t!==null;){if(t.tag===3){Bp(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($n===null||!$n.has(l))){e=Ta(n,e),n=Hh(2),l=Bn(t,n,2),l!==null&&(Fh(n,l,t,e),Gl(l,2),Za(l));break}}t=t.return}}function Ju(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new lb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Gu=!0,c.add(n),e=ub.bind(null,e,t,n),t.then(e,e))}function ub(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&(Qe&n)===n&&(Et===4||Et===3&&(Qe&62914560)===Qe&&300>lt()-$i?(st&2)===0&&jl(e,0):Yu|=n,yl===Qe&&(yl=0)),Za(e)}function Hp(e,t){t===0&&(t=Lf()),e=gs(e,t),e!==null&&(Gl(e,t),Za(e))}function db(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hp(e,n)}function fb(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Hp(e,n)}function mb(e,t){return je(e,t)}var eo=null,Nl=null,ed=!1,to=!1,td=!1,Kn=0;function Za(e){e!==Nl&&e.next===null&&(Nl===null?eo=Nl=e:Nl=Nl.next=e),to=!0,ed||(ed=!0,pb())}function Cr(e,t){if(!td&&to){td=!0;do for(var n=!1,l=eo;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var y=l.suspendedLanes,C=l.pingedLanes;u=(1<<31-ha(42|e)+1)-1,u&=c&~(y&~C),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Yp(l,u))}else u=Qe,u=li(l,l===yt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Vl(l,u)||(n=!0,Yp(l,u));l=l.next}while(n);td=!1}}function hb(){Fp()}function Fp(){to=ed=!1;var e=0;Kn!==0&&Cb()&&(e=Kn);for(var t=lt(),n=null,l=eo;l!==null;){var c=l.next,u=Vp(l,t);u===0?(l.next=null,n===null?eo=c:n.next=c,c===null&&(Nl=n)):(n=l,(e!==0||(u&3)!==0)&&(to=!0)),l=c}Pt!==0&&Pt!==5||Cr(e),Kn!==0&&(Kn=0)}function Vp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-ha(u),C=1<<y,_=c[y];_===-1?((C&n)===0||(C&l)!==0)&&(c[y]=B0(C,t)):_<=t&&(e.expiredLanes|=C),u&=~C}if(t=yt,n=Qe,n=li(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ge(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Vl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&ge(l),xc(n)){case 2:case 8:n=Ia;break;case 32:n=$a;break;case 268435456:n=kf;break;default:n=$a}return l=Gp.bind(null,e),n=je(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&ge(l),e.callbackPriority=2,e.callbackNode=null,2}function Gp(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var l=Qe;return l=li(e,e===yt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ap(e,l,t),Vp(e,lt()),e.callbackNode!=null&&e.callbackNode===n?Gp.bind(null,e):null)}function Yp(e,t){if(Ji())return null;Ap(e,t,!0)}function pb(){Eb(function(){(st&6)!==0?je(zt,hb):Fp()})}function ad(){if(Kn===0){var e=il;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Kn=e}return Kn}function $p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ci(""+e)}function Qp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var u=$p((c[na]||null).action),y=l.submitter;y&&(t=(t=y[na]||null)?$p(t.formAction):y.getAttribute("formAction"),t!==null&&(u=t,y=null));var C=new mi("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kn!==0){var _=y?Qp(c,y):new FormData(c);Nu(n,{pending:!0,data:_,method:c.method,action:u},null,_)}}else typeof u=="function"&&(C.preventDefault(),_=y?Qp(c,y):new FormData(c),Nu(n,{pending:!0,data:_,method:c.method,action:u},u,_))},currentTarget:c}]})}}for(var nd=0;nd<Ic.length;nd++){var sd=Ic[nd],gb=sd.toLowerCase(),yb=sd[0].toUpperCase()+sd.slice(1);qa(gb,"on"+yb)}qa(Cm,"onAnimationEnd"),qa(Am,"onAnimationIteration"),qa(Em,"onAnimationStart"),qa("dblclick","onDoubleClick"),qa("focusin","onFocus"),qa("focusout","onBlur"),qa(Pj,"onTransitionRun"),qa(kj,"onTransitionStart"),qa(Lj,"onTransitionCancel"),qa(Tm,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ar));function Xp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var y=l.length-1;0<=y;y--){var C=l[y],_=C.instance,Q=C.currentTarget;if(C=C.listener,_!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Q;try{u(c)}catch(te){xi(te)}c.currentTarget=null,u=_}else for(y=0;y<l.length;y++){if(C=l[y],_=C.instance,Q=C.currentTarget,C=C.listener,_!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Q;try{u(c)}catch(te){xi(te)}c.currentTarget=null,u=_}}}}function $e(e,t){var n=t[gc];n===void 0&&(n=t[gc]=new Set);var l=e+"__bubble";n.has(l)||(Kp(t,e,2,!1),n.add(l))}function ld(e,t,n){var l=0;t&&(l|=4),Kp(n,e,l,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[ao]){e[ao]=!0,Ff.forEach(function(n){n!=="selectionchange"&&(vb.has(n)||ld(n,!1,e),ld(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,ld("selectionchange",!1,t))}}function Kp(e,t,n,l){switch(Cx(t)){case 2:var c=$b;break;case 8:c=Qb;break;default:c=bd}n=c.bind(null,t,n,e),c=void 0,!Ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function id(e,t,n,l,c){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c)break;if(y===4)for(y=l.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;C!==null;){if(y=Vs(C),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){l=u=y;continue e}C=C.parentNode}}l=l.return}tm(function(){var Q=u,te=wc(n),le=[];e:{var K=Mm.get(e);if(K!==void 0){var J=mi,we=e;switch(e){case"keypress":if(di(n)===0)break e;case"keydown":case"keyup":J=fj;break;case"focusin":we="focus",J=Dc;break;case"focusout":we="blur",J=Dc;break;case"beforeblur":case"afterblur":J=Dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=pj;break;case Cm:case Am:case Em:J=nj;break;case Tm:J=gj;break;case"scroll":case"scrollend":J=W0;break;case"wheel":J=vj;break;case"copy":case"cut":case"paste":J=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=rm;break;case"toggle":case"beforetoggle":J=bj}var Pe=(t&4)!==0,xt=!Pe&&(e==="scroll"||e==="scrollend"),F=Pe?K!==null?K+"Capture":null:K;Pe=[];for(var U=Q,$;U!==null;){var ne=U;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||F===null||(ne=Ql(U,F),ne!=null&&Pe.push(Er(U,ne,$))),xt)break;U=U.return}0<Pe.length&&(K=new J(K,we,null,n,te),le.push({event:K,listeners:Pe}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",K&&n!==Sc&&(we=n.relatedTarget||n.fromElement)&&(Vs(we)||we[Fs]))break e;if((J||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,J?(we=n.relatedTarget||n.toElement,J=Q,we=we?Vs(we):null,we!==null&&(xt=f(we),Pe=we.tag,we!==xt||Pe!==5&&Pe!==27&&Pe!==6)&&(we=null)):(J=null,we=Q),J!==we)){if(Pe=sm,ne="onMouseLeave",F="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=rm,ne="onPointerLeave",F="onPointerEnter",U="pointer"),xt=J==null?K:$l(J),$=we==null?K:$l(we),K=new Pe(ne,U+"leave",J,n,te),K.target=xt,K.relatedTarget=$,ne=null,Vs(te)===Q&&(Pe=new Pe(F,U+"enter",we,n,te),Pe.target=$,Pe.relatedTarget=xt,ne=Pe),xt=ne,J&&we)t:{for(Pe=jb,F=J,U=we,$=0,ne=F;ne;ne=Pe(ne))$++;ne=0;for(var _e=U;_e;_e=Pe(_e))ne++;for(;0<$-ne;)F=Pe(F),$--;for(;0<ne-$;)U=Pe(U),ne--;for(;$--;){if(F===U||U!==null&&F===U.alternate){Pe=F;break t}F=Pe(F),U=Pe(U)}Pe=null}else Pe=null;J!==null&&Zp(le,K,J,Pe,!1),we!==null&&xt!==null&&Zp(le,xt,we,Pe,!0)}}e:{if(K=Q?$l(Q):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var at=hm;else if(fm(K))if(pm)at=Rj;else{at=Mj;var De=Tj}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&Nc(Q.elementType)&&(at=hm):at=Dj;if(at&&(at=at(e,Q))){mm(le,at,n,te);break e}De&&De(e,K,Q),e==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&bc(K,"number",K.value)}switch(De=Q?$l(Q):window,e){case"focusin":(fm(De)||De.contentEditable==="true")&&(Js=De,Lc=Q,ar=null);break;case"focusout":ar=Lc=Js=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,Sm(le,n,te);break;case"selectionchange":if(_j)break;case"keydown":case"keyup":Sm(le,n,te)}var Be;if(Oc)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ws?um(e,n)&&(Xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Xe="onCompositionStart");Xe&&(im&&n.locale!=="ko"&&(Ws||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ws&&(Be=am()):(Pn=te,Ec="value"in Pn?Pn.value:Pn.textContent,Ws=!0)),De=no(Q,Xe),0<De.length&&(Xe=new lm(Xe,e,null,n,te),le.push({event:Xe,listeners:De}),Be?Xe.data=Be:(Be=dm(n),Be!==null&&(Xe.data=Be)))),(Be=Sj?wj(e,n):Cj(e,n))&&(Xe=no(Q,"onBeforeInput"),0<Xe.length&&(De=new lm("onBeforeInput","beforeinput",null,n,te),le.push({event:De,listeners:Xe}),De.data=Be)),xb(le,e,Q,n,te)}Xp(le,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function no(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Ql(e,n),c!=null&&l.unshift(Er(e,c,u)),c=Ql(e,t),c!=null&&l.push(Er(e,c,u))),e.tag===3)return l;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zp(e,t,n,l,c){for(var u=t._reactName,y=[];n!==null&&n!==l;){var C=n,_=C.alternate,Q=C.stateNode;if(C=C.tag,_!==null&&_===l)break;C!==5&&C!==26&&C!==27||Q===null||(_=Q,c?(Q=Ql(n,u),Q!=null&&y.unshift(Er(n,Q,_))):c||(Q=Ql(n,u),Q!=null&&y.push(Er(n,Q,_)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var bb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function Wp(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Nb,"")}function Jp(e,t){return t=Wp(t),Wp(e)===t}function pt(e,t,n,l,c,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Xs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Xs(e,""+l);break;case"className":ii(e,"class",l);break;case"tabIndex":ii(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,n,l);break;case"style":Jf(e,l,u);break;case"data":if(t!=="object"){ii(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ci(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",c.name,c,null),pt(e,t,"formEncType",c.formEncType,c,null),pt(e,t,"formMethod",c.formMethod,c,null),pt(e,t,"formTarget",c.formTarget,c,null)):(pt(e,t,"encType",c.encType,c,null),pt(e,t,"method",c.method,c,null),pt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ci(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=on);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=ci(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":$e("beforetoggle",e),$e("toggle",e),ri(e,"popover",l);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ri(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=K0.get(n)||n,ri(e,n,l))}}function od(e,t,n,l,c,u){switch(n){case"style":Jf(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Xs(e,l):(typeof l=="number"||typeof l=="bigint")&&Xs(e,""+l);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[na]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ri(e,n,l)}}}function Vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var l=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var y=n[u];if(y!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:pt(e,t,u,y,n,null)}}c&&pt(e,t,"srcSet",n.srcSet,n,null),l&&pt(e,t,"src",n.src,n,null);return;case"input":$e("invalid",e);var C=u=y=c=null,_=null,Q=null;for(l in n)if(n.hasOwnProperty(l)){var te=n[l];if(te!=null)switch(l){case"name":c=te;break;case"type":y=te;break;case"checked":_=te;break;case"defaultChecked":Q=te;break;case"value":u=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,t));break;default:pt(e,t,l,te,n,null)}}Xf(e,u,C,_,Q,y,c,!1);return;case"select":$e("invalid",e),l=y=u=null;for(c in n)if(n.hasOwnProperty(c)&&(C=n[c],C!=null))switch(c){case"value":u=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:pt(e,t,c,C,n,null)}t=u,n=y,e.multiple=!!l,t!=null?Qs(e,!!l,t,!1):n!=null&&Qs(e,!!l,n,!0);return;case"textarea":$e("invalid",e),u=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(C=n[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":c=C;break;case"children":u=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:pt(e,t,y,C,n,null)}Zf(e,l,c,u);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(l=n[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pt(e,t,_,l,n,null)}return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(l=0;l<Ar.length;l++)$e(Ar[l],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in n)if(n.hasOwnProperty(Q)&&(l=n[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:pt(e,t,Q,l,n,null)}return;default:if(Nc(t)){for(te in n)n.hasOwnProperty(te)&&(l=n[te],l!==void 0&&od(e,t,te,l,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null&&pt(e,t,C,l,n,null))}function Sb(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,C=null,_=null,Q=null,te=null;for(J in n){var le=n[J];if(n.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":_=le;default:l.hasOwnProperty(J)||pt(e,t,J,null,l,le)}}for(var K in l){var J=l[K];if(le=n[K],l.hasOwnProperty(K)&&(J!=null||le!=null))switch(K){case"type":u=J;break;case"name":c=J;break;case"checked":Q=J;break;case"defaultChecked":te=J;break;case"value":y=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:J!==le&&pt(e,t,K,J,l,le)}}jc(e,y,C,_,Q,te,u,c);return;case"select":J=y=C=K=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":J=_;default:l.hasOwnProperty(u)||pt(e,t,u,null,l,_)}for(c in l)if(u=l[c],_=n[c],l.hasOwnProperty(c)&&(u!=null||_!=null))switch(c){case"value":K=u;break;case"defaultValue":C=u;break;case"multiple":y=u;default:u!==_&&pt(e,t,c,u,l,_)}t=C,n=y,l=J,K!=null?Qs(e,!!n,K,!1):!!l!=!!n&&(t!=null?Qs(e,!!n,t,!0):Qs(e,!!n,n?[]:"",!1));return;case"textarea":J=K=null;for(C in n)if(c=n[C],n.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:pt(e,t,C,null,l,c)}for(y in l)if(c=l[y],u=n[y],l.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":K=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&pt(e,t,y,c,l,u)}Kf(e,K,J);return;case"option":for(var we in n)if(K=n[we],n.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:pt(e,t,we,null,l,K)}for(_ in l)if(K=l[_],J=n[_],l.hasOwnProperty(_)&&K!==J&&(K!=null||J!=null))switch(_){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:pt(e,t,_,K,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in n)K=n[Pe],n.hasOwnProperty(Pe)&&K!=null&&!l.hasOwnProperty(Pe)&&pt(e,t,Pe,null,l,K);for(Q in l)if(K=l[Q],J=n[Q],l.hasOwnProperty(Q)&&K!==J&&(K!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:pt(e,t,Q,K,l,J)}return;default:if(Nc(t)){for(var xt in n)K=n[xt],n.hasOwnProperty(xt)&&K!==void 0&&!l.hasOwnProperty(xt)&&od(e,t,xt,void 0,l,K);for(te in l)K=l[te],J=n[te],!l.hasOwnProperty(te)||K===J||K===void 0&&J===void 0||od(e,t,te,K,l,J);return}}for(var F in n)K=n[F],n.hasOwnProperty(F)&&K!=null&&!l.hasOwnProperty(F)&&pt(e,t,F,null,l,K);for(le in l)K=l[le],J=n[le],!l.hasOwnProperty(le)||K===J||K==null&&J==null||pt(e,t,le,K,l,J)}function ex(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],u=c.transferSize,y=c.initiatorType,C=c.duration;if(u&&C&&ex(y)){for(y=0,C=c.responseEnd,l+=1;l<n.length;l++){var _=n[l],Q=_.startTime;if(Q>C)break;var te=_.transferSize,le=_.initiatorType;te&&ex(le)&&(_=_.responseEnd,y+=te*(_<C?1:(C-Q)/(_-Q)))}if(--l,t+=8*(u+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,ud=null;function so(e){return e.nodeType===9?e:e.ownerDocument}function tx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ax(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var nx=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(e){return sx.resolve(null).then(e).catch(Tb)}:nx;function Tb(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function lx(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Al(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Tr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Tr(n);for(var u=n.firstChild;u;){var y=u.nextSibling,C=u.nodeName;u[Yl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=y}}else n==="body"&&Tr(e.ownerDocument.body);n=c}while(n);Al(t)}function rx(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),yc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Mb(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=_a(e.nextSibling),e===null)break}return null}function Db(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=_a(e.nextSibling),e===null))return null;return e}function ix(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_a(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function _a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xd=null;function ox(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return _a(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ux(e,t,n){switch(t=so(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Tr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yc(e)}var Pa=new Map,dx=new Set;function lo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=X.d;X.d={f:Ob,r:_b,D:Pb,C:kb,L:Lb,m:zb,X:Ib,S:Ub,M:qb};function Ob(){var e=wn.f(),t=Ki();return e||t}function _b(e){var t=Gs(e);t!==null&&t.tag===5&&t.type==="form"?Th(t):wn.r(e)}var Sl=typeof document>"u"?null:document;function fx(e,t,n){var l=Sl;if(l&&typeof t=="string"&&t){var c=Aa(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),dx.has(c)||(dx.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Vt(t,"link",e),Ut(t),l.head.appendChild(t)))}}function Pb(e){wn.D(e),fx("dns-prefetch",e,null)}function kb(e,t){wn.C(e,t),fx("preconnect",e,t)}function Lb(e,t,n){wn.L(e,t,n);var l=Sl;if(l&&e&&t){var c='link[rel="preload"][as="'+Aa(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Aa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Aa(n.imageSizes)+'"]')):c+='[href="'+Aa(e)+'"]';var u=c;switch(t){case"style":u=wl(e);break;case"script":u=Cl(e)}Pa.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pa.set(u,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Mr(u))||t==="script"&&l.querySelector(Dr(u))||(t=l.createElement("link"),Vt(t,"link",e),Ut(t),l.head.appendChild(t)))}}function zb(e,t){wn.m(e,t);var n=Sl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Aa(l)+'"][href="'+Aa(e)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Cl(e)}if(!Pa.has(u)&&(e=v({rel:"modulepreload",href:e},t),Pa.set(u,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dr(u)))return}l=n.createElement("link"),Vt(l,"link",e),Ut(l),n.head.appendChild(l)}}}function Ub(e,t,n){wn.S(e,t,n);var l=Sl;if(l&&e){var c=Ys(l).hoistableStyles,u=wl(e);t=t||"default";var y=c.get(u);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(Mr(u)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pa.get(u))&&gd(e,n);var _=y=l.createElement("link");Ut(_),Vt(_,"link",e),_._p=new Promise(function(Q,te){_.onload=Q,_.onerror=te}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ro(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:C},c.set(u,y)}}}function Ib(e,t){wn.X(e,t);var n=Sl;if(n&&e){var l=Ys(n).hoistableScripts,c=Cl(e),u=l.get(c);u||(u=n.querySelector(Dr(c)),u||(e=v({src:e,async:!0},t),(t=Pa.get(c))&&yd(e,t),u=n.createElement("script"),Ut(u),Vt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function qb(e,t){wn.M(e,t);var n=Sl;if(n&&e){var l=Ys(n).hoistableScripts,c=Cl(e),u=l.get(c);u||(u=n.querySelector(Dr(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Pa.get(c))&&yd(e,t),u=n.createElement("script"),Ut(u),Vt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function mx(e,t,n,l){var c=(c=fe.current)?lo(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wl(n.href),n=Ys(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wl(n.href);var u=Ys(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(Mr(e)))&&!u._p&&(y.instance=u,y.state.loading=5),Pa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pa.set(e,n),u||Bb(c,e,n,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cl(n),n=Ys(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function wl(e){return'href="'+Aa(e)+'"'}function Mr(e){return'link[rel="stylesheet"]['+e+"]"}function hx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Vt(t,"link",n),Ut(t),e.head.appendChild(t))}function Cl(e){return'[src="'+Aa(e)+'"]'}function Dr(e){return"script[async]"+e}function px(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Aa(n.href)+'"]');if(l)return t.instance=l,Ut(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ut(l),Vt(l,"style",c),ro(l,n.precedence,e),t.instance=l;case"stylesheet":c=wl(n.href);var u=e.querySelector(Mr(c));if(u)return t.state.loading|=4,t.instance=u,Ut(u),u;l=hx(n),(c=Pa.get(c))&&gd(l,c),u=(e.ownerDocument||e).createElement("link"),Ut(u);var y=u;return y._p=new Promise(function(C,_){y.onload=C,y.onerror=_}),Vt(u,"link",l),t.state.loading|=4,ro(u,n.precedence,e),t.instance=u;case"script":return u=Cl(n.src),(c=e.querySelector(Dr(u)))?(t.instance=c,Ut(c),c):(l=n,(c=Pa.get(u))&&(l=v({},n),yd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ut(c),Vt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ro(l,n.precedence,e));return t.instance}function ro(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===t)u=C;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var io=null;function xx(e,t,n){if(io===null){var l=new Map,c=io=new Map;c.set(n,l)}else c=io,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[Yl]||u[qt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(t)||"";y=e+y;var C=l.get(y);C?C.push(u):l.set(y,[u])}}return l}function gx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Hb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function yx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fb(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=wl(l.href),u=t.querySelector(Mr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Ut(u);return}u=t.ownerDocument||t,l=hx(l),(c=Pa.get(c))&&gd(l,c),u=u.createElement("link"),Ut(u);var y=u;y._p=new Promise(function(C,_){y.onload=C,y.onerror=_}),Vt(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=oo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vd=0;function Vb(e,t){return e.stylesheets&&e.count===0&&uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&vd===0&&(vd=62500*wb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>vd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var co=null;function uo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,co=new Map,t.forEach(Gb,e),co=null,oo.call(e))}function Gb(e,t){if(!(t.state.loading&4)){var n=co.get(e);if(n)var l=n.get(null);else{n=new Map,co.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),u=n.get(y)||l,u===l&&n.set(null,c),n.set(y,c),this.count++,l=oo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Rr={$$typeof:T,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Yb(e,t,n,l,c,u,y,C,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.hiddenUpdates=hc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function vx(e,t,n,l,c,u,y,C,_,Q,te,le){return e=new Yb(e,t,n,y,_,Q,te,le,C),t=1,u===!0&&(t|=24),u=xa(3,null,null,t),e.current=u,u.stateNode=e,t=Wc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},au(u),e}function jx(e){return e?(e=al,e):al}function bx(e,t,n,l,c,u){c=jx(c),l.context===null?l.context=c:l.pendingContext=c,l=qn(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Bn(e,l,t),n!==null&&(ca(n,e,t),cr(n,e,t))}function Nx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){Nx(e,t),(e=e.alternate)&&Nx(e,t)}function Sx(e){if(e.tag===13||e.tag===31){var t=gs(e,67108864);t!==null&&ca(t,e,67108864),jd(e,67108864)}}function wx(e){if(e.tag===13||e.tag===31){var t=ba();t=pc(t);var n=gs(e,t);n!==null&&ca(n,e,t),jd(e,t)}}var fo=!0;function $b(e,t,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=2,bd(e,t,n,l)}finally{X.p=u,L.T=c}}function Qb(e,t,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=8,bd(e,t,n,l)}finally{X.p=u,L.T=c}}function bd(e,t,n,l){if(fo){var c=Nd(l);if(c===null)id(e,t,l,mo,n),Ax(e,l);else if(Kb(c,e,t,n,l))l.stopPropagation();else if(Ax(e,l),t&4&&-1<Xb.indexOf(e)){for(;c!==null;){var u=Gs(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=fs(u.pendingLanes);if(y!==0){var C=u;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var _=1<<31-ha(y);C.entanglements[1]|=_,y&=~_}Za(u),(st&6)===0&&(Qi=lt()+500,Cr(0))}}break;case 31:case 13:C=gs(u,2),C!==null&&ca(C,u,2),Ki(),jd(u,2)}if(u=Nd(l),u===null&&id(e,t,l,mo,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else id(e,t,l,null,n)}}function Nd(e){return e=wc(e),Sd(e)}var mo=null;function Sd(e){if(mo=null,e=Vs(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mo=e,null}function Cx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case zt:return 2;case Ia:return 8;case $a:case k0:return 32;case kf:return 268435456;default:return 32}default:return 32}}var wd=!1,Wn=null,Jn=null,es=null,Or=new Map,_r=new Map,ts=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ax(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function Pr(e,t,n,l,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Gs(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kb(e,t,n,l,c){switch(t){case"focusin":return Wn=Pr(Wn,e,t,n,l,c),!0;case"dragenter":return Jn=Pr(Jn,e,t,n,l,c),!0;case"mouseover":return es=Pr(es,e,t,n,l,c),!0;case"pointerover":var u=c.pointerId;return Or.set(u,Pr(Or.get(u)||null,e,t,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,_r.set(u,Pr(_r.get(u)||null,e,t,n,l,c)),!0}return!1}function Ex(e){var t=Vs(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Bf(e.priority,function(){wx(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Bf(e.priority,function(){wx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Sc=l,n.target.dispatchEvent(l),Sc=null}else return t=Gs(n),t!==null&&Sx(t),e.blockedOn=n,!1;t.shift()}return!0}function Tx(e,t,n){ho(e)&&n.delete(t)}function Zb(){wd=!1,Wn!==null&&ho(Wn)&&(Wn=null),Jn!==null&&ho(Jn)&&(Jn=null),es!==null&&ho(es)&&(es=null),Or.forEach(Tx),_r.forEach(Tx)}function po(e,t){e.blockedOn===t&&(e.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var xo=null;function Mx(e){xo!==e&&(xo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xo===e&&(xo=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Sd(l||n)===null)continue;break}var u=Gs(n);u!==null&&(e.splice(t,3),t-=3,Nu(u,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Al(e){function t(_){return po(_,e)}Wn!==null&&po(Wn,e),Jn!==null&&po(Jn,e),es!==null&&po(es,e),Or.forEach(t),_r.forEach(t);for(var n=0;n<ts.length;n++){var l=ts[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)Ex(n),n.blockedOn===null&&ts.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],u=n[l+1],y=c[na]||null;if(typeof u=="function")y||Mx(n);else if(y){var C=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[na]||null)C=y.formAction;else if(Sd(c)!==null)continue}else C=y.action;typeof C=="function"?n[l+1]=C:(n.splice(l,3),l-=3),Mx(n)}}}function Dx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Cd(e){this._internalRoot=e}go.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=ba();bx(n,l,e,t,null,null)},go.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bx(e.current,2,null,e,null,null),Ki(),t[Fs]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=qf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ts.length&&t!==0&&t<ts[n].priority;n++);ts.splice(n,0,e),n===0&&Ex(e)}};var Rx=r.version;if(Rx!=="19.2.3")throw Error(o(527,Rx,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Fl=yo.inject(Wb),ma=yo}catch{}}return Lr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,l="",c=Uh,u=Ih,y=qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=vx(e,1,!1,null,null,n,l,null,c,u,y,Dx),e[Fs]=t.current,rd(e),new Cd(t)},Lr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var l=!1,c="",u=Uh,y=Ih,C=qh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=vx(e,1,!0,t,n??null,l,c,_,u,y,C,Dx),t.context=jx(null),n=t.current,l=ba(),l=pc(l),c=qn(l),c.callback=null,Bn(n,c,l),n=l,t.current.lanes=n,Gl(t,n),Za(t),e[Fs]=t.current,rd(e),new go(t)},Lr.version="19.2.3",Lr}var Bx;function oN(){if(Bx)return Td.exports;Bx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Td.exports=iN(),Td.exports}var cN=oN();class uN{constructor(){this.dbName="SofaFactoryManager",this.version=3,this.db=null,this.initPromise=null}async resetDatabase(){return new Promise((r,i)=>{this.db&&(this.db.close(),this.db=null);const o=indexedDB.deleteDatabase(this.dbName);o.onsuccess=()=>{console.log("Database deleted successfully"),r()},o.onerror=()=>{console.error("Error deleting database"),i(o.error)},o.onblocked=()=>{console.warn("Database deletion blocked"),r()}})}async init(){return this.initPromise?this.initPromise:this.db?this.db:(this.initPromise=new Promise((r,i)=>{try{const o=indexedDB.open(this.dbName,this.version);o.onerror=d=>{console.error("Database error:",d.target.error),this.initPromise=null,i(d.target.error)},o.onsuccess=()=>{this.db=o.result,this.initPromise=null,this.db.onerror=d=>{console.error("Database error:",d.target.error)},r(this.db)},o.onblocked=()=>{console.warn("Database upgrade blocked. Please close other tabs.")},o.onupgradeneeded=d=>{const f=d.target.result;if(f.objectStoreNames.contains("company")||f.createObjectStore("company",{keyPath:"id"}),f.objectStoreNames.contains("locations")||f.createObjectStore("locations",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!0}),!f.objectStoreNames.contains("users")){const h=f.createObjectStore("users",{keyPath:"id",autoIncrement:!0});h.createIndex("email","email",{unique:!0}),h.createIndex("role","role",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1})}if(!f.objectStoreNames.contains("suppliers")){const h=f.createObjectStore("suppliers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("customers")){const h=f.createObjectStore("customers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("phone","phone",{unique:!1})}if(!f.objectStoreNames.contains("rawMaterials")){const h=f.createObjectStore("rawMaterials",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("labourers")){const h=f.createObjectStore("labourers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("sofaModels")){const h=f.createObjectStore("sofaModels",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("orders")){const h=f.createObjectStore("orders",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("orderDate","orderDate",{unique:!1})}if(!f.objectStoreNames.contains("labourCosts")){const h=f.createObjectStore("labourCosts",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("month","month",{unique:!1})}if(!f.objectStoreNames.contains("purchases")){const h=f.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0});h.createIndex("supplierId","supplierId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("sales")){const h=f.createObjectStore("sales",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("cleaningServices")){const h=f.createObjectStore("cleaningServices",{keyPath:"id",autoIncrement:!0});h.createIndex("saleId","saleId",{unique:!1}),h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("scheduledDate","scheduledDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("linkedEntities")){const h=f.createObjectStore("linkedEntities",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("supplierId","supplierId",{unique:!1})}if(!f.objectStoreNames.contains("notifications")){const h=f.createObjectStore("notifications",{keyPath:"id",autoIncrement:!0});h.createIndex("userId","userId",{unique:!1}),h.createIndex("type","type",{unique:!1}),h.createIndex("read","read",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("syncRecords")){const h=f.createObjectStore("syncRecords",{keyPath:"id",autoIncrement:!0});h.createIndex("tableName","tableName",{unique:!1}),h.createIndex("recordId","recordId",{unique:!1}),h.createIndex("action","action",{unique:!1}),h.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains("productions")){const h=f.createObjectStore("productions",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("productionType","productionType",{unique:!1}),h.createIndex("startDate","startDate",{unique:!1})}if(!f.objectStoreNames.contains("labourPayments")){const h=f.createObjectStore("labourPayments",{keyPath:"id",autoIncrement:!0});h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentDate","paymentDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}}}catch(o){console.error("Error initializing database:",o),this.initPromise=null,i(o)}}),this.initPromise)}async ensureReady(){return this.db||await this.init(),this.db}async add(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.createdAt=new Date().toISOString(),i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const x=d.add(i);x.onsuccess=()=>h(x.result),x.onerror=()=>{console.error(`Error adding to ${r}:`,x.error),p(x.error)}});return this.trackSync(r,f,"create").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in add for ${r}:`,o),o}}async get(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readonly").objectStore(r);return new Promise((f,h)=>{const p=d.get(i);p.onsuccess=()=>f(p.result||null),p.onerror=()=>{console.error(`Error getting from ${r}:`,p.error),f(null)}})}catch(o){return console.error(`Error in get for ${r}:`,o),null}}async getAll(r,i=null,o=null){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist, returning empty array`),[];const f=this.db.transaction([r],"readonly").objectStore(r);return new Promise((h,p)=>{let x;if(i&&o!==null)try{x=f.index(i).getAll(o)}catch{x=f.getAll()}else x=f.getAll();x.onsuccess=()=>h(x.result||[]),x.onerror=()=>{console.error(`Error getting all from ${r}:`,x.error),h([])}})}catch(d){return console.error(`Error in getAll for ${r}:`,d),[]}}async update(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const x=d.put(i);x.onsuccess=()=>h(x.result),x.onerror=()=>{console.error(`Error updating ${r}:`,x.error),p(x.error)}});return this.trackSync(r,i.id,"update").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in update for ${r}:`,o),o}}async delete(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r),f=await new Promise((h,p)=>{const x=d.delete(i);x.onsuccess=()=>h(x.result),x.onerror=()=>{console.error(`Error deleting from ${r}:`,x.error),p(x.error)}});return this.trackSync(r,i,"delete").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in delete for ${r}:`,o),o}}async trackSync(r,i,o){try{const d={tableName:r,recordId:i,action:o,timestamp:new Date().toISOString(),synced:!1};if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return null;const h=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords");return new Promise((p,x)=>{const m=h.add(d);m.onsuccess=()=>p(m.result),m.onerror=()=>{console.warn("Sync tracking error:",m.error),p(null)}})}catch(d){return console.warn("Sync tracking failed:",d),null}}async getUnsyncedRecords(){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return[];const i=this.db.transaction(["syncRecords"],"readonly").objectStore("syncRecords");return new Promise((o,d)=>{const f=i.getAll();f.onsuccess=()=>{const p=(f.result||[]).filter(x=>!x.synced);o(p)},f.onerror=()=>o([])})}catch(r){return console.error("Error getting unsynced records:",r),[]}}async markSynced(r){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return;const o=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords"),d=r.map(f=>new Promise((h,p)=>{const x=o.get(f);x.onsuccess=()=>{const m=x.result;if(m){m.synced=!0;const g=o.put(m);g.onsuccess=()=>h(),g.onerror=()=>h()}else h()},x.onerror=()=>h()}));return Promise.all(d)}catch(i){console.error("Error marking synced:",i)}}async getCurrentUser(){try{return(await this.getAll("users")).find(i=>i.isCurrentUser)||null}catch(r){return console.error("Error getting current user:",r),null}}async getCompanyProfile(){try{return await this.get("company","profile")}catch(r){return console.error("Error getting company profile:",r),null}}async getPendingPayments(r=null){try{const i=await this.getAll("purchases","paymentStatus","unpaid"),o=await this.getAll("sales","paymentStatus","unpaid");let d={purchases:[],sales:[]};return r?(d.purchases=(i||[]).filter(f=>f.locationId===r),d.sales=(o||[]).filter(f=>f.locationId===r)):(d.purchases=i||[],d.sales=o||[]),d}catch(i){return console.error("Error getting pending payments:",i),{purchases:[],sales:[]}}}async getMonthlyLabourReport(r,i,o=null){try{const d=await this.getAll("labourCosts","month",`${i}-${r.toString().padStart(2,"0")}`);if(o){const h=(await this.getAll("sofaModels","locationId",o)||[]).map(p=>p.id);return(d||[]).filter(p=>h.includes(p.sofaModelId))}return d||[]}catch(d){return console.error("Error getting monthly labour report:",d),[]}}async calculateProfit(r){try{const i=await this.get("sales",r);if(!i)return null;const o=await this.get("sofaModels",i.sofaModelId);if(!o)return null;const d=i.finalPrice-(o.totalProductionCost||0);return{revenue:i.finalPrice,cost:o.totalProductionCost||0,profit:d,margin:i.finalPrice>0?d/i.finalPrice*100:0}}catch(i){return console.error("Error calculating profit:",i),null}}}const me=new uN,Wa={ADMIN:"admin",STAFF:"staff",LABOUR_MANAGER:"labour_manager"},El={VIEW_PROFITS:"view_profits",MANAGE_COSTS:"manage_costs",APPROVE_SALES:"approve_sales",MANAGE_USERS:"manage_users",MANAGE_COMPANY:"manage_company",MANAGE_LABOUR:"manage_labour",VIEW_ALL_LOCATIONS:"view_all_locations",SEND_NOTIFICATIONS:"send_notifications"};class dN{constructor(){this.currentUser=null,this.isInitialized=!1}async init(){this.isInitialized||(await me.init(),this.currentUser=await me.getCurrentUser(),this.isInitialized=!0)}async isFirstTimeSetup(){return(await me.getAll("users")).length===0}async createAdminAccount(r){const i={...r,role:Wa.ADMIN,isCurrentUser:!0,permissions:this.getPermissionsForRole(Wa.ADMIN),setupCode:null,locationId:null},o=await me.add("users",i);return this.currentUser=await me.get("users",o),this.currentUser}generateSetupCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}async createUserProfile(r){const i=this.generateSetupCode(),o={...r,setupCode:i,permissions:this.getPermissionsForRole(r.role),isActive:!1,isCurrentUser:!1};return{userId:await me.add("users",o),setupCode:i}}async activateUserAccount(r,i={}){const o=await me.getAll("users"),d=o.find(h=>h.setupCode===r&&!h.isActive);if(!d)throw new Error("Invalid or expired setup code");d.isActive=!0,d.isCurrentUser=!0,d.deviceInfo=i,d.lastLogin=new Date().toISOString();const f=o.filter(h=>h.id!==d.id&&h.isCurrentUser);for(const h of f)h.isCurrentUser=!1,await me.update("users",h);return await me.update("users",d),this.currentUser=d,d}async login(r){const i=await me.get("users",r);if(!i||!i.isActive)throw new Error("User not found or inactive");const o=await me.getAll("users");for(const d of o)d.isCurrentUser=d.id===r,await me.update("users",d);return i.lastLogin=new Date().toISOString(),await me.update("users",i),this.currentUser=i,i}async logout(){this.currentUser&&(this.currentUser.isCurrentUser=!1,await me.update("users",this.currentUser),this.currentUser=null)}getPermissionsForRole(r){switch(r){case Wa.ADMIN:return Object.values(El);case Wa.LABOUR_MANAGER:return[El.MANAGE_LABOUR,El.MANAGE_COSTS];case Wa.STAFF:return[];default:return[]}}hasPermission(r){return this.currentUser?this.currentUser.permissions.includes(r):!1}canAccessLocation(r){return this.currentUser?this.currentUser.role===Wa.ADMIN?!0:this.currentUser.locationId===r:!1}async getAccessibleLocations(){if(!this.currentUser)return[];const r=await me.getAll("locations");return this.currentUser.role===Wa.ADMIN?r:r.filter(i=>i.id===this.currentUser.locationId)}getCurrentUser(){return this.currentUser}async updateUserPermissions(r,i){if(!this.hasPermission(El.MANAGE_USERS))throw new Error("Insufficient permissions");const o=await me.get("users",r);if(!o)throw new Error("User not found");return o.permissions=i,await me.update("users",o),o}async getAllUsers(){if(!this.hasPermission(El.MANAGE_USERS))throw new Error("Insufficient permissions");return await me.getAll("users")}async deleteUser(r){if(!this.hasPermission(El.MANAGE_USERS))throw new Error("Insufficient permissions");if(r===this.currentUser.id)throw new Error("Cannot delete current user");await me.delete("users",r)}isAdmin(){return this.currentUser&&this.currentUser.role===Wa.ADMIN}isStaff(){return this.currentUser&&this.currentUser.role===Wa.STAFF}isLabourManager(){return this.currentUser&&this.currentUser.role===Wa.LABOUR_MANAGER}}const ka=new dN,Pg={user:null,isAuthenticated:!1,isLoading:!0,company:null,locations:[],currentLocation:null,suppliers:[],customers:[],rawMaterials:[],labourers:[],sofaModels:[],purchases:[],sales:[],cleaningServices:[],notifications:[],productions:[],orders:[],sidebarOpen:!1,currentView:"dashboard",locationFilter:"all",dateFilter:"all"},Se={SET_USER:"SET_USER",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_COMPANY:"SET_COMPANY",SET_LOCATIONS:"SET_LOCATIONS",SET_CURRENT_LOCATION:"SET_CURRENT_LOCATION",SET_SUPPLIERS:"SET_SUPPLIERS",SET_CUSTOMERS:"SET_CUSTOMERS",SET_RAW_MATERIALS:"SET_RAW_MATERIALS",SET_LABOURERS:"SET_LABOURERS",SET_SOFA_MODELS:"SET_SOFA_MODELS",SET_PURCHASES:"SET_PURCHASES",SET_SALES:"SET_SALES",SET_CLEANING_SERVICES:"SET_CLEANING_SERVICES",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_PRODUCTIONS:"SET_PRODUCTIONS",SET_ORDERS:"SET_ORDERS",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SET_SIDEBAR_OPEN:"SET_SIDEBAR_OPEN",SET_CURRENT_VIEW:"SET_CURRENT_VIEW",SET_LOCATION_FILTER:"SET_LOCATION_FILTER",SET_DATE_FILTER:"SET_DATE_FILTER",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ"};function fN(s,r){switch(r.type){case Se.SET_USER:return{...s,user:r.payload,isAuthenticated:!!r.payload,isLoading:!1};case Se.SET_LOADING:return{...s,isLoading:r.payload};case Se.LOGOUT:return{...Pg,isLoading:!1};case Se.SET_COMPANY:return{...s,company:r.payload};case Se.SET_LOCATIONS:return{...s,locations:r.payload};case Se.SET_CURRENT_LOCATION:return{...s,currentLocation:r.payload};case Se.SET_SUPPLIERS:return{...s,suppliers:r.payload};case Se.SET_CUSTOMERS:return{...s,customers:r.payload};case Se.SET_RAW_MATERIALS:return{...s,rawMaterials:r.payload};case Se.SET_LABOURERS:return{...s,labourers:r.payload};case Se.SET_SOFA_MODELS:return{...s,sofaModels:r.payload};case Se.SET_PURCHASES:return{...s,purchases:r.payload};case Se.SET_SALES:return{...s,sales:r.payload};case Se.SET_CLEANING_SERVICES:return{...s,cleaningServices:r.payload};case Se.SET_NOTIFICATIONS:return{...s,notifications:r.payload};case Se.SET_PRODUCTIONS:return{...s,productions:r.payload};case Se.SET_ORDERS:return{...s,orders:r.payload};case Se.ADD_ITEM:const{collection:i,item:o}=r.payload;return{...s,[i]:[...s[i]||[],o]};case Se.UPDATE_ITEM:const{collection:d,item:f}=r.payload;return{...s,[d]:(s[d]||[]).map(x=>x.id===f.id?f:x)};case Se.DELETE_ITEM:const{collection:h,id:p}=r.payload;return{...s,[h]:(s[h]||[]).filter(x=>x.id!==p)};case Se.SET_SIDEBAR_OPEN:return{...s,sidebarOpen:r.payload};case Se.SET_CURRENT_VIEW:return{...s,currentView:r.payload};case Se.SET_LOCATION_FILTER:return{...s,locationFilter:r.payload};case Se.SET_DATE_FILTER:return{...s,dateFilter:r.payload};case Se.ADD_NOTIFICATION:return{...s,notifications:[r.payload,...s.notifications]};case Se.MARK_NOTIFICATION_READ:return{...s,notifications:s.notifications.map(x=>x.id===r.payload?{...x,read:!0}:x)};default:return s}}const kg=j.createContext();function mN({children:s}){const[r,i]=j.useReducer(fN,Pg);j.useEffect(()=>{o()},[]);const o=async()=>{try{i({type:Se.SET_LOADING,payload:!0}),await ka.init();const m=ka.getCurrentUser();m?(i({type:Se.SET_USER,payload:m}),await d()):i({type:Se.SET_LOADING,payload:!1})}catch(m){console.error("Failed to initialize app:",m),i({type:Se.SET_LOADING,payload:!1})}},d=async()=>{try{const m=await me.getCompanyProfile();m&&i({type:Se.SET_COMPANY,payload:m});const g=await me.getAll("locations");i({type:Se.SET_LOCATIONS,payload:g});const v=ka.getCurrentUser();if(v){const N=await ka.getAccessibleLocations();ka.hasPermission("VIEW_ALL_LOCATIONS")?await f():await h(v.locationId)}}catch(m){console.error("Failed to load app data:",m)}},f=async()=>{try{const[m,g,v,N,w,E,S,b,k,R,T]=await Promise.all([me.getAll("suppliers"),me.getAll("customers"),me.getAll("rawMaterials"),me.getAll("labourers"),me.getAll("sofaModels"),me.getAll("purchases"),me.getAll("sales"),me.getAll("cleaningServices"),me.getAll("notifications"),me.getAll("productions"),me.getAll("orders")]);i({type:Se.SET_SUPPLIERS,payload:m||[]}),i({type:Se.SET_CUSTOMERS,payload:g||[]}),i({type:Se.SET_RAW_MATERIALS,payload:v||[]}),i({type:Se.SET_LABOURERS,payload:N||[]}),i({type:Se.SET_SOFA_MODELS,payload:w||[]}),i({type:Se.SET_PURCHASES,payload:E||[]}),i({type:Se.SET_SALES,payload:S||[]}),i({type:Se.SET_CLEANING_SERVICES,payload:b||[]}),i({type:Se.SET_NOTIFICATIONS,payload:k||[]}),i({type:Se.SET_PRODUCTIONS,payload:R||[]}),i({type:Se.SET_ORDERS,payload:T||[]})}catch(m){console.error("Failed to load all data:",m)}},h=async m=>{var g;try{const[v,N,w,E,S,b,k,R,T,D,A]=await Promise.all([me.getAll("suppliers","locationId",m),me.getAll("customers","locationId",m),me.getAll("rawMaterials","locationId",m),me.getAll("labourers","locationId",m),me.getAll("sofaModels","locationId",m),me.getAll("purchases","locationId",m),me.getAll("sales","locationId",m),me.getAll("cleaningServices","locationId",m),me.getAll("notifications","userId",(g=ka.getCurrentUser())==null?void 0:g.id),me.getAll("productions","locationId",m),me.getAll("orders","locationId",m)]);i({type:Se.SET_SUPPLIERS,payload:v||[]}),i({type:Se.SET_CUSTOMERS,payload:N||[]}),i({type:Se.SET_RAW_MATERIALS,payload:w||[]}),i({type:Se.SET_LABOURERS,payload:E||[]}),i({type:Se.SET_SOFA_MODELS,payload:S||[]}),i({type:Se.SET_PURCHASES,payload:b||[]}),i({type:Se.SET_SALES,payload:k||[]}),i({type:Se.SET_CLEANING_SERVICES,payload:R||[]}),i({type:Se.SET_NOTIFICATIONS,payload:T||[]}),i({type:Se.SET_PRODUCTIONS,payload:D||[]}),i({type:Se.SET_ORDERS,payload:A||[]})}catch(v){console.error("Failed to load location data:",v)}},x={state:r,actions:{login:async m=>{try{const g=await ka.login(m);return i({type:Se.SET_USER,payload:g}),await d(),g}catch(g){throw console.error("Login failed:",g),g}},logout:async()=>{try{await ka.logout(),i({type:Se.LOGOUT})}catch(m){console.error("Logout failed:",m)}},createAdminAccount:async m=>{try{const g=await ka.createAdminAccount(m);return i({type:Se.SET_USER,payload:g}),g}catch(g){throw console.error("Failed to create admin account:",g),g}},activateUserAccount:async(m,g)=>{try{const v=await ka.activateUserAccount(m,g);return i({type:Se.SET_USER,payload:v}),await d(),v}catch(v){throw console.error("Failed to activate user account:",v),v}},getAllUsers:async()=>{try{return await me.getAll("users")}catch(m){throw console.error("Failed to get all users:",m),m}},loginUser:async m=>{try{const g=await ka.login(m);return i({type:Se.SET_USER,payload:g}),await d(),g}catch(g){throw console.error("Login failed:",g),g}},addItem:async(m,g)=>{try{const v=await me.add(m,g),N=await me.get(m,v);return i({type:Se.ADD_ITEM,payload:{collection:m,item:N}}),N}catch(v){throw console.error(`Failed to add ${m} item:`,v),v}},updateItem:async(m,g)=>{try{return await me.update(m,g),i({type:Se.UPDATE_ITEM,payload:{collection:m,item:g}}),g}catch(v){throw console.error(`Failed to update ${m} item:`,v),v}},deleteItem:async(m,g)=>{try{await me.delete(m,g),i({type:Se.DELETE_ITEM,payload:{collection:m,id:g}})}catch(v){throw console.error(`Failed to delete ${m} item:`,v),v}},getAllOrders:async()=>{try{return await me.getAll("orders")||[]}catch(m){return console.error("Failed to get all orders:",m),[]}},setSidebarOpen:m=>{i({type:Se.SET_SIDEBAR_OPEN,payload:m})},setCurrentView:m=>{i({type:Se.SET_CURRENT_VIEW,payload:m})},setLocationFilter:m=>{i({type:Se.SET_LOCATION_FILTER,payload:m})},setDateFilter:m=>{i({type:Se.SET_DATE_FILTER,payload:m})},addNotification:async m=>{try{const g=await me.add("notifications",m),v=await me.get("notifications",g);return i({type:Se.ADD_NOTIFICATION,payload:v}),v}catch(g){throw console.error("Failed to add notification:",g),g}},markNotificationRead:async m=>{try{const g=await me.get("notifications",m);g&&(g.read=!0,await me.update("notifications",g),i({type:Se.MARK_NOTIFICATION_READ,payload:m}))}catch(g){console.error("Failed to mark notification as read:",g)}},updateCompany:async m=>{try{const g=await me.get("company","profile");if(g){const v={...g,...m,id:"profile"};return await me.update("company",v),i({type:Se.SET_COMPANY,payload:v}),v}else{const v={...m,id:"profile"};return await me.add("company",v),i({type:Se.SET_COMPANY,payload:v}),v}}catch(g){throw console.error("Failed to update company:",g),g}},updateLocations:async m=>{try{const g=await me.getAll("locations");for(const N of g)await me.delete("locations",N.id);const v=[];for(const N of m){const w=await me.add("locations",N),E=await me.get("locations",w);v.push(E)}return i({type:Se.SET_LOCATIONS,payload:v}),v}catch(g){throw console.error("Failed to update locations:",g),g}},refreshData:async()=>{await d()}},auth:ka};return a.jsx(kg.Provider,{value:x,children:s})}function wt(){const s=j.useContext(kg);if(!s)throw new Error("useApp must be used within an AppProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Hx=s=>{const r=pN(s);return r.charAt(0).toUpperCase()+r.slice(1)},Lg=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),xN=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},x)=>j.createElement("svg",{ref:x,...gN,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:Lg("lucide",d),...!f&&!xN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,g])=>j.createElement(m,g)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(s,r)=>{const i=j.forwardRef(({className:o,...d},f)=>j.createElement(yN,{ref:f,iconNode:r,className:Lg(`lucide-${hN(Hx(s))}`,`lucide-${s}`,o),...d}));return i.displayName=Hx(s),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kl=ke("bell",vN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],bN=ke("boxes",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Fx=ke("building-2",NN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],wN=ke("building",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rs=ke("calendar",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vx=ke("camera",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gx=ke("chart-column",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MN=ke("chart-pie",TN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RN=ke("check",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zg=ke("chevron-down",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PN=ke("chevron-right",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LN=ke("chevron-up",kN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hr=ke("circle-check-big",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ug=ke("circle-x",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qN=ke("clipboard-list",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gd=ke("clock",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vo=ke("database",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],za=ke("dollar-sign",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],GN=ke("download",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uf=ke("eye",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Yo=ke("factory",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Od=ke("file-text",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KN=ke("funnel",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],WN=ke("house",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eS=ke("image",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ig=ke("mail",tS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ol=ke("map-pin",aS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],sS=ke("menu",nS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rS=ke("message-circle",lS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],qg=ke("message-square",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Sa=ke("package",oS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bg=ke("phone",cS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],St=ke("plus",uS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fS=ke("save",dS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mn=ke("search",mS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pS=ke("send",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yd=ke("settings",xS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Oo=ke("shopping-cart",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],is=ke("square-pen",yS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],An=ke("trash-2",vS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Yx=ke("trending-down",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],_o=ke("trending-up",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hg=ke("triangle-alert",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Fr=ke("truck",SS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],CS=ke("upload",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$d=ke("user-check",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Po=ke("user",ES);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ko=ke("users",TS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Os=ke("x",MS);function $x(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Qr(...s){return r=>{let i=!1;const o=s.map(d=>{const f=$x(d,r);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():$x(s[d],null)}}}}function ft(...s){return j.useCallback(Qr(...s),s)}var DS=Symbol.for("react.lazy"),Lo=cf[" use ".trim().toString()];function RS(s){return typeof s=="object"&&s!==null&&"then"in s}function Fg(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===DS&&"_payload"in s&&RS(s._payload)}function Vg(s){const r=OS(s),i=j.forwardRef((o,d)=>{let{children:f,...h}=o;Fg(f)&&typeof Lo=="function"&&(f=Lo(f._payload));const p=j.Children.toArray(f),x=p.find(PS);if(x){const m=x.props.children,g=p.map(v=>v===x?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,g):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}var Gg=Vg("Slot");function OS(s){const r=j.forwardRef((i,o)=>{let{children:d,...f}=i;if(Fg(d)&&typeof Lo=="function"&&(d=Lo(d._payload)),j.isValidElement(d)){const h=LS(d),p=kS(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Qr(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var _S=Symbol("radix.slottable");function PS(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===_S}function kS(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const x=f(...p);return d(...p),x}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function LS(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Yg(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(r=0;r<d;r++)s[r]&&(i=Yg(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function $g(){for(var s,r,i=0,o="",d=arguments.length;i<d;i++)(s=arguments[i])&&(r=Yg(s))&&(o&&(o+=" "),o+=r);return o}const Qx=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Xx=$g,Qg=(s,r)=>i=>{var o;if((r==null?void 0:r.variants)==null)return Xx(s,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:d,defaultVariants:f}=r,h=Object.keys(d).map(m=>{const g=i==null?void 0:i[m],v=f==null?void 0:f[m];if(g===null)return null;const N=Qx(g)||Qx(v);return d[m][N]}),p=i&&Object.entries(i).reduce((m,g)=>{let[v,N]=g;return N===void 0||(m[v]=N),m},{}),x=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((m,g)=>{let{class:v,className:N,...w}=g;return Object.entries(w).every(E=>{let[S,b]=E;return Array.isArray(b)?b.includes({...f,...p}[S]):{...f,...p}[S]===b})?[...m,v,N]:m},[]);return Xx(s,h,x,i==null?void 0:i.class,i==null?void 0:i.className)},zS=(s,r)=>{const i=new Array(s.length+r.length);for(let o=0;o<s.length;o++)i[o]=s[o];for(let o=0;o<r.length;o++)i[s.length+o]=r[o];return i},US=(s,r)=>({classGroupId:s,validator:r}),Xg=(s=new Map,r=null,i)=>({nextPart:s,validators:r,classGroupId:i}),zo="-",Kx=[],IS="arbitrary..",qS=s=>{const r=HS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return BS(h);const p=h.split(zo),x=p[0]===""&&p.length>1?1:0;return Kg(p,x,r)},getConflictingClassGroupIds:(h,p)=>{if(p){const x=o[h],m=i[h];return x?m?zS(m,x):x:m||Kx}return i[h]||Kx}}},Kg=(s,r,i)=>{if(s.length-r===0)return i.classGroupId;const d=s[r],f=i.nextPart.get(d);if(f){const m=Kg(s,r+1,f);if(m)return m}const h=i.validators;if(h===null)return;const p=r===0?s.join(zo):s.slice(r).join(zo),x=h.length;for(let m=0;m<x;m++){const g=h[m];if(g.validator(p))return g.classGroupId}},BS=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=s.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?IS+o:void 0})(),HS=s=>{const{theme:r,classGroups:i}=s;return FS(i,r)},FS=(s,r)=>{const i=Xg();for(const o in s){const d=s[o];df(d,i,o,r)}return i},df=(s,r,i,o)=>{const d=s.length;for(let f=0;f<d;f++){const h=s[f];VS(h,r,i,o)}},VS=(s,r,i,o)=>{if(typeof s=="string"){GS(s,r,i);return}if(typeof s=="function"){YS(s,r,i,o);return}$S(s,r,i,o)},GS=(s,r,i)=>{const o=s===""?r:Zg(r,s);o.classGroupId=i},YS=(s,r,i,o)=>{if(QS(s)){df(s(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(US(i,s))},$S=(s,r,i,o)=>{const d=Object.entries(s),f=d.length;for(let h=0;h<f;h++){const[p,x]=d[h];df(x,Zg(r,p),i,o)}},Zg=(s,r)=>{let i=s;const o=r.split(zo),d=o.length;for(let f=0;f<d;f++){const h=o[f];let p=i.nextPart.get(h);p||(p=Xg(),i.nextPart.set(h,p)),i=p}return i},QS=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,XS=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const d=(f,h)=>{i[f]=h,r++,r>s&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return d(f,h),h},set(f,h){f in i?i[f]=h:d(f,h)}}},Qd="!",Zx=":",KS=[],Wx=(s,r,i,o,d)=>({modifiers:s,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:d}),ZS=s=>{const{prefix:r,experimentalParseClassName:i}=s;let o=d=>{const f=[];let h=0,p=0,x=0,m;const g=d.length;for(let S=0;S<g;S++){const b=d[S];if(h===0&&p===0){if(b===Zx){f.push(d.slice(x,S)),x=S+1;continue}if(b==="/"){m=S;continue}}b==="["?h++:b==="]"?h--:b==="("?p++:b===")"&&p--}const v=f.length===0?d:d.slice(x);let N=v,w=!1;v.endsWith(Qd)?(N=v.slice(0,-1),w=!0):v.startsWith(Qd)&&(N=v.slice(1),w=!0);const E=m&&m>x?m-x:void 0;return Wx(f,w,N,E)};if(r){const d=r+Zx,f=o;o=h=>h.startsWith(d)?f(h.slice(d.length)):Wx(KS,!1,h,void 0,!0)}if(i){const d=o;o=f=>i({className:f,parseClassName:d})}return o},WS=s=>{const r=new Map;return s.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let d=[];for(let f=0;f<i.length;f++){const h=i[f],p=h[0]==="[",x=r.has(h);p||x?(d.length>0&&(d.sort(),o.push(...d),d=[]),o.push(h)):d.push(h)}return d.length>0&&(d.sort(),o.push(...d)),o}},JS=s=>({cache:XS(s.cacheSize),parseClassName:ZS(s),sortModifiers:WS(s),...qS(s)}),ew=/\s+/,tw=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:d,sortModifiers:f}=r,h=[],p=s.trim().split(ew);let x="";for(let m=p.length-1;m>=0;m-=1){const g=p[m],{isExternal:v,modifiers:N,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:S}=i(g);if(v){x=g+(x.length>0?" "+x:x);continue}let b=!!S,k=o(b?E.substring(0,S):E);if(!k){if(!b){x=g+(x.length>0?" "+x:x);continue}if(k=o(E),!k){x=g+(x.length>0?" "+x:x);continue}b=!1}const R=N.length===0?"":N.length===1?N[0]:f(N).join(":"),T=w?R+Qd:R,D=T+k;if(h.indexOf(D)>-1)continue;h.push(D);const A=d(k,b);for(let M=0;M<A.length;++M){const z=A[M];h.push(T+z)}x=g+(x.length>0?" "+x:x)}return x},aw=(...s)=>{let r=0,i,o,d="";for(;r<s.length;)(i=s[r++])&&(o=Wg(i))&&(d&&(d+=" "),d+=o);return d},Wg=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=Wg(s[o]))&&(i&&(i+=" "),i+=r);return i},nw=(s,...r)=>{let i,o,d,f;const h=x=>{const m=r.reduce((g,v)=>v(g),s());return i=JS(m),o=i.cache.get,d=i.cache.set,f=p,p(x)},p=x=>{const m=o(x);if(m)return m;const g=tw(x,i);return d(x,g),g};return f=h,(...x)=>f(aw(...x))},sw=[],kt=s=>{const r=i=>i[s]||sw;return r.isThemeGetter=!0,r},Jg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ey=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lw=/^\d+\/\d+$/,rw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ow=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tl=s=>lw.test(s),Fe=s=>!!s&&!Number.isNaN(Number(s)),ns=s=>!!s&&Number.isInteger(Number(s)),_d=s=>s.endsWith("%")&&Fe(s.slice(0,-1)),Cn=s=>rw.test(s),dw=()=>!0,fw=s=>iw.test(s)&&!ow.test(s),ty=()=>!1,mw=s=>cw.test(s),hw=s=>uw.test(s),pw=s=>!Ee(s)&&!Te(s),xw=s=>Ul(s,sy,ty),Ee=s=>Jg.test(s),Ds=s=>Ul(s,ly,fw),Pd=s=>Ul(s,bw,Fe),Jx=s=>Ul(s,ay,ty),gw=s=>Ul(s,ny,hw),jo=s=>Ul(s,ry,mw),Te=s=>ey.test(s),zr=s=>Il(s,ly),yw=s=>Il(s,Nw),eg=s=>Il(s,ay),vw=s=>Il(s,sy),jw=s=>Il(s,ny),bo=s=>Il(s,ry,!0),Ul=(s,r,i)=>{const o=Jg.exec(s);return o?o[1]?r(o[1]):i(o[2]):!1},Il=(s,r,i=!1)=>{const o=ey.exec(s);return o?o[1]?r(o[1]):i:!1},ay=s=>s==="position"||s==="percentage",ny=s=>s==="image"||s==="url",sy=s=>s==="length"||s==="size"||s==="bg-size",ly=s=>s==="length",bw=s=>s==="number",Nw=s=>s==="family-name",ry=s=>s==="shadow",Sw=()=>{const s=kt("color"),r=kt("font"),i=kt("text"),o=kt("font-weight"),d=kt("tracking"),f=kt("leading"),h=kt("breakpoint"),p=kt("container"),x=kt("spacing"),m=kt("radius"),g=kt("shadow"),v=kt("inset-shadow"),N=kt("text-shadow"),w=kt("drop-shadow"),E=kt("blur"),S=kt("perspective"),b=kt("aspect"),k=kt("ease"),R=kt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...D(),Te,Ee],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],B=()=>[Te,Ee,x],ae=()=>[Tl,"full","auto",...B()],P=()=>[ns,"none","subgrid",Te,Ee],I=()=>["auto",{span:["full",ns,Te,Ee]},ns,Te,Ee],Z=()=>[ns,"auto",Te,Ee],ie=()=>["auto","min","max","fr",Te,Ee],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...B()],X=()=>[Tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],H=()=>[s,Te,Ee],re=()=>[...D(),eg,Jx,{position:[Te,Ee]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",vw,xw,{size:[Te,Ee]}],ee=()=>[_d,zr,Ds],oe=()=>["","none","full",m,Te,Ee],de=()=>["",Fe,zr,Ds],q=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Fe,_d,eg,Jx],Oe=()=>["","none",E,Te,Ee],G=()=>["none",Fe,Te,Ee],xe=()=>["none",Fe,Te,Ee],be=()=>[Fe,Te,Ee],Me=()=>[Tl,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cn],breakpoint:[Cn],color:[dw],container:[Cn],"drop-shadow":[Cn],ease:["in","out","in-out"],font:[pw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cn],shadow:[Cn],spacing:["px",Fe],text:[Cn],"text-shadow":[Cn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Tl,Ee,Te,b]}],container:["container"],columns:[{columns:[Fe,Ee,Te,p]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[ns,"auto",Te,Ee]}],basis:[{basis:[Tl,"full","auto",p,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Tl,"auto","initial","none",Ee]}],grow:[{grow:["",Fe,Te,Ee]}],shrink:[{shrink:["",Fe,Te,Ee]}],order:[{order:[ns,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[p,"screen",...X()]}],"min-w":[{"min-w":[p,"screen","none",...X()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",i,zr,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Te,Pd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_d,Ee]}],"font-family":[{font:[yw,Ee,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,Te,Ee]}],"line-clamp":[{"line-clamp":[Fe,"none",Te,Pd]}],leading:[{leading:[f,...B()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",Te,Ds]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Fe,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ns,Te,Ee],radial:["",Te,Ee],conic:[ns,Te,Ee]},jw,gw]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,Te,Ee]}],"outline-w":[{outline:["",Fe,zr,Ds]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,bo,jo]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",v,bo,jo]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Fe,Ds]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,bo,jo]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Fe,Te,Ee]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Oe()}],brightness:[{brightness:[Fe,Te,Ee]}],contrast:[{contrast:[Fe,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",w,bo,jo]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Fe,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Fe,Te,Ee]}],invert:[{invert:["",Fe,Te,Ee]}],saturate:[{saturate:[Fe,Te,Ee]}],sepia:[{sepia:["",Fe,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Fe,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",Te,Ee]}],ease:[{ease:["linear","initial",k,Te,Ee]}],delay:[{delay:[Fe,Te,Ee]}],animate:[{animate:["none",R,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Te,Ee]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Fe,zr,Ds,Pd]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ww=nw(Sw);function Ge(...s){return ww($g(s))}function Ve(s){return s==null?"NPR 0":`NPR ${Number(s).toLocaleString("en-NP")}`}function ls(s){return s?new Date(s).toLocaleDateString("en-NP",{year:"numeric",month:"short",day:"numeric"}):""}function tg(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function ag(s){return/^(\+977)?[0-9]{10}$/.test(s.replace(/\s/g,""))}function Cw(s,r){const i=s.replace(/\D/g,""),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function Aw(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||""}const Rs={PENDING_APPROVAL:{value:"pending_approval"},APPROVED:{value:"approved"},IN_PRODUCTION:{value:"in_production"},COMPLETED:{value:"completed"},READY_FOR_DELIVERY:{value:"ready_for_delivery"},DELIVERED:{value:"delivered"},CANCELLED:{value:"cancelled"}},Ew={supplierPayment:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

Dear ${r},

This is a confirmation for our recent transaction.

*Items Received:*
${i.map(h=>`- ${h.name}: ${h.quantity} ${h.unit}`).join(`
`)}

*Financials:*
- Amount Paid Today: ${Ve(o)}
- Remaining Balance: ${Ve(d)}

${f?"A copy of the payment receipt is attached.":""}

Thank you!

*${s.name}*
${s.phone}`,customerPaymentReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder that your payment of ${Ve(i)} is due on ${ls(o)}.

Thank you for your business!

*${s.name}*
${s.address}
${s.phone}`,cleaningReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder from *${s.name}* about your sofa cleaning appointment tomorrow at ${o}.

We look forward to serving you!

Sincerely,
*The Team at ${s.name}*
${s.address}
${s.phone}`,accountSettlement:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

*Subject: Statement of Account Settlement*

Dear ${r},

This is a confirmation from *${s.name}* that we have settled our mutual accounts.

*Summary:*
- Amount you were owed: ${Ve(i)}
- Amount you owed us: ${Ve(o)}

*Settlement:*
- The ${Ve(i)} you were owed has been settled against the ${Ve(o)} you owed us.

*FINAL RESULT:*
${d===0?"- Account settled. Balance is 0.":f?`- Your new remaining balance due to us is ${Ve(Math.abs(d))}.`:`- Our new remaining balance due to you is ${Ve(Math.abs(d))}.`}

Thank you.

*${s.name}*
${s.phone}`,orderStatus:(s,r,i,o)=>{let d="";switch(o){case Rs.PENDING_APPROVAL.value:d=`Your order #${i} has been received and is awaiting approval. We will notify you when production begins.`;break;case Rs.APPROVED.value:d=`Great news, ${r}! Your order #${i} has been approved and will enter production soon.`;break;case Rs.IN_PRODUCTION.value:d=`Production has started! Your order #${i} is now being crafted. We are working hard to complete your items.`;break;case Rs.COMPLETED.value:d=`Your order #${i} production is complete! We will prepare it for delivery soon.`;break;case Rs.READY_FOR_DELIVERY.value:d=`Congratulations, ${r}! Your order #${i} is ready for delivery. Please contact us to arrange delivery.`;break;case Rs.DELIVERED.value:d=`Your order #${i} has been delivered successfully. Thank you for choosing us!`;break;case Rs.CANCELLED.value:d=`Your order #${i} has been cancelled. Please contact us if you have any questions.`;break;default:d=`The status of your order #${i} has been updated to "${o}".`}return`*${s.name}*

Hi ${r},

${d}

Thank you for your business!

*${s.name}*
${s.phone}`},monthlyLabourReport:(s,r,i,o)=>`*${s.name}*

The Monthly Labour Report for ${Aw(r)} ${i} is ready.

Total payroll for the month: ${Ve(o)}

Please review the detailed report in the app.

*${s.name}*`},Tw=Qg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ce({className:s,variant:r,size:i,asChild:o=!1,...d}){const f=o?Gg:"button";return a.jsx(f,{"data-slot":"button",className:Ge(Tw({variant:r,size:i,className:s})),...d})}const Mw=Qg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ie({className:s,variant:r,asChild:i=!1,...o}){const d=i?Gg:"span";return a.jsx(d,{"data-slot":"badge",className:Ge(Mw({variant:r}),s),...o})}const Dw=[{id:"dashboard",label:"Dashboard",icon:WN,roles:["admin","staff","labour_manager"]},{id:"inventory",label:"Inventory",icon:Sa,roles:["admin","staff","labour_manager"],children:[{id:"raw-materials",label:"Raw Materials",icon:Yo},{id:"finished-products",label:"Finished Products",icon:Sa}]},{id:"suppliers",label:"Suppliers",icon:Fr,roles:["admin","staff"]},{id:"customers",label:"Customers",icon:ko,roles:["admin","staff"]},{id:"labour",label:"Labour",icon:$d,roles:["admin","labour_manager"]},{id:"sales",label:"Sales",icon:Oo,roles:["admin","staff"]},{id:"purchases",label:"Purchases",icon:za,roles:["admin","staff"]},{id:"financials",label:"Financials",icon:Gx,roles:["admin"]},{id:"cleaning",label:"Cleaning Services",icon:rs,roles:["admin","staff"]},{id:"orders",label:"Orders",icon:Oo,roles:["admin","staff"]},{id:"reports",label:"Reports",icon:Gx,roles:["admin","labour_manager"]},{id:"notifications",label:"Notifications",icon:kl,roles:["admin","staff"],children:[{id:"notification-queue",label:"Notification Queue",icon:kl},{id:"notification-settings",label:"Settings",icon:Yd}]},{id:"settings",label:"Settings",icon:Yd,roles:["admin"]}];function Rw(){var v,N;const{state:s,actions:r}=wt(),{sidebarOpen:i,currentView:o,notifications:d,user:f}=s,h=f,p=d.filter(w=>!w.read).length,x=w=>h?w.roles.includes(h.role):!1,m=w=>{r.setCurrentView(w),window.innerWidth<768&&r.setSidebarOpen(!1)},g=()=>{r.setSidebarOpen(!i)};return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r.setSidebarOpen(!1)}),a.jsxs("div",{className:Ge("fixed left-0 top-0 h-full bg-slate-800 text-white z-50 transform transition-transform duration-300 ease-in-out","w-64 md:w-72",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0"),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:a.jsx(Yo,{className:"w-5 h-5 text-slate-800"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Sofa Factory"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:g,className:"md:hidden text-white hover:bg-slate-700",children:a.jsx(Os,{className:"w-4 h-4"})})]}),h&&a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium",children:((N=(v=h.name)==null?void 0:v.charAt(0))==null?void 0:N.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),a.jsx("p",{className:"text-xs text-slate-400 capitalize",children:h.role.replace("_"," ")})]}),p>0&&a.jsx(Ie,{variant:"destructive",className:"text-xs",children:p})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("ul",{className:"space-y-2",children:Dw.map(w=>{if(!x(w))return null;const E=w.icon,S=o===w.id||w.children&&w.children.some(b=>o===b.id);return a.jsxs("li",{children:[a.jsxs(ce,{variant:"ghost",className:Ge("w-full justify-start text-left hover:bg-slate-700",S&&"bg-slate-700 text-amber-400"),onClick:()=>m(w.id),children:[a.jsx(E,{className:"w-4 h-4 mr-3"}),w.label,w.id==="dashboard"&&p>0&&a.jsx(Ie,{variant:"destructive",className:"ml-auto text-xs",children:p})]}),w.children&&S&&a.jsx("ul",{className:"ml-6 mt-2 space-y-1",children:w.children.map(b=>{const k=b.icon,R=o===b.id;return a.jsx("li",{children:a.jsxs(ce,{variant:"ghost",size:"sm",className:Ge("w-full justify-start text-left hover:bg-slate-700",R&&"bg-slate-600 text-amber-400"),onClick:()=>m(b.id),children:[a.jsx(k,{className:"w-3 h-3 mr-2"}),b.label]})},b.id)})})]},w.id)})})}),a.jsx("div",{className:"p-4 border-t border-slate-700",children:a.jsxs(ce,{variant:"ghost",className:"w-full justify-start text-left hover:bg-slate-700 text-slate-400",onClick:r.logout,children:[a.jsx(Yd,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]})}function Ow(){const{actions:s}=wt();return a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>s.setSidebarOpen(!0),className:"md:hidden",children:a.jsx(sS,{className:"w-5 h-5"})})}var Xr=_g();const _w=Og(Xr);function ng(s,[r,i]){return Math.min(i,Math.max(r,s))}function Re(s,r,{checkForDefaultPrevented:i=!0}={}){return function(d){if(s==null||s(d),i===!1||!d.defaultPrevented)return r==null?void 0:r(d)}}function Pw(s,r){const i=j.createContext(r),o=f=>{const{children:h,...p}=f,x=j.useMemo(()=>p,Object.values(p));return a.jsx(i.Provider,{value:x,children:h})};o.displayName=s+"Provider";function d(f){const h=j.useContext(i);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[o,d]}function Dn(s,r=[]){let i=[];function o(f,h){const p=j.createContext(h),x=i.length;i=[...i,h];const m=v=>{var k;const{scope:N,children:w,...E}=v,S=((k=N==null?void 0:N[s])==null?void 0:k[x])||p,b=j.useMemo(()=>E,Object.values(E));return a.jsx(S.Provider,{value:b,children:w})};m.displayName=f+"Provider";function g(v,N){var S;const w=((S=N==null?void 0:N[s])==null?void 0:S[x])||p,E=j.useContext(w);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${f}\``)}return[m,g]}const d=()=>{const f=i.map(h=>j.createContext(h));return function(p){const x=(p==null?void 0:p[s])||f;return j.useMemo(()=>({[`__scope${s}`]:{...p,[s]:x}}),[p,x])}};return d.scopeName=s,[o,kw(d,...r)]}function kw(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const h=o.reduce((p,{useScope:x,scopeName:m})=>{const v=x(f)[`__scope${m}`];return{...p,...v}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:h}),[h])}};return i.scopeName=r.scopeName,i}function Ll(s){const r=Lw(s),i=j.forwardRef((o,d)=>{const{children:f,...h}=o,p=j.Children.toArray(f),x=p.find(Uw);if(x){const m=x.props.children,g=p.map(v=>v===x?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return a.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,g):null})}return a.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}function Lw(s){const r=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const h=qw(d),p=Iw(f,d.props);return d.type!==j.Fragment&&(p.ref=o?Qr(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var zw=Symbol("radix.slottable");function Uw(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===zw}function Iw(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const x=f(...p);return d(...p),x}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function qw(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function ff(s){const r=s+"CollectionProvider",[i,o]=Dn(r),[d,f]=i(r,{collectionRef:{current:null},itemMap:new Map}),h=S=>{const{scope:b,children:k}=S,R=La.useRef(null),T=La.useRef(new Map).current;return a.jsx(d,{scope:b,itemMap:T,collectionRef:R,children:k})};h.displayName=r;const p=s+"CollectionSlot",x=Ll(p),m=La.forwardRef((S,b)=>{const{scope:k,children:R}=S,T=f(p,k),D=ft(b,T.collectionRef);return a.jsx(x,{ref:D,children:R})});m.displayName=p;const g=s+"CollectionItemSlot",v="data-radix-collection-item",N=Ll(g),w=La.forwardRef((S,b)=>{const{scope:k,children:R,...T}=S,D=La.useRef(null),A=ft(b,D),M=f(g,k);return La.useEffect(()=>(M.itemMap.set(D,{ref:D,...T}),()=>void M.itemMap.delete(D))),a.jsx(N,{[v]:"",ref:A,children:R})});w.displayName=g;function E(S){const b=f(s+"CollectionConsumer",S);return La.useCallback(()=>{const R=b.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((M,z)=>T.indexOf(M.ref.current)-T.indexOf(z.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:h,Slot:m,ItemSlot:w},E,o]}var Bw=j.createContext(void 0);function $o(s){const r=j.useContext(Bw);return s||r||"ltr"}var Hw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=Hw.reduce((s,r)=>{const i=Ll(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,x=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(x,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function iy(s,r){s&&Xr.flushSync(()=>s.dispatchEvent(r))}function nn(s){const r=j.useRef(s);return j.useEffect(()=>{r.current=s}),j.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Fw(s,r=globalThis==null?void 0:globalThis.document){const i=nn(s);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Vw="DismissableLayer",Xd="dismissableLayer.update",Gw="dismissableLayer.pointerDownOutside",Yw="dismissableLayer.focusOutside",sg,oy=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qo=j.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,...x}=s,m=j.useContext(oy),[g,v]=j.useState(null),N=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=j.useState({}),E=ft(r,z=>v(z)),S=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(b),R=g?S.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,D=R>=k,A=Xw(z=>{const B=z.target,ae=[...m.branches].some(P=>P.contains(B));!D||ae||(d==null||d(z),h==null||h(z),z.defaultPrevented||p==null||p())},N),M=Kw(z=>{const B=z.target;[...m.branches].some(P=>P.contains(B))||(f==null||f(z),h==null||h(z),z.defaultPrevented||p==null||p())},N);return Fw(z=>{R===m.layers.size-1&&(o==null||o(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},N),j.useEffect(()=>{if(g)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(sg=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),lg(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=sg)}},[g,N,i,m]),j.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),lg())},[g,m]),j.useEffect(()=>{const z=()=>w({});return document.addEventListener(Xd,z),()=>document.removeEventListener(Xd,z)},[]),a.jsx(He.div,{...x,ref:E,style:{pointerEvents:T?D?"auto":"none":void 0,...s.style},onFocusCapture:Re(s.onFocusCapture,M.onFocusCapture),onBlurCapture:Re(s.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Re(s.onPointerDownCapture,A.onPointerDownCapture)})});Qo.displayName=Vw;var $w="DismissableLayerBranch",Qw=j.forwardRef((s,r)=>{const i=j.useContext(oy),o=j.useRef(null),d=ft(r,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),a.jsx(He.div,{...s,ref:d})});Qw.displayName=$w;function Xw(s,r=globalThis==null?void 0:globalThis.document){const i=nn(s),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=p=>{if(p.target&&!o.current){let x=function(){cy(Gw,i,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=x,r.addEventListener("click",d.current,{once:!0})):x()}else r.removeEventListener("click",d.current);o.current=!1},h=window.setTimeout(()=>{r.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(h),r.removeEventListener("pointerdown",f),r.removeEventListener("click",d.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Kw(s,r=globalThis==null?void 0:globalThis.document){const i=nn(s),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&cy(Yw,i,{originalEvent:f},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function lg(){const s=new CustomEvent(Xd);document.dispatchEvent(s)}function cy(s,r,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&d.addEventListener(s,r,{once:!0}),o?iy(d,f):d.dispatchEvent(f)}var kd=0;function mf(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??rg()),document.body.insertAdjacentElement("beforeend",s[1]??rg()),kd++,()=>{kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),kd--}},[])}function rg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Ld="focusScope.autoFocusOnMount",zd="focusScope.autoFocusOnUnmount",ig={bubbles:!1,cancelable:!0},Zw="FocusScope",Xo=j.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...h}=s,[p,x]=j.useState(null),m=nn(d),g=nn(f),v=j.useRef(null),N=ft(r,S=>x(S)),w=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let S=function(T){if(w.paused||!p)return;const D=T.target;p.contains(D)?v.current=D:ss(v.current,{select:!0})},b=function(T){if(w.paused||!p)return;const D=T.relatedTarget;D!==null&&(p.contains(D)||ss(v.current,{select:!0}))},k=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&ss(p)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const R=new MutationObserver(k);return p&&R.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),R.disconnect()}}},[o,p,w.paused]),j.useEffect(()=>{if(p){cg.add(w);const S=document.activeElement;if(!p.contains(S)){const k=new CustomEvent(Ld,ig);p.addEventListener(Ld,m),p.dispatchEvent(k),k.defaultPrevented||(Ww(n1(uy(p)),{select:!0}),document.activeElement===S&&ss(p))}return()=>{p.removeEventListener(Ld,m),setTimeout(()=>{const k=new CustomEvent(zd,ig);p.addEventListener(zd,g),p.dispatchEvent(k),k.defaultPrevented||ss(S??document.body,{select:!0}),p.removeEventListener(zd,g),cg.remove(w)},0)}}},[p,m,g,w]);const E=j.useCallback(S=>{if(!i&&!o||w.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(b&&k){const R=S.currentTarget,[T,D]=Jw(R);T&&D?!S.shiftKey&&k===D?(S.preventDefault(),i&&ss(T,{select:!0})):S.shiftKey&&k===T&&(S.preventDefault(),i&&ss(D,{select:!0})):k===R&&S.preventDefault()}},[i,o,w.paused]);return a.jsx(He.div,{tabIndex:-1,...h,ref:N,onKeyDown:E})});Xo.displayName=Zw;function Ww(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(ss(o,{select:r}),document.activeElement!==i)return}function Jw(s){const r=uy(s),i=og(r,s),o=og(r.reverse(),s);return[i,o]}function uy(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function og(s,r){for(const i of s)if(!e1(i,{upTo:r}))return i}function e1(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function t1(s){return s instanceof HTMLInputElement&&"select"in s}function ss(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&t1(s)&&r&&s.select()}}var cg=a1();function a1(){let s=[];return{add(r){const i=s[0];r!==i&&(i==null||i.pause()),s=ug(s,r),s.unshift(r)},remove(r){var i;s=ug(s,r),(i=s[0])==null||i.resume()}}}function ug(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function n1(s){return s.filter(r=>r.tagName!=="A")}var Jt=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},s1=cf[" useId ".trim().toString()]||(()=>{}),l1=0;function tn(s){const[r,i]=j.useState(s1());return Jt(()=>{i(o=>o??String(l1++))},[s]),s||(r?`radix-${r}`:"")}const r1=["top","right","bottom","left"],os=Math.min,Na=Math.max,Uo=Math.round,No=Math.floor,an=s=>({x:s,y:s}),i1={left:"right",right:"left",bottom:"top",top:"bottom"},o1={start:"end",end:"start"};function Kd(s,r,i){return Na(s,os(r,i))}function En(s,r){return typeof s=="function"?s(r):s}function Tn(s){return s.split("-")[0]}function ql(s){return s.split("-")[1]}function hf(s){return s==="x"?"y":"x"}function pf(s){return s==="y"?"height":"width"}const c1=new Set(["top","bottom"]);function en(s){return c1.has(Tn(s))?"y":"x"}function xf(s){return hf(en(s))}function u1(s,r,i){i===void 0&&(i=!1);const o=ql(s),d=xf(s),f=pf(d);let h=d==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[f]>r.floating[f]&&(h=Io(h)),[h,Io(h)]}function d1(s){const r=Io(s);return[Zd(s),r,Zd(r)]}function Zd(s){return s.replace(/start|end/g,r=>o1[r])}const dg=["left","right"],fg=["right","left"],f1=["top","bottom"],m1=["bottom","top"];function h1(s,r,i){switch(s){case"top":case"bottom":return i?r?fg:dg:r?dg:fg;case"left":case"right":return r?f1:m1;default:return[]}}function p1(s,r,i,o){const d=ql(s);let f=h1(Tn(s),i==="start",o);return d&&(f=f.map(h=>h+"-"+d),r&&(f=f.concat(f.map(Zd)))),f}function Io(s){return s.replace(/left|right|bottom|top/g,r=>i1[r])}function x1(s){return{top:0,right:0,bottom:0,left:0,...s}}function dy(s){return typeof s!="number"?x1(s):{top:s,right:s,bottom:s,left:s}}function qo(s){const{x:r,y:i,width:o,height:d}=s;return{width:o,height:d,top:i,left:r,right:r+o,bottom:i+d,x:r,y:i}}function mg(s,r,i){let{reference:o,floating:d}=s;const f=en(r),h=xf(r),p=pf(h),x=Tn(r),m=f==="y",g=o.x+o.width/2-d.width/2,v=o.y+o.height/2-d.height/2,N=o[p]/2-d[p]/2;let w;switch(x){case"top":w={x:g,y:o.y-d.height};break;case"bottom":w={x:g,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:v};break;case"left":w={x:o.x-d.width,y:v};break;default:w={x:o.x,y:o.y}}switch(ql(r)){case"start":w[h]-=N*(i&&m?-1:1);break;case"end":w[h]+=N*(i&&m?-1:1);break}return w}const g1=async(s,r,i)=>{const{placement:o="bottom",strategy:d="absolute",middleware:f=[],platform:h}=i,p=f.filter(Boolean),x=await(h.isRTL==null?void 0:h.isRTL(r));let m=await h.getElementRects({reference:s,floating:r,strategy:d}),{x:g,y:v}=mg(m,o,x),N=o,w={},E=0;for(let S=0;S<p.length;S++){const{name:b,fn:k}=p[S],{x:R,y:T,data:D,reset:A}=await k({x:g,y:v,initialPlacement:o,placement:N,strategy:d,middlewareData:w,rects:m,platform:h,elements:{reference:s,floating:r}});g=R??g,v=T??v,w={...w,[b]:{...w[b],...D}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(N=A.placement),A.rects&&(m=A.rects===!0?await h.getElementRects({reference:s,floating:r,strategy:d}):A.rects),{x:g,y:v}=mg(m,N,x)),S=-1)}return{x:g,y:v,placement:N,strategy:d,middlewareData:w}};async function Vr(s,r){var i;r===void 0&&(r={});const{x:o,y:d,platform:f,rects:h,elements:p,strategy:x}=s,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:N=!1,padding:w=0}=En(r,s),E=dy(w),b=p[N?v==="floating"?"reference":"floating":v],k=qo(await f.getClippingRect({element:(i=await(f.isElement==null?void 0:f.isElement(b)))==null||i?b:b.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(p.floating)),boundary:m,rootBoundary:g,strategy:x})),R=v==="floating"?{x:o,y:d,width:h.floating.width,height:h.floating.height}:h.reference,T=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p.floating)),D=await(f.isElement==null?void 0:f.isElement(T))?await(f.getScale==null?void 0:f.getScale(T))||{x:1,y:1}:{x:1,y:1},A=qo(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:R,offsetParent:T,strategy:x}):R);return{top:(k.top-A.top+E.top)/D.y,bottom:(A.bottom-k.bottom+E.bottom)/D.y,left:(k.left-A.left+E.left)/D.x,right:(A.right-k.right+E.right)/D.x}}const y1=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:d,rects:f,platform:h,elements:p,middlewareData:x}=r,{element:m,padding:g=0}=En(s,r)||{};if(m==null)return{};const v=dy(g),N={x:i,y:o},w=xf(d),E=pf(w),S=await h.getDimensions(m),b=w==="y",k=b?"top":"left",R=b?"bottom":"right",T=b?"clientHeight":"clientWidth",D=f.reference[E]+f.reference[w]-N[w]-f.floating[E],A=N[w]-f.reference[w],M=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let z=M?M[T]:0;(!z||!await(h.isElement==null?void 0:h.isElement(M)))&&(z=p.floating[T]||f.floating[E]);const B=D/2-A/2,ae=z/2-S[E]/2-1,P=os(v[k],ae),I=os(v[R],ae),Z=P,ie=z-S[E]-I,Y=z/2-S[E]/2+B,he=Kd(Z,Y,ie),L=!x.arrow&&ql(d)!=null&&Y!==he&&f.reference[E]/2-(Y<Z?P:I)-S[E]/2<0,X=L?Y<Z?Y-Z:Y-ie:0;return{[w]:N[w]+X,data:{[w]:he,centerOffset:Y-he-X,...L&&{alignmentOffset:X}},reset:L}}}),v1=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:d,middlewareData:f,rects:h,initialPlacement:p,platform:x,elements:m}=r,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:N,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...b}=En(s,r);if((i=f.arrow)!=null&&i.alignmentOffset)return{};const k=Tn(d),R=en(p),T=Tn(p)===p,D=await(x.isRTL==null?void 0:x.isRTL(m.floating)),A=N||(T||!S?[Io(p)]:d1(p)),M=E!=="none";!N&&M&&A.push(...p1(p,S,E,D));const z=[p,...A],B=await Vr(r,b),ae=[];let P=((o=f.flip)==null?void 0:o.overflows)||[];if(g&&ae.push(B[k]),v){const Y=u1(d,h,D);ae.push(B[Y[0]],B[Y[1]])}if(P=[...P,{placement:d,overflows:ae}],!ae.every(Y=>Y<=0)){var I,Z;const Y=(((I=f.flip)==null?void 0:I.index)||0)+1,he=z[Y];if(he&&(!(v==="alignment"?R!==en(he):!1)||P.every(H=>en(H.placement)===R?H.overflows[0]>0:!0)))return{data:{index:Y,overflows:P},reset:{placement:he}};let L=(Z=P.filter(X=>X.overflows[0]<=0).sort((X,H)=>X.overflows[1]-H.overflows[1])[0])==null?void 0:Z.placement;if(!L)switch(w){case"bestFit":{var ie;const X=(ie=P.filter(H=>{if(M){const re=en(H.placement);return re===R||re==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(re=>re>0).reduce((re,ve)=>re+ve,0)]).sort((H,re)=>H[1]-re[1])[0])==null?void 0:ie[0];X&&(L=X);break}case"initialPlacement":L=p;break}if(d!==L)return{reset:{placement:L}}}return{}}}};function hg(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function pg(s){return r1.some(r=>s[r]>=0)}const j1=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...d}=En(s,r);switch(o){case"referenceHidden":{const f=await Vr(r,{...d,elementContext:"reference"}),h=hg(f,i.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:pg(h)}}}case"escaped":{const f=await Vr(r,{...d,altBoundary:!0}),h=hg(f,i.floating);return{data:{escapedOffsets:h,escaped:pg(h)}}}default:return{}}}}},fy=new Set(["left","top"]);async function b1(s,r){const{placement:i,platform:o,elements:d}=s,f=await(o.isRTL==null?void 0:o.isRTL(d.floating)),h=Tn(i),p=ql(i),x=en(i)==="y",m=fy.has(h)?-1:1,g=f&&x?-1:1,v=En(r,s);let{mainAxis:N,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return p&&typeof E=="number"&&(w=p==="end"?E*-1:E),x?{x:w*g,y:N*m}:{x:N*m,y:w*g}}const N1=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:d,y:f,placement:h,middlewareData:p}=r,x=await b1(r,s);return h===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:d+x.x,y:f+x.y,data:{...x,placement:h}}}}},S1=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:d}=r,{mainAxis:f=!0,crossAxis:h=!1,limiter:p={fn:b=>{let{x:k,y:R}=b;return{x:k,y:R}}},...x}=En(s,r),m={x:i,y:o},g=await Vr(r,x),v=en(Tn(d)),N=hf(v);let w=m[N],E=m[v];if(f){const b=N==="y"?"top":"left",k=N==="y"?"bottom":"right",R=w+g[b],T=w-g[k];w=Kd(R,w,T)}if(h){const b=v==="y"?"top":"left",k=v==="y"?"bottom":"right",R=E+g[b],T=E-g[k];E=Kd(R,E,T)}const S=p.fn({...r,[N]:w,[v]:E});return{...S,data:{x:S.x-i,y:S.y-o,enabled:{[N]:f,[v]:h}}}}}},w1=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:d,rects:f,middlewareData:h}=r,{offset:p=0,mainAxis:x=!0,crossAxis:m=!0}=En(s,r),g={x:i,y:o},v=en(d),N=hf(v);let w=g[N],E=g[v];const S=En(p,r),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(x){const T=N==="y"?"height":"width",D=f.reference[N]-f.floating[T]+b.mainAxis,A=f.reference[N]+f.reference[T]-b.mainAxis;w<D?w=D:w>A&&(w=A)}if(m){var k,R;const T=N==="y"?"width":"height",D=fy.has(Tn(d)),A=f.reference[v]-f.floating[T]+(D&&((k=h.offset)==null?void 0:k[v])||0)+(D?0:b.crossAxis),M=f.reference[v]+f.reference[T]+(D?0:((R=h.offset)==null?void 0:R[v])||0)-(D?b.crossAxis:0);E<A?E=A:E>M&&(E=M)}return{[N]:w,[v]:E}}}},C1=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:d,rects:f,platform:h,elements:p}=r,{apply:x=()=>{},...m}=En(s,r),g=await Vr(r,m),v=Tn(d),N=ql(d),w=en(d)==="y",{width:E,height:S}=f.floating;let b,k;v==="top"||v==="bottom"?(b=v,k=N===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(k=v,b=N==="end"?"top":"bottom");const R=S-g.top-g.bottom,T=E-g.left-g.right,D=os(S-g[b],R),A=os(E-g[k],T),M=!r.middlewareData.shift;let z=D,B=A;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(B=T),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(z=R),M&&!N){const P=Na(g.left,0),I=Na(g.right,0),Z=Na(g.top,0),ie=Na(g.bottom,0);w?B=E-2*(P!==0||I!==0?P+I:Na(g.left,g.right)):z=S-2*(Z!==0||ie!==0?Z+ie:Na(g.top,g.bottom))}await x({...r,availableWidth:B,availableHeight:z});const ae=await h.getDimensions(p.floating);return E!==ae.width||S!==ae.height?{reset:{rects:!0}}:{}}}};function Ko(){return typeof window<"u"}function Bl(s){return my(s)?(s.nodeName||"").toLowerCase():"#document"}function wa(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function ln(s){var r;return(r=(my(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function my(s){return Ko()?s instanceof Node||s instanceof wa(s).Node:!1}function Va(s){return Ko()?s instanceof Element||s instanceof wa(s).Element:!1}function sn(s){return Ko()?s instanceof HTMLElement||s instanceof wa(s).HTMLElement:!1}function xg(s){return!Ko()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof wa(s).ShadowRoot}const A1=new Set(["inline","contents"]);function Kr(s){const{overflow:r,overflowX:i,overflowY:o,display:d}=Ga(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!A1.has(d)}const E1=new Set(["table","td","th"]);function T1(s){return E1.has(Bl(s))}const M1=[":popover-open",":modal"];function Zo(s){return M1.some(r=>{try{return s.matches(r)}catch{return!1}})}const D1=["transform","translate","scale","rotate","perspective"],R1=["transform","translate","scale","rotate","perspective","filter"],O1=["paint","layout","strict","content"];function gf(s){const r=yf(),i=Va(s)?Ga(s):s;return D1.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||R1.some(o=>(i.willChange||"").includes(o))||O1.some(o=>(i.contain||"").includes(o))}function _1(s){let r=cs(s);for(;sn(r)&&!zl(r);){if(gf(r))return r;if(Zo(r))return null;r=cs(r)}return null}function yf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P1=new Set(["html","body","#document"]);function zl(s){return P1.has(Bl(s))}function Ga(s){return wa(s).getComputedStyle(s)}function Wo(s){return Va(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function cs(s){if(Bl(s)==="html")return s;const r=s.assignedSlot||s.parentNode||xg(s)&&s.host||ln(s);return xg(r)?r.host:r}function hy(s){const r=cs(s);return zl(r)?s.ownerDocument?s.ownerDocument.body:s.body:sn(r)&&Kr(r)?r:hy(r)}function Gr(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const d=hy(s),f=d===((o=s.ownerDocument)==null?void 0:o.body),h=wa(d);if(f){const p=Wd(h);return r.concat(h,h.visualViewport||[],Kr(d)?d:[],p&&i?Gr(p):[])}return r.concat(d,Gr(d,[],i))}function Wd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function py(s){const r=Ga(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const d=sn(s),f=d?s.offsetWidth:i,h=d?s.offsetHeight:o,p=Uo(i)!==f||Uo(o)!==h;return p&&(i=f,o=h),{width:i,height:o,$:p}}function vf(s){return Va(s)?s:s.contextElement}function _l(s){const r=vf(s);if(!sn(r))return an(1);const i=r.getBoundingClientRect(),{width:o,height:d,$:f}=py(r);let h=(f?Uo(i.width):i.width)/o,p=(f?Uo(i.height):i.height)/d;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const k1=an(0);function xy(s){const r=wa(s);return!yf()||!r.visualViewport?k1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function L1(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==wa(s)?!1:r}function Ls(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const d=s.getBoundingClientRect(),f=vf(s);let h=an(1);r&&(o?Va(o)&&(h=_l(o)):h=_l(s));const p=L1(f,i,o)?xy(f):an(0);let x=(d.left+p.x)/h.x,m=(d.top+p.y)/h.y,g=d.width/h.x,v=d.height/h.y;if(f){const N=wa(f),w=o&&Va(o)?wa(o):o;let E=N,S=Wd(E);for(;S&&o&&w!==E;){const b=_l(S),k=S.getBoundingClientRect(),R=Ga(S),T=k.left+(S.clientLeft+parseFloat(R.paddingLeft))*b.x,D=k.top+(S.clientTop+parseFloat(R.paddingTop))*b.y;x*=b.x,m*=b.y,g*=b.x,v*=b.y,x+=T,m+=D,E=wa(S),S=Wd(E)}}return qo({width:g,height:v,x,y:m})}function Jo(s,r){const i=Wo(s).scrollLeft;return r?r.left+i:Ls(ln(s)).left+i}function gy(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-Jo(s,i),d=i.top+r.scrollTop;return{x:o,y:d}}function z1(s){let{elements:r,rect:i,offsetParent:o,strategy:d}=s;const f=d==="fixed",h=ln(o),p=r?Zo(r.floating):!1;if(o===h||p&&f)return i;let x={scrollLeft:0,scrollTop:0},m=an(1);const g=an(0),v=sn(o);if((v||!v&&!f)&&((Bl(o)!=="body"||Kr(h))&&(x=Wo(o)),sn(o))){const w=Ls(o);m=_l(o),g.x=w.x+o.clientLeft,g.y=w.y+o.clientTop}const N=h&&!v&&!f?gy(h,x):an(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-x.scrollLeft*m.x+g.x+N.x,y:i.y*m.y-x.scrollTop*m.y+g.y+N.y}}function U1(s){return Array.from(s.getClientRects())}function I1(s){const r=ln(s),i=Wo(s),o=s.ownerDocument.body,d=Na(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),f=Na(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let h=-i.scrollLeft+Jo(s);const p=-i.scrollTop;return Ga(o).direction==="rtl"&&(h+=Na(r.clientWidth,o.clientWidth)-d),{width:d,height:f,x:h,y:p}}const gg=25;function q1(s,r){const i=wa(s),o=ln(s),d=i.visualViewport;let f=o.clientWidth,h=o.clientHeight,p=0,x=0;if(d){f=d.width,h=d.height;const g=yf();(!g||g&&r==="fixed")&&(p=d.offsetLeft,x=d.offsetTop)}const m=Jo(o);if(m<=0){const g=o.ownerDocument,v=g.body,N=getComputedStyle(v),w=g.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,E=Math.abs(o.clientWidth-v.clientWidth-w);E<=gg&&(f-=E)}else m<=gg&&(f+=m);return{width:f,height:h,x:p,y:x}}const B1=new Set(["absolute","fixed"]);function H1(s,r){const i=Ls(s,!0,r==="fixed"),o=i.top+s.clientTop,d=i.left+s.clientLeft,f=sn(s)?_l(s):an(1),h=s.clientWidth*f.x,p=s.clientHeight*f.y,x=d*f.x,m=o*f.y;return{width:h,height:p,x,y:m}}function yg(s,r,i){let o;if(r==="viewport")o=q1(s,i);else if(r==="document")o=I1(ln(s));else if(Va(r))o=H1(r,i);else{const d=xy(s);o={x:r.x-d.x,y:r.y-d.y,width:r.width,height:r.height}}return qo(o)}function yy(s,r){const i=cs(s);return i===r||!Va(i)||zl(i)?!1:Ga(i).position==="fixed"||yy(i,r)}function F1(s,r){const i=r.get(s);if(i)return i;let o=Gr(s,[],!1).filter(p=>Va(p)&&Bl(p)!=="body"),d=null;const f=Ga(s).position==="fixed";let h=f?cs(s):s;for(;Va(h)&&!zl(h);){const p=Ga(h),x=gf(h);!x&&p.position==="fixed"&&(d=null),(f?!x&&!d:!x&&p.position==="static"&&!!d&&B1.has(d.position)||Kr(h)&&!x&&yy(s,h))?o=o.filter(g=>g!==h):d=p,h=cs(h)}return r.set(s,o),o}function V1(s){let{element:r,boundary:i,rootBoundary:o,strategy:d}=s;const h=[...i==="clippingAncestors"?Zo(r)?[]:F1(r,this._c):[].concat(i),o],p=h[0],x=h.reduce((m,g)=>{const v=yg(r,g,d);return m.top=Na(v.top,m.top),m.right=os(v.right,m.right),m.bottom=os(v.bottom,m.bottom),m.left=Na(v.left,m.left),m},yg(r,p,d));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function G1(s){const{width:r,height:i}=py(s);return{width:r,height:i}}function Y1(s,r,i){const o=sn(r),d=ln(r),f=i==="fixed",h=Ls(s,!0,f,r);let p={scrollLeft:0,scrollTop:0};const x=an(0);function m(){x.x=Jo(d)}if(o||!o&&!f)if((Bl(r)!=="body"||Kr(d))&&(p=Wo(r)),o){const w=Ls(r,!0,f,r);x.x=w.x+r.clientLeft,x.y=w.y+r.clientTop}else d&&m();f&&!o&&d&&m();const g=d&&!o&&!f?gy(d,p):an(0),v=h.left+p.scrollLeft-x.x-g.x,N=h.top+p.scrollTop-x.y-g.y;return{x:v,y:N,width:h.width,height:h.height}}function Ud(s){return Ga(s).position==="static"}function vg(s,r){if(!sn(s)||Ga(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return ln(s)===i&&(i=i.ownerDocument.body),i}function vy(s,r){const i=wa(s);if(Zo(s))return i;if(!sn(s)){let d=cs(s);for(;d&&!zl(d);){if(Va(d)&&!Ud(d))return d;d=cs(d)}return i}let o=vg(s,r);for(;o&&T1(o)&&Ud(o);)o=vg(o,r);return o&&zl(o)&&Ud(o)&&!gf(o)?i:o||_1(s)||i}const $1=async function(s){const r=this.getOffsetParent||vy,i=this.getDimensions,o=await i(s.floating);return{reference:Y1(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Q1(s){return Ga(s).direction==="rtl"}const X1={convertOffsetParentRelativeRectToViewportRelativeRect:z1,getDocumentElement:ln,getClippingRect:V1,getOffsetParent:vy,getElementRects:$1,getClientRects:U1,getDimensions:G1,getScale:_l,isElement:Va,isRTL:Q1};function jy(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function K1(s,r){let i=null,o;const d=ln(s);function f(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function h(p,x){p===void 0&&(p=!1),x===void 0&&(x=1),f();const m=s.getBoundingClientRect(),{left:g,top:v,width:N,height:w}=m;if(p||r(),!N||!w)return;const E=No(v),S=No(d.clientWidth-(g+N)),b=No(d.clientHeight-(v+w)),k=No(g),T={rootMargin:-E+"px "+-S+"px "+-b+"px "+-k+"px",threshold:Na(0,os(1,x))||1};let D=!0;function A(M){const z=M[0].intersectionRatio;if(z!==x){if(!D)return h();z?h(!1,z):o=setTimeout(()=>{h(!1,1e-7)},1e3)}z===1&&!jy(m,s.getBoundingClientRect())&&h(),D=!1}try{i=new IntersectionObserver(A,{...T,root:d.ownerDocument})}catch{i=new IntersectionObserver(A,T)}i.observe(s)}return h(!0),f}function Z1(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:d=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:x=!1}=o,m=vf(s),g=d||f?[...m?Gr(m):[],...Gr(r)]:[];g.forEach(k=>{d&&k.addEventListener("scroll",i,{passive:!0}),f&&k.addEventListener("resize",i)});const v=m&&p?K1(m,i):null;let N=-1,w=null;h&&(w=new ResizeObserver(k=>{let[R]=k;R&&R.target===m&&w&&(w.unobserve(r),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(r)})),i()}),m&&!x&&w.observe(m),w.observe(r));let E,S=x?Ls(s):null;x&&b();function b(){const k=Ls(s);S&&!jy(S,k)&&i(),S=k,E=requestAnimationFrame(b)}return i(),()=>{var k;g.forEach(R=>{d&&R.removeEventListener("scroll",i),f&&R.removeEventListener("resize",i)}),v==null||v(),(k=w)==null||k.disconnect(),w=null,x&&cancelAnimationFrame(E)}}const W1=N1,J1=S1,e2=v1,t2=C1,a2=j1,jg=y1,n2=w1,s2=(s,r,i)=>{const o=new Map,d={platform:X1,...i},f={...d.platform,_c:o};return g1(s,r,{...d,platform:f})};var l2=typeof document<"u",r2=function(){},Mo=l2?j.useLayoutEffect:r2;function Bo(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,d;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!Bo(s[o],r[o]))return!1;return!0}if(d=Object.keys(s),i=d.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,d[o]))return!1;for(o=i;o--!==0;){const f=d[o];if(!(f==="_owner"&&s.$$typeof)&&!Bo(s[f],r[f]))return!1}return!0}return s!==s&&r!==r}function by(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function bg(s,r){const i=by(s);return Math.round(r*i)/i}function Id(s){const r=j.useRef(s);return Mo(()=>{r.current=s}),r}function i2(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d,elements:{reference:f,floating:h}={},transform:p=!0,whileElementsMounted:x,open:m}=s,[g,v]=j.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[N,w]=j.useState(o);Bo(N,o)||w(o);const[E,S]=j.useState(null),[b,k]=j.useState(null),R=j.useCallback(H=>{H!==M.current&&(M.current=H,S(H))},[]),T=j.useCallback(H=>{H!==z.current&&(z.current=H,k(H))},[]),D=f||E,A=h||b,M=j.useRef(null),z=j.useRef(null),B=j.useRef(g),ae=x!=null,P=Id(x),I=Id(d),Z=Id(m),ie=j.useCallback(()=>{if(!M.current||!z.current)return;const H={placement:r,strategy:i,middleware:N};I.current&&(H.platform=I.current),s2(M.current,z.current,H).then(re=>{const ve={...re,isPositioned:Z.current!==!1};Y.current&&!Bo(B.current,ve)&&(B.current=ve,Xr.flushSync(()=>{v(ve)}))})},[N,r,i,I,Z]);Mo(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,v(H=>({...H,isPositioned:!1})))},[m]);const Y=j.useRef(!1);Mo(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Mo(()=>{if(D&&(M.current=D),A&&(z.current=A),D&&A){if(P.current)return P.current(D,A,ie);ie()}},[D,A,ie,P,ae]);const he=j.useMemo(()=>({reference:M,floating:z,setReference:R,setFloating:T}),[R,T]),L=j.useMemo(()=>({reference:D,floating:A}),[D,A]),X=j.useMemo(()=>{const H={position:i,left:0,top:0};if(!L.floating)return H;const re=bg(L.floating,g.x),ve=bg(L.floating,g.y);return p?{...H,transform:"translate("+re+"px, "+ve+"px)",...by(L.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:re,top:ve}},[i,p,L.floating,g.x,g.y]);return j.useMemo(()=>({...g,update:ie,refs:he,elements:L,floatingStyles:X}),[g,ie,he,L,X])}const o2=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:d}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?jg({element:o.current,padding:d}).fn(i):{}:o?jg({element:o,padding:d}).fn(i):{}}}},c2=(s,r)=>({...W1(s),options:[s,r]}),u2=(s,r)=>({...J1(s),options:[s,r]}),d2=(s,r)=>({...n2(s),options:[s,r]}),f2=(s,r)=>({...e2(s),options:[s,r]}),m2=(s,r)=>({...t2(s),options:[s,r]}),h2=(s,r)=>({...a2(s),options:[s,r]}),p2=(s,r)=>({...o2(s),options:[s,r]});var x2="Arrow",Ny=j.forwardRef((s,r)=>{const{children:i,width:o=10,height:d=5,...f}=s;return a.jsx(He.svg,{...f,ref:r,width:o,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ny.displayName=x2;var g2=Ny;function Sy(s){const[r,i]=j.useState(void 0);return Jt(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let h,p;if("borderBoxSize"in f){const x=f.borderBoxSize,m=Array.isArray(x)?x[0]:x;h=m.inlineSize,p=m.blockSize}else h=s.offsetWidth,p=s.offsetHeight;i({width:h,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var jf="Popper",[wy,ec]=Dn(jf),[y2,Cy]=wy(jf),Ay=s=>{const{__scopePopper:r,children:i}=s,[o,d]=j.useState(null);return a.jsx(y2,{scope:r,anchor:o,onAnchorChange:d,children:i})};Ay.displayName=jf;var Ey="PopperAnchor",Ty=j.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...d}=s,f=Cy(Ey,i),h=j.useRef(null),p=ft(r,h),x=j.useRef(null);return j.useEffect(()=>{const m=x.current;x.current=(o==null?void 0:o.current)||h.current,m!==x.current&&f.onAnchorChange(x.current)}),o?null:a.jsx(He.div,{...d,ref:p})});Ty.displayName=Ey;var bf="PopperContent",[v2,j2]=wy(bf),My=j.forwardRef((s,r)=>{var se,Oe,G,xe,be,Me;const{__scopePopper:i,side:o="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:x=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:N=!1,updatePositionStrategy:w="optimized",onPlaced:E,...S}=s,b=Cy(bf,i),[k,R]=j.useState(null),T=ft(r,mt=>R(mt)),[D,A]=j.useState(null),M=Sy(D),z=(M==null?void 0:M.width)??0,B=(M==null?void 0:M.height)??0,ae=o+(f!=="center"?"-"+f:""),P=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},I=Array.isArray(m)?m:[m],Z=I.length>0,ie={padding:P,boundary:I.filter(N2),altBoundary:Z},{refs:Y,floatingStyles:he,placement:L,isPositioned:X,middlewareData:H}=i2({strategy:"fixed",placement:ae,whileElementsMounted:(...mt)=>Z1(...mt,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[c2({mainAxis:d+B,alignmentAxis:h}),x&&u2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?d2():void 0,...ie}),x&&f2({...ie}),m2({...ie,apply:({elements:mt,rects:Ze,availableWidth:gt,availableHeight:Ct})=>{const{width:vt,height:fa}=Ze.reference,V=mt.floating.style;V.setProperty("--radix-popper-available-width",`${gt}px`),V.setProperty("--radix-popper-available-height",`${Ct}px`),V.setProperty("--radix-popper-anchor-width",`${vt}px`),V.setProperty("--radix-popper-anchor-height",`${fa}px`)}}),D&&p2({element:D,padding:p}),S2({arrowWidth:z,arrowHeight:B}),N&&h2({strategy:"referenceHidden",...ie})]}),[re,ve]=Oy(L),O=nn(E);Jt(()=>{X&&(O==null||O())},[X,O]);const ee=(se=H.arrow)==null?void 0:se.x,oe=(Oe=H.arrow)==null?void 0:Oe.y,de=((G=H.arrow)==null?void 0:G.centerOffset)!==0,[q,fe]=j.useState();return Jt(()=>{k&&fe(window.getComputedStyle(k).zIndex)},[k]),a.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:X?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(xe=H.transformOrigin)==null?void 0:xe.x,(be=H.transformOrigin)==null?void 0:be.y].join(" "),...((Me=H.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:a.jsx(v2,{scope:i,placedSide:re,onArrowChange:A,arrowX:ee,arrowY:oe,shouldHideArrow:de,children:a.jsx(He.div,{"data-side":re,"data-align":ve,...S,ref:T,style:{...S.style,animation:X?void 0:"none"}})})})});My.displayName=bf;var Dy="PopperArrow",b2={top:"bottom",right:"left",bottom:"top",left:"right"},Ry=j.forwardRef(function(r,i){const{__scopePopper:o,...d}=r,f=j2(Dy,o),h=b2[f.placedSide];return a.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:a.jsx(g2,{...d,ref:i,style:{...d.style,display:"block"}})})});Ry.displayName=Dy;function N2(s){return s!==null}var S2=s=>({name:"transformOrigin",options:s,fn(r){var b,k,R;const{placement:i,rects:o,middlewareData:d}=r,h=((b=d.arrow)==null?void 0:b.centerOffset)!==0,p=h?0:s.arrowWidth,x=h?0:s.arrowHeight,[m,g]=Oy(i),v={start:"0%",center:"50%",end:"100%"}[g],N=(((k=d.arrow)==null?void 0:k.x)??0)+p/2,w=(((R=d.arrow)==null?void 0:R.y)??0)+x/2;let E="",S="";return m==="bottom"?(E=h?v:`${N}px`,S=`${-x}px`):m==="top"?(E=h?v:`${N}px`,S=`${o.floating.height+x}px`):m==="right"?(E=`${-x}px`,S=h?v:`${w}px`):m==="left"&&(E=`${o.floating.width+x}px`,S=h?v:`${w}px`),{data:{x:E,y:S}}}});function Oy(s){const[r,i="center"]=s.split("-");return[r,i]}var _y=Ay,Py=Ty,ky=My,Ly=Ry,w2="Portal",tc=j.forwardRef((s,r)=>{var p;const{container:i,...o}=s,[d,f]=j.useState(!1);Jt(()=>f(!0),[]);const h=i||d&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?_w.createPortal(a.jsx(He.div,{...o,ref:r}),h):null});tc.displayName=w2;var C2=cf[" useInsertionEffect ".trim().toString()]||Jt;function zs({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[d,f,h]=A2({defaultProp:r,onChange:i}),p=s!==void 0,x=p?s:d;{const g=j.useRef(s!==void 0);j.useEffect(()=>{const v=g.current;v!==p&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=p},[p,o])}const m=j.useCallback(g=>{var v;if(p){const N=E2(g)?g(s):g;N!==s&&((v=h.current)==null||v.call(h,N))}else f(g)},[p,s,f,h]);return[x,m]}function A2({defaultProp:s,onChange:r}){const[i,o]=j.useState(s),d=j.useRef(i),f=j.useRef(r);return C2(()=>{f.current=r},[r]),j.useEffect(()=>{var h;d.current!==i&&((h=f.current)==null||h.call(f,i),d.current=i)},[i,d]),[i,o,f]}function E2(s){return typeof s=="function"}function zy(s){const r=j.useRef({value:s,previous:s});return j.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Uy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),T2="VisuallyHidden",M2=j.forwardRef((s,r)=>a.jsx(He.span,{...s,ref:r,style:{...Uy,...s.style}}));M2.displayName=T2;var D2=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},Ml=new WeakMap,So=new WeakMap,wo={},qd=0,Iy=function(s){return s&&(s.host||Iy(s.parentNode))},R2=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=Iy(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},O2=function(s,r,i,o){var d=R2(r,Array.isArray(s)?s:[s]);wo[i]||(wo[i]=new WeakMap);var f=wo[i],h=[],p=new Set,x=new Set(d),m=function(v){!v||p.has(v)||(p.add(v),m(v.parentNode))};d.forEach(m);var g=function(v){!v||x.has(v)||Array.prototype.forEach.call(v.children,function(N){if(p.has(N))g(N);else try{var w=N.getAttribute(o),E=w!==null&&w!=="false",S=(Ml.get(N)||0)+1,b=(f.get(N)||0)+1;Ml.set(N,S),f.set(N,b),h.push(N),S===1&&E&&So.set(N,!0),b===1&&N.setAttribute(i,"true"),E||N.setAttribute(o,"true")}catch(k){console.error("aria-hidden: cannot operate on ",N,k)}})};return g(r),p.clear(),qd++,function(){h.forEach(function(v){var N=Ml.get(v)-1,w=f.get(v)-1;Ml.set(v,N),f.set(v,w),N||(So.has(v)||v.removeAttribute(o),So.delete(v)),w||v.removeAttribute(i)}),qd--,qd||(Ml=new WeakMap,Ml=new WeakMap,So=new WeakMap,wo={})}},Nf=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),d=D2(s);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),O2(o,d,i,"aria-hidden")):function(){return null}},Ja=function(){return Ja=Object.assign||function(r){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f])}return r},Ja.apply(this,arguments)};function qy(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(i[o[d]]=s[o[d]]);return i}function _2(s,r,i){if(i||arguments.length===2)for(var o=0,d=r.length,f;o<d;o++)(f||!(o in r))&&(f||(f=Array.prototype.slice.call(r,0,o)),f[o]=r[o]);return s.concat(f||Array.prototype.slice.call(r))}var Do="right-scroll-bar-position",Ro="width-before-scroll-bar",P2="with-scroll-bars-hidden",k2="--removed-body-scroll-bar-size";function Bd(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function L2(s,r){var i=j.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=r,i.facade}var z2=typeof window<"u"?j.useLayoutEffect:j.useEffect,Ng=new WeakMap;function U2(s,r){var i=L2(null,function(o){return s.forEach(function(d){return Bd(d,o)})});return z2(function(){var o=Ng.get(i);if(o){var d=new Set(o),f=new Set(s),h=i.current;d.forEach(function(p){f.has(p)||Bd(p,null)}),f.forEach(function(p){d.has(p)||Bd(p,h)})}Ng.set(i,s)},[s]),i}function I2(s){return s}function q2(s,r){r===void 0&&(r=I2);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(f){var h=r(f,o);return i.push(h),function(){i=i.filter(function(p){return p!==h})}},assignSyncMedium:function(f){for(o=!0;i.length;){var h=i;i=[],h.forEach(f)}i={push:function(p){return f(p)},filter:function(){return i}}},assignMedium:function(f){o=!0;var h=[];if(i.length){var p=i;i=[],p.forEach(f),h=i}var x=function(){var g=h;h=[],g.forEach(f)},m=function(){return Promise.resolve().then(x)};m(),i={push:function(g){h.push(g),m()},filter:function(g){return h=h.filter(g),i}}}};return d}function B2(s){s===void 0&&(s={});var r=q2(null);return r.options=Ja({async:!0,ssr:!1},s),r}var By=function(s){var r=s.sideCar,i=qy(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,Ja({},i))};By.isSideCarExport=!0;function H2(s,r){return s.useMedium(r),By}var Hy=B2(),Hd=function(){},ac=j.forwardRef(function(s,r){var i=j.useRef(null),o=j.useState({onScrollCapture:Hd,onWheelCapture:Hd,onTouchMoveCapture:Hd}),d=o[0],f=o[1],h=s.forwardProps,p=s.children,x=s.className,m=s.removeScrollBar,g=s.enabled,v=s.shards,N=s.sideCar,w=s.noRelative,E=s.noIsolation,S=s.inert,b=s.allowPinchZoom,k=s.as,R=k===void 0?"div":k,T=s.gapMode,D=qy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=N,M=U2([i,r]),z=Ja(Ja({},D),d);return j.createElement(j.Fragment,null,g&&j.createElement(A,{sideCar:Hy,removeScrollBar:m,shards:v,noRelative:w,noIsolation:E,inert:S,setCallbacks:f,allowPinchZoom:!!b,lockRef:i,gapMode:T}),h?j.cloneElement(j.Children.only(p),Ja(Ja({},z),{ref:M})):j.createElement(R,Ja({},z,{className:x,ref:M}),p))});ac.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ac.classNames={fullWidth:Ro,zeroRight:Do};var F2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=F2();return r&&s.setAttribute("nonce",r),s}function G2(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function Y2(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var $2=function(){var s=0,r=null;return{add:function(i){s==0&&(r=V2())&&(G2(r,i),Y2(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Q2=function(){var s=$2();return function(r,i){j.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Fy=function(){var s=Q2(),r=function(i){var o=i.styles,d=i.dynamic;return s(o,d),null};return r},X2={left:0,top:0,right:0,gap:0},Fd=function(s){return parseInt(s||"",10)||0},K2=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],d=r[s==="padding"?"paddingRight":"marginRight"];return[Fd(i),Fd(o),Fd(d)]},Z2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return X2;var r=K2(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},W2=Fy(),Pl="data-scroll-locked",J2=function(s,r,i,o){var d=s.left,f=s.top,h=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(P2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Pl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Do,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Ro,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Do," .").concat(Do,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ro," .").concat(Ro,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Pl,`] {
    `).concat(k2,": ").concat(p,`px;
  }
`)},Sg=function(){var s=parseInt(document.body.getAttribute(Pl)||"0",10);return isFinite(s)?s:0},eC=function(){j.useEffect(function(){return document.body.setAttribute(Pl,(Sg()+1).toString()),function(){var s=Sg()-1;s<=0?document.body.removeAttribute(Pl):document.body.setAttribute(Pl,s.toString())}},[])},tC=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,d=o===void 0?"margin":o;eC();var f=j.useMemo(function(){return Z2(d)},[d]);return j.createElement(W2,{styles:J2(f,!r,d,i?"":"!important")})},Jd=!1;if(typeof window<"u")try{var Co=Object.defineProperty({},"passive",{get:function(){return Jd=!0,!0}});window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Jd=!1}var Dl=Jd?{passive:!1}:!1,aC=function(s){return s.tagName==="TEXTAREA"},Vy=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!aC(s)&&i[r]==="visible")},nC=function(s){return Vy(s,"overflowY")},sC=function(s){return Vy(s,"overflowX")},wg=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Gy(s,o);if(d){var f=Yy(s,o),h=f[1],p=f[2];if(h>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},lC=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},rC=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Gy=function(s,r){return s==="v"?nC(r):sC(r)},Yy=function(s,r){return s==="v"?lC(r):rC(r)},iC=function(s,r){return s==="h"&&r==="rtl"?-1:1},oC=function(s,r,i,o,d){var f=iC(s,window.getComputedStyle(r).direction),h=f*o,p=i.target,x=r.contains(p),m=!1,g=h>0,v=0,N=0;do{if(!p)break;var w=Yy(s,p),E=w[0],S=w[1],b=w[2],k=S-b-f*E;(E||k)&&Gy(s,p)&&(v+=k,N+=E);var R=p.parentNode;p=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!x&&p!==document.body||x&&(r.contains(p)||r===p));return(g&&Math.abs(v)<1||!g&&Math.abs(N)<1)&&(m=!0),m},Ao=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Cg=function(s){return[s.deltaX,s.deltaY]},Ag=function(s){return s&&"current"in s?s.current:s},cC=function(s,r){return s[0]===r[0]&&s[1]===r[1]},uC=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},dC=0,Rl=[];function fC(s){var r=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(dC++)[0],f=j.useState(Fy)[0],h=j.useRef(s);j.useEffect(function(){h.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var S=_2([s.lockRef.current],(s.shards||[]).map(Ag),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var p=j.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!h.current.allowPinchZoom;var k=Ao(S),R=i.current,T="deltaX"in S?S.deltaX:R[0]-k[0],D="deltaY"in S?S.deltaY:R[1]-k[1],A,M=S.target,z=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in S&&z==="h"&&M.type==="range")return!1;var B=window.getSelection(),ae=B&&B.anchorNode,P=ae?ae===M||ae.contains(M):!1;if(P)return!1;var I=wg(z,M);if(!I)return!0;if(I?A=z:(A=z==="v"?"h":"v",I=wg(z,M)),!I)return!1;if(!o.current&&"changedTouches"in S&&(T||D)&&(o.current=A),!A)return!0;var Z=o.current||A;return oC(Z,b,S,Z==="h"?T:D)},[]),x=j.useCallback(function(S){var b=S;if(!(!Rl.length||Rl[Rl.length-1]!==f)){var k="deltaY"in b?Cg(b):Ao(b),R=r.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&cC(A.delta,k)})[0];if(R&&R.should){b.cancelable&&b.preventDefault();return}if(!R){var T=(h.current.shards||[]).map(Ag).filter(Boolean).filter(function(A){return A.contains(b.target)}),D=T.length>0?p(b,T[0]):!h.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),m=j.useCallback(function(S,b,k,R){var T={name:S,delta:b,target:k,should:R,shadowParent:mC(k)};r.current.push(T),setTimeout(function(){r.current=r.current.filter(function(D){return D!==T})},1)},[]),g=j.useCallback(function(S){i.current=Ao(S),o.current=void 0},[]),v=j.useCallback(function(S){m(S.type,Cg(S),S.target,p(S,s.lockRef.current))},[]),N=j.useCallback(function(S){m(S.type,Ao(S),S.target,p(S,s.lockRef.current))},[]);j.useEffect(function(){return Rl.push(f),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:N}),document.addEventListener("wheel",x,Dl),document.addEventListener("touchmove",x,Dl),document.addEventListener("touchstart",g,Dl),function(){Rl=Rl.filter(function(S){return S!==f}),document.removeEventListener("wheel",x,Dl),document.removeEventListener("touchmove",x,Dl),document.removeEventListener("touchstart",g,Dl)}},[]);var w=s.removeScrollBar,E=s.inert;return j.createElement(j.Fragment,null,E?j.createElement(f,{styles:uC(d)}):null,w?j.createElement(tC,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function mC(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const hC=H2(Hy,fC);var nc=j.forwardRef(function(s,r){return j.createElement(ac,Ja({},s,{ref:r,sideCar:hC}))});nc.classNames=ac.classNames;var pC=[" ","Enter","ArrowUp","ArrowDown"],xC=[" ","Enter"],Us="Select",[sc,lc,gC]=ff(Us),[Hl]=Dn(Us,[gC,ec]),rc=ec(),[yC,us]=Hl(Us),[vC,jC]=Hl(Us),$y=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:d,onOpenChange:f,value:h,defaultValue:p,onValueChange:x,dir:m,name:g,autoComplete:v,disabled:N,required:w,form:E}=s,S=rc(r),[b,k]=j.useState(null),[R,T]=j.useState(null),[D,A]=j.useState(!1),M=$o(m),[z,B]=zs({prop:o,defaultProp:d??!1,onChange:f,caller:Us}),[ae,P]=zs({prop:h,defaultProp:p,onChange:x,caller:Us}),I=j.useRef(null),Z=b?E||!!b.closest("form"):!0,[ie,Y]=j.useState(new Set),he=Array.from(ie).map(L=>L.props.value).join(";");return a.jsx(_y,{...S,children:a.jsxs(yC,{required:w,scope:r,trigger:b,onTriggerChange:k,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:A,contentId:tn(),value:ae,onValueChange:P,open:z,onOpenChange:B,dir:M,triggerPointerDownPosRef:I,disabled:N,children:[a.jsx(sc.Provider,{scope:r,children:a.jsx(vC,{scope:s.__scopeSelect,onNativeOptionAdd:j.useCallback(L=>{Y(X=>new Set(X).add(L))},[]),onNativeOptionRemove:j.useCallback(L=>{Y(X=>{const H=new Set(X);return H.delete(L),H})},[]),children:i})}),Z?a.jsxs(pv,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:v,value:ae,onChange:L=>P(L.target.value),disabled:N,form:E,children:[ae===void 0?a.jsx("option",{value:""}):null,Array.from(ie)]},he):null]})})};$y.displayName=Us;var Qy="SelectTrigger",Xy=j.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...d}=s,f=rc(i),h=us(Qy,i),p=h.disabled||o,x=ft(r,h.onTriggerChange),m=lc(i),g=j.useRef("touch"),[v,N,w]=gv(S=>{const b=m().filter(T=>!T.disabled),k=b.find(T=>T.value===h.value),R=yv(b,S,k);R!==void 0&&h.onValueChange(R.value)}),E=S=>{p||(h.onOpenChange(!0),w()),S&&(h.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return a.jsx(Py,{asChild:!0,...f,children:a.jsx(He.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":xv(h.value)?"":void 0,...d,ref:x,onClick:Re(d.onClick,S=>{S.currentTarget.focus(),g.current!=="mouse"&&E(S)}),onPointerDown:Re(d.onPointerDown,S=>{g.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(E(S),S.preventDefault())}),onKeyDown:Re(d.onKeyDown,S=>{const b=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&N(S.key),!(b&&S.key===" ")&&pC.includes(S.key)&&(E(),S.preventDefault())})})})});Xy.displayName=Qy;var Ky="SelectValue",Zy=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,children:f,placeholder:h="",...p}=s,x=us(Ky,i),{onValueNodeHasChildrenChange:m}=x,g=f!==void 0,v=ft(r,x.onValueNodeChange);return Jt(()=>{m(g)},[m,g]),a.jsx(He.span,{...p,ref:v,style:{pointerEvents:"none"},children:xv(x.value)?a.jsx(a.Fragment,{children:h}):f})});Zy.displayName=Ky;var bC="SelectIcon",Wy=j.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...d}=s;return a.jsx(He.span,{"aria-hidden":!0,...d,ref:r,children:o||""})});Wy.displayName=bC;var NC="SelectPortal",Jy=s=>a.jsx(tc,{asChild:!0,...s});Jy.displayName=NC;var Is="SelectContent",ev=j.forwardRef((s,r)=>{const i=us(Is,s.__scopeSelect),[o,d]=j.useState();if(Jt(()=>{d(new DocumentFragment)},[]),!i.open){const f=o;return f?Xr.createPortal(a.jsx(tv,{scope:s.__scopeSelect,children:a.jsx(sc.Slot,{scope:s.__scopeSelect,children:a.jsx("div",{children:s.children})})}),f):null}return a.jsx(av,{...s,ref:r})});ev.displayName=Is;var Fa=10,[tv,ds]=Hl(Is),SC="SelectContentImpl",wC=Ll("SelectContent.RemoveScroll"),av=j.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,side:p,sideOffset:x,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:N,collisionPadding:w,sticky:E,hideWhenDetached:S,avoidCollisions:b,...k}=s,R=us(Is,i),[T,D]=j.useState(null),[A,M]=j.useState(null),z=ft(r,se=>D(se)),[B,ae]=j.useState(null),[P,I]=j.useState(null),Z=lc(i),[ie,Y]=j.useState(!1),he=j.useRef(!1);j.useEffect(()=>{if(T)return Nf(T)},[T]),mf();const L=j.useCallback(se=>{const[Oe,...G]=Z().map(Me=>Me.ref.current),[xe]=G.slice(-1),be=document.activeElement;for(const Me of se)if(Me===be||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===Oe&&A&&(A.scrollTop=0),Me===xe&&A&&(A.scrollTop=A.scrollHeight),Me==null||Me.focus(),document.activeElement!==be))return},[Z,A]),X=j.useCallback(()=>L([B,T]),[L,B,T]);j.useEffect(()=>{ie&&X()},[ie,X]);const{onOpenChange:H,triggerPointerDownPosRef:re}=R;j.useEffect(()=>{if(T){let se={x:0,y:0};const Oe=xe=>{var be,Me;se={x:Math.abs(Math.round(xe.pageX)-(((be=re.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Me=re.current)==null?void 0:Me.y)??0))}},G=xe=>{se.x<=10&&se.y<=10?xe.preventDefault():T.contains(xe.target)||H(!1),document.removeEventListener("pointermove",Oe),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",G,{capture:!0})}}},[T,H,re]),j.useEffect(()=>{const se=()=>H(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[H]);const[ve,O]=gv(se=>{const Oe=Z().filter(be=>!be.disabled),G=Oe.find(be=>be.ref.current===document.activeElement),xe=yv(Oe,se,G);xe&&setTimeout(()=>xe.ref.current.focus())}),ee=j.useCallback((se,Oe,G)=>{const xe=!he.current&&!G;(R.value!==void 0&&R.value===Oe||xe)&&(ae(se),xe&&(he.current=!0))},[R.value]),oe=j.useCallback(()=>T==null?void 0:T.focus(),[T]),de=j.useCallback((se,Oe,G)=>{const xe=!he.current&&!G;(R.value!==void 0&&R.value===Oe||xe)&&I(se)},[R.value]),q=o==="popper"?ef:nv,fe=q===ef?{side:p,sideOffset:x,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:N,collisionPadding:w,sticky:E,hideWhenDetached:S,avoidCollisions:b}:{};return a.jsx(tv,{scope:i,content:T,viewport:A,onViewportChange:M,itemRefCallback:ee,selectedItem:B,onItemLeave:oe,itemTextRefCallback:de,focusSelectedItem:X,selectedItemText:P,position:o,isPositioned:ie,searchRef:ve,children:a.jsx(nc,{as:wC,allowPinchZoom:!0,children:a.jsx(Xo,{asChild:!0,trapped:R.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Re(d,se=>{var Oe;(Oe=R.trigger)==null||Oe.focus({preventScroll:!0}),se.preventDefault()}),children:a.jsx(Qo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:a.jsx(q,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:se=>se.preventDefault(),...k,...fe,onPlaced:()=>Y(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Re(k.onKeyDown,se=>{const Oe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Oe&&se.key.length===1&&O(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let xe=Z().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(se.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const be=se.target,Me=xe.indexOf(be);xe=xe.slice(Me+1)}setTimeout(()=>L(xe)),se.preventDefault()}})})})})})})});av.displayName=SC;var CC="SelectItemAlignedPosition",nv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...d}=s,f=us(Is,i),h=ds(Is,i),[p,x]=j.useState(null),[m,g]=j.useState(null),v=ft(r,z=>g(z)),N=lc(i),w=j.useRef(!1),E=j.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:k,focusSelectedItem:R}=h,T=j.useCallback(()=>{if(f.trigger&&f.valueNode&&p&&m&&S&&b&&k){const z=f.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),ae=f.valueNode.getBoundingClientRect(),P=k.getBoundingClientRect();if(f.dir!=="rtl"){const be=P.left-B.left,Me=ae.left-be,mt=z.left-Me,Ze=z.width+mt,gt=Math.max(Ze,B.width),Ct=window.innerWidth-Fa,vt=ng(Me,[Fa,Math.max(Fa,Ct-gt)]);p.style.minWidth=Ze+"px",p.style.left=vt+"px"}else{const be=B.right-P.right,Me=window.innerWidth-ae.right-be,mt=window.innerWidth-z.right-Me,Ze=z.width+mt,gt=Math.max(Ze,B.width),Ct=window.innerWidth-Fa,vt=ng(Me,[Fa,Math.max(Fa,Ct-gt)]);p.style.minWidth=Ze+"px",p.style.right=vt+"px"}const I=N(),Z=window.innerHeight-Fa*2,ie=S.scrollHeight,Y=window.getComputedStyle(m),he=parseInt(Y.borderTopWidth,10),L=parseInt(Y.paddingTop,10),X=parseInt(Y.borderBottomWidth,10),H=parseInt(Y.paddingBottom,10),re=he+L+ie+H+X,ve=Math.min(b.offsetHeight*5,re),O=window.getComputedStyle(S),ee=parseInt(O.paddingTop,10),oe=parseInt(O.paddingBottom,10),de=z.top+z.height/2-Fa,q=Z-de,fe=b.offsetHeight/2,se=b.offsetTop+fe,Oe=he+L+se,G=re-Oe;if(Oe<=de){const be=I.length>0&&b===I[I.length-1].ref.current;p.style.bottom="0px";const Me=m.clientHeight-S.offsetTop-S.offsetHeight,mt=Math.max(q,fe+(be?oe:0)+Me+X),Ze=Oe+mt;p.style.height=Ze+"px"}else{const be=I.length>0&&b===I[0].ref.current;p.style.top="0px";const mt=Math.max(de,he+S.offsetTop+(be?ee:0)+fe)+G;p.style.height=mt+"px",S.scrollTop=Oe-de+S.offsetTop}p.style.margin=`${Fa}px 0`,p.style.minHeight=ve+"px",p.style.maxHeight=Z+"px",o==null||o(),requestAnimationFrame(()=>w.current=!0)}},[N,f.trigger,f.valueNode,p,m,S,b,k,f.dir,o]);Jt(()=>T(),[T]);const[D,A]=j.useState();Jt(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const M=j.useCallback(z=>{z&&E.current===!0&&(T(),R==null||R(),E.current=!1)},[T,R]);return a.jsx(EC,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:w,onScrollButtonChange:M,children:a.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:a.jsx(He.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});nv.displayName=CC;var AC="SelectPopperPosition",ef=j.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:d=Fa,...f}=s,h=rc(i);return a.jsx(ky,{...h,...f,ref:r,align:o,collisionPadding:d,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ef.displayName=AC;var[EC,Sf]=Hl(Is,{}),tf="SelectViewport",sv=j.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...d}=s,f=ds(tf,i),h=Sf(tf,i),p=ft(r,f.onViewportChange),x=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(sc.Slot,{scope:i,children:a.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:Re(d.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:N}=h;if(N!=null&&N.current&&v){const w=Math.abs(x.current-g.scrollTop);if(w>0){const E=window.innerHeight-Fa*2,S=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),k=Math.max(S,b);if(k<E){const R=k+w,T=Math.min(E,R),D=R-T;v.style.height=T+"px",v.style.bottom==="0px"&&(g.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}x.current=g.scrollTop})})})]})});sv.displayName=tf;var lv="SelectGroup",[TC,MC]=Hl(lv),DC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=tn();return a.jsx(TC,{scope:i,id:d,children:a.jsx(He.div,{role:"group","aria-labelledby":d,...o,ref:r})})});DC.displayName=lv;var rv="SelectLabel",RC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=MC(rv,i);return a.jsx(He.div,{id:d.id,...o,ref:r})});RC.displayName=rv;var Ho="SelectItem",[OC,iv]=Hl(Ho),ov=j.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:d=!1,textValue:f,...h}=s,p=us(Ho,i),x=ds(Ho,i),m=p.value===o,[g,v]=j.useState(f??""),[N,w]=j.useState(!1),E=ft(r,R=>{var T;return(T=x.itemRefCallback)==null?void 0:T.call(x,R,o,d)}),S=tn(),b=j.useRef("touch"),k=()=>{d||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(OC,{scope:i,value:o,disabled:d,textId:S,isSelected:m,onItemTextChange:j.useCallback(R=>{v(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:a.jsx(sc.ItemSlot,{scope:i,value:o,disabled:d,textValue:g,children:a.jsx(He.div,{role:"option","aria-labelledby":S,"data-highlighted":N?"":void 0,"aria-selected":m&&N,"data-state":m?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...h,ref:E,onFocus:Re(h.onFocus,()=>w(!0)),onBlur:Re(h.onBlur,()=>w(!1)),onClick:Re(h.onClick,()=>{b.current!=="mouse"&&k()}),onPointerUp:Re(h.onPointerUp,()=>{b.current==="mouse"&&k()}),onPointerDown:Re(h.onPointerDown,R=>{b.current=R.pointerType}),onPointerMove:Re(h.onPointerMove,R=>{var T;b.current=R.pointerType,d?(T=x.onItemLeave)==null||T.call(x):b.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(h.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=x.onItemLeave)==null||T.call(x))}),onKeyDown:Re(h.onKeyDown,R=>{var D;((D=x.searchRef)==null?void 0:D.current)!==""&&R.key===" "||(xC.includes(R.key)&&k(),R.key===" "&&R.preventDefault())})})})})});ov.displayName=Ho;var Ir="SelectItemText",cv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,...f}=s,h=us(Ir,i),p=ds(Ir,i),x=iv(Ir,i),m=jC(Ir,i),[g,v]=j.useState(null),N=ft(r,k=>v(k),x.onItemTextChange,k=>{var R;return(R=p.itemTextRefCallback)==null?void 0:R.call(p,k,x.value,x.disabled)}),w=g==null?void 0:g.textContent,E=j.useMemo(()=>a.jsx("option",{value:x.value,disabled:x.disabled,children:w},x.value),[x.disabled,x.value,w]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=m;return Jt(()=>(S(E),()=>b(E)),[S,b,E]),a.jsxs(a.Fragment,{children:[a.jsx(He.span,{id:x.textId,...f,ref:N}),x.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Xr.createPortal(f.children,h.valueNode):null]})});cv.displayName=Ir;var uv="SelectItemIndicator",dv=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return iv(uv,i).isSelected?a.jsx(He.span,{"aria-hidden":!0,...o,ref:r}):null});dv.displayName=uv;var af="SelectScrollUpButton",fv=j.forwardRef((s,r)=>{const i=ds(af,s.__scopeSelect),o=Sf(af,s.__scopeSelect),[d,f]=j.useState(!1),h=ft(r,o.onScrollButtonChange);return Jt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=x.scrollTop>0;f(m)};const x=i.viewport;return p(),x.addEventListener("scroll",p),()=>x.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(hv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:x}=i;p&&x&&(p.scrollTop=p.scrollTop-x.offsetHeight)}}):null});fv.displayName=af;var nf="SelectScrollDownButton",mv=j.forwardRef((s,r)=>{const i=ds(nf,s.__scopeSelect),o=Sf(nf,s.__scopeSelect),[d,f]=j.useState(!1),h=ft(r,o.onScrollButtonChange);return Jt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=x.scrollHeight-x.clientHeight,g=Math.ceil(x.scrollTop)<m;f(g)};const x=i.viewport;return p(),x.addEventListener("scroll",p),()=>x.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?a.jsx(hv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:x}=i;p&&x&&(p.scrollTop=p.scrollTop+x.offsetHeight)}}):null});mv.displayName=nf;var hv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...d}=s,f=ds("SelectScrollButton",i),h=j.useRef(null),p=lc(i),x=j.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return j.useEffect(()=>()=>x(),[x]),Jt(()=>{var g;const m=p().find(v=>v.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[p]),a.jsx(He.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:Re(d.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:Re(d.onPointerMove,()=>{var m;(m=f.onItemLeave)==null||m.call(f),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:Re(d.onPointerLeave,()=>{x()})})}),_C="SelectSeparator",PC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return a.jsx(He.div,{"aria-hidden":!0,...o,ref:r})});PC.displayName=_C;var sf="SelectArrow",kC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=rc(i),f=us(sf,i),h=ds(sf,i);return f.open&&h.position==="popper"?a.jsx(Ly,{...d,...o,ref:r}):null});kC.displayName=sf;var LC="SelectBubbleInput",pv=j.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const d=j.useRef(null),f=ft(o,d),h=zy(r);return j.useEffect(()=>{const p=d.current;if(!p)return;const x=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(x,"value").set;if(h!==r&&g){const v=new Event("change",{bubbles:!0});g.call(p,r),p.dispatchEvent(v)}},[h,r]),a.jsx(He.select,{...i,style:{...Uy,...i.style},ref:f,defaultValue:r})});pv.displayName=LC;function xv(s){return s===""||s===void 0}function gv(s){const r=nn(s),i=j.useRef(""),o=j.useRef(0),d=j.useCallback(h=>{const p=i.current+h;r(p),(function x(m){i.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>x(""),1e3))})(p)},[r]),f=j.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,d,f]}function yv(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=zC(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const x=h.find(m=>m.textValue.toLowerCase().startsWith(d.toLowerCase()));return x!==i?x:void 0}function zC(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var UC=$y,IC=Xy,qC=Zy,BC=Wy,HC=Jy,FC=ev,VC=sv,GC=ov,YC=cv,$C=dv,QC=fv,XC=mv;function rt({...s}){return a.jsx(UC,{"data-slot":"select",...s})}function it({...s}){return a.jsx(qC,{"data-slot":"select-value",...s})}function ot({className:s,size:r="default",children:i,...o}){return a.jsxs(IC,{"data-slot":"select-trigger","data-size":r,className:Ge("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o,children:[i,a.jsx(BC,{asChild:!0,children:a.jsx(zg,{className:"size-4 opacity-50"})})]})}function ct({className:s,children:r,position:i="popper",...o}){return a.jsx(HC,{children:a.jsxs(FC,{"data-slot":"select-content",className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[a.jsx(KC,{}),a.jsx(VC,{className:Ge("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),a.jsx(ZC,{})]})})}function pe({className:s,children:r,...i}){return a.jsxs(GC,{"data-slot":"select-item",className:Ge("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx($C,{children:a.jsx(RN,{className:"size-4"})})}),a.jsx(YC,{children:r})]})}function KC({className:s,...r}){return a.jsx(QC,{"data-slot":"select-scroll-up-button",className:Ge("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(LN,{className:"size-4"})})}function ZC({className:s,...r}){return a.jsx(XC,{"data-slot":"select-scroll-down-button",className:Ge("flex cursor-default items-center justify-center py-1",s),...r,children:a.jsx(zg,{className:"size-4"})})}function WC(s,r){return j.useReducer((i,o)=>r[i][o]??i,s)}var Rn=s=>{const{present:r,children:i}=s,o=JC(r),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=ft(o.ref,eA(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};Rn.displayName="Presence";function JC(s){const[r,i]=j.useState(),o=j.useRef(null),d=j.useRef(s),f=j.useRef("none"),h=s?"mounted":"unmounted",[p,x]=WC(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=Eo(o.current);f.current=p==="mounted"?m:"none"},[p]),Jt(()=>{const m=o.current,g=d.current;if(g!==s){const N=f.current,w=Eo(m);s?x("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?x("UNMOUNT"):x(g&&N!==w?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,x]),Jt(()=>{if(r){let m;const g=r.ownerDocument.defaultView??window,v=w=>{const S=Eo(o.current).includes(CSS.escape(w.animationName));if(w.target===r&&S&&(x("ANIMATION_END"),!d.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",m=g.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},N=w=>{w.target===r&&(f.current=Eo(o.current))};return r.addEventListener("animationstart",N),r.addEventListener("animationcancel",v),r.addEventListener("animationend",v),()=>{g.clearTimeout(m),r.removeEventListener("animationstart",N),r.removeEventListener("animationcancel",v),r.removeEventListener("animationend",v)}}else x("ANIMATION_END")},[r,x]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:j.useCallback(m=>{o.current=m?getComputedStyle(m):null,i(m)},[])}}function Eo(s){return(s==null?void 0:s.animationName)||"none"}function eA(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Vd="rovingFocusGroup.onEntryFocus",tA={bubbles:!1,cancelable:!0},Zr="RovingFocusGroup",[lf,vv,aA]=ff(Zr),[nA,ic]=Dn(Zr,[aA]),[sA,lA]=nA(Zr),jv=j.forwardRef((s,r)=>a.jsx(lf.Provider,{scope:s.__scopeRovingFocusGroup,children:a.jsx(lf.Slot,{scope:s.__scopeRovingFocusGroup,children:a.jsx(rA,{...s,ref:r})})}));jv.displayName=Zr;var rA=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:d=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=s,N=j.useRef(null),w=ft(r,N),E=$o(f),[S,b]=zs({prop:h,defaultProp:p??null,onChange:x,caller:Zr}),[k,R]=j.useState(!1),T=nn(m),D=vv(i),A=j.useRef(!1),[M,z]=j.useState(0);return j.useEffect(()=>{const B=N.current;if(B)return B.addEventListener(Vd,T),()=>B.removeEventListener(Vd,T)},[T]),a.jsx(sA,{scope:i,orientation:o,dir:E,loop:d,currentTabStopId:S,onItemFocus:j.useCallback(B=>b(B),[b]),onItemShiftTab:j.useCallback(()=>R(!0),[]),onFocusableItemAdd:j.useCallback(()=>z(B=>B+1),[]),onFocusableItemRemove:j.useCallback(()=>z(B=>B-1),[]),children:a.jsx(He.div,{tabIndex:k||M===0?-1:0,"data-orientation":o,...v,ref:w,style:{outline:"none",...s.style},onMouseDown:Re(s.onMouseDown,()=>{A.current=!0}),onFocus:Re(s.onFocus,B=>{const ae=!A.current;if(B.target===B.currentTarget&&ae&&!k){const P=new CustomEvent(Vd,tA);if(B.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=D().filter(L=>L.focusable),Z=I.find(L=>L.active),ie=I.find(L=>L.id===S),he=[Z,ie,...I].filter(Boolean).map(L=>L.ref.current);Sv(he,g)}}A.current=!1}),onBlur:Re(s.onBlur,()=>R(!1))})})}),bv="RovingFocusGroupItem",Nv=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:d=!1,tabStopId:f,children:h,...p}=s,x=tn(),m=f||x,g=lA(bv,i),v=g.currentTabStopId===m,N=vv(i),{onFocusableItemAdd:w,onFocusableItemRemove:E,currentTabStopId:S}=g;return j.useEffect(()=>{if(o)return w(),()=>E()},[o,w,E]),a.jsx(lf.ItemSlot,{scope:i,id:m,focusable:o,active:d,children:a.jsx(He.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...p,ref:r,onMouseDown:Re(s.onMouseDown,b=>{o?g.onItemFocus(m):b.preventDefault()}),onFocus:Re(s.onFocus,()=>g.onItemFocus(m)),onKeyDown:Re(s.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){g.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const k=cA(b,g.orientation,g.dir);if(k!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let T=N().filter(D=>D.focusable).map(D=>D.ref.current);if(k==="last")T.reverse();else if(k==="prev"||k==="next"){k==="prev"&&T.reverse();const D=T.indexOf(b.currentTarget);T=g.loop?uA(T,D+1):T.slice(D+1)}setTimeout(()=>Sv(T))}}),children:typeof h=="function"?h({isCurrentTabStop:v,hasTabStop:S!=null}):h})})});Nv.displayName=bv;var iA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oA(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function cA(s,r,i){const o=oA(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return iA[o]}function Sv(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function uA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var wv=jv,Cv=Nv,rf=["Enter"," "],dA=["ArrowDown","PageUp","Home"],Av=["ArrowUp","PageDown","End"],fA=[...dA,...Av],mA={ltr:[...rf,"ArrowRight"],rtl:[...rf,"ArrowLeft"]},hA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wr="Menu",[Yr,pA,xA]=ff(Wr),[Bs,Ev]=Dn(Wr,[xA,ec,ic]),oc=ec(),Tv=ic(),[gA,Hs]=Bs(Wr),[yA,Jr]=Bs(Wr),Mv=s=>{const{__scopeMenu:r,open:i=!1,children:o,dir:d,onOpenChange:f,modal:h=!0}=s,p=oc(r),[x,m]=j.useState(null),g=j.useRef(!1),v=nn(f),N=$o(d);return j.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(_y,{...p,children:a.jsx(gA,{scope:r,open:i,onOpenChange:v,content:x,onContentChange:m,children:a.jsx(yA,{scope:r,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:N,modal:h,children:o})})})};Mv.displayName=Wr;var vA="MenuAnchor",wf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=oc(i);return a.jsx(Py,{...d,...o,ref:r})});wf.displayName=vA;var Cf="MenuPortal",[jA,Dv]=Bs(Cf,{forceMount:void 0}),Rv=s=>{const{__scopeMenu:r,forceMount:i,children:o,container:d}=s,f=Hs(Cf,r);return a.jsx(jA,{scope:r,forceMount:i,children:a.jsx(Rn,{present:i||f.open,children:a.jsx(tc,{asChild:!0,container:d,children:o})})})};Rv.displayName=Cf;var Ua="MenuContent",[bA,Af]=Bs(Ua),Ov=j.forwardRef((s,r)=>{const i=Dv(Ua,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Hs(Ua,s.__scopeMenu),h=Jr(Ua,s.__scopeMenu);return a.jsx(Yr.Provider,{scope:s.__scopeMenu,children:a.jsx(Rn,{present:o||f.open,children:a.jsx(Yr.Slot,{scope:s.__scopeMenu,children:h.modal?a.jsx(NA,{...d,ref:r}):a.jsx(SA,{...d,ref:r})})})})}),NA=j.forwardRef((s,r)=>{const i=Hs(Ua,s.__scopeMenu),o=j.useRef(null),d=ft(r,o);return j.useEffect(()=>{const f=o.current;if(f)return Nf(f)},[]),a.jsx(Ef,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Re(s.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),SA=j.forwardRef((s,r)=>{const i=Hs(Ua,s.__scopeMenu);return a.jsx(Ef,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),wA=Ll("MenuContent.ScrollLock"),Ef=j.forwardRef((s,r)=>{const{__scopeMenu:i,loop:o=!1,trapFocus:d,onOpenAutoFocus:f,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:x,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:N,onDismiss:w,disableOutsideScroll:E,...S}=s,b=Hs(Ua,i),k=Jr(Ua,i),R=oc(i),T=Tv(i),D=pA(i),[A,M]=j.useState(null),z=j.useRef(null),B=ft(r,z,b.onContentChange),ae=j.useRef(0),P=j.useRef(""),I=j.useRef(0),Z=j.useRef(null),ie=j.useRef("right"),Y=j.useRef(0),he=E?nc:j.Fragment,L=E?{as:wA,allowPinchZoom:!0}:void 0,X=re=>{var se,Oe;const ve=P.current+re,O=D().filter(G=>!G.disabled),ee=document.activeElement,oe=(se=O.find(G=>G.ref.current===ee))==null?void 0:se.textValue,de=O.map(G=>G.textValue),q=LA(de,ve,oe),fe=(Oe=O.find(G=>G.textValue===q))==null?void 0:Oe.ref.current;(function G(xe){P.current=xe,window.clearTimeout(ae.current),xe!==""&&(ae.current=window.setTimeout(()=>G(""),1e3))})(ve),fe&&setTimeout(()=>fe.focus())};j.useEffect(()=>()=>window.clearTimeout(ae.current),[]),mf();const H=j.useCallback(re=>{var O,ee;return ie.current===((O=Z.current)==null?void 0:O.side)&&UA(re,(ee=Z.current)==null?void 0:ee.area)},[]);return a.jsx(bA,{scope:i,searchRef:P,onItemEnter:j.useCallback(re=>{H(re)&&re.preventDefault()},[H]),onItemLeave:j.useCallback(re=>{var ve;H(re)||((ve=z.current)==null||ve.focus(),M(null))},[H]),onTriggerLeave:j.useCallback(re=>{H(re)&&re.preventDefault()},[H]),pointerGraceTimerRef:I,onPointerGraceIntentChange:j.useCallback(re=>{Z.current=re},[]),children:a.jsx(he,{...L,children:a.jsx(Xo,{asChild:!0,trapped:d,onMountAutoFocus:Re(f,re=>{var ve;re.preventDefault(),(ve=z.current)==null||ve.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:a.jsx(Qo,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:N,onDismiss:w,children:a.jsx(wv,{asChild:!0,...T,dir:k.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:M,onEntryFocus:Re(x,re=>{k.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ky,{role:"menu","aria-orientation":"vertical","data-state":Qv(b.open),"data-radix-menu-content":"",dir:k.dir,...R,...S,ref:B,style:{outline:"none",...S.style},onKeyDown:Re(S.onKeyDown,re=>{const O=re.target.closest("[data-radix-menu-content]")===re.currentTarget,ee=re.ctrlKey||re.altKey||re.metaKey,oe=re.key.length===1;O&&(re.key==="Tab"&&re.preventDefault(),!ee&&oe&&X(re.key));const de=z.current;if(re.target!==de||!fA.includes(re.key))return;re.preventDefault();const fe=D().filter(se=>!se.disabled).map(se=>se.ref.current);Av.includes(re.key)&&fe.reverse(),PA(fe)}),onBlur:Re(s.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(ae.current),P.current="")}),onPointerMove:Re(s.onPointerMove,$r(re=>{const ve=re.target,O=Y.current!==re.clientX;if(re.currentTarget.contains(ve)&&O){const ee=re.clientX>Y.current?"right":"left";ie.current=ee,Y.current=re.clientX}}))})})})})})})});Ov.displayName=Ua;var CA="MenuGroup",Tf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(He.div,{role:"group",...o,ref:r})});Tf.displayName=CA;var AA="MenuLabel",_v=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(He.div,{...o,ref:r})});_v.displayName=AA;var Fo="MenuItem",Eg="menu.itemSelect",cc=j.forwardRef((s,r)=>{const{disabled:i=!1,onSelect:o,...d}=s,f=j.useRef(null),h=Jr(Fo,s.__scopeMenu),p=Af(Fo,s.__scopeMenu),x=ft(r,f),m=j.useRef(!1),g=()=>{const v=f.current;if(!i&&v){const N=new CustomEvent(Eg,{bubbles:!0,cancelable:!0});v.addEventListener(Eg,w=>o==null?void 0:o(w),{once:!0}),iy(v,N),N.defaultPrevented?m.current=!1:h.onClose()}};return a.jsx(Pv,{...d,ref:x,disabled:i,onClick:Re(s.onClick,g),onPointerDown:v=>{var N;(N=s.onPointerDown)==null||N.call(s,v),m.current=!0},onPointerUp:Re(s.onPointerUp,v=>{var N;m.current||(N=v.currentTarget)==null||N.click()}),onKeyDown:Re(s.onKeyDown,v=>{const N=p.searchRef.current!=="";i||N&&v.key===" "||rf.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});cc.displayName=Fo;var Pv=j.forwardRef((s,r)=>{const{__scopeMenu:i,disabled:o=!1,textValue:d,...f}=s,h=Af(Fo,i),p=Tv(i),x=j.useRef(null),m=ft(r,x),[g,v]=j.useState(!1),[N,w]=j.useState("");return j.useEffect(()=>{const E=x.current;E&&w((E.textContent??"").trim())},[f.children]),a.jsx(Yr.ItemSlot,{scope:i,disabled:o,textValue:d??N,children:a.jsx(Cv,{asChild:!0,...p,focusable:!o,children:a.jsx(He.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:Re(s.onPointerMove,$r(E=>{o?h.onItemLeave(E):(h.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(s.onPointerLeave,$r(E=>h.onItemLeave(E))),onFocus:Re(s.onFocus,()=>v(!0)),onBlur:Re(s.onBlur,()=>v(!1))})})})}),EA="MenuCheckboxItem",kv=j.forwardRef((s,r)=>{const{checked:i=!1,onCheckedChange:o,...d}=s;return a.jsx(qv,{scope:s.__scopeMenu,checked:i,children:a.jsx(cc,{role:"menuitemcheckbox","aria-checked":Vo(i)?"mixed":i,...d,ref:r,"data-state":Df(i),onSelect:Re(d.onSelect,()=>o==null?void 0:o(Vo(i)?!0:!i),{checkForDefaultPrevented:!1})})})});kv.displayName=EA;var Lv="MenuRadioGroup",[TA,MA]=Bs(Lv,{value:void 0,onValueChange:()=>{}}),zv=j.forwardRef((s,r)=>{const{value:i,onValueChange:o,...d}=s,f=nn(o);return a.jsx(TA,{scope:s.__scopeMenu,value:i,onValueChange:f,children:a.jsx(Tf,{...d,ref:r})})});zv.displayName=Lv;var Uv="MenuRadioItem",Iv=j.forwardRef((s,r)=>{const{value:i,...o}=s,d=MA(Uv,s.__scopeMenu),f=i===d.value;return a.jsx(qv,{scope:s.__scopeMenu,checked:f,children:a.jsx(cc,{role:"menuitemradio","aria-checked":f,...o,ref:r,"data-state":Df(f),onSelect:Re(o.onSelect,()=>{var h;return(h=d.onValueChange)==null?void 0:h.call(d,i)},{checkForDefaultPrevented:!1})})})});Iv.displayName=Uv;var Mf="MenuItemIndicator",[qv,DA]=Bs(Mf,{checked:!1}),Bv=j.forwardRef((s,r)=>{const{__scopeMenu:i,forceMount:o,...d}=s,f=DA(Mf,i);return a.jsx(Rn,{present:o||Vo(f.checked)||f.checked===!0,children:a.jsx(He.span,{...d,ref:r,"data-state":Df(f.checked)})})});Bv.displayName=Mf;var RA="MenuSeparator",Hv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return a.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Hv.displayName=RA;var OA="MenuArrow",Fv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=oc(i);return a.jsx(Ly,{...d,...o,ref:r})});Fv.displayName=OA;var _A="MenuSub",[QT,Vv]=Bs(_A),qr="MenuSubTrigger",Gv=j.forwardRef((s,r)=>{const i=Hs(qr,s.__scopeMenu),o=Jr(qr,s.__scopeMenu),d=Vv(qr,s.__scopeMenu),f=Af(qr,s.__scopeMenu),h=j.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:x}=f,m={__scopeMenu:s.__scopeMenu},g=j.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return j.useEffect(()=>g,[g]),j.useEffect(()=>{const v=p.current;return()=>{window.clearTimeout(v),x(null)}},[p,x]),a.jsx(wf,{asChild:!0,...m,children:a.jsx(Pv,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":d.contentId,"data-state":Qv(i.open),...s,ref:Qr(r,d.onTriggerChange),onClick:v=>{var N;(N=s.onClick)==null||N.call(s,v),!(s.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Re(s.onPointerMove,$r(v=>{f.onItemEnter(v),!v.defaultPrevented&&!s.disabled&&!i.open&&!h.current&&(f.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{i.onOpenChange(!0),g()},100))})),onPointerLeave:Re(s.onPointerLeave,$r(v=>{var w,E;g();const N=(w=i.content)==null?void 0:w.getBoundingClientRect();if(N){const S=(E=i.content)==null?void 0:E.dataset.side,b=S==="right",k=b?-5:5,R=N[b?"left":"right"],T=N[b?"right":"left"];f.onPointerGraceIntentChange({area:[{x:v.clientX+k,y:v.clientY},{x:R,y:N.top},{x:T,y:N.top},{x:T,y:N.bottom},{x:R,y:N.bottom}],side:S}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(v),v.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:Re(s.onKeyDown,v=>{var w;const N=f.searchRef.current!=="";s.disabled||N&&v.key===" "||mA[o.dir].includes(v.key)&&(i.onOpenChange(!0),(w=i.content)==null||w.focus(),v.preventDefault())})})})});Gv.displayName=qr;var Yv="MenuSubContent",$v=j.forwardRef((s,r)=>{const i=Dv(Ua,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Hs(Ua,s.__scopeMenu),h=Jr(Ua,s.__scopeMenu),p=Vv(Yv,s.__scopeMenu),x=j.useRef(null),m=ft(r,x);return a.jsx(Yr.Provider,{scope:s.__scopeMenu,children:a.jsx(Rn,{present:o||f.open,children:a.jsx(Yr.Slot,{scope:s.__scopeMenu,children:a.jsx(Ef,{id:p.contentId,"aria-labelledby":p.triggerId,...d,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;h.isUsingKeyboardRef.current&&((v=x.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Re(s.onFocusOutside,g=>{g.target!==p.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:Re(s.onEscapeKeyDown,g=>{h.onClose(),g.preventDefault()}),onKeyDown:Re(s.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),N=hA[h.dir].includes(g.key);v&&N&&(f.onOpenChange(!1),(w=p.trigger)==null||w.focus(),g.preventDefault())})})})})})});$v.displayName=Yv;function Qv(s){return s?"open":"closed"}function Vo(s){return s==="indeterminate"}function Df(s){return Vo(s)?"indeterminate":s?"checked":"unchecked"}function PA(s){const r=document.activeElement;for(const i of s)if(i===r||(i.focus(),document.activeElement!==r))return}function kA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}function LA(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=kA(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const x=h.find(m=>m.toLowerCase().startsWith(d.toLowerCase()));return x!==i?x:void 0}function zA(s,r){const{x:i,y:o}=s;let d=!1;for(let f=0,h=r.length-1;f<r.length;h=f++){const p=r[f],x=r[h],m=p.x,g=p.y,v=x.x,N=x.y;g>o!=N>o&&i<(v-m)*(o-g)/(N-g)+m&&(d=!d)}return d}function UA(s,r){if(!r)return!1;const i={x:s.clientX,y:s.clientY};return zA(i,r)}function $r(s){return r=>r.pointerType==="mouse"?s(r):void 0}var IA=Mv,qA=wf,BA=Rv,HA=Ov,FA=Tf,VA=_v,GA=cc,YA=kv,$A=zv,QA=Iv,XA=Bv,KA=Hv,ZA=Fv,WA=Gv,JA=$v,uc="DropdownMenu",[eE]=Dn(uc,[Ev]),aa=Ev(),[tE,Xv]=eE(uc),Kv=s=>{const{__scopeDropdownMenu:r,children:i,dir:o,open:d,defaultOpen:f,onOpenChange:h,modal:p=!0}=s,x=aa(r),m=j.useRef(null),[g,v]=zs({prop:d,defaultProp:f??!1,onChange:h,caller:uc});return a.jsx(tE,{scope:r,triggerId:tn(),triggerRef:m,contentId:tn(),open:g,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(N=>!N),[v]),modal:p,children:a.jsx(IA,{...x,open:g,onOpenChange:v,dir:o,modal:p,children:i})})};Kv.displayName=uc;var Zv="DropdownMenuTrigger",Wv=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,disabled:o=!1,...d}=s,f=Xv(Zv,i),h=aa(i);return a.jsx(qA,{asChild:!0,...h,children:a.jsx(He.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...d,ref:Qr(r,f.triggerRef),onPointerDown:Re(s.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(f.onOpenToggle(),f.open||p.preventDefault())}),onKeyDown:Re(s.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&f.onOpenToggle(),p.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});Wv.displayName=Zv;var aE="DropdownMenuPortal",Jv=s=>{const{__scopeDropdownMenu:r,...i}=s,o=aa(r);return a.jsx(BA,{...o,...i})};Jv.displayName=aE;var e0="DropdownMenuContent",t0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=Xv(e0,i),f=aa(i),h=j.useRef(!1);return a.jsx(HA,{id:d.contentId,"aria-labelledby":d.triggerId,...f,...o,ref:r,onCloseAutoFocus:Re(s.onCloseAutoFocus,p=>{var x;h.current||(x=d.triggerRef.current)==null||x.focus(),h.current=!1,p.preventDefault()}),onInteractOutside:Re(s.onInteractOutside,p=>{const x=p.detail.originalEvent,m=x.button===0&&x.ctrlKey===!0,g=x.button===2||m;(!d.modal||g)&&(h.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t0.displayName=e0;var nE="DropdownMenuGroup",sE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(FA,{...d,...o,ref:r})});sE.displayName=nE;var lE="DropdownMenuLabel",rE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(VA,{...d,...o,ref:r})});rE.displayName=lE;var iE="DropdownMenuItem",a0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(GA,{...d,...o,ref:r})});a0.displayName=iE;var oE="DropdownMenuCheckboxItem",cE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(YA,{...d,...o,ref:r})});cE.displayName=oE;var uE="DropdownMenuRadioGroup",dE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx($A,{...d,...o,ref:r})});dE.displayName=uE;var fE="DropdownMenuRadioItem",mE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(QA,{...d,...o,ref:r})});mE.displayName=fE;var hE="DropdownMenuItemIndicator",pE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(XA,{...d,...o,ref:r})});pE.displayName=hE;var xE="DropdownMenuSeparator",gE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(KA,{...d,...o,ref:r})});gE.displayName=xE;var yE="DropdownMenuArrow",vE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(ZA,{...d,...o,ref:r})});vE.displayName=yE;var jE="DropdownMenuSubTrigger",bE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(WA,{...d,...o,ref:r})});bE.displayName=jE;var NE="DropdownMenuSubContent",SE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=aa(i);return a.jsx(JA,{...d,...o,ref:r,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SE.displayName=NE;var wE=Kv,CE=Wv,AE=Jv,EE=t0,TE=a0;function ME({...s}){return a.jsx(wE,{"data-slot":"dropdown-menu",...s})}function DE({...s}){return a.jsx(CE,{"data-slot":"dropdown-menu-trigger",...s})}function RE({className:s,sideOffset:r=4,...i}){return a.jsx(AE,{children:a.jsx(EE,{"data-slot":"dropdown-menu-content",sideOffset:r,className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...i})})}function OE({className:s,inset:r,variant:i="default",...o}){return a.jsx(TE,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":i,className:Ge("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o})}function _E(){var w,E;const{state:s,actions:r,auth:i}=wt(),{locations:o,locationFilter:d,notifications:f,currentView:h}=s,p=i.getCurrentUser(),x=f.filter(S=>!S.read).length,m=i.hasPermission("VIEW_ALL_LOCATIONS"),g=()=>({dashboard:"Dashboard","raw-materials":"Raw Materials","finished-products":"Finished Products",suppliers:"Suppliers",customers:"Customers",labour:"Labour Management",sales:"Sales",purchases:"Purchases",financials:"Financials",cleaning:"Cleaning Services",reports:"Reports",settings:"Settings"})[h]||"Sofa Factory Manager",v=S=>{r.setLocationFilter(S)},N=S=>{switch(S.read||r.markNotificationRead(S.id),S.type){case"sale_approval":r.setCurrentView("sales");break;case"low_stock":r.setCurrentView("raw-materials");break;case"payment_due":r.setCurrentView("financials");break;case"labour_report":r.setCurrentView("labour");break}};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ow,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:g()}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-NP",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[m&&o.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ol,{className:"w-4 h-4 text-gray-500"}),a.jsxs(rt,{value:d,onValueChange:v,children:[a.jsx(ot,{className:"w-40",children:a.jsx(it,{placeholder:"Select location"})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"all",children:"All Locations"}),o.map(S=>a.jsx(pe,{value:S.id.toString(),children:S.name},S.id))]})]})]}),a.jsxs(ME,{children:[a.jsx(DE,{asChild:!0,children:a.jsxs(ce,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(kl,{className:"w-4 h-4"}),x>0&&a.jsx(Ie,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 text-xs flex items-center justify-center p-0",children:x>9?"9+":x})]})}),a.jsxs(RE,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-3 border-b",children:[a.jsx("h3",{className:"font-medium",children:"Notifications"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[x," unread"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.slice(0,10).map(S=>a.jsx(OE,{className:"p-3 cursor-pointer",onClick:()=>N(S),children:a.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.read?"bg-gray-300":"bg-amber-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm ${S.read?"text-gray-600":"text-gray-900 font-medium"}`,children:S.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ls(S.createdAt)})]})]})},S.id))}),f.length>10&&a.jsx("div",{className:"p-3 border-t text-center",children:a.jsx(ce,{variant:"ghost",size:"sm",children:"View all notifications"})})]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:((E=(w=p.name)==null?void 0:w.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role.replace("_"," ")})]})]})]})]})})}function PE({children:s}){const{state:r}=wt(),{isAuthenticated:i,company:o}=r;return!i||!o?a.jsx(a.Fragment,{children:s}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Rw,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(_E,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function kE(){const{actions:s}=wt(),[r,i]=j.useState({username:"",password:"",email:""}),[o,d]=j.useState(""),[f,h]=j.useState(""),[p,x]=j.useState(!1),m=N=>{i({...r,[N.target.name]:N.target.value}),d(""),h("")},g=async N=>{if(N.preventDefault(),!r.username.trim()||!r.password.trim()){d("Username and password are required");return}x(!0),d("");try{if(r.username.trim()==="admin"&&r.password.trim()==="admin123"){const S={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()};try{await s.createAdminAccount(S)}catch(b){console.log("Admin account setup:",b.message)}await s.login(S.id);return}const E=(await s.getAllUsers()).find(S=>S.role==="admin"&&S.username===r.username.trim()&&S.password===r.password.trim());if(!E){d("Invalid username or password"),x(!1);return}await s.login(E.id)}catch(w){console.error("Login failed:",w),d("Login failed. Please try again."),x(!1)}},v=async N=>{if(N.preventDefault(),!r.email.trim()){d("Email is required for password recovery");return}x(!0),d(""),h("");try{const E=(await s.getAllUsers()).find(S=>S.email===r.email.trim());if(!E){d("No account found with this email"),x(!1);return}h(`Password recovery: Your username is "${E.username}" and password is "${E.password}". Please save these credentials.`),x(!1)}catch(w){console.error("Password recovery failed:",w),d("Password recovery failed. Please try again."),x(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:a.jsx(Yo,{className:"w-10 h-10 text-slate-900"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sofa Factory Manager"}),a.jsx("p",{className:"text-slate-300",children:"Admin Login Portal"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing In...":"Sign In"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Forgot your password?"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,placeholder:"Enter your email for password recovery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Recovering...":"Recover Password"})]}),o&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),f&&a.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-green-600",children:f})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-slate-300",children:["Default credentials: ",a.jsx("span",{className:"font-semibold text-amber-400",children:"admin / admin123"})]})})]})})}function ye({className:s,type:r,...i}){return a.jsx("input",{type:r,"data-slot":"input",className:Ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var LE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zE=LE.reduce((s,r)=>{const i=Vg(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,x=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(x,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{}),UE="Label",n0=j.forwardRef((s,r)=>a.jsx(zE.label,{...s,ref:r,onMouseDown:i=>{var d;i.target.closest("button, input, select, textarea")||((d=s.onMouseDown)==null||d.call(s,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));n0.displayName=UE;var IE=n0;function W({className:s,...r}){return a.jsx(IE,{"data-slot":"label",className:Ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}function ue({className:s,...r}){return a.jsx("div",{"data-slot":"card",className:Ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function Ce({className:s,...r}){return a.jsx("div",{"data-slot":"card-header",className:Ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function Ae({className:s,...r}){return a.jsx("div",{"data-slot":"card-title",className:Ge("leading-none font-semibold",s),...r})}function Le({className:s,...r}){return a.jsx("div",{"data-slot":"card-description",className:Ge("text-muted-foreground text-sm",s),...r})}function Ne({className:s,...r}){return a.jsx("div",{"data-slot":"card-content",className:Ge("px-6",s),...r})}function Gt({className:s,...r}){return a.jsx("textarea",{"data-slot":"textarea",className:Ge("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}const Ur=[{id:"admin",title:"Create Admin Account",description:"Set up your administrator account",icon:Po},{id:"company",title:"Company Profile",description:"Enter your company information",icon:wN},{id:"locations",title:"Factory Locations",description:"Add your factory locations",icon:Ol}];function Tg(){const{actions:s}=wt(),[r,i]=j.useState(0),[o,d]=j.useState(!1),[f,h]=j.useState({}),[p,x]=j.useState({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",securityQuestion1:"What is your mother's maiden name?",securityAnswer1:"",securityQuestion2:"What was the name of your first pet?",securityAnswer2:""}),[m,g]=j.useState({name:"",address:"",phone:"",email:""}),[v,N]=j.useState([{name:"",address:""}]),w=A=>{const M={};switch(A){case 0:p.name.trim()||(M.adminName="Name is required"),p.email.trim()?tg(p.email)||(M.adminEmail="Invalid email format"):M.adminEmail="Email is required",p.phone.trim()?ag(p.phone)||(M.adminPhone="Invalid phone format"):M.adminPhone="Phone is required",p.username.trim()?p.username.length<4&&(M.adminUsername="Username must be at least 4 characters"):M.adminUsername="Username is required",p.password.trim()?p.password.length<6&&(M.adminPassword="Password must be at least 6 characters"):M.adminPassword="Password is required",p.password!==p.confirmPassword&&(M.adminConfirmPassword="Passwords do not match"),p.securityAnswer1.trim()||(M.securityAnswer1="Security answer is required"),p.securityAnswer2.trim()||(M.securityAnswer2="Security answer is required");break;case 1:m.name.trim()||(M.companyName="Company name is required"),m.address.trim()||(M.companyAddress="Company address is required"),m.phone.trim()?ag(m.phone)||(M.companyPhone="Invalid phone format"):M.companyPhone="Company phone is required",m.email&&!tg(m.email)&&(M.companyEmail="Invalid email format");break;case 2:v.forEach((z,B)=>{z.name.trim()||(M[`location${B}Name`]="Location name is required"),z.address.trim()||(M[`location${B}Address`]="Location address is required")});break}return h(M),Object.keys(M).length===0},E=()=>{w(r)&&i(r+1)},S=()=>{i(r-1),h({})},b=()=>{N([...v,{name:"",address:""}])},k=A=>{v.length>1&&N(v.filter((M,z)=>z!==A))},R=(A,M,z)=>{const B=v.map((ae,P)=>P===A?{...ae,[M]:z}:ae);N(B)},T=async()=>{if(w(r)){d(!0);try{const A=await s.createAdminAccount(p);await s.addItem("company",{id:"profile",...m});for(const M of v)await s.addItem("locations",M);await s.refreshData()}catch(A){console.error("Setup failed:",A),h({general:"Setup failed. Please try again."})}finally{d(!1)}}},D=()=>{switch(r){case 0:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminName",children:"Full Name"}),a.jsx(ye,{id:"adminName",value:p.name,onChange:A=>x({...p,name:A.target.value}),placeholder:"Enter your full name",className:f.adminName?"border-red-500":""}),f.adminName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminName})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminEmail",children:"Email Address"}),a.jsx(ye,{id:"adminEmail",type:"email",value:p.email,onChange:A=>x({...p,email:A.target.value}),placeholder:"Enter your email address",className:f.adminEmail?"border-red-500":""}),f.adminEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminEmail})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminPhone",children:"Phone Number"}),a.jsx(ye,{id:"adminPhone",value:p.phone,onChange:A=>x({...p,phone:A.target.value}),placeholder:"Enter your phone number",className:f.adminPhone?"border-red-500":""}),f.adminPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPhone})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Login Credentials"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminUsername",children:"Username"}),a.jsx(ye,{id:"adminUsername",value:p.username,onChange:A=>x({...p,username:A.target.value}),placeholder:"Choose a username (min 4 characters)",className:f.adminUsername?"border-red-500":""}),f.adminUsername&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminUsername})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminPassword",children:"Password"}),a.jsx(ye,{id:"adminPassword",type:"password",value:p.password,onChange:A=>x({...p,password:A.target.value}),placeholder:"Choose a password (min 6 characters)",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPassword})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"adminConfirmPassword",children:"Confirm Password"}),a.jsx(ye,{id:"adminConfirmPassword",type:"password",value:p.confirmPassword,onChange:A=>x({...p,confirmPassword:A.target.value}),placeholder:"Re-enter your password",className:f.adminConfirmPassword?"border-red-500":""}),f.adminConfirmPassword&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminConfirmPassword})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Security Questions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"These will help you recover your password if you forget it"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:"securityAnswer1",children:p.securityQuestion1}),a.jsx(ye,{id:"securityAnswer1",value:p.securityAnswer1,onChange:A=>x({...p,securityAnswer1:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer1?"border-red-500":""}),f.securityAnswer1&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer1})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"securityAnswer2",children:p.securityQuestion2}),a.jsx(ye,{id:"securityAnswer2",value:p.securityAnswer2,onChange:A=>x({...p,securityAnswer2:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer2?"border-red-500":""}),f.securityAnswer2&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer2})]})]})]})]});case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:"companyName",children:"Company Name"}),a.jsx(ye,{id:"companyName",value:m.name,onChange:A=>g({...m,name:A.target.value}),placeholder:"Enter your company name",className:f.companyName?"border-red-500":""}),f.companyName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyName})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"companyAddress",children:"Company Address"}),a.jsx(Gt,{id:"companyAddress",value:m.address,onChange:A=>g({...m,address:A.target.value}),placeholder:"Enter your company address",className:f.companyAddress?"border-red-500":"",rows:3}),f.companyAddress&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyAddress})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"companyPhone",children:"Company Phone"}),a.jsx(ye,{id:"companyPhone",value:m.phone,onChange:A=>g({...m,phone:A.target.value}),placeholder:"Enter company phone number",className:f.companyPhone?"border-red-500":""}),f.companyPhone&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyPhone})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:"companyEmail",children:"Company Email (Optional)"}),a.jsx(ye,{id:"companyEmail",type:"email",value:m.email,onChange:A=>g({...m,email:A.target.value}),placeholder:"Enter company email address",className:f.companyEmail?"border-red-500":""}),f.companyEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyEmail})]})]});case 2:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Factory Locations"}),a.jsx(ce,{onClick:b,variant:"outline",size:"sm",children:"Add Location"})]}),v.map((A,M)=>a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Location ",M+1]}),v.length>1&&a.jsx(ce,{onClick:()=>k(M),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:"Remove"})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:`location${M}Name`,children:"Location Name"}),a.jsx(ye,{id:`location${M}Name`,value:A.name,onChange:z=>R(M,"name",z.target.value),placeholder:"e.g., Factory A - Kathmandu",className:f[`location${M}Name`]?"border-red-500":""}),f[`location${M}Name`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${M}Name`]})]}),a.jsxs("div",{children:[a.jsx(W,{htmlFor:`location${M}Address`,children:"Address"}),a.jsx(Gt,{id:`location${M}Address`,value:A.address,onChange:z=>R(M,"address",z.target.value),placeholder:"Enter location address",className:f[`location${M}Address`]?"border-red-500":"",rows:2}),f[`location${M}Address`]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${M}Address`]})]})]})},M))]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Yo,{className:"w-8 h-8 text-amber-500"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Sofa Factory Manager"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Let's set up your application"})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:Ur.map((A,M)=>{const z=A.icon,B=M===r,ae=M<r;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${B?"bg-slate-800 text-white":ae?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:a.jsx(z,{className:"w-5 h-5"})}),M<Ur.length-1&&a.jsx("div",{className:`w-16 h-1 mx-2 ${ae?"bg-green-500":"bg-gray-200"}`})]},A.id)})}),a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:Ur[r].title}),a.jsx(Le,{children:Ur[r].description})]}),a.jsxs(Ne,{children:[f.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:a.jsx("p",{className:"text-sm text-red-600",children:f.general})}),D(),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ce,{onClick:S,variant:"outline",disabled:r===0,children:"Previous"}),r<Ur.length-1?a.jsx(ce,{onClick:E,children:"Next"}):a.jsx(ce,{onClick:T,disabled:o,children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}function Mg(){const{state:s}=wt(),{user:r}=s,[i,o]=j.useState({sales:[],purchases:[],rawMaterials:[],products:[],customers:[],suppliers:[],loading:!0});j.useEffect(()=>{d()},[]);const d=async()=>{try{const[g,v,N,w,E,S]=await Promise.all([me.getAll("sales"),me.getAll("purchases"),me.getAll("rawMaterials"),me.getAll("sofaModels"),me.getAll("customers"),me.getAll("suppliers")]);console.log("Dashboard data loaded:",{sales:(g==null?void 0:g.length)||0,purchases:(v==null?void 0:v.length)||0,rawMaterials:(N==null?void 0:N.length)||0,products:(w==null?void 0:w.length)||0,customers:(E==null?void 0:E.length)||0,suppliers:(S==null?void 0:S.length)||0});const b=k=>(r==null?void 0:r.role)==="admin"?k:k.filter(R=>R.location===(r==null?void 0:r.location));o({sales:b(g||[]),purchases:b(v||[]),rawMaterials:b(N||[]),products:w||[],customers:E||[],suppliers:S||[],loading:!1})}catch(g){console.error("Error loading dashboard data:",g),o(v=>({...v,loading:!1}))}};if(i.loading)return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(g=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},g))})]})});const f=i.sales.filter(g=>g.approvalStatus==="approved").length,h=i.sales.filter(g=>g.approvalStatus==="pending").length,p=i.sales.filter(g=>g.approvalStatus==="approved").reduce((g,v)=>g+(parseFloat(v.totalAmount)||parseFloat(v.salePrice)||0),0),x=i.rawMaterials.filter(g=>(g.currentStock||0)<=(g.minStock||10)).length,m=({title:g,value:v,icon:N,color:w="blue",description:E})=>a.jsx(ue,{children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:g}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),E&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),a.jsx("div",{className:`p-3 rounded-full bg-${w}-100`,children:a.jsx(N,{className:`w-6 h-6 text-${w}-600`})})]})})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(r==null?void 0:r.name)||"User","!"]}),a.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your factory today"})]}),(r==null?void 0:r.location)&&a.jsx(Ie,{variant:"outline",className:"text-sm",children:r.location})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(m,{title:"Total Sales",value:f,icon:Oo,color:"blue",description:`${h} pending approval`}),a.jsx(m,{title:"Revenue",value:`NPR ${p.toLocaleString()}`,icon:za,color:"green",description:"From completed sales"}),a.jsx(m,{title:"Customers",value:i.customers.length,icon:ko,color:"purple",description:"Active customers"}),a.jsx(m,{title:"Suppliers",value:i.suppliers.length,icon:Fr,color:"orange",description:"Active suppliers"})]}),(h>0||x>0)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h>0&&a.jsx(ue,{className:"border-orange-200 bg-orange-50",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:a.jsx(Oo,{className:"w-4 h-4 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pending Sales"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[h," sales need approval"]})]}),a.jsx(Ie,{variant:"secondary",children:h})]})})}),x>0&&a.jsx(ue,{className:"border-red-200 bg-red-50",children:a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100",children:a.jsx(Hg,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Low Stock"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x," items need restocking"]})]}),a.jsx(Ie,{variant:"destructive",children:x})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsxs(Ae,{className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-5 h-5"}),a.jsx("span",{children:"Inventory Overview"})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:[i.rawMaterials.length," types"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Finished Products"}),a.jsxs("span",{className:"font-medium",children:[i.products.length," models"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),a.jsx(Ie,{variant:x>0?"destructive":"secondary",children:x})]})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsxs(Ae,{className:"flex items-center space-x-2",children:[a.jsx(za,{className:"w-5 h-5"}),a.jsx("span",{children:"Sales Overview"})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Completed Sales"}),a.jsx("span",{className:"font-medium",children:f})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pending Approval"}),a.jsx(Ie,{variant:h>0?"secondary":"outline",children:h})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsxs("span",{className:"font-medium text-green-600",children:["NPR ",p.toLocaleString()]})]})]})})]})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsxs(Ae,{className:"flex items-center space-x-2",children:[a.jsx(rs,{className:"w-5 h-5"}),a.jsx("span",{children:"Recent Activity"})]})}),a.jsx(Ne,{children:(()=>{const g=[];i.sales.slice(0,5).forEach(N=>{var w;g.push({type:"sale",icon:"",title:`Sale ${N.saleNumber}`,description:`${N.customerName} - ${N.productName}`,amount:`NPR ${((w=N.totalAmount)==null?void 0:w.toLocaleString())||0}`,status:N.approvalStatus||"pending",date:N.createdAt})}),i.purchases.slice(0,3).forEach(N=>{var w;g.push({type:"purchase",icon:"",title:`Purchase #${N.id}`,description:N.supplierName||"Raw materials",amount:`NPR ${((w=N.totalAmount)==null?void 0:w.toLocaleString())||0}`,status:"completed",date:N.createdAt})}),g.sort((N,w)=>new Date(w.date)-new Date(N.date));const v=g.slice(0,8);return v.length>0?a.jsx("div",{className:"space-y-3",children:v.map((N,w)=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[a.jsx("span",{className:"text-2xl",children:N.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:N.title}),a.jsx("p",{className:"text-xs text-gray-600",children:N.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(N.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-sm text-green-600",children:N.amount}),N.status==="pending"&&a.jsx(Ie,{className:"bg-orange-500 text-white text-xs mt-1",children:"Pending"}),N.status==="approved"&&a.jsx(Ie,{className:"bg-green-500 text-white text-xs mt-1",children:"Approved"})]})]},w))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(rs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No recent activities"}),a.jsx("p",{className:"text-sm",children:"Sales and purchases will appear here"})]})})()})]})]})}var dc="Tabs",[qE]=Dn(dc,[ic]),s0=ic(),[BE,Rf]=qE(dc),l0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:d,defaultValue:f,orientation:h="horizontal",dir:p,activationMode:x="automatic",...m}=s,g=$o(p),[v,N]=zs({prop:o,onChange:d,defaultProp:f??"",caller:dc});return a.jsx(BE,{scope:i,baseId:tn(),value:v,onValueChange:N,orientation:h,dir:g,activationMode:x,children:a.jsx(He.div,{dir:g,"data-orientation":h,...m,ref:r})})});l0.displayName=dc;var r0="TabsList",i0=j.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...d}=s,f=Rf(r0,i),h=s0(i);return a.jsx(wv,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:o,children:a.jsx(He.div,{role:"tablist","aria-orientation":f.orientation,...d,ref:r})})});i0.displayName=r0;var o0="TabsTrigger",c0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:d=!1,...f}=s,h=Rf(o0,i),p=s0(i),x=f0(h.baseId,o),m=m0(h.baseId,o),g=o===h.value;return a.jsx(Cv,{asChild:!0,...p,focusable:!d,active:g,children:a.jsx(He.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:x,...f,ref:r,onMouseDown:Re(s.onMouseDown,v=>{!d&&v.button===0&&v.ctrlKey===!1?h.onValueChange(o):v.preventDefault()}),onKeyDown:Re(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(o)}),onFocus:Re(s.onFocus,()=>{const v=h.activationMode!=="manual";!g&&!d&&v&&h.onValueChange(o)})})})});c0.displayName=o0;var u0="TabsContent",d0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:d,children:f,...h}=s,p=Rf(u0,i),x=f0(p.baseId,o),m=m0(p.baseId,o),g=o===p.value,v=j.useRef(g);return j.useEffect(()=>{const N=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(N)},[]),a.jsx(Rn,{present:d||g,children:({present:N})=>a.jsx(He.div,{"data-state":g?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":x,hidden:!N,id:m,tabIndex:0,...h,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:N&&f})})});d0.displayName=u0;function f0(s,r){return`${s}-trigger-${r}`}function m0(s,r){return`${s}-content-${r}`}var HE=l0,FE=i0,VE=c0,GE=d0;function ei({className:s,...r}){return a.jsx(HE,{"data-slot":"tabs",className:Ge("flex flex-col gap-2",s),...r})}function ti({className:s,...r}){return a.jsx(FE,{"data-slot":"tabs-list",className:Ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...r})}function $t({className:s,...r}){return a.jsx(VE,{"data-slot":"tabs-trigger",className:Ge("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r})}function Qt({className:s,...r}){return a.jsx(GE,{"data-slot":"tabs-content",className:Ge("flex-1 outline-none",s),...r})}function YE(){const{state:s,actions:r}=wt(),{company:i,locations:o}=s,[d,f]=j.useState({name:(i==null?void 0:i.name)||"",address:(i==null?void 0:i.address)||"",phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||"",labourManagerName:(i==null?void 0:i.labourManagerName)||"",labourManagerPhone:(i==null?void 0:i.labourManagerPhone)||""}),[h,p]=j.useState(o&&o.length>0?o:[{name:"",address:""}]),x=(E,S)=>{f(b=>({...b,[E]:S}))},m=async()=>{try{if(!d.name||!d.address||!d.phone){alert("Please fill in all required fields (Name, Address, Phone)");return}await r.updateCompany(d),alert("Company profile updated successfully!")}catch(E){console.error("Error saving company profile:",E),alert("Failed to save company profile. Please try again.")}},g=(E,S,b)=>{const k=[...h];k[E]={...k[E],[S]:b},p(k)},v=()=>{p([...h,{name:"",address:""}])},N=E=>{h.length>1&&p(h.filter((S,b)=>b!==E))},w=async()=>{try{const E=h.filter(S=>S.name&&S.address);if(E.length===0){alert("Please add at least one location with name and address");return}await r.updateLocations(E),alert("Locations updated successfully!")}catch(E){console.error("Error saving locations:",E),alert("Failed to save locations. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your application settings and preferences"})]}),a.jsxs(ei,{defaultValue:"company",className:"space-y-6",children:[a.jsxs(ti,{children:[a.jsxs($t,{value:"company",className:"flex items-center space-x-2",children:[a.jsx(Fx,{className:"w-4 h-4"}),a.jsx("span",{children:"Company Profile"})]}),a.jsxs($t,{value:"locations",className:"flex items-center space-x-2",children:[a.jsx(Ol,{className:"w-4 h-4"}),a.jsx("span",{children:"Locations"})]}),a.jsxs($t,{value:"data",className:"flex items-center space-x-2",children:[a.jsx(vo,{className:"w-4 h-4"}),a.jsx("span",{children:"Data Management"})]})]}),a.jsx(Qt,{value:"company",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Company Profile"}),a.jsx(Le,{children:"Update your company information that appears in notifications and reports"})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"companyName",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"companyName",value:d.name,onChange:E=>x("name",E.target.value),placeholder:"Enter company name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"companyPhone",children:["Company Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"companyPhone",value:d.phone,onChange:E=>x("phone",E.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"companyEmail",children:"Company Email"}),a.jsx(ye,{id:"companyEmail",type:"email",value:d.email,onChange:E=>x("email",E.target.value),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"labourManagerName",children:"Labour Manager Name"}),a.jsx(ye,{id:"labourManagerName",value:d.labourManagerName,onChange:E=>x("labourManagerName",E.target.value),placeholder:"Enter labour manager name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"labourManagerPhone",children:"Labour Manager Phone"}),a.jsx(ye,{id:"labourManagerPhone",value:d.labourManagerPhone,onChange:E=>x("labourManagerPhone",E.target.value),placeholder:"Enter labour manager phone"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"companyAddress",children:["Company Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Gt,{id:"companyAddress",value:d.address,onChange:E=>x("address",E.target.value),placeholder:"Enter complete company address",rows:3})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:m,className:"px-6",children:[a.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Save Company Profile"]})})]})]})}),a.jsx(Qt,{value:"locations",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Factory Locations"}),a.jsx(Le,{children:"Manage your factory locations and addresses"})]}),a.jsxs(Ne,{className:"space-y-6",children:[h.map((E,S)=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:["Location ",S+1]}),h.length>1&&a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>N(S),children:"Remove"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:`locationName${S}`,children:["Location Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:`locationName${S}`,value:E.name,onChange:b=>g(S,"name",b.target.value),placeholder:"e.g., Main Factory, Warehouse 1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:`locationAddress${S}`,children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:`locationAddress${S}`,value:E.address,onChange:b=>g(S,"address",b.target.value),placeholder:"Enter location address"})]})]})]},S)),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs(ce,{variant:"outline",onClick:v,children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Add Location"]}),a.jsxs(ce,{onClick:w,className:"px-6",children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Save Locations"]})]})]})]})}),a.jsx(Qt,{value:"data",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Data Management"}),a.jsx(Le,{children:"Export, import, or reset your application data"})]}),a.jsx(Ne,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all your application data as a backup"}),a.jsxs(ce,{variant:"outline",children:[a.jsx(vo,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Import Data"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Restore data from a previous backup"}),a.jsxs(ce,{variant:"outline",children:[a.jsx(vo,{className:"w-4 h-4 mr-2"}),"Import Data"]})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Reset Application"}),a.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Clear all data and return to first-time setup"}),a.jsxs(ce,{variant:"destructive",onClick:()=>window.location.href="/reset.html",children:[a.jsx(vo,{className:"w-4 h-4 mr-2"}),"Reset Application"]})]})]})})]})})]})]})}var fc="Dialog",[h0]=Dn(fc),[$E,Ya]=h0(fc),p0=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:h=!0}=s,p=j.useRef(null),x=j.useRef(null),[m,g]=zs({prop:o,defaultProp:d??!1,onChange:f,caller:fc});return a.jsx($E,{scope:r,triggerRef:p,contentRef:x,contentId:tn(),titleId:tn(),descriptionId:tn(),open:m,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(v=>!v),[g]),modal:h,children:i})};p0.displayName=fc;var x0="DialogTrigger",QE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ya(x0,i),f=ft(r,d.triggerRef);return a.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Pf(d.open),...o,ref:f,onClick:Re(s.onClick,d.onOpenToggle)})});QE.displayName=x0;var Of="DialogPortal",[XE,g0]=h0(Of,{forceMount:void 0}),y0=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:d}=s,f=Ya(Of,r);return a.jsx(XE,{scope:r,forceMount:i,children:j.Children.map(o,h=>a.jsx(Rn,{present:i||f.open,children:a.jsx(tc,{asChild:!0,container:d,children:h})}))})};y0.displayName=Of;var Go="DialogOverlay",v0=j.forwardRef((s,r)=>{const i=g0(Go,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Ya(Go,s.__scopeDialog);return f.modal?a.jsx(Rn,{present:o||f.open,children:a.jsx(ZE,{...d,ref:r})}):null});v0.displayName=Go;var KE=Ll("DialogOverlay.RemoveScroll"),ZE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ya(Go,i);return a.jsx(nc,{as:KE,allowPinchZoom:!0,shards:[d.contentRef],children:a.jsx(He.div,{"data-state":Pf(d.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),qs="DialogContent",j0=j.forwardRef((s,r)=>{const i=g0(qs,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Ya(qs,s.__scopeDialog);return a.jsx(Rn,{present:o||f.open,children:f.modal?a.jsx(WE,{...d,ref:r}):a.jsx(JE,{...d,ref:r})})});j0.displayName=qs;var WE=j.forwardRef((s,r)=>{const i=Ya(qs,s.__scopeDialog),o=j.useRef(null),d=ft(r,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return Nf(f)},[]),a.jsx(b0,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(s.onCloseAutoFocus,f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Re(s.onPointerDownOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&f.preventDefault()}),onFocusOutside:Re(s.onFocusOutside,f=>f.preventDefault())})}),JE=j.forwardRef((s,r)=>{const i=Ya(qs,s.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return a.jsx(b0,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,p;(h=s.onCloseAutoFocus)==null||h.call(s,f),f.defaultPrevented||(o.current||(p=i.triggerRef.current)==null||p.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{var x,m;(x=s.onInteractOutside)==null||x.call(s,f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const h=f.target;((m=i.triggerRef.current)==null?void 0:m.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),b0=j.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...h}=s,p=Ya(qs,i),x=j.useRef(null),m=ft(r,x);return mf(),a.jsxs(a.Fragment,{children:[a.jsx(Xo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:a.jsx(Qo,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Pf(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(eT,{titleId:p.titleId}),a.jsx(aT,{contentRef:x,descriptionId:p.descriptionId})]})]})}),_f="DialogTitle",N0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ya(_f,i);return a.jsx(He.h2,{id:d.titleId,...o,ref:r})});N0.displayName=_f;var S0="DialogDescription",w0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ya(S0,i);return a.jsx(He.p,{id:d.descriptionId,...o,ref:r})});w0.displayName=S0;var C0="DialogClose",A0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ya(C0,i);return a.jsx(He.button,{type:"button",...o,ref:r,onClick:Re(s.onClick,()=>d.onOpenChange(!1))})});A0.displayName=C0;function Pf(s){return s?"open":"closed"}var E0="DialogTitleWarning",[XT,T0]=Pw(E0,{contentName:qs,titleName:_f,docsSlug:"dialog"}),eT=({titleId:s})=>{const r=T0(E0),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},tT="DialogDescriptionWarning",aT=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T0(tT).contentName}}.`;return j.useEffect(()=>{var f;const d=(f=s.current)==null?void 0:f.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},nT=p0,sT=y0,lT=v0,rT=j0,iT=N0,oT=w0,cT=A0;function Xt({...s}){return a.jsx(nT,{"data-slot":"dialog",...s})}function uT({...s}){return a.jsx(sT,{"data-slot":"dialog-portal",...s})}function dT({className:s,...r}){return a.jsx(lT,{"data-slot":"dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function Kt({className:s,children:r,...i}){return a.jsxs(uT,{"data-slot":"dialog-portal",children:[a.jsx(dT,{}),a.jsxs(rT,{"data-slot":"dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[r,a.jsxs(cT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Os,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Zt({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",s),...r})}function ta({className:s,...r}){return a.jsx("div",{"data-slot":"dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function Wt({className:s,...r}){return a.jsx(iT,{"data-slot":"dialog-title",className:Ge("text-lg leading-none font-semibold",s),...r})}function da({className:s,...r}){return a.jsx(oT,{"data-slot":"dialog-description",className:Ge("text-muted-foreground text-sm",s),...r})}function fT(){const{state:s,actions:r}=wt(),{customers:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,x]=j.useState(null),[m,g]=j.useState({name:"",phone:"",email:"",address:"",notes:""}),v=i.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.phone.includes(o)||b.email&&b.email.toLowerCase().includes(o.toLowerCase())),N=(b=null)=>{b?(x(b),g({name:b.name,phone:b.phone,email:b.email||"",address:b.address||"",notes:b.notes||""})):(x(null),g({name:"",phone:"",email:"",address:"",notes:""})),h(!0)},w=()=>{h(!1),x(null),g({name:"",phone:"",email:"",address:"",notes:""})},E=async b=>{if(b.preventDefault(),!m.name||!m.phone){alert("Please fill in customer name and phone number");return}try{const k={...m,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("customers",{...k,id:p.id}),alert("Customer updated successfully!")):(await r.addItem("customers",k),alert("Customer added successfully!")),w()}catch(k){console.error("Error saving customer:",k),alert("Failed to save customer. Please try again.")}},S=async b=>{if(window.confirm(`Are you sure you want to delete ${b.name}?`))try{await r.deleteItem("customers",b.id),alert("Customer deleted successfully!")}catch(k){console.error("Error deleting customer:",k),alert("Failed to delete customer. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer information and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:b=>d(b.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>N(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),v.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Po,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No customers found":"No customers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first customer"}),!o&&a.jsxs(ce,{onClick:()=>N(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(b=>a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ae,{className:"text-lg",children:b.name}),a.jsxs(Le,{className:"mt-1",children:["Customer since ",new Date(b.createdAt).toLocaleDateString()]})]}),a.jsx(Ie,{variant:"outline",className:"ml-2",children:"Active"})]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bg,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`tel:${b.phone}`,className:"hover:text-blue-600",children:b.phone})]}),b.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("a",{href:`mailto:${b.email}`,className:"hover:text-blue-600 truncate",children:b.email})]}),b.address&&a.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[a.jsx(Ol,{className:"w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:b.address})]}),b.notes&&a.jsx("div",{className:"pt-2 border-t",children:a.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:b.notes})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>N(b),children:[a.jsx(is,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>S(b),children:a.jsx(An,{className:"w-4 h-4"})})]})]})]},b.id))}),a.jsx(Xt,{open:f,onOpenChange:h,children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:p?"Edit Customer":"Add New Customer"}),a.jsx(da,{children:p?"Update customer information below":"Enter customer details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"name",children:["Customer Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"name",value:m.name,onChange:b=>g({...m,name:b.target.value}),placeholder:"Enter customer name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"phone",value:m.phone,onChange:b=>g({...m,phone:b.target.value}),placeholder:"Enter phone number",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"email",children:"Email Address"}),a.jsx(ye,{id:"email",type:"email",value:m.email,onChange:b=>g({...m,email:b.target.value}),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"address",children:"Address"}),a.jsx(Gt,{id:"address",value:m.address,onChange:b=>g({...m,address:b.target.value}),placeholder:"Enter customer address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"notes",children:"Notes"}),a.jsx(Gt,{id:"notes",value:m.notes,onChange:b=>g({...m,notes:b.target.value}),placeholder:"Add any additional notes about this customer",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})]})})]})}function mT(){const{state:s,actions:r}=wt(),{sofaModels:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,x]=j.useState(null),[m,g]=j.useState({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null}),v=i.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase())),N=(A=null)=>{A?(x(A),g({name:A.name,description:A.description||"",materialCost:A.materialCost||"",laborCost:A.laborCost||"",sellingPrice:A.sellingPrice||"",estimatedDays:A.estimatedDays||"",stockQuantity:A.stockQuantity||"0",billOfMaterials:A.billOfMaterials||[],images:A.images||[],primaryImageId:A.primaryImageId||null})):(x(null),g({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[]})),h(!0)},w=()=>{h(!1),x(null),g({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null})},E=()=>{let A=0;m.billOfMaterials&&m.billOfMaterials.length>0?A=m.billOfMaterials.reduce((z,B)=>z+(B.totalCost||0),0):A=parseFloat(m.materialCost)||0;const M=parseFloat(m.laborCost)||0;return A+M},S=()=>m.billOfMaterials&&m.billOfMaterials.length>0?m.billOfMaterials.reduce((A,M)=>A+(M.totalCost||0),0):0,b=()=>{const A=E();return(parseFloat(m.sellingPrice)||0)-A},k=async A=>{if(!A||A.length===0)return;const M=5,z=5*1024*1024,B=M-m.images.length,ae=A.slice(0,B);for(const P of ae){if(!P.type.startsWith("image/")){alert(`${P.name} is not an image file`);continue}if(P.size>z){alert(`${P.name} is too large (max 5MB)`);continue}const I=new FileReader;I.onload=Z=>{const ie=Date.now()+Math.random(),Y={id:ie,data:Z.target.result,name:P.name};g(he=>{const L=[...he.images,Y];return{...he,images:L,primaryImageId:he.primaryImageId||ie}})},I.readAsDataURL(P)}},R=A=>{g(M=>{const z=M.images.filter(ae=>ae.id!==A);let B=M.primaryImageId;return A===M.primaryImageId&&z.length>0?B=z[0].id:z.length===0&&(B=null),{...M,images:z,primaryImageId:B}})},T=async A=>{if(A.preventDefault(),!m.name){alert("Please enter product name");return}try{const M=S(),z=M>0?M:parseFloat(m.materialCost)||0,B={name:m.name,description:m.description,billOfMaterials:m.billOfMaterials||[],images:m.images||[],primaryImageId:m.primaryImageId||null,materialCost:z,laborCost:parseFloat(m.laborCost)||0,sellingPrice:parseFloat(m.sellingPrice)||0,estimatedDays:parseInt(m.estimatedDays)||0,stockQuantity:parseInt(m.stockQuantity)||0,totalCost:E(),profit:b(),createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("sofaModels",{...B,id:p.id}),alert("Product updated successfully!")):(await r.addItem("sofaModels",B),alert("Product added successfully!")),w()}catch(M){console.error("Error saving product:",M),alert("Failed to save product. Please try again.")}},D=async A=>{if(window.confirm(`Are you sure you want to delete ${A.name}?`))try{await r.deleteItem("sofaModels",A.id),alert("Product deleted successfully!")}catch(M){console.error("Error deleting product:",M),alert("Failed to delete product. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finished Products"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your sofa models and product catalog"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Stock is automatically updated when production is completed."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search products by name or description...",value:o,onChange:A=>d(A.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>N(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),v.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Sa,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No products found":"No products yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first product"}),!o&&a.jsxs(ce,{onClick:()=>N(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(A=>{var M;return a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[A.images&&A.images.length>0&&a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:((M=A.images.find(z=>z.id===A.primaryImageId))==null?void 0:M.data)||A.images[0].data,alt:A.name,className:"w-full h-full object-cover"}),A.images.length>1&&a.jsxs(Ie,{className:"absolute top-2 right-2 bg-black bg-opacity-70",children:["+",A.images.length-1," more"]})]}),a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-lg",children:A.name}),A.description&&a.jsx(Le,{className:"line-clamp-2",children:A.description})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Material Cost"}),a.jsx("p",{className:"font-semibold",children:Ve(A.materialCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Labor Cost"}),a.jsx("p",{className:"font-semibold text-blue-600",children:Ve(A.laborCost)})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total Cost"}),a.jsx("p",{className:"font-semibold",children:Ve(A.totalCost)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Selling Price"}),a.jsx("p",{className:"font-semibold text-green-600",children:Ve(A.sellingPrice)})]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),a.jsx(Ie,{variant:A.profit>0?"default":"destructive",children:Ve(A.profit)})]})}),A.estimatedDays>0&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Estimated Production: ",a.jsxs("span",{className:"font-semibold text-gray-900",children:[A.estimatedDays," days"]})]})}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Stock Quantity"}),a.jsxs(Ie,{variant:(A.stockQuantity||0)>0?"default":"destructive",children:[A.stockQuantity||0," units"]})]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>N(A),children:[a.jsx(is,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>D(A),children:a.jsx(An,{className:"w-4 h-4"})})]})]})]},A.id)})}),a.jsx(Xt,{open:f,onOpenChange:h,children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:p?"Edit Product":"Add New Product"}),a.jsx(da,{children:p?"Update product information below":"Enter product details including labor cost for accurate pricing"})]}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"name",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"name",value:m.name,onChange:A=>g({...m,name:A.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Sofa",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"description",children:"Description"}),a.jsx(Gt,{id:"description",value:m.description,onChange:A=>g({...m,description:A.target.value}),placeholder:"Enter product description",rows:3})]}),a.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx(W,{className:"text-base font-semibold",children:"Product Images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload up to 5 images (Click or drag & drop)"})]}),a.jsxs("div",{className:"space-y-3",children:[m.images.length<5&&a.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-6 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>document.getElementById("imageUpload").click(),onDragOver:A=>A.preventDefault(),onDrop:A=>{A.preventDefault();const M=Array.from(A.dataTransfer.files);k(M)},children:[a.jsx(Sa,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/png,image/jpeg,image/jpg",multiple:!0,className:"hidden",onChange:A=>k(Array.from(A.target.files))})]}),m.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.images.map(A=>a.jsxs("div",{className:`relative group border-2 rounded-lg overflow-hidden ${A.id===m.primaryImageId?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:[a.jsx("img",{src:A.data,alt:"Product",className:"w-full h-32 object-cover"}),A.id===m.primaryImageId&&a.jsx(Ie,{className:"absolute top-2 left-2 bg-blue-500",children:"Primary"}),a.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center gap-2",children:[A.id!==m.primaryImageId&&a.jsx(ce,{type:"button",size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g({...m,primaryImageId:A.id}),children:"Set Primary"}),a.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>R(A.id),children:a.jsx(An,{className:"w-4 h-4"})})]})]},A.id))})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx(W,{className:"text-base font-semibold text-blue-900",children:"Bill of Materials (BOM)"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 mb-3",children:["BOM is now managed in the ",a.jsx("strong",{children:"Production"})," section when starting a new job."]}),m.billOfMaterials.length>0?a.jsxs("div",{className:"space-y-1",children:[m.billOfMaterials.map((A,M)=>a.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[a.jsx("span",{children:A.materialName}),a.jsxs("span",{children:[A.quantity," ",A.unit]})]},M)),a.jsxs("div",{className:"pt-2 mt-2 border-t border-blue-200 flex justify-between font-bold text-blue-900",children:[a.jsx("span",{children:"Total Material Cost"}),a.jsx("span",{children:Ve(S())})]})]}):a.jsx("p",{className:"text-sm text-blue-600 italic",children:"No BOM defined for this product yet."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"materialCost",children:["Material Cost (NPR)",m.billOfMaterials.length>0&&a.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Auto-calculated from BOM)"})]}),a.jsx(ye,{id:"materialCost",type:"number",step:"0.01",value:m.billOfMaterials.length>0?S():m.materialCost,onChange:A=>g({...m,materialCost:A.target.value}),placeholder:"0.00",disabled:m.billOfMaterials.length>0,className:m.billOfMaterials.length>0?"bg-gray-100 font-semibold":""}),m.billOfMaterials.length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Or use Bill of Materials above for detailed tracking"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"laborCost",className:"flex items-center",children:[a.jsx(za,{className:"w-4 h-4 mr-1 text-blue-600"}),"Labor Cost (NPR)"]}),a.jsx(ye,{id:"laborCost",type:"number",step:"0.01",value:m.laborCost,onChange:A=>g({...m,laborCost:A.target.value}),placeholder:"0.00"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Estimated labor cost for production"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:Ve(E())})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Material Cost + Labor Cost"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"sellingPrice",children:"Selling Price (NPR)"}),a.jsx(ye,{id:"sellingPrice",type:"number",step:"0.01",value:m.sellingPrice,onChange:A=>g({...m,sellingPrice:A.target.value}),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"estimatedDays",children:"Estimated Production (Days)"}),a.jsx(ye,{id:"estimatedDays",type:"number",value:m.estimatedDays,onChange:A=>g({...m,estimatedDays:A.target.value}),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"stockQuantity",children:["Stock Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"stockQuantity",type:"number",min:"0",value:m.stockQuantity,onChange:A=>g({...m,stockQuantity:A.target.value}),placeholder:"0",required:!0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Available units in stock"})]})]}),m.sellingPrice&&a.jsxs("div",{className:`p-4 rounded-lg ${b()>=0?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Profit Margin"}),a.jsx("span",{className:`text-lg font-bold ${b()>=0?"text-green-600":"text-red-600"}`,children:Ve(b())})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b()>=0?"Profitable product":"Selling below cost"})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Product":"Add Product"})]})]})]})})]})}const tt={PENDING_APPROVAL:{value:"pending_approval",label:"Pending Approval",color:"bg-yellow-100 text-yellow-800"},APPROVED:{value:"approved",label:"Approved",color:"bg-blue-100 text-blue-800"},IN_PRODUCTION:{value:"in_production",label:"In Production",color:"bg-purple-100 text-purple-800"},COMPLETED:{value:"completed",label:"Completed",color:"bg-green-100 text-green-800"},READY_FOR_DELIVERY:{value:"ready_for_delivery",label:"Ready for Delivery",color:"bg-orange-100 text-orange-800"},DELIVERED:{value:"delivered",label:"Delivered",color:"bg-emerald-100 text-emerald-800"},CANCELLED:{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800"}},hT=["Wood","Fabric","Foam","Metal","Leather","Springs","Webbing","Thread","General"],pT=["Pieces","Meters","Feet","Yards","Sq.Ft","Sq.M","Kg","Grams","Liters","Sheets","Rolls","Sets"];function xT(){var fa;const{state:s,actions:r}=wt(),{customers:i,rawMaterials:o,sofaModels:d,company:f}=s,[h,p]=j.useState([]),[x,m]=j.useState(""),[g,v]=j.useState("all"),[N,w]=j.useState("all"),[E,S]=j.useState(!1),[b,k]=j.useState(null),[R,T]=j.useState(!1),[D,A]=j.useState(!1),[M,z]=j.useState(null),[B,ae]=j.useState(null),[P,I]=j.useState({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[]}),[Z,ie]=j.useState({productPhoto:null,productPhotoPreview:"",sellingPrice:""}),[Y,he]=j.useState({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""});La.useEffect(()=>{(async()=>{try{const je=await r.getAllOrders();p(je||[])}catch(je){console.error("Error loading orders:",je)}})()},[]);const L=h.filter(V=>{var We,lt,Lt;const je=((We=V.orderNumber)==null?void 0:We.toLowerCase().includes(x.toLowerCase()))||((lt=V.customerName)==null?void 0:lt.toLowerCase().includes(x.toLowerCase()))||((Lt=V.productName)==null?void 0:Lt.toLowerCase().includes(x.toLowerCase())),ge=g==="all"||V.status===g,ze=N==="all"||V.orderType===N;return je&&ge&&ze}),X=()=>{I({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[]}),S(!0)},H=()=>{S(!1)},re=()=>{I({...P,bom:[...P.bom,{materialName:"",category:"General",unit:"Pieces",quantity:1}]})},ve=V=>{const je=P.bom.filter((ge,ze)=>ze!==V);I({...P,bom:je})},O=(V,je,ge)=>{const ze=[...P.bom];ze[V]={...ze[V],[je]:ge},I({...P,bom:ze})},ee=async V=>{if(V.preventDefault(),!P.productName.trim()){alert("Please enter product name");return}if(P.orderType==="customer"&&!P.customerId){alert("Please select a customer for customer order");return}if(P.bom.length===0){alert("Please add at least one material to the Bill of Materials");return}try{const je=parseInt(P.quantity)||1,ge=parseFloat(P.unitPrice)||0,ze=`ORD-${Date.now().toString().slice(-6)}`;let We={};if(P.orderType==="customer"){const zt=i.find(Ia=>Ia.id===parseInt(P.customerId));if(!zt){alert("Invalid customer selection");return}We={customerId:zt.id,customerName:zt.name,customerPhone:zt.phone,customerAddress:zt.address}}const lt={orderNumber:ze,orderType:P.orderType,...We,productName:P.productName.trim(),quantity:je,unitPrice:ge,totalAmount:ge*je,bom:P.bom.map(zt=>({...zt,quantity:parseFloat(zt.quantity)||0,totalNeeded:(parseFloat(zt.quantity)||0)*je})),status:tt.PENDING_APPROVAL.value,notes:P.notes,dueDate:P.dueDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:tt.PENDING_APPROVAL.value,timestamp:new Date().toISOString(),note:"Order created"}]},Lt=await r.addItem("orders",lt);p([...h,Lt]),alert("Order created successfully!"),H()}catch(je){console.error("Error creating order:",je),alert("Failed to create order. Please try again.")}},oe=async(V,je,ge={})=>{var ze;try{const We=(ze=tt[Object.keys(tt).find(Lt=>tt[Lt].value===je)])==null?void 0:ze.label,lt={...V,...ge,status:je,updatedAt:new Date().toISOString(),statusHistory:[...V.statusHistory||[],{status:je,timestamp:new Date().toISOString(),note:`Status updated to ${We}`}]};return je===tt.IN_PRODUCTION.value&&await de(V),V.orderType==="stock"&&je===tt.COMPLETED.value&&await q(V,ge),V.orderType==="customer"&&je===tt.DELIVERED.value&&await fe(V,ge),await r.updateItem("orders",lt),p(h.map(Lt=>Lt.id===V.id?lt:Lt)),!0}catch(We){return console.error("Error updating order:",We),alert("Failed to update order status. Please try again."),!1}},de=async V=>{if(!(!V.bom||V.bom.length===0))for(const je of V.bom){const ge=(o||[]).filter(ze=>{var We,lt;return((We=ze.name)==null?void 0:We.toLowerCase())===((lt=je.materialName)==null?void 0:lt.toLowerCase())});if(ge.length>0){let ze=je.totalNeeded||je.quantity*V.quantity;for(const We of ge){if(ze<=0)break;const lt=Math.min(We.quantity,ze),Lt={...We,quantity:We.quantity-lt};await r.updateItem("rawMaterials",Lt),ze-=lt}}}},q=async(V,je)=>{const ge={name:V.productName,category:"Finished Product",stock:V.quantity,sellingPrice:parseFloat(je.sellingPrice)||0,productPhoto:je.productPhoto||null,bom:V.bom,createdFromOrder:V.orderNumber,createdAt:new Date().toISOString()};await r.addItem("sofaModels",ge)},fe=async(V,je)=>{const ge={date:je.deliveryDate||new Date().toISOString().split("T")[0],customerId:V.customerId,customerName:V.customerName,productName:V.productName,quantity:V.quantity,unitPrice:V.unitPrice,totalAmount:V.totalAmount,paymentMethod:"pending",paymentStatus:"pending",status:"approved",orderNumber:V.orderNumber,deliveryNotes:je.deliveryNotes,deliveryPhoto:je.deliveryPhoto,createdAt:new Date().toISOString()};await r.addItem("sales",ge)},se=async V=>{window.confirm("Approve this order and move to production queue?")&&(await oe(V,tt.APPROVED.value),alert("Order approved!"))},Oe=async V=>{let je=!0,ge=[];for(const ze of V.bom||[]){const We=ze.totalNeeded||ze.quantity*V.quantity,Lt=(o||[]).filter(zt=>{var Ia,$a;return((Ia=zt.name)==null?void 0:Ia.toLowerCase())===(($a=ze.materialName)==null?void 0:$a.toLowerCase())}).reduce((zt,Ia)=>zt+(Ia.quantity||0),0);Lt<We&&(je=!1,ge.push(`${ze.materialName}: Need ${We}, Have ${Lt}`))}if(!je){alert(`Cannot start production. Insufficient materials:
${ge.join(`
`)}`);return}window.confirm("Start production? Materials will be deducted from inventory.")&&await oe(V,tt.IN_PRODUCTION.value)&&alert("Production started! Materials have been deducted.")},G=V=>{var je;z(V),ie({productPhoto:null,productPhotoPreview:"",sellingPrice:((je=V.unitPrice)==null?void 0:je.toString())||""}),T(!0)},xe=async()=>{if(!M)return;if(M.orderType==="stock"&&!Z.sellingPrice){alert("Please enter selling price for stock item");return}const V=(M.orderType==="stock",tt.COMPLETED.value);await oe(M,V,Z)&&(M.orderType==="stock"?alert("Production completed! Product added to Finished Products inventory."):(alert("Production completed! Order is ready for delivery."),await oe({...M,status:V},tt.READY_FOR_DELIVERY.value)),T(!1),z(null))},be=V=>{ae(V),he({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""}),A(!0)},Me=async()=>{if(!B)return;await oe(B,tt.DELIVERED.value,Y)&&(alert("Order delivered! Sale record has been created."),A(!1),ae(null))},mt=(V,je)=>{const ge=V.target.files[0];if(ge){if(ge.size>5*1024*1024){alert("File size must be less than 5MB");return}const ze=new FileReader;ze.onloadend=()=>{je==="completion"?ie({...Z,productPhoto:ze.result,productPhotoPreview:ze.result}):je==="delivery"&&he({...Y,deliveryPhoto:ze.result,deliveryPhotoPreview:ze.result})},ze.readAsDataURL(ge)}},Ze=async V=>{window.confirm("Are you sure you want to cancel this order?")&&(V.status,tt.IN_PRODUCTION.value,await oe(V,tt.CANCELLED.value),alert("Order cancelled."))},gt=V=>{const je=Object.values(tt).find(ge=>ge.value===V);return(je==null?void 0:je.color)||"bg-gray-100 text-gray-800"},Ct=V=>{const je=[];switch(V.status){case tt.PENDING_APPROVAL.value:je.push({label:"Approve",action:()=>se(V),variant:"default"}),je.push({label:"Cancel",action:()=>Ze(V),variant:"destructive"});break;case tt.APPROVED.value:je.push({label:"Start Production",action:()=>Oe(V),variant:"default"}),je.push({label:"Cancel",action:()=>Ze(V),variant:"destructive"});break;case tt.IN_PRODUCTION.value:je.push({label:"Complete Production",action:()=>G(V),variant:"default"});break;case tt.READY_FOR_DELIVERY.value:V.orderType==="customer"&&je.push({label:"Mark Delivered",action:()=>be(V),variant:"default"});break}return je},vt={pendingApproval:h.filter(V=>V.status===tt.PENDING_APPROVAL.value).length,inProduction:h.filter(V=>V.status===tt.IN_PRODUCTION.value).length,readyForDelivery:h.filter(V=>V.status===tt.READY_FOR_DELIVERY.value).length,completedThisMonth:h.filter(V=>{const je=V.status===tt.COMPLETED.value||V.status===tt.DELIVERED.value,ge=new Date().getMonth(),ze=new Date(V.updatedAt).getMonth();return je&&ge===ze}).length};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage stock and customer orders with full production workflow"}),a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"* Orders flow: Pending Approval  Approved  In Production  Completed/Delivered"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Pending Approval"}),a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:vt.pendingApproval})]})}),a.jsx(ue,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"In Production"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:vt.inProduction})]})}),a.jsx(ue,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Ready for Delivery"}),a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:vt.readyForDelivery})]})}),a.jsx(ue,{children:a.jsxs(Ne,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Completed This Month"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:vt.completedThisMonth})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search orders...",value:x,onChange:V=>m(V.target.value),className:"pl-10"})]}),a.jsxs(rt,{value:N,onValueChange:w,children:[a.jsx(ot,{className:"w-full sm:w-40",children:a.jsx(it,{placeholder:"Order Type"})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"all",children:"All Types"}),a.jsx(pe,{value:"stock",children:"Stock Orders"}),a.jsx(pe,{value:"customer",children:"Customer Orders"})]})]}),a.jsxs(rt,{value:g,onValueChange:v,children:[a.jsx(ot,{className:"w-full sm:w-48",children:a.jsx(it,{placeholder:"Filter by status"})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"all",children:"All Statuses"}),Object.values(tt).map(V=>a.jsx(pe,{value:V.value,children:V.label},V.value))]})]}),a.jsxs(ce,{onClick:X,className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),L.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Sa,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No orders yet"}),a.jsx("p",{className:"text-gray-400",children:"Create your first order to get started"}),a.jsxs(ce,{onClick:X,className:"mt-4",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"New Order"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(V=>{var je;return a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ce,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Ae,{className:"text-lg",children:V.orderNumber}),a.jsx(Le,{children:V.orderType==="stock"?"Stock Order":V.customerName})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ie,{className:gt(V.status),children:(je=tt[Object.keys(tt).find(ge=>tt[ge].value===V.status)])==null?void 0:je.label}),a.jsxs(Ie,{variant:V.orderType==="stock"?"secondary":"outline",children:[V.orderType==="stock"?a.jsx(Sa,{className:"w-3 h-3 mr-1"}):a.jsx(Fr,{className:"w-3 h-3 mr-1"}),V.orderType==="stock"?"Stock":"Customer"]})]})]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Product:"}),a.jsx("span",{className:"font-medium",children:V.productName})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsx("span",{className:"font-medium",children:V.quantity})]}),V.orderType==="customer"&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Total:"}),a.jsxs("span",{className:"font-medium",children:["NPR ",(V.totalAmount||0).toLocaleString()]})]}),V.dueDate&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Due Date:"}),a.jsx("span",{className:"font-medium",children:new Date(V.dueDate).toLocaleDateString()})]}),V.bom&&V.bom.length>0&&a.jsxs("div",{className:"text-sm text-gray-500",children:["Materials: ",V.bom.length," items"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>k(V),children:[a.jsx(uf,{className:"w-4 h-4 mr-1"}),"View"]}),Ct(V).map((ge,ze)=>a.jsx(ce,{size:"sm",variant:ge.variant,onClick:ge.action,children:ge.label},ze))]})]})]},V.id)})}),a.jsx(Xt,{open:E,onOpenChange:S,children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"New Order"}),a.jsx(da,{children:"Create a new stock or customer order with Bill of Materials"})]}),a.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Order Type *"}),a.jsxs(rt,{value:P.orderType,onValueChange:V=>I({...P,orderType:V,customerId:""}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"stock",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Stock Order (Build for Inventory)"]})}),a.jsx(pe,{value:"customer",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Customer Order (For Delivery)"]})})]})]})]}),P.orderType==="customer"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Customer *"}),a.jsxs(rt,{value:P.customerId,onValueChange:V=>I({...P,customerId:V}),children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select customer"})}),a.jsx(ct,{children:(i||[]).map(V=>a.jsxs(pe,{value:V.id.toString(),children:[V.name," - ",V.phone]},V.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Product Name *"}),a.jsx(ye,{value:P.productName,onChange:V=>I({...P,productName:V.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Couch"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Quantity *"}),a.jsx(ye,{type:"number",min:"1",value:P.quantity,onChange:V=>I({...P,quantity:V.target.value})})]}),P.orderType==="customer"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Unit Price (NPR)"}),a.jsx(ye,{type:"number",min:"0",value:P.unitPrice,onChange:V=>I({...P,unitPrice:V.target.value}),placeholder:"Price per unit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Due Date"}),a.jsx(ye,{type:"date",value:P.dueDate,onChange:V=>I({...P,dueDate:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(W,{children:"Bill of Materials (BOM) *"}),a.jsxs(ce,{type:"button",size:"sm",variant:"outline",onClick:re,children:[a.jsx(St,{className:"w-4 h-4 mr-1"}),"Add Material"]})]}),P.bom.length===0?a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:'No materials added. Click "Add Material" to define required materials.'}):a.jsx("div",{className:"space-y-3 border rounded-lg p-3",children:P.bom.map((V,je)=>a.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[a.jsxs("div",{className:"col-span-4",children:[a.jsx(W,{className:"text-xs",children:"Material Name"}),a.jsx(ye,{value:V.materialName,onChange:ge=>O(je,"materialName",ge.target.value),placeholder:"e.g., Wood, Fabric",className:"h-9"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(W,{className:"text-xs",children:"Category"}),a.jsxs(rt,{value:V.category,onValueChange:ge=>O(je,"category",ge),children:[a.jsx(ot,{className:"h-9",children:a.jsx(it,{})}),a.jsx(ct,{children:hT.map(ge=>a.jsx(pe,{value:ge,children:ge},ge))})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(W,{className:"text-xs",children:"Quantity"}),a.jsx(ye,{type:"number",min:"0",step:"0.01",value:V.quantity,onChange:ge=>O(je,"quantity",ge.target.value),className:"h-9"})]}),a.jsxs("div",{className:"col-span-3",children:[a.jsx(W,{className:"text-xs",children:"Unit"}),a.jsxs(rt,{value:V.unit,onValueChange:ge=>O(je,"unit",ge),children:[a.jsx(ot,{className:"h-9",children:a.jsx(it,{})}),a.jsx(ct,{children:pT.map(ge=>a.jsx(pe,{value:ge,children:ge},ge))})]})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(ce,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>ve(je),children:a.jsx(Os,{className:"w-4 h-4"})})})]},je))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Notes"}),a.jsx(Gt,{value:P.notes,onChange:V=>I({...P,notes:V.target.value}),placeholder:"Additional notes about this order",rows:2})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:H,children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Create Order"})]})]})]})}),a.jsx(Xt,{open:!!b,onOpenChange:()=>k(null),children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Zt,{children:a.jsxs(Wt,{children:["Order Details - ",b==null?void 0:b.orderNumber]})}),b&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Order Type"}),a.jsx("p",{className:"font-medium",children:b.orderType==="stock"?"Stock Order":"Customer Order"})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Status"}),a.jsx(Ie,{className:gt(b.status),children:(fa=tt[Object.keys(tt).find(V=>tt[V].value===b.status)])==null?void 0:fa.label})]}),b.orderType==="customer"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:b.customerName})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium",children:b.customerPhone})]})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:b.productName})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:b.quantity})]}),b.orderType==="customer"&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Total Amount"}),a.jsxs("p",{className:"font-medium",children:["NPR ",(b.totalAmount||0).toLocaleString()]})]}),b.dueDate&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Due Date"}),a.jsx("p",{className:"font-medium",children:new Date(b.dueDate).toLocaleDateString()})]})]}),b.bom&&b.bom.length>0&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Bill of Materials"}),a.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Material"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Category"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Qty/Unit"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Total Needed"})]})}),a.jsx("tbody",{children:b.bom.map((V,je)=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-3 py-2",children:V.materialName}),a.jsx("td",{className:"px-3 py-2",children:V.category}),a.jsxs("td",{className:"px-3 py-2 text-right",children:[V.quantity," ",V.unit]}),a.jsxs("td",{className:"px-3 py-2 text-right",children:[V.totalNeeded||V.quantity*b.quantity," ",V.unit]})]},je))})]})})]}),b.statusHistory&&b.statusHistory.length>0&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Status History"}),a.jsx("div",{className:"mt-2 space-y-2",children:b.statusHistory.map((V,je)=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),a.jsx("span",{className:"text-gray-600",children:new Date(V.timestamp).toLocaleString()}),a.jsx(PN,{className:"w-4 h-4 mx-2 text-gray-400"}),a.jsx("span",{className:"font-medium",children:V.note})]},je))})]}),b.notes&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Notes"}),a.jsx("p",{className:"mt-1",children:b.notes})]})]})]})}),a.jsx(Xt,{open:R,onOpenChange:T,children:a.jsxs(Kt,{children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"Complete Production"}),a.jsx(da,{children:(M==null?void 0:M.orderType)==="stock"?"Add product photo and set selling price for inventory":"Mark production as complete"})]}),a.jsx("div",{className:"space-y-4",children:(M==null?void 0:M.orderType)==="stock"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Selling Price (NPR) *"}),a.jsx(ye,{type:"number",min:"0",value:Z.sellingPrice,onChange:V=>ie({...Z,sellingPrice:V.target.value}),placeholder:"Enter selling price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Product Photo"}),a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:Z.productPhotoPreview?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Z.productPhotoPreview,alt:"Product",className:"max-h-40 mx-auto rounded"}),a.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>ie({...Z,productPhoto:null,productPhotoPreview:""}),children:a.jsx(Os,{className:"w-4 h-4"})})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(Vx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload photo"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V=>mt(V,"completion")})]})})]})]})}),a.jsxs(ta,{children:[a.jsx(ce,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsx(ce,{onClick:xe,children:"Complete Production"})]})]})}),a.jsx(Xt,{open:D,onOpenChange:A,children:a.jsxs(Kt,{children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"Mark as Delivered"}),a.jsx(da,{children:"Confirm delivery details. A sale record will be created automatically."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Delivery Date"}),a.jsx(ye,{type:"date",value:Y.deliveryDate,onChange:V=>he({...Y,deliveryDate:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Delivery Notes"}),a.jsx(Gt,{value:Y.deliveryNotes,onChange:V=>he({...Y,deliveryNotes:V.target.value}),placeholder:"Any notes about the delivery",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Delivery Photo (Proof)"}),a.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:Y.deliveryPhotoPreview?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Y.deliveryPhotoPreview,alt:"Delivery",className:"max-h-40 mx-auto rounded"}),a.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>he({...Y,deliveryPhoto:null,deliveryPhotoPreview:""}),children:a.jsx(Os,{className:"w-4 h-4"})})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(Vx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload delivery photo"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V=>mt(V,"delivery")})]})})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsxs(ce,{onClick:Me,children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Confirm Delivery"]})]})]})})]})}function gT(s,r="977"){if(!s)return"";const i=s.replace(/\D/g,"");return i.startsWith(r)?i:r+i}function yT(s){if(!s)return!1;const r=s.replace(/\D/g,"");return r.length===10||r.length===13}function vT(s,r){const i=gT(s),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function jT(s,r){let i=s;return Object.keys(r).forEach(o=>{const d=new RegExp(`\\{${o}\\}`,"g");i=i.replace(d,r[o]||"")}),i}const Br={orderConfirmation:{title:"Order Confirmation",template:`Hello {customerName}! 

Your order has been confirmed:
Order #: {orderNumber}
Product: {productName}
Quantity: {quantity}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Expected Delivery: {expectedDelivery}

Thank you for choosing us!
- {companyName}`,variables:["customerName","orderNumber","productName","quantity","totalAmount","paidAmount","dueAmount","expectedDelivery","companyName"]},productionStarted:{title:"Production Started",template:`Hello {customerName}! 

Great news! Production has started for your order.
Order #: {orderNumber}
Product: {productName}

Expected Completion: {expectedCompletion}

We'll notify you when it's ready!
- {companyName}`,variables:["customerName","orderNumber","productName","expectedCompletion","companyName"]},productionCompleted:{title:"Production Completed",template:`Hello {customerName}! 

Your sofa is ready!
Order #: {orderNumber}
Product: {productName}

Please contact us to schedule delivery.

Thank you for your patience!
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},paymentReminder:{title:"Payment Reminder",template:`Hello {customerName}! 

Payment reminder for your order:
Order #: {orderNumber}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Please make payment at your earliest convenience.

Thank you!
- {companyName}`,variables:["customerName","orderNumber","totalAmount","paidAmount","dueAmount","companyName"]},deliveryScheduled:{title:"Delivery Scheduled",template:`Hello {customerName}! 

Your delivery has been scheduled:
Order #: {orderNumber}
Product: {productName}
Delivery Date: {deliveryDate}
Address: {deliveryAddress}

Please be available on the scheduled date.
- {companyName}`,variables:["customerName","orderNumber","productName","deliveryDate","deliveryAddress","companyName"]},orderDelivered:{title:"Order Delivered",template:`Hello {customerName}! 

Your order has been delivered!
Order #: {orderNumber}
Product: {productName}

Thank you for your business. We hope you enjoy your new sofa!

Please let us know if you have any questions.
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},purchaseOrderCreated:{title:"Purchase Order Created",template:`Hello {supplierName}! 

New purchase order:
PO #: {poNumber}
Items: {itemCount}
Total Amount: NPR {totalAmount}

Please confirm receipt and delivery schedule.

Thank you!
- {companyName}`,variables:["supplierName","poNumber","itemCount","totalAmount","companyName"]},lowStockAlert:{title:"Low Stock Alert",template:` LOW STOCK ALERT

Item: {itemName}
Current Stock: {currentStock}
Minimum Stock: {minStock}

Action needed: Reorder soon!
- {companyName}`,variables:["itemName","currentStock","minStock","companyName"]}};function Dg(){return{id:1,whatsappEnabled:!0,defaultCountryCode:"977",companyName:"Sofa Factory",adminPhoneNumber:"",notificationTypes:{orderConfirmation:!0,productionStarted:!0,productionCompleted:!0,paymentReminder:!0,deliveryScheduled:!0,orderDelivered:!0,purchaseOrderCreated:!1,lowStockAlert:!0},messageTemplates:Br}}function bT(s,r,i,o={}){return{type:s,recipient:r,message:i,status:"pending",createdAt:new Date().toISOString(),sentAt:null,relatedId:o.id||null,relatedType:o.type||null}}function NT(s,r){const i=vT(s,r);window.open(i,"_blank")}async function M0(s){try{const r=await s.getItems("notificationSettings");return r&&r.length>0?r[0]:null}catch(r){return console.error("Error getting notification settings:",r),null}}async function ST(s,r){const i=await M0(s);return!i||!i.whatsappEnabled?!1:i.notificationTypes[r]===!0}async function wT(s,r){try{await s.addItem("notificationQueue",r),console.log("Notification queued:",r.type)}catch(i){console.error("Error queueing notification:",i)}}async function CT(s,r,i,o){var d;try{if(!await ST(s,"orderConfirmation"))return;const h=await M0(s);if(!h)return;const p=(d=h.messageTemplates.orderConfirmation)==null?void 0:d.template;if(!p)return;const x={customerName:i.name||"Customer",orderNumber:r.orderNumber||r.id,productName:o.name||"Product",quantity:r.quantity||1,totalAmount:Ve(r.totalAmount||0),paidAmount:Ve(r.paidAmount||0),dueAmount:Ve((r.totalAmount||0)-(r.paidAmount||0)),expectedDelivery:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"To be confirmed",companyName:h.companyName||"Sofa Factory"},m=jT(p,x),g=bT("orderConfirmation",{name:i.name,phone:i.phone},m,{id:r.id,type:"order"});await wT(s,g)}catch(f){console.error("Error sending order confirmation:",f)}}function AT(){var ae,P;const{state:s,actions:r}=wt(),{customers:i,sofaModels:o,sales:d}=s,[f,h]=j.useState(""),[p,x]=j.useState(!1),[m,g]=j.useState(null),[v,N]=j.useState({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),w=d.filter(I=>{var Z,ie,Y;return((Z=I.customerName)==null?void 0:Z.toLowerCase().includes(f.toLowerCase()))||((ie=I.productName)==null?void 0:ie.toLowerCase().includes(f.toLowerCase()))||((Y=I.saleNumber)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))}),E=d.reduce((I,Z)=>I+(Z.totalAmount||0),0),S=d.filter(I=>{const Z=new Date(I.createdAt),ie=new Date;return Z.toDateString()===ie.toDateString()}),b=S.reduce((I,Z)=>I+(Z.totalAmount||0),0),k=()=>{N({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),x(!0)},R=()=>{x(!1),N({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""})},T=I=>{console.log("Product selected:",I);const Z=parseInt(I),ie=o.find(Y=>Y.id===Z);if(console.log("Product details:",ie),ie){const Y={...v,productId:Z,unitPrice:ie.sellingPrice.toString()};console.log("Updated form data:",Y),N(Y)}else console.error("Product not found for ID:",I)},D=I=>{console.log("Customer selected:",I);const Z=parseInt(I),ie=i.find(he=>he.id===Z);console.log("Customer details:",ie);const Y={...v,customerId:Z};console.log("Updated form data:",Y),N(Y)},A=()=>{const I=parseInt(v.quantity)||0,Z=parseFloat(v.unitPrice)||0,ie=parseFloat(v.discount)||0;return I*Z-ie},M=async I=>{if(window.confirm(`Approve sale ${I.saleNumber}? This will deduct ${I.quantity} units from inventory.`))try{const Z={...I,approvalStatus:"approved",status:"completed",approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",Z);const ie=o.find(Y=>Y.id===I.productId);if(ie){const Y={...ie,stockQuantity:(ie.stockQuantity||0)-I.quantity,updatedAt:new Date().toISOString()};await r.updateItem("sofaModels",Y)}alert("Sale approved successfully! Stock has been updated.")}catch(Z){console.error("Error approving sale:",Z),alert("Failed to approve sale. Please try again.")}},z=async I=>{const Z=window.prompt(`Reject sale ${I.saleNumber}? Please enter reason:`);if(Z)try{const ie={...I,approvalStatus:"rejected",status:"rejected",rejectionReason:Z,rejectedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",ie),alert("Sale rejected successfully.")}catch(ie){console.error("Error rejecting sale:",ie),alert("Failed to reject sale. Please try again.")}},B=async I=>{if(I.preventDefault(),console.log("=== SALES FORM SUBMISSION DEBUG ==="),console.log("Form Data:",v),console.log("Customers available:",i.length),console.log("Products available:",o.length),console.log("All customers:",i),console.log("All products:",o),i.length===0){alert("No customers found! Please add customers first from the Customers page.");return}if(o.length===0){alert("No products found! Please add finished products first from the Inventory page.");return}if(!v.customerId||!v.productId){console.error("Missing selection - Customer ID:",v.customerId,"Product ID:",v.productId),alert("Please select both customer and product from the dropdowns");return}try{const Z=i.find(de=>de.id===v.customerId),ie=o.find(de=>de.id===v.productId);if(console.log("Found customer:",Z),console.log("Found product:",ie),!Z||!ie){console.error("Validation failed - Customer found:",!!Z,"Product found:",!!ie),alert(`Invalid selection. Customer: ${Z?"OK":"NOT FOUND"}, Product: ${ie?"OK":"NOT FOUND"}`);return}const Y=parseInt(v.quantity)||1,he=parseFloat(v.unitPrice)||0,L=parseFloat(v.discount)||0,X=A(),H=parseFloat(v.paidAmount)||0,re=X-H,ve=`SAL-${Date.now().toString().slice(-6)}`;if((ie.stockQuantity||0)<Y){alert(`Insufficient stock! Available: ${ie.stockQuantity||0} units, Requested: ${Y} units`);return}let O="unpaid";H>=X?O="paid":H>0&&(O="partial");const ee={saleNumber:ve,customerId:Z.id,customerName:Z.name,customerPhone:Z.phone,productId:ie.id,productName:ie.name,quantity:Y,unitPrice:he,discount:L,subtotal:Y*he,totalAmount:X,paidAmount:H,dueAmount:re,paymentStatus:O,paymentMethod:v.paymentMethod,paymentHistory:[{amount:H,method:v.paymentMethod,date:new Date().toISOString(),note:"Initial payment"}],notes:v.notes,status:"pending",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},oe=await r.addItem("sales",ee);try{await CT(r,ee,Z,ie)}catch(de){console.error("Error sending notification:",de)}alert("Sale recorded successfully! Waiting for admin approval."),R()}catch(Z){console.error("Error recording sale:",Z),alert("Failed to record sale. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales transactions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Total Sales"}),a.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time transactions"})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Today's Sales"}),a.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ve(b)})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:Ve(E)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time revenue"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search sales by number, customer, or product...",value:f,onChange:I=>h(I.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:k,className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]}),w.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(za,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No sales found":"No sales yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first sale to get started"}),!f&&a.jsxs(ce,{onClick:k,children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]})}):a.jsx("div",{className:"space-y-4",children:w.map(I=>a.jsx(ue,{className:"hover:shadow-lg transition-shadow",children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:I.saleNumber}),I.approvalStatus==="pending"&&a.jsx(Ie,{className:"bg-orange-500 text-white",children:"Pending Approval"}),I.approvalStatus==="approved"&&a.jsx(Ie,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}),I.approvalStatus==="rejected"&&a.jsx(Ie,{className:"bg-red-100 text-red-800",children:"Rejected"}),I.paymentStatus==="paid"&&a.jsx(Ie,{className:"bg-green-500 text-white",children:"Paid"}),I.paymentStatus==="partial"&&a.jsx(Ie,{className:"bg-yellow-500 text-white",children:"Partial Payment"}),I.paymentStatus==="unpaid"&&a.jsx(Ie,{className:"bg-red-500 text-white",children:"Unpaid"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:I.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),a.jsx("p",{className:"font-medium",children:I.productName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),a.jsx("p",{className:"font-medium",children:I.quantity})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:Ve(I.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:I.dueAmount>0?Ve(I.dueAmount):"NPR 0"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Payment: ",I.paymentMethod]}),a.jsx("span",{children:""}),a.jsx("span",{children:ls(I.createdAt)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[I.approvalStatus==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>M(I),children:"Approve"}),a.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>z(I),children:"Reject"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>g(I),children:[a.jsx(uf,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})},I.id))}),a.jsx(Xt,{open:p,onOpenChange:x,children:a.jsxs(Kt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"Record New Sale"}),a.jsx(da,{children:"Enter sale details to record a new transaction"})]}),a.jsxs("form",{onSubmit:B,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:((ae=v.customerId)==null?void 0:ae.toString())||"",onValueChange:D,children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select customer"})}),a.jsx(ct,{children:i.map(I=>a.jsx(pe,{value:I.id.toString(),children:I.name},I.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"productId",children:["Product ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:((P=v.productId)==null?void 0:P.toString())||"",onValueChange:T,children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select product"})}),a.jsx(ct,{children:o.map(I=>a.jsxs(pe,{value:I.id.toString(),children:[I.name," - ",Ve(I.sellingPrice)]},I.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"quantity",children:"Quantity"}),a.jsx(ye,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:I=>N({...v,quantity:I.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"unitPrice",children:"Unit Price (NPR)"}),a.jsx(ye,{id:"unitPrice",type:"number",step:"0.01",value:v.unitPrice,onChange:I=>N({...v,unitPrice:I.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"discount",children:"Discount (NPR)"}),a.jsx(ye,{id:"discount",type:"number",step:"0.01",value:v.discount,onChange:I=>N({...v,discount:I.target.value})})]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:Ve(A())})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(rt,{value:v.paymentMethod,onValueChange:I=>N({...v,paymentMethod:I}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"cash",children:"Cash"}),a.jsx(pe,{value:"bank_transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"card",children:"Card"}),a.jsx(pe,{value:"mobile_payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paidAmount",children:"Paid Amount (NPR)"}),a.jsx(ye,{id:"paidAmount",type:"number",step:"0.01",min:"0",placeholder:"Enter amount paid",value:v.paidAmount,onChange:I=>N({...v,paidAmount:I.target.value})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Leave empty or enter 0 for unpaid. Total: ",Ve(A())]})]})]}),v.paidAmount&&parseFloat(v.paidAmount)<A()&&a.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"font-medium text-yellow-800",children:"Due Amount:"}),a.jsx("span",{className:"text-lg font-bold text-yellow-900",children:Ve(A()-parseFloat(v.paidAmount||0))})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"notes",children:"Notes"}),a.jsx(Gt,{id:"notes",value:v.notes,onChange:I=>N({...v,notes:I.target.value}),placeholder:"Add any additional notes",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Record Sale"})]})]})]})}),m&&a.jsx(Xt,{open:!!m,onOpenChange:()=>g(null),children:a.jsxs(Kt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsxs(Wt,{children:["Sale Details - ",m.saleNumber]}),a.jsxs(da,{children:["Recorded on ",ls(m.createdAt)]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{children:"Customer"}),a.jsx("p",{className:"font-medium",children:m.customerName}),a.jsx("p",{className:"text-sm text-gray-500",children:m.customerPhone})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Product"}),a.jsx("p",{className:"font-medium",children:m.productName})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{children:"Quantity"}),a.jsx("p",{className:"font-medium",children:m.quantity})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Unit Price"}),a.jsx("p",{className:"font-medium",children:Ve(m.unitPrice)})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Subtotal"}),a.jsx("p",{className:"font-medium",children:Ve(m.subtotal)})]})]}),m.discount>0&&a.jsxs("div",{children:[a.jsx(W,{children:"Discount"}),a.jsxs("p",{className:"font-medium text-red-600",children:["- ",Ve(m.discount)]})]}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:Ve(m.totalAmount)})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{children:"Paid Amount"}),a.jsx("p",{className:"font-medium text-green-600",children:Ve(m.paidAmount||0)})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Due Amount"}),a.jsx("p",{className:"font-medium text-red-600",children:Ve(m.dueAmount||0)})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Payment Status"}),a.jsxs("div",{children:[m.paymentStatus==="paid"&&a.jsx(Ie,{className:"bg-green-500 text-white",children:"Paid"}),m.paymentStatus==="partial"&&a.jsx(Ie,{className:"bg-yellow-500 text-white",children:"Partial"}),m.paymentStatus==="unpaid"&&a.jsx(Ie,{className:"bg-red-500 text-white",children:"Unpaid"})]})]})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:m.paymentMethod.replace("_"," ")})]}),m.paymentHistory&&m.paymentHistory.length>0&&a.jsxs("div",{children:[a.jsx(W,{children:"Payment History"}),a.jsx("div",{className:"mt-2 space-y-2",children:m.paymentHistory.map((I,Z)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Ve(I.amount)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[I.method.replace("_"," "),"  ",ls(I.date)]}),I.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:I.note})]})},Z))})]}),m.notes&&a.jsxs("div",{children:[a.jsx(W,{children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:m.notes})]})]}),a.jsx(ta,{children:a.jsx(ce,{variant:"outline",onClick:()=>g(null),children:"Close"})})]})})]})}function ET(){const{state:s,actions:r}=wt(),{customers:i,cleaningServices:o,company:d}=s,[f,h]=j.useState(""),[p,x]=j.useState("all"),[m,g]=j.useState(!1),[v,N]=j.useState(null),[w,E]=j.useState({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""}),S=o.filter(P=>{var ie,Y;const I=((ie=P.customerName)==null?void 0:ie.toLowerCase().includes(f.toLowerCase()))||((Y=P.serviceNumber)==null?void 0:Y.toLowerCase().includes(f.toLowerCase())),Z=p==="all"||P.status===p;return I&&Z}),b=S.filter(P=>P.status==="scheduled"),k=S.filter(P=>P.status==="completed"),R=S.filter(P=>P.status==="cancelled"),T=(P=null)=>{P?(N(P),E({customerId:P.customerId,serviceDate:P.serviceDate,serviceTime:P.serviceTime,serviceType:P.serviceType,price:P.price.toString(),address:P.address,notes:P.notes||""})):(N(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})),g(!0)},D=()=>{g(!1),N(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})},A=P=>{const I=i.find(Z=>Z.id===P);I&&I.address?E({...w,customerId:P,address:I.address}):E({...w,customerId:P})},M=async P=>{if(P.preventDefault(),!w.customerId||!w.serviceDate||!w.serviceTime){alert("Please fill in all required fields");return}try{const I=i.find(ie=>ie.id===w.customerId);if(!I){alert("Invalid customer selection");return}const Z={serviceNumber:(v==null?void 0:v.serviceNumber)||`CLN-${Date.now().toString().slice(-6)}`,customerId:I.id,customerName:I.name,customerPhone:I.phone,serviceDate:w.serviceDate,serviceTime:w.serviceTime,serviceType:w.serviceType,price:parseFloat(w.price)||0,address:w.address,notes:w.notes,status:(v==null?void 0:v.status)||"scheduled",createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};v?(await r.updateItem("cleaningServices",{...Z,id:v.id}),alert("Service updated successfully!")):(await r.addItem("cleaningServices",Z),alert("Service scheduled successfully!")),D()}catch(I){console.error("Error saving service:",I),alert("Failed to save service. Please try again.")}},z=async(P,I)=>{if(window.confirm(`Update service status to "${I}"?`))try{const Z={...P,status:I,updatedAt:new Date().toISOString()};await r.updateItem("cleaningServices",Z),alert("Service status updated successfully!")}catch(Z){console.error("Error updating service:",Z),alert("Failed to update service status. Please try again.")}},B=P=>{if(!d){alert("Company information not set up");return}const I=Ew.cleaningReminder(d,P.customerName,P.serviceDate,P.serviceTime),Z=Cw(P.customerPhone,I);window.open(Z,"_blank")},ae=P=>{switch(P){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cleaning Services"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage sofa cleaning appointments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Upcoming"}),a.jsx(Gd,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:b.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled appointments"})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Completed"}),a.jsx(Hr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Services completed"})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ae,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ne,{children:[a.jsx("div",{className:"text-2xl font-bold",children:Ve(o.reduce((P,I)=>P+(I.price||0),0))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"From cleaning services"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search services by number or customer...",value:f,onChange:P=>h(P.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>T(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Schedule Service"]})]}),a.jsxs(ei,{defaultValue:"scheduled",className:"space-y-4",children:[a.jsxs(ti,{className:"grid w-full grid-cols-3",children:[a.jsxs($t,{value:"scheduled",children:["Scheduled",a.jsx(Ie,{variant:"secondary",className:"ml-2",children:b.length})]}),a.jsxs($t,{value:"completed",children:["Completed",a.jsx(Ie,{variant:"secondary",className:"ml-2",children:k.length})]}),a.jsxs($t,{value:"cancelled",children:["Cancelled",a.jsx(Ie,{variant:"secondary",className:"ml-2",children:R.length})]})]}),a.jsx(Qt,{value:"scheduled",children:b.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(rs,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No scheduled services"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(P=>a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Ae,{className:"text-lg",children:P.serviceNumber}),a.jsx(Le,{children:P.customerName})]}),a.jsx(Ie,{className:ae(P.status),children:P.status})]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),a.jsxs("p",{className:"font-medium",children:[ls(P.serviceDate)," at ",P.serviceTime]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:P.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:Ve(P.price)})]}),P.address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"text-sm line-clamp-2",children:P.address})]}),a.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(P),children:[a.jsx(is,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>B(P),children:a.jsx(rS,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>z(P,"completed"),children:a.jsx(Hr,{className:"w-4 h-4"})})]})]})})]},P.id))})}),a.jsx(Qt,{value:"completed",children:k.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Hr,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No completed services"})]})}):a.jsx("div",{className:"space-y-4",children:k.map(P=>a.jsx(ue,{children:a.jsx(Ne,{className:"p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:P.serviceNumber}),a.jsx(Ie,{className:ae(P.status),children:P.status})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),a.jsx("p",{className:"font-medium",children:P.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:ls(P.serviceDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),a.jsx("p",{className:"font-medium capitalize",children:P.serviceType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"font-medium text-green-600",children:Ve(P.price)})]})]})]})})})},P.id))})}),a.jsx(Qt,{value:"cancelled",children:R.length===0?a.jsx(ue,{children:a.jsx(Ne,{className:"flex flex-col items-center justify-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No cancelled services"})})}):a.jsx("div",{className:"space-y-4",children:R.map(P=>a.jsx(ue,{children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold",children:[P.serviceNumber," - ",P.customerName]}),a.jsx("p",{className:"text-sm text-gray-500",children:ls(P.serviceDate)})]}),a.jsx(Ie,{className:ae(P.status),children:P.status})]})})},P.id))})})]}),a.jsx(Xt,{open:m,onOpenChange:g,children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:v?"Edit Service":"Schedule New Service"}),a.jsx(da,{children:v?"Update service appointment details":"Schedule a new cleaning service appointment"})]}),a.jsxs("form",{onSubmit:M,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"customerId",children:["Customer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:w.customerId,onValueChange:A,children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select customer"})}),a.jsx(ct,{children:i.map(P=>a.jsxs(pe,{value:P.id,children:[P.name," - ",P.phone]},P.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"serviceDate",children:["Service Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"serviceDate",type:"date",value:w.serviceDate,onChange:P=>E({...w,serviceDate:P.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"serviceTime",children:["Service Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"serviceTime",type:"time",value:w.serviceTime,onChange:P=>E({...w,serviceTime:P.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"serviceType",children:"Service Type"}),a.jsxs(rt,{value:w.serviceType,onValueChange:P=>E({...w,serviceType:P}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"regular",children:"Regular Cleaning"}),a.jsx(pe,{value:"deep",children:"Deep Cleaning"}),a.jsx(pe,{value:"stain_removal",children:"Stain Removal"}),a.jsx(pe,{value:"maintenance",children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"price",children:"Price (NPR)"}),a.jsx(ye,{id:"price",type:"number",step:"0.01",value:w.price,onChange:P=>E({...w,price:P.target.value}),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"address",children:"Service Address"}),a.jsx(Gt,{id:"address",value:w.address,onChange:P=>E({...w,address:P.target.value}),placeholder:"Enter service address",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"notes",children:"Notes"}),a.jsx(Gt,{id:"notes",value:w.notes,onChange:P=>E({...w,notes:P.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),a.jsx(ce,{type:"submit",children:v?"Update Service":"Schedule Service"})]})]})]})})]})}function _s({className:s,...r}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Ge("w-full caption-bottom text-sm",s),...r})})}function Ps({className:s,...r}){return a.jsx("thead",{"data-slot":"table-header",className:Ge("[&_tr]:border-b",s),...r})}function ks({className:s,...r}){return a.jsx("tbody",{"data-slot":"table-body",className:Ge("[&_tr:last-child]:border-0",s),...r})}function ua({className:s,...r}){return a.jsx("tr",{"data-slot":"table-row",className:Ge("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function Je({className:s,...r}){return a.jsx("th",{"data-slot":"table-head",className:Ge("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function et({className:s,...r}){return a.jsx("td",{"data-slot":"table-cell",className:Ge("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function TT(){const{state:s,actions:r}=wt(),[i,o]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState([]),[x,m]=j.useState(""),[g,v]=j.useState(!1),[N,w]=j.useState(!1),[E,S]=j.useState(!1),[b,k]=j.useState(null),[R,T]=j.useState(null),[D,A]=j.useState({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"}),[M,z]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""}),[B,ae]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""});j.useEffect(()=>{P()},[]);const P=async()=>{try{const[q,fe,se]=await Promise.all([me.getAll("labourers"),me.getAll("attendance"),me.getAll("labourPayments")]);o(q||[]),f(fe||[]),p(se||[])}catch(q){console.error("Error loading labour data:",q)}},I=i.filter(q=>q.name.toLowerCase().includes(x.toLowerCase())||q.phone&&q.phone.includes(x)||q.specialization&&q.specialization.toLowerCase().includes(x.toLowerCase())),Z=(q=null)=>{var fe;q?(k(q),A({name:q.name,phone:q.phone||"",address:q.address||"",dailyWage:((fe=q.dailyWage)==null?void 0:fe.toString())||"",specialization:q.specialization||"Carpenter",joinDate:q.joinDate||new Date().toISOString().split("T")[0],status:q.status||"active"})):(k(null),A({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"})),v(!0)},ie=()=>{v(!1),k(null)},Y=async q=>{if(q.preventDefault(),!D.name||!D.dailyWage){alert("Please fill in required fields (Name and Daily Wage)");return}try{const fe={name:D.name,phone:D.phone,address:D.address,dailyWage:parseFloat(D.dailyWage),specialization:D.specialization,joinDate:D.joinDate,status:D.status,createdAt:(b==null?void 0:b.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};b?(await me.update("labourers",{...fe,id:b.id}),alert("Labourer updated successfully!")):(await me.add("labourers",fe),alert("Labourer added successfully!")),await P(),ie()}catch(fe){console.error("Error saving labourer:",fe),alert("Failed to save labourer. Please try again.")}},he=async q=>{if(window.confirm(`Are you sure you want to delete ${q.name}?`))try{await me.delete("labourers",q.id),alert("Labourer deleted successfully!"),await P()}catch(fe){console.error("Error deleting labourer:",fe),alert("Failed to delete labourer. Please try again.")}},L=(q=null)=>{q?(T(q),z({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})):(T(null),z({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})),w(!0)},X=async q=>{if(q.preventDefault(),!M.labourerId){alert("Please select a labourer");return}try{const fe=i.find(Oe=>Oe.id===parseInt(M.labourerId)),se={labourerId:parseInt(M.labourerId),labourerName:(fe==null?void 0:fe.name)||"",date:M.date,status:M.status,hoursWorked:parseFloat(M.hoursWorked)||0,notes:M.notes,createdAt:new Date().toISOString()};await me.add("attendance",se),alert("Attendance marked successfully!"),await P(),w(!1)}catch(fe){console.error("Error marking attendance:",fe),alert("Failed to mark attendance. Please try again.")}},H=(q=null)=>{var fe;q?(T(q),ae({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],amount:((fe=q.dailyWage)==null?void 0:fe.toString())||"",paymentMethod:"Cash",notes:""})):(T(null),ae({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""})),S(!0)},re=async q=>{if(q.preventDefault(),!B.labourerId||!B.amount){alert("Please fill in required fields");return}try{const fe=i.find(Oe=>Oe.id===parseInt(B.labourerId)),se={labourerId:parseInt(B.labourerId),labourerName:(fe==null?void 0:fe.name)||"",date:B.date,amount:parseFloat(B.amount),paymentMethod:B.paymentMethod,notes:B.notes,createdAt:new Date().toISOString()};await me.add("labourPayments",se),alert("Payment recorded successfully!"),await P(),S(!1)}catch(fe){console.error("Error recording payment:",fe),alert("Failed to record payment. Please try again.")}},ve=i.filter(q=>q.status==="active").length,O=h.reduce((q,fe)=>q+(fe.amount||0),0),ee=h.filter(q=>{const fe=new Date(q.date),se=new Date;return fe.getMonth()===se.getMonth()&&fe.getFullYear()===se.getFullYear()}).reduce((q,fe)=>q+(fe.amount||0),0),de=d.filter(q=>q.date===new Date().toISOString().split("T")[0]).filter(q=>q.status==="present").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Labour Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage labourers, track attendance, and record payments"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Active Labourers"}),a.jsx(Ae,{className:"text-2xl",children:ve})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Present Today"}),a.jsx(Ae,{className:"text-2xl text-green-600",children:de})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"This Month Payments"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",ee.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Payments"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",O.toLocaleString()]})]})})]}),a.jsxs(ei,{defaultValue:"labourers",className:"space-y-4",children:[a.jsxs(ti,{children:[a.jsx($t,{value:"labourers",children:"Labourers"}),a.jsx($t,{value:"attendance",children:"Attendance"}),a.jsx($t,{value:"payments",children:"Payments"})]}),a.jsxs(Qt,{value:"labourers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search labourers...",value:x,onChange:q=>m(q.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>Z(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]}),I.length>0?a.jsx(ue,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Name"}),a.jsx(Je,{children:"Phone"}),a.jsx(Je,{children:"Specialization"}),a.jsx(Je,{children:"Daily Wage"}),a.jsx(Je,{children:"Status"}),a.jsx(Je,{children:"Actions"})]})}),a.jsx(ks,{children:I.map(q=>a.jsxs(ua,{children:[a.jsxs(et,{children:[a.jsx("div",{className:"font-medium",children:q.name}),q.address&&a.jsx("div",{className:"text-sm text-gray-500",children:q.address})]}),a.jsx(et,{children:q.phone}),a.jsx(et,{children:q.specialization}),a.jsxs(et,{className:"font-medium",children:["NPR ",q.dailyWage]}),a.jsx(et,{children:a.jsx(Ie,{variant:q.status==="active"?"success":"default",children:q.status})}),a.jsx(et,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>L(q),title:"Mark Attendance",children:a.jsx($d,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>H(q),title:"Record Payment",children:a.jsx(za,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>Z(q),children:a.jsx(is,{className:"w-4 h-4"})}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>he(q),children:a.jsx(An,{className:"w-4 h-4"})})]})})]},q.id))})]})})}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx($d,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:x?"No labourers found":"No labourers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:x?"Try adjusting your search":"Add your first labourer to get started"}),!x&&a.jsxs(ce,{onClick:()=>Z(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]})})]}),a.jsxs(Qt,{value:"attendance",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:()=>L(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),d.length>0?a.jsx(ue,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Date"}),a.jsx(Je,{children:"Labourer"}),a.jsx(Je,{children:"Status"}),a.jsx(Je,{children:"Hours Worked"}),a.jsx(Je,{children:"Notes"})]})}),a.jsx(ks,{children:d.slice(0,50).map((q,fe)=>a.jsxs(ua,{children:[a.jsx(et,{children:new Date(q.date).toLocaleDateString()}),a.jsx(et,{children:q.labourerName}),a.jsx(et,{children:a.jsx(Ie,{variant:q.status==="present"?"success":q.status==="absent"?"destructive":"warning",children:q.status})}),a.jsxs(et,{children:[q.hoursWorked," hrs"]}),a.jsx(et,{className:"text-sm text-gray-600",children:q.notes})]},fe))})]})})}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(rs,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No attendance records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start marking attendance for your labourers"}),a.jsxs(ce,{onClick:()=>L(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})})]}),a.jsxs(Qt,{value:"payments",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{onClick:()=>H(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Record Payment"]})}),h.length>0?a.jsx(ue,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Date"}),a.jsx(Je,{children:"Labourer"}),a.jsx(Je,{children:"Amount"}),a.jsx(Je,{children:"Payment Method"}),a.jsx(Je,{children:"Notes"})]})}),a.jsx(ks,{children:h.slice(0,50).map((q,fe)=>a.jsxs(ua,{children:[a.jsx(et,{children:new Date(q.date).toLocaleDateString()}),a.jsx(et,{children:q.labourerName}),a.jsxs(et,{className:"font-medium",children:["NPR ",q.amount.toLocaleString()]}),a.jsx(et,{children:q.paymentMethod}),a.jsx(et,{className:"text-sm text-gray-600",children:q.notes})]},fe))})]})})}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(za,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start recording payments for your labourers"}),a.jsxs(ce,{onClick:()=>H(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})})]})]}),a.jsx(Xt,{open:g,onOpenChange:v,children:a.jsxs(Kt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:b?"Edit Labourer":"Add New Labourer"}),a.jsx(da,{children:b?"Update labourer information":"Enter labourer details"})]}),a.jsxs("form",{onSubmit:Y,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"name",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"name",value:D.name,onChange:q=>A({...D,name:q.target.value}),placeholder:"e.g., Ram Bahadur",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"phone",children:"Phone"}),a.jsx(ye,{id:"phone",type:"tel",value:D.phone,onChange:q=>A({...D,phone:q.target.value}),placeholder:"e.g., 9841234567"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"address",children:"Address"}),a.jsx(ye,{id:"address",value:D.address,onChange:q=>A({...D,address:q.target.value}),placeholder:"e.g., Kathmandu"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"specialization",children:"Specialization"}),a.jsxs(rt,{value:D.specialization,onValueChange:q=>A({...D,specialization:q}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Carpenter",children:"Carpenter"}),a.jsx(pe,{value:"Upholsterer",children:"Upholsterer"}),a.jsx(pe,{value:"Painter",children:"Painter"}),a.jsx(pe,{value:"Helper",children:"Helper"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"dailyWage",children:["Daily Wage (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"dailyWage",type:"number",step:"0.01",min:"0",value:D.dailyWage,onChange:q=>A({...D,dailyWage:q.target.value}),placeholder:"e.g., 1500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"joinDate",children:"Join Date"}),a.jsx(ye,{id:"joinDate",type:"date",value:D.joinDate,onChange:q=>A({...D,joinDate:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"status",children:"Status"}),a.jsxs(rt,{value:D.status,onValueChange:q=>A({...D,status:q}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"active",children:"Active"}),a.jsx(pe,{value:"inactive",children:"Inactive"})]})]})]})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:ie,children:"Cancel"}),a.jsx(ce,{type:"submit",children:b?"Update Labourer":"Add Labourer"})]})]})]})}),a.jsx(Xt,{open:N,onOpenChange:w,children:a.jsxs(Kt,{children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"Mark Attendance"}),a.jsx(da,{children:R?`Mark attendance for ${R.name}`:"Select a labourer and mark attendance"})]}),a.jsxs("form",{onSubmit:X,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!R&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"labourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:M.labourerId,onValueChange:q=>z({...M,labourerId:q}),children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select labourer"})}),a.jsx(ct,{children:i.filter(q=>q.status==="active").map(q=>a.jsx(pe,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"attendanceDate",children:"Date"}),a.jsx(ye,{id:"attendanceDate",type:"date",value:M.date,onChange:q=>z({...M,date:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"attendanceStatus",children:"Status"}),a.jsxs(rt,{value:M.status,onValueChange:q=>z({...M,status:q}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"present",children:"Present"}),a.jsx(pe,{value:"absent",children:"Absent"}),a.jsx(pe,{value:"half-day",children:"Half Day"}),a.jsx(pe,{value:"leave",children:"Leave"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"hoursWorked",children:"Hours Worked"}),a.jsx(ye,{id:"hoursWorked",type:"number",step:"0.5",min:"0",max:"24",value:M.hoursWorked,onChange:q=>z({...M,hoursWorked:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"attendanceNotes",children:"Notes"}),a.jsx(Gt,{id:"attendanceNotes",value:M.notes,onChange:q=>z({...M,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Mark Attendance"})]})]})]})}),a.jsx(Xt,{open:E,onOpenChange:S,children:a.jsxs(Kt,{children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:"Record Payment"}),a.jsx(da,{children:R?`Record payment for ${R.name}`:"Select a labourer and record payment"})]}),a.jsxs("form",{onSubmit:re,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[!R&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"paymentLabourerId",children:["Labourer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:B.labourerId,onValueChange:q=>{var se;const fe=i.find(Oe=>Oe.id===parseInt(q));ae({...B,labourerId:q,amount:((se=fe==null?void 0:fe.dailyWage)==null?void 0:se.toString())||""})},children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select labourer"})}),a.jsx(ct,{children:i.filter(q=>q.status==="active").map(q=>a.jsxs(pe,{value:q.id.toString(),children:[q.name," (NPR ",q.dailyWage,"/day)"]},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentDate",children:"Date"}),a.jsx(ye,{id:"paymentDate",type:"date",value:B.date,onChange:q=>ae({...B,date:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"amount",children:["Amount (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"amount",type:"number",step:"0.01",min:"0",value:B.amount,onChange:q=>ae({...B,amount:q.target.value}),placeholder:"e.g., 1500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(rt,{value:B.paymentMethod,onValueChange:q=>ae({...B,paymentMethod:q}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Cash",children:"Cash"}),a.jsx(pe,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"Mobile Payment",children:"Mobile Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentNotes",children:"Notes"}),a.jsx(Gt,{id:"paymentNotes",value:B.notes,onChange:q=>ae({...B,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(ce,{type:"submit",children:"Record Payment"})]})]})]})})]})}function MT(){const{state:s,actions:r}=wt(),{rawMaterials:i=[],sofaModels:o=[]}=s,d=j.useMemo(()=>{const p=i.length,x=i.reduce((w,E)=>{const S=parseFloat(E.quantity)||0,b=parseFloat(E.unitPrice)||0;return w+S*b},0),m=o.length,g=o.reduce((w,E)=>{const S=parseFloat(E.stock)||0,b=parseFloat(E.sellingPrice)||parseFloat(E.basePrice)||0;return w+S*b},0),v=i.filter(w=>{const E=parseFloat(w.quantity)||0,S=parseFloat(w.minStock)||10;return E>0&&E<S}),N=i.filter(w=>(parseFloat(w.quantity)||0)<=0);return[{label:"Raw Materials",count:p,value:` ${x.toLocaleString()}`,color:"bg-blue-500",icon:Sa},{label:"Finished Products",count:m,value:` ${g.toLocaleString()}`,color:"bg-green-500",icon:bN},{label:"Low Stock Items",count:v.length,color:"bg-yellow-500",icon:Hg},{label:"Out of Stock",count:N.length,color:"bg-red-500",icon:Ug}]},[i,o]),f=j.useMemo(()=>{const p=[];return[...i].sort((g,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(g.updatedAt||g.createdAt||0)).slice(0,3).forEach(g=>{p.push({text:`${g.name} - ${g.quantity} ${g.unit||"units"} in stock`,time:g.updatedAt||g.createdAt,color:"bg-green-500"})}),[...o].sort((g,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(g.updatedAt||g.createdAt||0)).slice(0,2).forEach(g=>{p.push({text:`${g.name} - ${g.stock||0} units in stock`,time:g.updatedAt||g.createdAt,color:"bg-blue-500"})}),i.filter(g=>{const v=parseFloat(g.quantity)||0,N=parseFloat(g.minStock)||10;return v>0&&v<N}).slice(0,2).forEach(g=>{p.push({text:`Low stock alert: ${g.name}`,time:new Date().toISOString(),color:"bg-yellow-500"})}),p.slice(0,5)},[i,o]),h=p=>{if(!p)return"Recently";const x=new Date(p),g=new Date-x,v=Math.floor(g/6e4),N=Math.floor(g/36e5),w=Math.floor(g/864e5);return v<60?`${v} minutes ago`:N<24?`${N} hours ago`:`${w} days ago`};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Overview of raw materials and finished products inventory"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((p,x)=>{const m=p.icon;return a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.count}),p.value&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.value})]}),a.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:a.jsx(m,{className:"w-6 h-6 text-white"})})]})},x)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>r.setCurrentView("raw-materials"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Raw Materials"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("finished-products"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"Manage Finished Products"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("button",{onClick:()=>r.setCurrentView("suppliers"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:"View Suppliers"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((p,x)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`w-2 h-2 ${p.color} rounded-full mt-2 mr-3`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:p.text}),a.jsx("p",{className:"text-xs text-gray-500",children:h(p.time)})]})]},x))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add raw materials or products to see activity here"})]})]})]})]})}function DT(){const{state:s,actions:r}=wt(),{rawMaterials:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,x]=j.useState(null),[m,g]=j.useState({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""}),v=i.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.category&&T.category.toLowerCase().includes(o.toLowerCase())||T.supplier&&T.supplier.toLowerCase().includes(o.toLowerCase())),N=(T,D)=>{const A=parseFloat(T)||0,M=parseFloat(D)||0;return A===0?{label:"Out of Stock",variant:"destructive"}:A<=M?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"}},w=(T=null)=>{var D,A,M;T?(x(T),g({name:T.name,category:T.category||"Wood",quantity:((D=T.quantity)==null?void 0:D.toString())||"",unit:T.unit||"meters",pricePerUnit:((A=T.pricePerUnit)==null?void 0:A.toString())||"",minStock:((M=T.minStock)==null?void 0:M.toString())||"",supplier:T.supplier||"",description:T.description||""})):(x(null),g({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})),h(!0)},E=()=>{h(!1),x(null),g({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})},S=async T=>{if(T.preventDefault(),!m.name||!m.quantity||!m.pricePerUnit){alert("Please fill in required fields (Name, Quantity, Price)");return}try{const D={name:m.name,category:m.category,quantity:parseFloat(m.quantity),unit:m.unit,pricePerUnit:parseFloat(m.pricePerUnit),minStock:parseFloat(m.minStock)||0,supplier:m.supplier,description:m.description,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("rawMaterials",{...D,id:p.id}),alert("Material updated successfully!")):(await r.addItem("rawMaterials",D),alert("Material added successfully!")),E()}catch(D){console.error("Error saving material:",D),alert("Failed to save material. Please try again.")}},b=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}?`))try{await r.deleteItem("rawMaterials",T.id),alert("Material deleted successfully!")}catch(D){console.error("Error deleting material:",D),alert("Failed to delete material. Please try again.")}},k=i.reduce((T,D)=>T+(D.quantity||0)*(D.pricePerUnit||0),0),R=i.filter(T=>{const D=parseFloat(T.quantity)||0,A=parseFloat(T.minStock)||0;return D<=A}).length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Raw Materials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage raw materials inventory"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Materials"}),a.jsx(Ae,{className:"text-2xl",children:i.length})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Inventory Value"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",k.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Low Stock Items"}),a.jsx(Ae,{className:"text-2xl text-orange-600",children:R})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search materials...",value:o,onChange:T=>d(T.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>w(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Material"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(T=>{const D=N(T.quantity,T.minStock),A=(T.quantity||0)*(T.pricePerUnit||0);return a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ce,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ae,{className:"text-lg",children:T.name}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[T.category&&a.jsx(Ie,{variant:"outline",children:T.category}),a.jsx(Ie,{variant:D.variant,children:D.label})]})]})})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium",children:[T.quantity," ",T.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Price/Unit:"}),a.jsxs("span",{className:"font-medium",children:["NPR ",(T.pricePerUnit||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Min Stock:"}),a.jsxs("span",{className:"font-medium",children:[T.minStock||0," ",T.unit]})]}),a.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Value:"}),a.jsxs("span",{className:"font-semibold",children:["NPR ",A.toLocaleString()]})]}),T.purchaseDate&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Purchased: ",new Date(T.purchaseDate).toLocaleDateString()]}),(T.supplier||T.supplierName)&&a.jsxs("div",{className:"text-sm text-gray-600 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Supplier:"})," ",T.supplier||T.supplierName]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>w(T),children:[a.jsx(is,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>b(T),children:a.jsx(An,{className:"w-3 h-3"})})]})]})]},T.id)})}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Sa,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No materials found":"No materials yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first material to get started"}),!o&&a.jsxs(ce,{onClick:()=>w(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Material"]})]})}),a.jsx(Xt,{open:f,onOpenChange:h,children:a.jsxs(Kt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:p?"Edit Material":"Add New Material"}),a.jsx(da,{children:p?"Update material information below":"Enter material details to add to your inventory"})]}),a.jsxs("form",{onSubmit:S,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"name",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"name",value:m.name,onChange:T=>g({...m,name:T.target.value}),placeholder:"e.g., Teak Wood",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"category",children:"Category"}),a.jsxs(rt,{value:m.category,onValueChange:T=>g({...m,category:T}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Wood",children:"Wood"}),a.jsx(pe,{value:"Fabric",children:"Fabric"}),a.jsx(pe,{value:"Foam",children:"Foam"}),a.jsx(pe,{value:"Hardware",children:"Hardware"}),a.jsx(pe,{value:"Cushioning",children:"Cushioning"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"quantity",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"quantity",type:"number",step:"0.01",min:"0",value:m.quantity,onChange:T=>g({...m,quantity:T.target.value}),placeholder:"e.g., 150",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"unit",children:"Unit"}),a.jsxs(rt,{value:m.unit,onValueChange:T=>g({...m,unit:T}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"meters",children:"meters"}),a.jsx(pe,{value:"pieces",children:"pieces"}),a.jsx(pe,{value:"sheets",children:"sheets"}),a.jsx(pe,{value:"kg",children:"kg"}),a.jsx(pe,{value:"liters",children:"liters"}),a.jsx(pe,{value:"boxes",children:"boxes"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"pricePerUnit",children:["Price per Unit (NPR) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:m.pricePerUnit,onChange:T=>g({...m,pricePerUnit:T.target.value}),placeholder:"e.g., 800",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"minStock",children:"Minimum Stock Level"}),a.jsx(ye,{id:"minStock",type:"number",step:"0.01",min:"0",value:m.minStock,onChange:T=>g({...m,minStock:T.target.value}),placeholder:"e.g., 50"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"supplier",children:"Supplier"}),a.jsx(ye,{id:"supplier",value:m.supplier,onChange:T=>g({...m,supplier:T.target.value}),placeholder:"e.g., Timber Traders Ltd"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"description",children:"Description"}),a.jsx(ye,{id:"description",value:m.description,onChange:T=>g({...m,description:T.target.value}),placeholder:"Additional notes about this material"})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Material":"Add Material"})]})]})]})})]})}function RT(){const{state:s,actions:r}=wt(),{suppliers:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,x]=j.useState(null),[m,g]=j.useState({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""}),v=i.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.contactPerson&&b.contactPerson.toLowerCase().includes(o.toLowerCase())||b.category&&b.category.toLowerCase().includes(o.toLowerCase())),N=(b=null)=>{b?(x(b),g({name:b.name,contactPerson:b.contactPerson||"",phone:b.phone||"",email:b.email||"",address:b.address||"",category:b.category||"Wood",notes:b.notes||""})):(x(null),g({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})),h(!0)},w=()=>{h(!1),x(null),g({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})},E=async b=>{if(b.preventDefault(),!m.name||!m.phone){alert("Please fill in required fields (Name and Phone)");return}try{const k={name:m.name,contactPerson:m.contactPerson,phone:m.phone,email:m.email,address:m.address,category:m.category,notes:m.notes,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("suppliers",{...k,id:p.id}),alert("Supplier updated successfully!")):(await r.addItem("suppliers",k),alert("Supplier added successfully!")),w()}catch(k){console.error("Error saving supplier:",k),alert("Failed to save supplier. Please try again.")}},S=async b=>{if(window.confirm(`Are you sure you want to delete ${b.name}?`))try{await r.deleteItem("suppliers",b.id),alert("Supplier deleted successfully!")}catch(k){console.error("Error deleting supplier:",k),alert("Failed to delete supplier. Please try again.")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your supplier relationships and contacts"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(ye,{type:"text",placeholder:"Search suppliers...",value:o,onChange:b=>d(b.target.value),className:"pl-10"})]}),a.jsxs(ce,{onClick:()=>N(),className:"whitespace-nowrap",children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(b=>a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ce,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ae,{className:"text-lg",children:b.name}),b.category&&a.jsx(Ie,{variant:"outline",className:"mt-2",children:b.category})]})})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[b.contactPerson&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Po,{className:"w-4 h-4 mr-2 text-gray-400"}),b.contactPerson]}),b.phone&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bg,{className:"w-4 h-4 mr-2 text-gray-400"}),b.phone]}),b.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2 text-gray-400"}),b.email]}),b.address&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{className:"line-clamp-2",children:b.address})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>N(b),children:[a.jsx(is,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>S(b),children:a.jsx(An,{className:"w-3 h-3"})})]})]})]},b.id))}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Po,{className:"w-16 h-16 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No suppliers found":"No suppliers yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first supplier to get started"}),!o&&a.jsxs(ce,{onClick:()=>N(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})}),a.jsx(Xt,{open:f,onOpenChange:h,children:a.jsxs(Kt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:p?"Edit Supplier":"Add New Supplier"}),a.jsx(da,{children:p?"Update supplier information below":"Enter supplier details to add them to your database"})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"name",children:["Company Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"name",value:m.name,onChange:b=>g({...m,name:b.target.value}),placeholder:"e.g., Timber Traders Ltd",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"contactPerson",children:"Contact Person"}),a.jsx(ye,{id:"contactPerson",value:m.contactPerson,onChange:b=>g({...m,contactPerson:b.target.value}),placeholder:"e.g., Ram Kumar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"phone",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"phone",type:"tel",value:m.phone,onChange:b=>g({...m,phone:b.target.value}),placeholder:"e.g., 9841111111",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"email",children:"Email"}),a.jsx(ye,{id:"email",type:"email",value:m.email,onChange:b=>g({...m,email:b.target.value}),placeholder:"e.g., supplier@example.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"category",children:"Category"}),a.jsxs(rt,{value:m.category,onValueChange:b=>g({...m,category:b}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Wood",children:"Wood"}),a.jsx(pe,{value:"Fabric",children:"Fabric"}),a.jsx(pe,{value:"Foam",children:"Foam"}),a.jsx(pe,{value:"Hardware",children:"Hardware"}),a.jsx(pe,{value:"Cushioning",children:"Cushioning"}),a.jsx(pe,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"address",children:"Address"}),a.jsx(Gt,{id:"address",value:m.address,onChange:b=>g({...m,address:b.target.value}),placeholder:"Enter supplier address",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"notes",children:"Notes"}),a.jsx(Gt,{id:"notes",value:m.notes,onChange:b=>g({...m,notes:b.target.value}),placeholder:"Additional notes about this supplier",rows:3})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),a.jsx(ce,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})]})})]})}const OT=[{value:"pieces",label:"Pieces"},{value:"meters",label:"Meters"},{value:"feet",label:"Feet"},{value:"sqft",label:"Square Feet (sqft)"},{value:"sqm",label:"Square Meters (sqm)"},{value:"cuft",label:"Cubic Feet (cuft)"},{value:"cum",label:"Cubic Meters (cum)"},{value:"kg",label:"Kilograms (kg)"},{value:"grams",label:"Grams (g)"},{value:"lbs",label:"Pounds (lbs)"},{value:"liters",label:"Liters (L)"},{value:"gallons",label:"Gallons"},{value:"ml",label:"Milliliters (ml)"},{value:"yards",label:"Yards"},{value:"inches",label:"Inches"},{value:"cm",label:"Centimeters (cm)"},{value:"sheets",label:"Sheets"},{value:"rolls",label:"Rolls"},{value:"bundles",label:"Bundles"},{value:"sets",label:"Sets"},{value:"pairs",label:"Pairs"},{value:"boxes",label:"Boxes"},{value:"cartons",label:"Cartons"},{value:"bags",label:"Bags"},{value:"packets",label:"Packets"},{value:"bottles",label:"Bottles"},{value:"cans",label:"Cans"},{value:"units",label:"Units"}],_T=["General","Wood","Fabric","Foam","Metal","Hardware","Adhesive","Finishing","Leather","Springs","Webbing","Thread","Zipper","Cushion","Packaging","Other"],To={materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:""};function PT(){var q,fe,se,Oe;const{state:s,actions:r}=wt(),{purchases:i=[],suppliers:o=[],rawMaterials:d=[]}=s,[f,h]=j.useState(""),[p,x]=j.useState(!1),[m,g]=j.useState(!1),[v,N]=j.useState(null),[w,E]=j.useState(null),[S,b]=j.useState(null),[k,R]=j.useState(null),T=j.useRef(null),[D,A]=j.useState([{...To}]),[M,z]=j.useState({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),B=d.map(G=>G.name),ae=i.filter(G=>G.supplierName&&G.supplierName.toLowerCase().includes(f.toLowerCase())||G.materialName&&G.materialName.toLowerCase().includes(f.toLowerCase())||G.items&&G.items.some(xe=>{var be;return(be=xe.materialName)==null?void 0:be.toLowerCase().includes(f.toLowerCase())})||G.paymentMethod&&G.paymentMethod.toLowerCase().includes(f.toLowerCase())),P=G=>{switch(G){case"Paid":return"success";case"Partial":return"warning";case"Unpaid":return"destructive";default:return"default"}},I=()=>D.reduce((G,xe)=>G+(parseFloat(xe.totalAmount)||0),0),Z=(G=null)=>{var xe,be,Me,mt;G?(N(G),z({date:G.date,supplierId:((xe=G.supplierId)==null?void 0:xe.toString())||"",paymentMethod:G.paymentMethod||"Cash",paymentStatus:G.paymentStatus||"Paid",notes:G.notes||""}),G.items&&G.items.length>0?A(G.items.map(Ze=>{var gt,Ct,vt;return{materialName:Ze.materialName||"",materialCategory:Ze.materialCategory||"General",unit:Ze.unit||"pieces",quantity:((gt=Ze.quantity)==null?void 0:gt.toString())||"",pricePerUnit:((Ct=Ze.pricePerUnit)==null?void 0:Ct.toString())||"",totalAmount:((vt=Ze.totalAmount)==null?void 0:vt.toString())||""}})):A([{materialName:G.materialName||"",materialCategory:G.materialCategory||"General",unit:G.unit||"pieces",quantity:((be=G.quantity)==null?void 0:be.toString())||"",pricePerUnit:((Me=G.pricePerUnit)==null?void 0:Me.toString())||"",totalAmount:((mt=G.totalAmount)==null?void 0:mt.toString())||""}]),G.invoiceData&&(R(G.invoiceData),b({name:G.invoiceFileName||"Invoice",type:G.invoiceType}))):(N(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...To}]),b(null),R(null)),x(!0)},ie=()=>{x(!1),N(null),b(null),R(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...To}])},Y=()=>{A([...D,{...To}])},he=G=>{D.length>1&&A(D.filter((xe,be)=>be!==G))},L=(G,xe,be)=>{var mt,Ze;const Me=[...D];if(Me[G]={...Me[G],[xe]:be},xe==="materialName"){const gt=d.find(Ct=>Ct.name.toLowerCase()===be.toLowerCase());gt&&(Me[G].unit=gt.unit||"pieces",Me[G].materialCategory=gt.category||"General",Me[G].pricePerUnit=((mt=gt.unitPrice)==null?void 0:mt.toString())||((Ze=gt.pricePerUnit)==null?void 0:Ze.toString())||"")}if(xe==="quantity"||xe==="pricePerUnit"){const gt=parseFloat(xe==="quantity"?be:Me[G].quantity),Ct=parseFloat(xe==="pricePerUnit"?be:Me[G].pricePerUnit);!isNaN(gt)&&!isNaN(Ct)&&(Me[G].totalAmount=(gt*Ct).toString())}A(Me)},X=G=>{const xe=G.target.files[0];if(!xe)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/webp"].includes(xe.type)){alert("Please upload a PDF or image file (JPEG, PNG, WebP)");return}if(xe.size>5*1024*1024){alert("File size must be less than 5MB");return}b(xe);const Me=new FileReader;Me.onloadend=()=>{R(Me.result)},Me.readAsDataURL(xe)},H=()=>{b(null),R(null),T.current&&(T.current.value="")},re=async G=>{var xe,be,Me,mt,Ze,gt,Ct;if(G.preventDefault(),!M.supplierId){alert("Please select a supplier");return}for(let vt=0;vt<D.length;vt++){const fa=D[vt];if(!fa.materialName||!fa.quantity||!fa.pricePerUnit){alert(`Please fill in all required fields for item ${vt+1}`);return}}try{const vt=o.find(ge=>ge.id===parseInt(M.supplierId));if(!vt){alert("Invalid supplier selected");return}const fa=I(),V=D.map(ge=>({materialName:ge.materialName,materialCategory:ge.materialCategory,unit:ge.unit,quantity:parseFloat(ge.quantity),pricePerUnit:parseFloat(ge.pricePerUnit),totalAmount:parseFloat(ge.totalAmount)})),je={date:M.date,supplierId:parseInt(M.supplierId),supplierName:vt.name,items:V,materialName:((xe=V[0])==null?void 0:xe.materialName)||"",materialCategory:((be=V[0])==null?void 0:be.materialCategory)||"General",unit:((Me=V[0])==null?void 0:Me.unit)||"pieces",quantity:((mt=V[0])==null?void 0:mt.quantity)||0,pricePerUnit:((Ze=V[0])==null?void 0:Ze.pricePerUnit)||0,totalAmount:fa,itemCount:V.length,paymentMethod:M.paymentMethod,paymentStatus:M.paymentStatus,notes:M.notes,invoiceData:k||null,invoiceFileName:(S==null?void 0:S.name)||null,invoiceType:(S==null?void 0:S.type)||null,createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};if(v){await r.updateItem("purchases",{...je,id:v.id});for(const ge of V){const ze=d.find(We=>We.name.toLowerCase()===ge.materialName.toLowerCase());if(ze){const We=((gt=v.items)==null?void 0:gt.find(Ia=>{var $a;return(($a=Ia.materialName)==null?void 0:$a.toLowerCase())===ge.materialName.toLowerCase()}))||(((Ct=v.materialName)==null?void 0:Ct.toLowerCase())===ge.materialName.toLowerCase()?v:null),lt=(We==null?void 0:We.quantity)||0,Lt=ge.quantity-lt,zt={...ze,quantity:(parseFloat(ze.quantity)||0)+Lt,pricePerUnit:ge.pricePerUnit};await r.updateItem("rawMaterials",zt)}}alert("Purchase updated successfully!")}else{await r.addItem("purchases",je);for(const ge of V){const ze=d.find(We=>We.name.toLowerCase()===ge.materialName.toLowerCase()&&parseFloat(We.pricePerUnit)===parseFloat(ge.pricePerUnit));if(ze){const We={...ze,quantity:(parseFloat(ze.quantity)||0)+ge.quantity,lastPurchaseDate:M.date,updatedAt:new Date().toISOString()};await r.updateItem("rawMaterials",We)}else{const We={name:ge.materialName,category:ge.materialCategory,unit:ge.unit,quantity:ge.quantity,pricePerUnit:ge.pricePerUnit,purchaseDate:M.date,minStock:10,supplierId:parseInt(M.supplierId),supplierName:vt.name,description:`Purchased on ${M.date} @ NPR ${ge.pricePerUnit}/${ge.unit}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("rawMaterials",We)}}alert(`Purchase recorded! ${V.length} item(s) added to inventory.`)}ie()}catch(vt){console.error("Error saving purchase:",vt),alert("Failed to save purchase. Please try again.")}},ve=async G=>{if(confirm("Are you sure you want to delete this purchase? This will NOT reverse the inventory changes."))try{await r.deleteItem("purchases",G.id),alert("Purchase deleted successfully")}catch(xe){console.error("Error deleting purchase:",xe),alert("Failed to delete purchase")}},O=G=>{E(G),g(!0)},ee=i.length,oe=i.reduce((G,xe)=>G+(parseFloat(xe.totalAmount)||0),0),de=i.filter(G=>G.paymentStatus==="Unpaid"||G.paymentStatus==="Partial").reduce((G,xe)=>G+(parseFloat(xe.totalAmount)||0),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),a.jsx("p",{className:"text-gray-600",children:"Track purchase orders and manage inventory"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"* Purchases automatically update raw material inventory"})]}),a.jsxs(ce,{onClick:()=>Z(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),a.jsx("p",{className:"text-2xl font-bold",children:ee})]}),a.jsx(Sa,{className:"w-8 h-8 text-blue-500"})]})})}),a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),a.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",oe.toLocaleString()]})]}),a.jsx(za,{className:"w-8 h-8 text-green-500"})]})})}),a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["NPR ",de.toLocaleString()]})]}),a.jsx(rs,{className:"w-8 h-8 text-red-500"})]})})})]}),a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ye,{type:"text",placeholder:"Search purchases...",value:f,onChange:G=>h(G.target.value),className:"pl-10"})]}),ae.length>0?a.jsx(ue,{children:a.jsx(Ne,{className:"p-0",children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Date"}),a.jsx(Je,{children:"Supplier"}),a.jsx(Je,{children:"Items"}),a.jsx(Je,{className:"text-right",children:"Total Amount"}),a.jsx(Je,{children:"Payment"}),a.jsx(Je,{children:"Invoice"}),a.jsx(Je,{className:"text-right",children:"Actions"})]})}),a.jsx(ks,{children:ae.map(G=>a.jsxs(ua,{children:[a.jsx(et,{children:new Date(G.date).toLocaleDateString()}),a.jsx(et,{className:"font-medium",children:G.supplierName}),a.jsx(et,{children:G.items&&G.items.length>1?a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[G.items.length," items"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[G.items.map(xe=>xe.materialName).join(", ").substring(0,30),"..."]})]}):a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:G.materialName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[G.quantity," ",G.unit]})]})}),a.jsxs(et,{className:"text-right font-medium",children:["NPR ",(G.totalAmount||0).toLocaleString()]}),a.jsx(et,{children:a.jsx(Ie,{variant:P(G.paymentStatus),children:G.paymentStatus})}),a.jsx(et,{children:G.invoiceData?a.jsxs(Ie,{variant:"outline",className:"text-green-600",children:[a.jsx(Od,{className:"w-3 h-3 mr-1"}),"Attached"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),a.jsx(et,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>O(G),children:a.jsx(uf,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>Z(G),children:a.jsx(is,{className:"w-4 h-4"})}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>ve(G),className:"text-red-600 hover:text-red-700",children:a.jsx(An,{className:"w-4 h-4"})})]})})]},G.id))})]})})}):a.jsx(ue,{children:a.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Sa,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No purchases found":"No purchases yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first purchase to get started"}),!f&&a.jsxs(ce,{onClick:()=>Z(),children:[a.jsx(St,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]})}),a.jsx(Xt,{open:p,onOpenChange:x,children:a.jsxs(Kt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Zt,{children:[a.jsx(Wt,{children:v?"Edit Purchase":"New Purchase"}),a.jsx(da,{children:v?"Update purchase details below":"Record a new purchase with multiple items - inventory will be updated automatically"})]}),a.jsxs("form",{onSubmit:re,children:[a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"date",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{id:"date",type:"date",value:M.date,onChange:G=>z({...M,date:G.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{htmlFor:"supplier",children:["Supplier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(rt,{value:M.supplierId,onValueChange:G=>z({...M,supplierId:G}),children:[a.jsx(ot,{children:a.jsx(it,{placeholder:"Select supplier"})}),a.jsx(ct,{children:o.map(G=>a.jsx(pe,{value:G.id.toString(),children:G.name},G.id))})]})]})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(W,{className:"text-base font-semibold",children:"Purchase Items"}),a.jsxs(ce,{type:"button",variant:"outline",size:"sm",onClick:Y,children:[a.jsx(St,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),D.map((G,xe)=>a.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Item ",xe+1]}),D.length>1&&a.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>he(xe),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:a.jsx(Os,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(W,{className:"text-xs",children:["Material Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{type:"text",value:G.materialName,onChange:be=>L(xe,"materialName",be.target.value),placeholder:"Enter material name",list:`material-suggestions-${xe}`,required:!0}),a.jsx("datalist",{id:`material-suggestions-${xe}`,children:B.map((be,Me)=>a.jsx("option",{value:be},Me))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(W,{className:"text-xs",children:"Category"}),a.jsxs(rt,{value:G.materialCategory,onValueChange:be=>L(xe,"materialCategory",be),children:[a.jsx(ot,{className:"h-9",children:a.jsx(it,{})}),a.jsx(ct,{children:_T.map(be=>a.jsx(pe,{value:be,children:be},be))})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(W,{className:"text-xs",children:"Unit"}),a.jsxs(rt,{value:G.unit,onValueChange:be=>L(xe,"unit",be),children:[a.jsx(ot,{className:"h-9",children:a.jsx(it,{})}),a.jsx(ct,{children:OT.map(be=>a.jsx(pe,{value:be.value,children:be.label},be.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(W,{className:"text-xs",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{type:"number",step:"0.01",min:"0",value:G.quantity,onChange:be=>L(xe,"quantity",be.target.value),placeholder:"Qty",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(W,{className:"text-xs",children:["Price/Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ye,{type:"number",step:"0.01",min:"0",value:G.pricePerUnit,onChange:be=>L(xe,"pricePerUnit",be.target.value),placeholder:"Price",className:"h-9",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(W,{className:"text-xs",children:"Total"}),a.jsx(ye,{type:"number",value:G.totalAmount,readOnly:!0,className:"h-9 bg-gray-100"})]})]})]},xe)),a.jsxs("div",{className:"flex justify-end items-center pt-2 border-t",children:[a.jsx("span",{className:"text-sm font-medium mr-4",children:"Grand Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["NPR ",I().toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(rt,{value:M.paymentMethod,onValueChange:G=>z({...M,paymentMethod:G}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Cash",children:"Cash"}),a.jsx(pe,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(pe,{value:"Card",children:"Card"}),a.jsx(pe,{value:"Mobile Payment",children:"Mobile Payment"}),a.jsx(pe,{value:"Credit",children:"Credit"}),a.jsx(pe,{value:"Cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"paymentStatus",children:"Payment Status"}),a.jsxs(rt,{value:M.paymentStatus,onValueChange:G=>z({...M,paymentStatus:G}),children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"Paid",children:"Paid"}),a.jsx(pe,{value:"Partial",children:"Partial"}),a.jsx(pe,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Invoice / Bill (PDF or Image)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[k?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[(q=S==null?void 0:S.type)!=null&&q.includes("pdf")?a.jsx(Od,{className:"w-8 h-8 text-red-500"}):a.jsx(eS,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(S==null?void 0:S.name)||"Invoice"}),a.jsx("p",{className:"text-xs text-gray-500",children:(fe=S==null?void 0:S.type)!=null&&fe.includes("pdf")?"PDF Document":"Image"})]})]}),a.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:H,className:"text-red-600",children:a.jsx(Os,{className:"w-4 h-4"})})]}),k&&!((se=S==null?void 0:S.type)!=null&&se.includes("pdf"))&&a.jsx("img",{src:k,alt:"Invoice preview",className:"max-h-40 rounded border"})]}):a.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>{var G;return(G=T.current)==null?void 0:G.click()},children:[a.jsx(CS,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload invoice"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPEG, PNG (max 5MB)"})]}),a.jsx("input",{ref:T,type:"file",accept:".pdf,image/jpeg,image/png,image/jpg,image/webp",onChange:X,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"notes",children:"Notes"}),a.jsx(Gt,{id:"notes",value:M.notes,onChange:G=>z({...M,notes:G.target.value}),placeholder:"Additional notes about this purchase",rows:2})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{type:"button",variant:"outline",onClick:ie,children:"Cancel"}),a.jsx(ce,{type:"submit",children:v?"Update Purchase":"Record Purchase"})]})]})]})}),a.jsx(Xt,{open:m,onOpenChange:g,children:a.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Zt,{children:a.jsx(Wt,{children:"Purchase Details"})}),w&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:new Date(w.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Supplier"}),a.jsx("p",{className:"font-medium",children:w.supplierName})]})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx(W,{className:"text-gray-500 mb-2 block",children:"Items"}),w.items&&w.items.length>0?a.jsx("div",{className:"space-y-2",children:w.items.map((G,xe)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:G.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[G.quantity," ",G.unit,"  NPR ",G.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(G.totalAmount||0).toLocaleString()]})]},xe))}):a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:w.materialName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.quantity," ",w.unit,"  NPR ",w.pricePerUnit]})]}),a.jsxs("p",{className:"font-medium",children:["NPR ",(w.totalAmount||0).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("span",{className:"font-medium",children:"Total Amount"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["NPR ",(w.totalAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Payment Method"}),a.jsx("p",{className:"font-medium",children:w.paymentMethod})]}),a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Payment Status"}),a.jsx(Ie,{variant:P(w.paymentStatus),children:w.paymentStatus})]})]}),w.notes&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Notes"}),a.jsx("p",{className:"text-gray-700",children:w.notes})]}),w.invoiceData&&a.jsxs("div",{children:[a.jsx(W,{className:"text-gray-500",children:"Invoice"}),a.jsx("div",{className:"mt-2 border rounded-lg p-3",children:(Oe=w.invoiceType)!=null&&Oe.includes("pdf")?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Od,{className:"w-8 h-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:w.invoiceFileName||"Invoice.pdf"}),a.jsx("a",{href:w.invoiceData,download:w.invoiceFileName||"invoice.pdf",className:"text-sm text-blue-600 hover:underline",children:"Download PDF"})]})]}):a.jsx("img",{src:w.invoiceData,alt:"Invoice",className:"max-h-64 rounded cursor-pointer",onClick:()=>window.open(w.invoiceData,"_blank")})})]})]}),a.jsxs(ta,{children:[a.jsx(ce,{variant:"outline",onClick:()=>g(!1),children:"Close"}),a.jsxs(ce,{onClick:()=>{g(!1),Z(w)},children:[a.jsx(is,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})]})}function kT(){const{state:s,actions:r}=wt(),[i,o]=j.useState("month"),[d,f]=j.useState([]),[h,p]=j.useState([]),[x,m]=j.useState([]),[g,v]=j.useState([]);j.useEffect(()=>{N()},[r]);const N=async()=>{try{console.log("Financials: Loading data...");const Y=await(r.getAllSales?r.getAllSales():me.getAll("sales")).catch(H=>(console.warn("Failed to load sales:",H),[])),he=await me.getAll("purchases").catch(H=>(console.warn("Failed to load purchases:",H),[])),L=await me.getAll("labourPayments").catch(H=>(console.warn("Failed to load labour payments (table may not exist yet):",H.message),[])),X=await me.getAll("cleaningServices").catch(H=>(console.warn("Failed to load cleaning services:",H),[]));console.log("Financials: Loaded sales:",(Y==null?void 0:Y.length)||0),console.log("Financials: Loaded purchases:",(he==null?void 0:he.length)||0),console.log("Financials: Loaded labour:",(L==null?void 0:L.length)||0),console.log("Financials: Loaded cleaning:",(X==null?void 0:X.length)||0),f(Y||[]),p(he||[]),m(L||[]),v(X||[])}catch(Y){console.error("Error loading financial data:",Y)}},w=(Y,he="date")=>{const L=new Date,X=new Date;switch(i){case"week":X.setDate(L.getDate()-L.getDay()),X.setHours(0,0,0,0);break;case"month":X.setDate(1),X.setHours(0,0,0,0);break;case"quarter":const H=L.getMonth(),re=Math.floor(H/3)*3;X.setMonth(re),X.setDate(1),X.setHours(0,0,0,0);break;case"year":X.setMonth(0),X.setDate(1),X.setHours(0,0,0,0);break;default:X.setDate(1),X.setHours(0,0,0,0)}return Y.filter(H=>{if(!H[he])return!1;const re=new Date(H[he]);return isNaN(re.getTime())?!1:re>=X&&re<=L})},E=w(d.filter(Y=>Y.approvalStatus==="approved")),S=w(g.filter(Y=>Y.status==="completed")),b=E.reduce((Y,he)=>Y+(he.totalAmount||0),0),k=S.reduce((Y,he)=>Y+(he.price||0),0),R=b+k,T=w(h),D=w(x),A=T.reduce((Y,he)=>Y+(he.totalAmount||0),0),M=D.reduce((Y,he)=>Y+(he.amount||0),0),z=A+M,B=R-z,ae=R>0?(B/R*100).toFixed(1):0,P=[{category:"Raw Materials",amount:A,percentage:z>0?(A/z*100).toFixed(1):0,color:"bg-blue-600"},{category:"Labour Costs",amount:M,percentage:z>0?(M/z*100).toFixed(1):0,color:"bg-green-600"}],I=[{category:"Sales",amount:b,percentage:R>0?(b/R*100).toFixed(1):0,color:"bg-purple-600"},{category:"Cleaning Services",amount:k,percentage:R>0?(k/R*100).toFixed(1):0,color:"bg-orange-600"}],Z=[...E.map(Y=>({id:`sale-${Y.id}`,date:Y.date,type:"income",description:`Sale to ${Y.customerName} - ${Y.productName}`,amount:Y.totalAmount})),...S.map(Y=>({id:`cleaning-${Y.id}`,date:Y.date,type:"income",description:`Cleaning Service - ${Y.customerName}`,amount:Y.price})),...T.map(Y=>({id:`purchase-${Y.id}`,date:Y.date,type:"expense",description:`Purchase - ${Y.materialName} from ${Y.supplierName}`,amount:Y.totalAmount})),...D.map(Y=>({id:`labour-${Y.id}`,date:Y.date,type:"expense",description:`Labour Payment - ${Y.labourerName}`,amount:Y.amount}))].sort((Y,he)=>new Date(he.date)-new Date(Y.date)).slice(0,10),ie=()=>{switch(i){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financials"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track revenue, expenses, and profitability"})]}),a.jsxs(rt,{value:i,onValueChange:o,children:[a.jsx(ot,{className:"w-[180px]",children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"week",children:"This Week"}),a.jsx(pe,{value:"month",children:"This Month"}),a.jsx(pe,{value:"quarter",children:"This Quarter"}),a.jsx(pe,{value:"year",children:"This Year"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs(ue,{children:[a.jsx(Ce,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Le,{children:"Total Revenue"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(_o,{className:"w-5 h-5 text-green-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(Ae,{className:"text-2xl",children:["NPR ",R.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie()})]})]}),a.jsxs(ue,{children:[a.jsx(Ce,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Le,{children:"Total Expenses"}),a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Yx,{className:"w-5 h-5 text-red-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(Ae,{className:"text-2xl",children:["NPR ",z.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie()})]})]}),a.jsxs(ue,{children:[a.jsx(Ce,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Le,{children:"Net Profit"}),a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${B>=0?"bg-blue-100":"bg-red-100"}`,children:a.jsx(za,{className:`w-5 h-5 ${B>=0?"text-blue-600":"text-red-600"}`})})]})}),a.jsxs(Ne,{children:[a.jsxs(Ae,{className:`text-2xl ${B>=0?"text-blue-600":"text-red-600"}`,children:["NPR ",B.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie()})]})]}),a.jsxs(ue,{children:[a.jsx(Ce,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Le,{children:"Profit Margin"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(MN,{className:"w-5 h-5 text-purple-600"})})]})}),a.jsxs(Ne,{children:[a.jsxs(Ae,{className:"text-2xl",children:[ae,"%"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie()})]})]})]}),a.jsxs(ei,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(ti,{children:[a.jsx($t,{value:"overview",children:"Overview"}),a.jsx($t,{value:"revenue",children:"Revenue"}),a.jsx($t,{value:"expenses",children:"Expenses"}),a.jsx($t,{value:"transactions",children:"Transactions"})]}),a.jsx(Qt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Revenue Breakdown"}),a.jsx(Le,{children:ie()})]}),a.jsx(Ne,{className:"space-y-4",children:I.map((Y,he)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",Y.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${Y.color} h-2 rounded-full`,style:{width:`${Y.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Y.percentage,"% of total revenue"]})]},he))})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Expense Breakdown"}),a.jsx(Le,{children:ie()})]}),a.jsx(Ne,{className:"space-y-4",children:P.map((Y,he)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.category}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",Y.amount.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${Y.color} h-2 rounded-full`,style:{width:`${Y.percentage}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Y.percentage,"% of total expenses"]})]},he))})]})]})}),a.jsx(Qt,{value:"revenue",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Sales Revenue"}),a.jsxs(Le,{children:[E.length," approved sales"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",b.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[R>0?(b/R*100).toFixed(1):0,"% of total revenue"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Cleaning Services Revenue"}),a.jsxs(Le,{children:[S.length," completed services"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["NPR ",k.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[R>0?(k/R*100).toFixed(1):0,"% of total revenue"]})]})]})]})}),a.jsx(Qt,{value:"expenses",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Raw Material Purchases"}),a.jsxs(Le,{children:[T.length," purchases"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["NPR ",A.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(A/z*100).toFixed(1):0,"% of total expenses"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Labour Payments"}),a.jsxs(Le,{children:[D.length," payments"]})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",M.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(M/z*100).toFixed(1):0,"% of total expenses"]})]})]})]})}),a.jsx(Qt,{value:"transactions",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Recent Transactions"}),a.jsxs(Le,{children:["Last 10 transactions from ",ie().toLowerCase()]})]}),a.jsx(Ne,{children:Z.length>0?a.jsx("div",{className:"space-y-3",children:Z.map(Y=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${Y.type==="income"?"bg-green-100":"bg-red-100"}`,children:Y.type==="income"?a.jsx(_o,{className:"w-5 h-5 text-green-600"}):a.jsx(Yx,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Y.description}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(Y.date).toLocaleDateString()})]})]}),a.jsxs("p",{className:`text-sm font-semibold ${Y.type==="income"?"text-green-600":"text-red-600"}`,children:[Y.type==="income"?"+":"-","NPR ",Y.amount.toLocaleString()]})]},Y.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(rs,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No transactions in this period"})]})})]})})]})]})}function LT(){const{state:s}=wt(),[r,i]=j.useState("month"),[o,d]=j.useState(null),[f,h]=j.useState(null),[p,x]=j.useState(!1),m=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis and trends",icon:a.jsx(_o,{className:"w-6 h-6"}),color:"bg-blue-500"},{id:"inventory",name:"Inventory Report",description:"Stock levels and inventory valuation",icon:a.jsx(Sa,{className:"w-6 h-6"}),color:"bg-green-500"},{id:"financial",name:"Financial Report",description:"Profit & loss, revenue, and expenses",icon:a.jsx(za,{className:"w-6 h-6"}),color:"bg-purple-500"},{id:"labour",name:"Labour Report",description:"Attendance, payments, and productivity",icon:a.jsx(ko,{className:"w-6 h-6"}),color:"bg-yellow-500"},{id:"orders",name:"Orders Report",description:"Order status, completion rates",icon:a.jsx(qN,{className:"w-6 h-6"}),color:"bg-red-500"},{id:"customers",name:"Customer Report",description:"Customer insights and purchase history",icon:a.jsx(ko,{className:"w-6 h-6"}),color:"bg-indigo-500"}],g=(D,A="date")=>{const M=new Date,z=new Date;switch(r){case"week":z.setDate(M.getDate()-7);break;case"month":z.setMonth(M.getMonth()-1);break;case"quarter":z.setMonth(M.getMonth()-3);break;case"year":z.setFullYear(M.getFullYear()-1);break;default:z.setMonth(M.getMonth()-1)}return D.filter(B=>{const ae=new Date(B[A]);return ae>=z&&ae<=M})},v=async D=>{x(!0),d(D);try{let A={};switch(D){case"sales":A=await N();break;case"inventory":A=await w();break;case"financial":A=await E();break;case"labour":A=await S();break;case"orders":A=await b();break;case"customers":A=await k();break;default:A={}}h(A)}catch(A){console.error("Error generating report:",A),alert("Failed to generate report")}finally{x(!1)}},N=async()=>{const D=await me.getAll("sales"),A=g(D.filter(I=>I.approvalStatus==="approved")),M=A.length,z=A.reduce((I,Z)=>I+(Z.totalAmount||0),0),B=M>0?z/M:0,ae={};A.forEach(I=>{const Z=I.productName;ae[Z]||(ae[Z]={name:Z,quantity:0,revenue:0}),ae[Z].quantity+=I.quantity||0,ae[Z].revenue+=I.totalAmount||0});const P=Object.values(ae).sort((I,Z)=>Z.revenue-I.revenue).slice(0,5);return{totalSales:M,totalRevenue:z,averageSale:B,topProducts:P,salesList:A}},w=async()=>{const D=await me.getAll("rawMaterials"),A=await me.getAll("sofaModels"),M=D.reduce((P,I)=>P+(I.quantity*I.pricePerUnit||0),0),z=A.reduce((P,I)=>P+(I.stockQuantity||0)*(I.sellingPrice||0),0),B=D.filter(P=>P.quantity<(P.minimumStock||10)),ae=A.filter(P=>(P.stockQuantity||0)===0);return{rawMaterials:D,finishedProducts:A,totalRawMaterialValue:M,totalFinishedValue:z,lowStockMaterials:B,lowStockProducts:ae}},E=async()=>{const D=await me.getAll("sales"),A=await me.getAll("purchases"),M=await me.getAll("labourPayments"),z=await me.getAll("cleaningServices"),B=g(D.filter(ve=>ve.approvalStatus==="approved")),ae=g(A),P=g(M),I=g(z.filter(ve=>ve.status==="completed")),Z=B.reduce((ve,O)=>ve+(O.totalAmount||0),0),ie=I.reduce((ve,O)=>ve+(O.price||0),0),Y=Z+ie,he=ae.reduce((ve,O)=>ve+(O.totalAmount||0),0),L=P.reduce((ve,O)=>ve+(O.amount||0),0),X=he+L,H=Y-X,re=Y>0?(H/Y*100).toFixed(1):0;return{totalRevenue:Y,salesRevenue:Z,cleaningRevenue:ie,totalExpenses:X,purchaseExpenses:he,labourExpenses:L,netProfit:H,profitMargin:re}},S=async()=>{const D=await me.getAll("labourers"),A=await me.getAll("attendance"),M=await me.getAll("labourPayments"),z=g(A),B=g(M),ae=B.reduce((Z,ie)=>Z+(ie.amount||0),0),P=D.filter(Z=>Z.status==="active").length,I=D.map(Z=>{const ie=z.filter(X=>X.labourerId===Z.id),Y=B.filter(X=>X.labourerId===Z.id),he=ie.filter(X=>X.status==="present").length,L=Y.reduce((X,H)=>X+(H.amount||0),0);return{name:Z.name,specialization:Z.specialization,presentDays:he,totalPaid:L}});return{activeLabourers:P,totalPayments:ae,labourerStats:I,attendanceRecords:z}},b=async()=>{const D=await me.getAll("orders"),A=g(D),M=A.length,z=A.filter(P=>P.status==="completed").length,B=A.filter(P=>P.status==="pending").length,ae=M>0?(z/M*100).toFixed(1):0;return{totalOrders:M,completedOrders:z,pendingOrders:B,completionRate:ae,ordersList:A}},k=async()=>{const D=await me.getAll("customers"),A=await me.getAll("sales"),M=g(A.filter(ae=>ae.approvalStatus==="approved")),z=D.map(ae=>{const P=M.filter(ie=>ie.customerId===ae.id),I=P.length,Z=P.reduce((ie,Y)=>ie+(Y.totalAmount||0),0);return{name:ae.name,phone:ae.phone,totalPurchases:I,totalSpent:Z}}).sort((ae,P)=>P.totalSpent-ae.totalSpent),B=z.slice(0,10);return{totalCustomers:D.length,activeCustomers:z.filter(ae=>ae.totalPurchases>0).length,topCustomers:B,customerStats:z}},R=()=>{switch(r){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}},T=()=>{if(!f||!o)return;const D=m.find(ae=>ae.id===o),A=JSON.stringify(f,null,2),M=new Blob([A],{type:"application/json"}),z=URL.createObjectURL(M),B=document.createElement("a");B.href=z,B.download=`${D.name.replace(" ","_")}_${r}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(z)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and view business reports"})]}),a.jsxs(rt,{value:r,onValueChange:i,children:[a.jsx(ot,{className:"w-[180px]",children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"week",children:"This Week"}),a.jsx(pe,{value:"month",children:"This Month"}),a.jsx(pe,{value:"quarter",children:"This Quarter"}),a.jsx(pe,{value:"year",children:"This Year"})]})]})]}),!o&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(D=>a.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(D.id),children:a.jsxs(Ce,{children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsx("div",{className:`${D.color} text-white p-3 rounded-lg`,children:D.icon})}),a.jsx(Ae,{className:"mt-4",children:D.name}),a.jsx(Le,{children:D.description})]})},D.id))}),o&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ce,{variant:"outline",onClick:()=>{d(null),h(null)},children:" Back to Reports"}),a.jsxs(ce,{onClick:T,children:[a.jsx(GN,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),o==="sales"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Sales"}),a.jsx(Ae,{className:"text-2xl",children:f.totalSales})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Revenue"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Average Sale"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",f.averageSale.toLocaleString()]})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Top Products"})}),a.jsx(Ne,{children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Product"}),a.jsx(Je,{children:"Quantity Sold"}),a.jsx(Je,{children:"Revenue"})]})}),a.jsx(ks,{children:f.topProducts.map((D,A)=>a.jsxs(ua,{children:[a.jsx(et,{children:D.name}),a.jsx(et,{children:D.quantity}),a.jsxs(et,{children:["NPR ",D.revenue.toLocaleString()]})]},A))})]})})]})]}),o==="inventory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Raw Materials Value"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",f.totalRawMaterialValue.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Finished Products Value"}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",f.totalFinishedValue.toLocaleString()]})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Low Stock Alerts"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"font-medium",children:["Raw Materials (",f.lowStockMaterials.length,")"]}),f.lowStockMaterials.map((D,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[D.name,": ",D.quantity," ",D.unit]},A)),a.jsxs("p",{className:"font-medium mt-4",children:["Finished Products (",f.lowStockProducts.length,")"]}),f.lowStockProducts.map((D,A)=>a.jsxs("div",{className:"text-sm text-red-600",children:[D.name,": Out of stock"]},A))]})})]})]}),o==="financial"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Revenue"}),a.jsxs(Ae,{className:"text-2xl text-green-600",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Expenses"}),a.jsxs(Ae,{className:"text-2xl text-red-600",children:["NPR ",f.totalExpenses.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Net Profit"}),a.jsxs(Ae,{className:"text-2xl text-blue-600",children:["NPR ",f.netProfit.toLocaleString()]})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Profit Margin"}),a.jsxs(Ae,{className:"text-2xl",children:[f.profitMargin,"%"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Revenue Breakdown"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sales"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.salesRevenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cleaning Services"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.cleaningRevenue.toLocaleString()]})]})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Expense Breakdown"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Raw Materials"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.purchaseExpenses.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Labour"}),a.jsxs("span",{className:"font-medium",children:["NPR ",f.labourExpenses.toLocaleString()]})]})]})})]})]})]}),o==="labour"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Active Labourers"}),a.jsx(Ae,{className:"text-2xl",children:f.activeLabourers})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsxs(Le,{children:["Total Payments (",R(),")"]}),a.jsxs(Ae,{className:"text-2xl",children:["NPR ",f.totalPayments.toLocaleString()]})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Labourer Statistics"})}),a.jsx(Ne,{children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Name"}),a.jsx(Je,{children:"Specialization"}),a.jsx(Je,{children:"Present Days"}),a.jsx(Je,{children:"Total Paid"})]})}),a.jsx(ks,{children:f.labourerStats.map((D,A)=>a.jsxs(ua,{children:[a.jsx(et,{children:D.name}),a.jsx(et,{children:D.specialization}),a.jsx(et,{children:D.presentDays}),a.jsxs(et,{children:["NPR ",D.totalPaid.toLocaleString()]})]},A))})]})})]})]}),o==="orders"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Orders"}),a.jsx(Ae,{className:"text-2xl",children:f.totalOrders})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Completed"}),a.jsx(Ae,{className:"text-2xl text-green-600",children:f.completedOrders})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Pending"}),a.jsx(Ae,{className:"text-2xl text-orange-600",children:f.pendingOrders})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Completion Rate"}),a.jsxs(Ae,{className:"text-2xl",children:[f.completionRate,"%"]})]})})]})}),o==="customers"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Le,{children:"Total Customers"}),a.jsx(Ae,{className:"text-2xl",children:f.totalCustomers})]})}),a.jsx(ue,{children:a.jsxs(Ce,{className:"pb-3",children:[a.jsxs(Le,{children:["Active Customers (",R(),")"]}),a.jsx(Ae,{className:"text-2xl",children:f.activeCustomers})]})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsx(Ae,{children:"Top Customers"})}),a.jsx(Ne,{children:a.jsxs(_s,{children:[a.jsx(Ps,{children:a.jsxs(ua,{children:[a.jsx(Je,{children:"Name"}),a.jsx(Je,{children:"Phone"}),a.jsx(Je,{children:"Purchases"}),a.jsx(Je,{children:"Total Spent"})]})}),a.jsx(ks,{children:f.topCustomers.map((D,A)=>a.jsxs(ua,{children:[a.jsx(et,{children:D.name}),a.jsx(et,{children:D.phone}),a.jsx(et,{children:D.totalPurchases}),a.jsxs(et,{children:["NPR ",D.totalSpent.toLocaleString()]})]},A))})]})})]})]})]}),p&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Generating report..."})]})})]})}var mc="Switch",[zT]=Dn(mc),[UT,IT]=zT(mc),D0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:f,required:h,disabled:p,value:x="on",onCheckedChange:m,form:g,...v}=s,[N,w]=j.useState(null),E=ft(r,T=>w(T)),S=j.useRef(!1),b=N?g||!!N.closest("form"):!0,[k,R]=zs({prop:d,defaultProp:f??!1,onChange:m,caller:mc});return a.jsxs(UT,{scope:i,checked:k,disabled:p,children:[a.jsx(He.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":P0(k),"data-disabled":p?"":void 0,disabled:p,value:x,...v,ref:E,onClick:Re(s.onClick,T=>{R(D=>!D),b&&(S.current=T.isPropagationStopped(),S.current||T.stopPropagation())})}),b&&a.jsx(_0,{control:N,bubbles:!S.current,name:o,value:x,checked:k,required:h,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});D0.displayName=mc;var R0="SwitchThumb",O0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,d=IT(R0,i);return a.jsx(He.span,{"data-state":P0(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});O0.displayName=R0;var qT="SwitchBubbleInput",_0=j.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...d},f)=>{const h=j.useRef(null),p=ft(h,f),x=zy(i),m=Sy(r);return j.useEffect(()=>{const g=h.current;if(!g)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(x!==i&&w){const E=new Event("click",{bubbles:o});w.call(g,i),g.dispatchEvent(E)}},[x,i,o]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:p,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_0.displayName=qT;function P0(s){return s?"checked":"unchecked"}var BT=D0,HT=O0;function Rg({className:s,...r}){return a.jsx(BT,{"data-slot":"switch",className:Ge("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:a.jsx(HT,{"data-slot":"switch-thumb",className:Ge("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function FT(){const{state:s,actions:r}=wt(),[i,o]=j.useState(null),[d,f]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const N=await r.getItems("notificationSettings");if(N&&N.length>0)o(N[0]);else{const w=Dg();await r.addItem("notificationSettings",w),o(w)}}catch(N){console.error("Error loading notification settings:",N),o(Dg())}},p=async()=>{try{if(f(!0),i.adminPhoneNumber&&!yT(i.adminPhoneNumber)){alert("Please enter a valid 10-digit phone number"),f(!1);return}await r.updateItem("notificationSettings",i),alert("Settings saved successfully!")}catch(N){console.error("Error saving settings:",N),alert("Failed to save settings. Please try again.")}finally{f(!1)}},x=N=>{o({...i,notificationTypes:{...i.notificationTypes,[N]:!i.notificationTypes[N]}})},m=(N,w)=>{o({...i,messageTemplates:{...i.messageTemplates,[N]:{...i.messageTemplates[N],template:w}}})},g=N=>{window.confirm("Reset this template to default?")&&o({...i,messageTemplates:{...i.messageTemplates,[N]:Br[N]}})};if(!i)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading settings..."})});const v={orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order Created",lowStockAlert:"Low Stock Alert"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(kl,{className:"w-8 h-8 text-blue-600"}),"WhatsApp Notifications"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure automated WhatsApp notifications for customers and suppliers"})]}),a.jsxs(ce,{onClick:p,disabled:d,children:[a.jsx(fS,{className:"w-4 h-4 mr-2"}),d?"Saving...":"Save Settings"]})]}),a.jsxs(ei,{defaultValue:"general",className:"w-full",children:[a.jsxs(ti,{className:"grid w-full grid-cols-3",children:[a.jsx($t,{value:"general",children:"General"}),a.jsx($t,{value:"types",children:"Notification Types"}),a.jsx($t,{value:"templates",children:"Message Templates"})]}),a.jsx(Qt,{value:"general",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"General Settings"}),a.jsx(Le,{children:"Configure basic WhatsApp notification settings"})]}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(W,{className:"text-base font-semibold",children:"Enable WhatsApp Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Turn on/off all WhatsApp notifications"})]}),a.jsx(Rg,{checked:i.whatsappEnabled,onCheckedChange:N=>o({...i,whatsappEnabled:N})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Company Name"}),a.jsx(ye,{value:i.companyName,onChange:N=>o({...i,companyName:N.target.value}),placeholder:"Your Company Name"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will appear in notification messages"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Default Country Code"}),a.jsx(ye,{value:i.defaultCountryCode,onChange:N=>o({...i,defaultCountryCode:N.target.value}),placeholder:"977"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Country code for phone numbers (Nepal: 977)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Admin Phone Number"}),a.jsx(ye,{value:i.adminPhoneNumber,onChange:N=>o({...i,adminPhoneNumber:N.target.value}),placeholder:"9800000000"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Phone number for receiving admin notifications (10 digits, without country code)"})]}),a.jsx(ue,{className:"bg-blue-50 border-blue-200",children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(qg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How it works"}),a.jsx("p",{className:"text-sm text-blue-800",children:"When an event occurs (like a new order), the system generates a WhatsApp message and adds it to the notification queue. You can then send it with one click, which opens WhatsApp Web/App with the pre-filled message ready to send."})]})]})})})]})]})}),a.jsx(Qt,{value:"types",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Notification Types"}),a.jsx(Le,{children:"Enable or disable specific notification types"})]}),a.jsx(Ne,{className:"space-y-3",children:Object.keys(v).map(N=>{var w;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(W,{className:"font-medium",children:v[N]}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:((w=Br[N])==null?void 0:w.title)||""})]}),a.jsx(Rg,{checked:i.notificationTypes[N],onCheckedChange:()=>x(N)})]},N)})})]})}),a.jsx(Qt,{value:"templates",className:"space-y-4",children:Object.keys(Br).map(N=>{var w;return a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ae,{children:v[N]}),a.jsxs(Le,{children:["Customize the message template. Use ","{variable}"," for dynamic content."]})]}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(N),children:"Reset to Default"})]})}),a.jsxs(Ne,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Message Template"}),a.jsx(Gt,{value:((w=i.messageTemplates[N])==null?void 0:w.template)||"",onChange:E=>m(N,E.target.value),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Available Variables:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Br[N].variables.map(E=>a.jsx("code",{className:"px-2 py-1 bg-white border rounded text-xs",children:"{"+E+"}"},E))})]})]})]},N)})})]})]})}function VT(){const{state:s,actions:r}=wt(),[i,o]=j.useState([]),[d,f]=j.useState("all"),[h,p]=j.useState("all");j.useEffect(()=>{x()},[]);const x=async()=>{try{const T=(await r.getItems("notificationQueue")||[]).sort((D,A)=>new Date(A.createdAt)-new Date(D.createdAt));o(T)}catch(R){console.error("Error loading notifications:",R),o([])}},m=async R=>{try{NT(R.recipient.phone,R.message),await r.updateItem("notificationQueue",{...R,status:"sent",sentAt:new Date().toISOString()}),await x()}catch(T){console.error("Error sending notification:",T),alert("Failed to send notification. Please try again.")}},g=async R=>{if(window.confirm("Delete this notification?"))try{await r.deleteItem("notificationQueue",R.id),await x()}catch(T){console.error("Error deleting notification:",T),alert("Failed to delete notification. Please try again.")}},v=async()=>{if(window.confirm("Clear all sent notifications?"))try{const R=i.filter(T=>T.status==="sent");for(const T of R)await r.deleteItem("notificationQueue",T.id);await x()}catch(R){console.error("Error clearing sent notifications:",R),alert("Failed to clear notifications. Please try again.")}},N=i.filter(R=>!(d!=="all"&&R.status!==d||h!=="all"&&R.type!==h)),w=i.filter(R=>R.status==="pending").length,E=i.filter(R=>R.status==="sent").length,S=R=>{const T={pending:{variant:"secondary",icon:Gd,label:"Pending"},sent:{variant:"success",icon:Hr,label:"Sent"},failed:{variant:"destructive",icon:Ug,label:"Failed"}},D=T[R]||T.pending,A=D.icon;return a.jsxs(Ie,{variant:D.variant,className:"flex items-center gap-1",children:[a.jsx(A,{className:"w-3 h-3"}),D.label]})},b=R=>({orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order",lowStockAlert:"Low Stock Alert"})[R]||R,k=R=>new Date(R).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(kl,{className:"w-8 h-8 text-blue-600"}),"Notification Queue"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and send WhatsApp notifications"})]}),E>0&&a.jsxs(ce,{variant:"outline",onClick:v,children:[a.jsx(An,{className:"w-4 h-4 mr-2"}),"Clear Sent (",E,")"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(kl,{className:"w-8 h-8 text-gray-400"})]})})}),a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w})]}),a.jsx(Gd,{className:"w-8 h-8 text-orange-400"})]})})}),a.jsx(ue,{children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),a.jsx(Hr,{className:"w-8 h-8 text-green-400"})]})})})]}),a.jsxs(ue,{children:[a.jsx(Ce,{children:a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(KN,{className:"w-5 h-5"}),"Filters"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(rt,{value:d,onValueChange:f,children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"all",children:"All Status"}),a.jsx(pe,{value:"pending",children:"Pending"}),a.jsx(pe,{value:"sent",children:"Sent"}),a.jsx(pe,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(rt,{value:h,onValueChange:p,children:[a.jsx(ot,{children:a.jsx(it,{})}),a.jsxs(ct,{children:[a.jsx(pe,{value:"all",children:"All Types"}),a.jsx(pe,{value:"orderConfirmation",children:"Order Confirmation"}),a.jsx(pe,{value:"productionStarted",children:"Production Started"}),a.jsx(pe,{value:"productionCompleted",children:"Production Completed"}),a.jsx(pe,{value:"paymentReminder",children:"Payment Reminder"}),a.jsx(pe,{value:"deliveryScheduled",children:"Delivery Scheduled"}),a.jsx(pe,{value:"orderDelivered",children:"Order Delivered"}),a.jsx(pe,{value:"lowStockAlert",children:"Low Stock Alert"})]})]})]})]})})]}),a.jsx("div",{className:"space-y-4",children:N.length===0?a.jsx(ue,{children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx(qg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No notifications found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications will appear here when events occur"})]})}):N.map(R=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(Ne,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ie,{variant:"outline",children:b(R.type)}),S(R.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg",children:R.recipient.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",R.recipient.phone]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap font-mono",children:R.message.length>200?R.message.substring(0,200)+"...":R.message})}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created: ",k(R.createdAt)]}),R.sentAt&&a.jsxs("span",{children:["Sent: ",k(R.sentAt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[R.status==="pending"&&a.jsxs(ce,{onClick:()=>m(R),className:"whitespace-nowrap",children:[a.jsx(pS,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),a.jsxs(ce,{variant:"outline",onClick:()=>g(R),children:[a.jsx(An,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})},R.id))})]})}function GT(){const{state:s,auth:r,actions:i}=wt(),{isAuthenticated:o,isLoading:d,currentView:f,company:h,user:p}=s,[x,m]=La.useState(null);if(La.useEffect(()=>{r&&(async()=>{try{const v=await r.isFirstTimeSetup();m(v)}catch(v){console.error("Error checking first time setup:",v),m(!1)}})()},[r]),d||x===null)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(x)return a.jsx(Tg,{});if(!o)return a.jsx(kE,{});if(!h)return a.jsx(Tg,{});switch(f){case"dashboard":return a.jsx(Mg,{});case"inventory":return a.jsx(MT,{});case"raw-materials":return a.jsx(DT,{});case"finished-products":return a.jsx(mT,{});case"suppliers":return a.jsx(RT,{});case"customers":return a.jsx(fT,{});case"labour":return a.jsx(TT,{});case"sales":return a.jsx(AT,{});case"purchases":return a.jsx(PT,{});case"financials":return a.jsx(kT,{});case"cleaning":return a.jsx(ET,{});case"orders":return a.jsx(xT,{});case"reports":return a.jsx(LT,{});case"settings":return a.jsx(YE,{});case"notification-settings":return a.jsx(FT,{});case"notification-queue":return a.jsx(VT,{});default:return a.jsx(Mg,{})}}async function YT(){try{if((await me.getAll("users")).some(f=>f.role==="admin"))return!1;const i={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()},o={id:"default-company",name:"Sofa Factory",address:"Kathmandu, Nepal",phone:"9851234567",email:"info@sofafactory.com",labourManagerName:"Manager",labourManagerPhone:"9841234567",createdAt:new Date().toISOString()},d={id:"default-location",name:"Main Factory",address:"Kathmandu",createdAt:new Date().toISOString()};return await me.add("users",i),await me.update("company","company-profile",o),await me.add("locations",d),console.log("Default admin account created successfully"),!0}catch(s){return console.error("Failed to create default admin:",s),!1}}function $T(){return La.useEffect(()=>{YT().catch(console.error)},[]),a.jsx(mN,{children:a.jsx(PE,{children:a.jsx(GT,{})})})}cN.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx($T,{})}));
