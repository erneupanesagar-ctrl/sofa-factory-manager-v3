function eN(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Ug(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _d={exports:{}},Vr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function tN(){if(Ux)return Vr;Ux=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:h,ref:d!==void 0?d:null,props:f}}return Vr.Fragment=r,Vr.jsx=i,Vr.jsxs=i,Vr}var qx;function aN(){return qx||(qx=1,_d.exports=tN()),_d.exports}var t=aN(),Pd={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function nN(){if(Bx)return Fe;Bx=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function k(O,ee,de){this.props=O,this.context=ee,this.refs=N,this.updater=de||E}k.prototype.isReactComponent={},k.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=k.prototype;function D(O,ee,de){this.props=O,this.context=ee,this.refs=N,this.updater=de||E}var M=D.prototype=new T;M.constructor=D,w(M,k.prototype),M.isPureReactComponent=!0;var A=Array.isArray;function R(){}var z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function le(O,ee,de){var me=de.ref;return{$$typeof:s,type:O,key:ee,ref:me!==void 0?me:null,props:de}}function B(O,ee){return le(O.type,ee,O.props)}function F(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function I(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return ee[de]})}var ae=/\/+/g;function Q(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):ee.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(R,R):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,ee,de,me,q){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var re=!1;if(O===null)re=!0;else switch(he){case"bigint":case"string":case"number":re=!0;break;case"object":switch(O.$$typeof){case s:case r:re=!0;break;case x:return re=O._init,L(re(O._payload),ee,de,me,q)}}if(re)return q=q(O),re=me===""?"."+Q(O,0):me,A(q)?(de="",re!=null&&(de=re.replace(ae,"$&/")+"/"),L(q,ee,de,"",function(ve){return ve})):q!=null&&(F(q)&&(q=B(q,de+(q.key==null||O&&O.key===q.key?"":(""+q.key).replace(ae,"$&/")+"/")+re)),ee.push(q)),1;re=0;var Ce=me===""?".":me+":";if(A(O))for(var Y=0;Y<O.length;Y++)me=O[Y],he=Ce+Q(me,Y),re+=L(me,ee,de,he,q);else if(Y=S(O),typeof Y=="function")for(O=Y.call(O),Y=0;!(me=O.next()).done;)me=me.value,he=Ce+Q(me,Y++),re+=L(me,ee,de,he,q);else if(he==="object"){if(typeof O.then=="function")return L(ge(O),ee,de,me,q);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return re}function X(O,ee,de){if(O==null)return O;var me=[],q=0;return L(O,me,"","",function(he){return ee.call(de,he,q++)}),me}function V(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},be={map:X,forEach:function(O,ee,de){X(O,function(){ee.apply(this,arguments)},de)},count:function(O){var ee=0;return X(O,function(){ee++}),ee},toArray:function(O){return X(O,function(ee){return ee})||[]},only:function(O){if(!F(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Fe.Activity=v,Fe.Children=be,Fe.Component=k,Fe.Fragment=i,Fe.Profiler=d,Fe.PureComponent=D,Fe.StrictMode=o,Fe.Suspense=g,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},Fe.cache=function(O){return function(){return O.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(O,ee,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var me=w({},O.props),q=O.key;if(ee!=null)for(he in ee.key!==void 0&&(q=""+ee.key),ee)!H.call(ee,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ee.ref===void 0||(me[he]=ee[he]);var he=arguments.length-2;if(he===1)me.children=de;else if(1<he){for(var re=Array(he),Ce=0;Ce<he;Ce++)re[Ce]=arguments[Ce+2];me.children=re}return le(O.type,q,me)},Fe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},Fe.createElement=function(O,ee,de){var me,q={},he=null;if(ee!=null)for(me in ee.key!==void 0&&(he=""+ee.key),ee)H.call(ee,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(q[me]=ee[me]);var re=arguments.length-2;if(re===1)q.children=de;else if(1<re){for(var Ce=Array(re),Y=0;Y<re;Y++)Ce[Y]=arguments[Y+2];q.children=Ce}if(O&&O.defaultProps)for(me in re=O.defaultProps,re)q[me]===void 0&&(q[me]=re[me]);return le(O,he,q)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:p,render:O}},Fe.isValidElement=F,Fe.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:V}},Fe.memo=function(O,ee){return{$$typeof:m,type:O,compare:ee===void 0?null:ee}},Fe.startTransition=function(O){var ee=z.T,de={};z.T=de;try{var me=O(),q=z.S;q!==null&&q(de,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(R,oe)}catch(he){oe(he)}finally{ee!==null&&de.types!==null&&(ee.types=de.types),z.T=ee}},Fe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Fe.use=function(O){return z.H.use(O)},Fe.useActionState=function(O,ee,de){return z.H.useActionState(O,ee,de)},Fe.useCallback=function(O,ee){return z.H.useCallback(O,ee)},Fe.useContext=function(O){return z.H.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O,ee){return z.H.useDeferredValue(O,ee)},Fe.useEffect=function(O,ee){return z.H.useEffect(O,ee)},Fe.useEffectEvent=function(O){return z.H.useEffectEvent(O)},Fe.useId=function(){return z.H.useId()},Fe.useImperativeHandle=function(O,ee,de){return z.H.useImperativeHandle(O,ee,de)},Fe.useInsertionEffect=function(O,ee){return z.H.useInsertionEffect(O,ee)},Fe.useLayoutEffect=function(O,ee){return z.H.useLayoutEffect(O,ee)},Fe.useMemo=function(O,ee){return z.H.useMemo(O,ee)},Fe.useOptimistic=function(O,ee){return z.H.useOptimistic(O,ee)},Fe.useReducer=function(O,ee,de){return z.H.useReducer(O,ee,de)},Fe.useRef=function(O){return z.H.useRef(O)},Fe.useState=function(O){return z.H.useState(O)},Fe.useSyncExternalStore=function(O,ee,de){return z.H.useSyncExternalStore(O,ee,de)},Fe.useTransition=function(){return z.H.useTransition()},Fe.version="19.2.3",Fe}var Fx;function pf(){return Fx||(Fx=1,Pd.exports=nN()),Pd.exports}var j=pf();const $a=Ug(j),xf=eN({__proto__:null,default:$a},[j]);var kd={exports:{}},Gr={},Ld={exports:{}},zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function sN(){return Hx||(Hx=1,(function(s){function r(L,X){var V=L.length;L.push(X);e:for(;0<V;){var oe=V-1>>>1,be=L[oe];if(0<d(be,X))L[oe]=X,L[V]=be,V=oe;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var X=L[0],V=L.pop();if(V!==X){L[0]=V;e:for(var oe=0,be=L.length,O=be>>>1;oe<O;){var ee=2*(oe+1)-1,de=L[ee],me=ee+1,q=L[me];if(0>d(de,V))me<be&&0>d(q,de)?(L[oe]=q,L[me]=V,oe=me):(L[oe]=de,L[ee]=V,oe=ee);else if(me<be&&0>d(q,V))L[oe]=q,L[me]=V,oe=me;else break e}}return X}function d(L,X){var V=L.sortIndex-X.sortIndex;return V!==0?V:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,v=null,b=3,S=!1,E=!1,w=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(L){for(var X=i(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=L)o(m),X.sortIndex=X.expirationTime,r(g,X);else break;X=i(m)}}function A(L){if(w=!1,M(L),!E)if(i(g)!==null)E=!0,R||(R=!0,I());else{var X=i(m);X!==null&&ge(A,X.startTime-L)}}var R=!1,z=-1,H=5,le=-1;function B(){return N?!0:!(s.unstable_now()-le<H)}function F(){if(N=!1,R){var L=s.unstable_now();le=L;var X=!0;try{e:{E=!1,w&&(w=!1,T(z),z=-1),S=!0;var V=b;try{t:{for(M(L),v=i(g);v!==null&&!(v.expirationTime>L&&B());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,b=v.priorityLevel;var be=oe(v.expirationTime<=L);if(L=s.unstable_now(),typeof be=="function"){v.callback=be,M(L),X=!0;break t}v===i(g)&&o(g),M(L)}else o(g);v=i(g)}if(v!==null)X=!0;else{var O=i(m);O!==null&&ge(A,O.startTime-L),X=!1}}break e}finally{v=null,b=V,S=!1}X=void 0}}finally{X?I():R=!1}}}var I;if(typeof D=="function")I=function(){D(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Q=ae.port2;ae.port1.onmessage=F,I=function(){Q.postMessage(null)}}else I=function(){k(F,0)};function ge(L,X){z=k(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(L){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var V=b;b=X;try{return L()}finally{b=V}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=b;b=L;try{return X()}finally{b=V}},s.unstable_scheduleCallback=function(L,X,V){var oe=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,L){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=V+be,L={id:x++,callback:X,priorityLevel:L,startTime:V,expirationTime:be,sortIndex:-1},V>oe?(L.sortIndex=V,r(m,L),i(g)===null&&L===i(m)&&(w?(T(z),z=-1):w=!0,ge(A,V-oe))):(L.sortIndex=be,r(g,L),E||S||(E=!0,R||(R=!0,I()))),L},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(L){var X=b;return function(){var V=b;b=X;try{return L.apply(this,arguments)}finally{b=V}}}})(zd)),zd}var Vx;function lN(){return Vx||(Vx=1,Ld.exports=sN()),Ld.exports}var Id={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function rN(){if(Gx)return Wt;Gx=1;var s=pf();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Wt.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,x)},Wt.flushSync=function(g){var m=h.T,x=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=m,o.p=x,o.d.f()}},Wt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},Wt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Wt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):x==="script"&&o.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},Wt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin);o.d.L(g,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wt.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},Wt.requestFormReset=function(g){o.d.r(g)},Wt.unstable_batchedUpdates=function(g,m){return g(m)},Wt.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var Yx;function qg(){if(Yx)return Id.exports;Yx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Id.exports=rN(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function iN(){if($x)return Gr;$x=1;var s=lN(),r=pf(),i=qg();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)a+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var a=e,n=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(n=a.return),e=a.return;while(e)}return a.tag===3?n:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function p(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function m(e){var a=e.alternate;if(!a){if(a=f(e),a===null)throw Error(o(188));return a!==e?null:e}for(var n=e,l=a;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return g(c),e;if(u===l)return g(c),a;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=u;else{for(var y=!1,C=c.child;C;){if(C===n){y=!0,n=c,l=u;break}if(C===l){y=!0,l=c,n=u;break}C=C.sibling}if(!y){for(C=u.child;C;){if(C===n){y=!0,n=u,l=c;break}if(C===l){y=!0,l=u,n=c;break}C=C.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:a}function x(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=x(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case D:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case M:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return a=e.displayName||null,a!==null?a:Q(e.type)||"Memo";case H:a=e._payload,e=e._init;try{return Q(e(a))}catch{}}return null}var ge=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},oe=[],be=-1;function O(e){return{current:e}}function ee(e){0>be||(e.current=oe[be],oe[be]=null,be--)}function de(e,a){be++,oe[be]=e.current,e.current=a}var me=O(null),q=O(null),he=O(null),re=O(null);function Ce(e,a){switch(de(he,a),de(q,e),de(me,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?ox(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=ox(a),e=cx(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(me),de(me,e)}function Y(){ee(me),ee(q),ee(he)}function ve(e){e.memoizedState!==null&&de(re,e);var a=me.current,n=cx(a,e.type);a!==n&&(de(q,e),de(me,n))}function Ne(e){q.current===e&&(ee(me),ee(q)),re.current===e&&(ee(re),qr._currentValue=V)}var Oe,jt;function tt(e){if(Oe===void 0)try{throw Error()}catch(n){var a=n.stack.trim().match(/\n( *(at )?)/);Oe=a&&a[1]||"",jt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+e+jt}var Nt=!1;function xt(e,a){if(!e||Nt)return"";Nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(J){var W=J}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(J){W=J}e.call(ce.prototype)}}else{try{throw Error()}catch(J){W=J}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),y=u[0],C=u[1];if(y&&C){var P=y.split(`
`),Z=C.split(`
`);for(c=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(l===P.length||c===Z.length)for(l=P.length-1,c=Z.length-1;1<=l&&0<=c&&P[l]!==Z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(P[l]!==Z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||P[l]!==Z[c]){var ne=`
`+P[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=c);break}}}finally{Nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tt(n):""}function Et(e,a){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==a&&a!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return xt(e.type,!1);case 11:return xt(e.type.render,!1);case 1:return xt(e.type,!0);case 31:return tt("Activity");default:return""}}function Ta(e){try{var a="",n=null;do a+=Et(e,n),n=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ot=Object.prototype.hasOwnProperty,dn=s.unstable_scheduleCallback,rt=s.unstable_cancelCallback,Fa=s.unstable_shouldYield,Zt=s.unstable_requestPaint,Ut=s.unstable_now,di=s.unstable_getCurrentPriorityLevel,fn=s.unstable_ImmediatePriority,gs=s.unstable_UserBlockingPriority,_=s.unstable_NormalPriority,te=s.unstable_LowPriority,xe=s.unstable_IdlePriority,se=s.log,Pe=s.unstable_setDisableYieldValue,ze=null,Qe=null;function qt(e){if(typeof se=="function"&&Pe(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ze,e)}catch{}}var Pt=Math.clz32?Math.clz32:jc,Zl=Math.log,Wl=Math.LN2;function jc(e){return e>>>=0,e===0?32:31-(Zl(e)/Wl|0)|0}var ft=256,Ks=262144,fi=4194304;function ys(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,a,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~u,l!==0?c=ys(l):(y&=C,y!==0?c=ys(y):n||(n=C&~e,n!==0&&(c=ys(n))))):(C=l&~u,C!==0?c=ys(C):y!==0?c=ys(y):n||(n=l&~e,n!==0&&(c=ys(n)))),c===0?0:a!==0&&a!==c&&(a&u)===0&&(u=c&-c,n=a&-a,u>=n||u===32&&(n&4194048)!==0)?a:c}function Jl(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function B0(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(){var e=fi;return fi<<=1,(fi&62914560)===0&&(fi=4194304),e}function bc(e){for(var a=[],n=0;31>n;n++)a.push(e);return a}function er(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function F0(e,a,n,l,c,u){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,P=e.expirationTimes,Z=e.hiddenUpdates;for(n=y&~n;0<n;){var ne=31-Pt(n),ce=1<<ne;C[ne]=0,P[ne]=-1;var W=Z[ne];if(W!==null)for(Z[ne]=null,ne=0;ne<W.length;ne++){var J=W[ne];J!==null&&(J.lane&=-536870913)}n&=~ce}l!==0&&Vf(e,l,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~a))}function Vf(e,a,n){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-Pt(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Gf(e,a){var n=e.entangledLanes|=a;for(e=e.entanglements;n;){var l=31-Pt(n),c=1<<l;c&a|e[l]&a&&(e[l]|=a),n&=~c}}function Yf(e,a){var n=a&-a;return n=(n&42)!==0?1:Nc(n),(n&(e.suspendedLanes|a))!==0?0:n}function Nc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $f(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Rx(e.type))}function Qf(e,a){var n=X.p;try{return X.p=e,a()}finally{X.p=n}}var Un=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Un,ca="__reactProps$"+Un,Zs="__reactContainer$"+Un,wc="__reactEvents$"+Un,H0="__reactListeners$"+Un,V0="__reactHandles$"+Un,Xf="__reactResources$"+Un,tr="__reactMarker$"+Un;function Cc(e){delete e[Gt],delete e[ca],delete e[wc],delete e[H0],delete e[V0]}function Ws(e){var a=e[Gt];if(a)return a;for(var n=e.parentNode;n;){if(a=n[Zs]||n[Gt]){if(n=a.alternate,a.child!==null||n!==null&&n.child!==null)for(e=xx(e);e!==null;){if(n=e[Gt])return n;e=xx(e)}return a}e=n,n=e.parentNode}return null}function Js(e){if(e=e[Gt]||e[Zs]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function ar(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function el(e){var a=e[Xf];return a||(a=e[Xf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ht(e){e[tr]=!0}var Kf=new Set,Zf={};function vs(e,a){tl(e,a),tl(e+"Capture",a)}function tl(e,a){for(Zf[e]=a,e=0;e<a.length;e++)Kf.add(a[e])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wf={},Jf={};function Y0(e){return Ot.call(Jf,e)?!0:Ot.call(Wf,e)?!1:G0.test(e)?Jf[e]=!0:(Wf[e]=!0,!1)}function hi(e,a,n){if(Y0(a))if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+n)}}function pi(e,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+n)}}function mn(e,a,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(a,n,""+l)}}function Da(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function em(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $0(e,a,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,u.call(this,y)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Ac(e){if(!e._valueTracker){var a=em(e)?"checked":"value";e._valueTracker=$0(e,a,""+e[a])}}function tm(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var n=a.getValue(),l="";return e&&(l=em(e)?e.checked?"true":"false":e.value),e=l,e!==n?(a.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Q0=/[\n"\\]/g;function Ma(e){return e.replace(Q0,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ec(e,a,n,l,c,u,y,C){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),a!=null?y==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Da(a)):e.value!==""+Da(a)&&(e.value=""+Da(a)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),a!=null?Tc(e,y,Da(a)):n!=null?Tc(e,y,Da(n)):l!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Da(C):e.removeAttribute("name")}function am(e,a,n,l,c,u,y,C){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),a!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||a!=null)){Ac(e);return}n=n!=null?""+Da(n):"",a=a!=null?""+Da(a):n,C||a===e.value||(e.value=a),e.defaultValue=a}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ac(e)}function Tc(e,a,n){a==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function al(e,a,n,l){if(e=e.options,a){a={};for(var c=0;c<n.length;c++)a["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=a.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Da(n),a=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}a!==null||e[c].disabled||(a=e[c])}a!==null&&(a.selected=!0)}}function nm(e,a,n){if(a!=null&&(a=""+Da(a),a!==e.value&&(e.value=a),n==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=n!=null?""+Da(n):""}function sm(e,a,n,l){if(a==null){if(l!=null){if(n!=null)throw Error(o(92));if(ge(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),a=n}n=Da(a),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Ac(e)}function nl(e,a){if(a){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=a;return}}e.textContent=a}var X0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(e,a,n){var l=a.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,n):typeof n!="number"||n===0||X0.has(a)?a==="float"?e.cssFloat=n:e[a]=(""+n).trim():e[a]=n+"px"}function rm(e,a,n){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in a)l=a[c],a.hasOwnProperty(c)&&n[c]!==l&&lm(e,c,l)}else for(var u in a)a.hasOwnProperty(u)&&lm(e,u,a[u])}function Dc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(e){return Z0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var Mc=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,ll=null;function im(e){var a=Js(e);if(a&&(e=a.stateNode)){var n=e[ca]||null;e:switch(e=a.stateNode,a.type){case"input":if(Ec(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),a=n.name,n.type==="radio"&&a!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ma(""+a)+'"][type="radio"]'),a=0;a<n.length;a++){var l=n[a];if(l!==e&&l.form===e.form){var c=l[ca]||null;if(!c)throw Error(o(90));Ec(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(a=0;a<n.length;a++)l=n[a],l.form===e.form&&tm(l)}break e;case"textarea":nm(e,n.value,n.defaultValue);break e;case"select":a=n.value,a!=null&&al(e,!!n.multiple,a,!1)}}}var Rc=!1;function om(e,a,n){if(Rc)return e(a,n);Rc=!0;try{var l=e(a);return l}finally{if(Rc=!1,(sl!==null||ll!==null)&&(so(),sl&&(a=sl,e=ll,ll=sl=null,im(a),e)))for(a=0;a<e.length;a++)im(e[a])}}function nr(e,a){var n=e.stateNode;if(n===null)return null;var l=n[ca]||null;if(l===null)return null;n=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,a,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(pn)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){_c=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{_c=!1}var qn=null,Pc=null,yi=null;function cm(){if(yi)return yi;var e,a=Pc,n=a.length,l,c="value"in qn?qn.value:qn.textContent,u=c.length;for(e=0;e<n&&a[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&a[n-l]===c[u-l];l++);return yi=c.slice(e,1<l?1-l:void 0)}function vi(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function um(){return!1}function ua(e){function a(n,l,c,u,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ji:um,this.isPropagationStopped=um,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),a}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=ua(js),lr=v({},js,{view:0,detail:0}),W0=ua(lr),kc,Lc,rr,Ni=v({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(kc=e.screenX-rr.screenX,Lc=e.screenY-rr.screenY):Lc=kc=0,rr=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),dm=ua(Ni),J0=v({},Ni,{dataTransfer:0}),ej=ua(J0),tj=v({},lr,{relatedTarget:0}),zc=ua(tj),aj=v({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=ua(aj),sj=v({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lj=ua(sj),rj=v({},js,{data:0}),fm=ua(rj),ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=cj[e])?!!a[e]:!1}function Ic(){return uj}var dj=v({},lr,{key:function(e){if(e.key){var a=ij[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fj=ua(dj),mj=v({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=ua(mj),hj=v({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),pj=ua(hj),xj=v({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=ua(xj),yj=v({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vj=ua(yj),jj=v({},js,{newState:0,oldState:0}),bj=ua(jj),Nj=[9,13,27,32],Uc=pn&&"CompositionEvent"in window,ir=null;pn&&"documentMode"in document&&(ir=document.documentMode);var Sj=pn&&"TextEvent"in window&&!ir,hm=pn&&(!Uc||ir&&8<ir&&11>=ir),pm=" ",xm=!1;function gm(e,a){switch(e){case"keyup":return Nj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function wj(e,a){switch(e){case"compositionend":return ym(a);case"keypress":return a.which!==32?null:(xm=!0,pm);case"textInput":return e=a.data,e===pm&&xm?null:e;default:return null}}function Cj(e,a){if(rl)return e==="compositionend"||!Uc&&gm(e,a)?(e=cm(),yi=Pc=qn=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hm&&a.locale!=="ko"?null:a.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Aj[e.type]:a==="textarea"}function jm(e,a,n,l){sl?ll?ll.push(l):ll=[l]:sl=l,a=fo(a,"onChange"),0<a.length&&(n=new bi("onChange","change",null,n,l),e.push({event:n,listeners:a}))}var or=null,cr=null;function Ej(e){ax(e,0)}function Si(e){var a=ar(e);if(tm(a))return e}function bm(e,a){if(e==="change")return a}var Nm=!1;if(pn){var qc;if(pn){var Bc="oninput"in document;if(!Bc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Bc=typeof Sm.oninput=="function"}qc=Bc}else qc=!1;Nm=qc&&(!document.documentMode||9<document.documentMode)}function wm(){or&&(or.detachEvent("onpropertychange",Cm),cr=or=null)}function Cm(e){if(e.propertyName==="value"&&Si(cr)){var a=[];jm(a,cr,e,Oc(e)),om(Ej,a)}}function Tj(e,a,n){e==="focusin"?(wm(),or=a,cr=n,or.attachEvent("onpropertychange",Cm)):e==="focusout"&&wm()}function Dj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(cr)}function Mj(e,a){if(e==="click")return Si(a)}function Oj(e,a){if(e==="input"||e==="change")return Si(a)}function Rj(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var ya=typeof Object.is=="function"?Object.is:Rj;function ur(e,a){if(ya(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var n=Object.keys(e),l=Object.keys(a);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Ot.call(a,c)||!ya(e[c],a[c]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Em(e,a){var n=Am(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=a&&l>=a)return{node:n,offset:a-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Am(n)}}function Tm(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Tm(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Dm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=xi(e.document);a instanceof e.HTMLIFrameElement;){try{var n=typeof a.contentWindow.location.href=="string"}catch{n=!1}if(n)e=a.contentWindow;else break;a=xi(e.document)}return a}function Fc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var _j=pn&&"documentMode"in document&&11>=document.documentMode,il=null,Hc=null,dr=null,Vc=!1;function Mm(e,a,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vc||il==null||il!==xi(l)||(l=il,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dr&&ur(dr,l)||(dr=l,l=fo(Hc,"onSelect"),0<l.length&&(a=new bi("onSelect","select",null,a,n),e.push({event:a,listeners:l}),a.target=il)))}function bs(e,a){var n={};return n[e.toLowerCase()]=a.toLowerCase(),n["Webkit"+e]="webkit"+a,n["Moz"+e]="moz"+a,n}var ol={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Gc={},Om={};pn&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ns(e){if(Gc[e])return Gc[e];if(!ol[e])return e;var a=ol[e],n;for(n in a)if(a.hasOwnProperty(n)&&n in Om)return Gc[e]=a[n];return e}var Rm=Ns("animationend"),_m=Ns("animationiteration"),Pm=Ns("animationstart"),Pj=Ns("transitionrun"),kj=Ns("transitionstart"),Lj=Ns("transitioncancel"),km=Ns("transitionend"),Lm=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function Ha(e,a){Lm.set(e,a),vs(a,[e])}var wi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Oa=[],cl=0,$c=0;function Ci(){for(var e=cl,a=$c=cl=0;a<e;){var n=Oa[a];Oa[a++]=null;var l=Oa[a];Oa[a++]=null;var c=Oa[a];Oa[a++]=null;var u=Oa[a];if(Oa[a++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}u!==0&&zm(n,c,u)}}function Ai(e,a,n,l){Oa[cl++]=e,Oa[cl++]=a,Oa[cl++]=n,Oa[cl++]=l,$c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Qc(e,a,n,l){return Ai(e,a,n,l),Ei(e)}function Ss(e,a){return Ai(e,null,null,a),Ei(e)}function zm(e,a,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&a!==null&&(c=31-Pt(n),e=u.hiddenUpdates,l=e[c],l===null?e[c]=[a]:l.push(a),a.lane=n|536870912),u):null}function Ei(e){if(50<_r)throw _r=0,nd=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ul={};function zj(e,a,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,a,n,l){return new zj(e,a,n,l)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,a){var n=e.alternate;return n===null?(n=va(e.tag,a,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=a,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,a=e.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Im(e,a){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,a=n.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Ti(e,a,n,l,c,u){var y=0;if(l=e,typeof e=="function")Xc(e)&&(y=1);else if(typeof e=="string")y=Fb(e,n,me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=va(31,n,a,c),e.elementType=le,e.lanes=u,e;case w:return ws(n.children,c,u,a);case N:y=8,c|=24;break;case k:return e=va(12,n,a,c|2),e.elementType=k,e.lanes=u,e;case A:return e=va(13,n,a,c),e.elementType=A,e.lanes=u,e;case R:return e=va(19,n,a,c),e.elementType=R,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case T:y=9;break e;case M:y=11;break e;case z:y=14;break e;case H:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return a=va(y,n,a,c),a.elementType=e,a.type=l,a.lanes=u,a}function ws(e,a,n,l){return e=va(7,e,l,a),e.lanes=n,e}function Kc(e,a,n){return e=va(6,e,null,a),e.lanes=n,e}function Um(e){var a=va(18,null,null,0);return a.stateNode=e,a}function Zc(e,a,n){return a=va(4,e.children!==null?e.children:[],e.key,a),a.lanes=n,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var qm=new WeakMap;function Ra(e,a){if(typeof e=="object"&&e!==null){var n=qm.get(e);return n!==void 0?n:(a={value:e,source:a,stack:Ta(a)},qm.set(e,a),a)}return{value:e,source:a,stack:Ta(a)}}var dl=[],fl=0,Di=null,fr=0,_a=[],Pa=0,Bn=null,Za=1,Wa="";function gn(e,a){dl[fl++]=fr,dl[fl++]=Di,Di=e,fr=a}function Bm(e,a,n){_a[Pa++]=Za,_a[Pa++]=Wa,_a[Pa++]=Bn,Bn=e;var l=Za;e=Wa;var c=32-Pt(l)-1;l&=~(1<<c),n+=1;var u=32-Pt(a)+c;if(30<u){var y=c-c%5;u=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Za=1<<32-Pt(a)+c|n<<c|l,Wa=u+e}else Za=1<<u|n<<c|l,Wa=e}function Wc(e){e.return!==null&&(gn(e,1),Bm(e,1,0))}function Jc(e){for(;e===Di;)Di=dl[--fl],dl[fl]=null,fr=dl[--fl],dl[fl]=null;for(;e===Bn;)Bn=_a[--Pa],_a[Pa]=null,Wa=_a[--Pa],_a[Pa]=null,Za=_a[--Pa],_a[Pa]=null}function Fm(e,a){_a[Pa++]=Za,_a[Pa++]=Wa,_a[Pa++]=Bn,Za=a.id,Wa=a.overflow,Bn=e}var Yt=null,St=null,et=!1,Fn=null,ka=!1,eu=Error(o(519));function Hn(e){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mr(Ra(a,e)),eu}function Hm(e){var a=e.stateNode,n=e.type,l=e.memoizedProps;switch(a[Gt]=e,a[ca]=l,n){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(n=0;n<kr.length;n++)Ke(kr[n],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Ke("invalid",a),am(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",a);break;case"textarea":Ke("invalid",a),sm(a,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||a.textContent===""+n||l.suppressHydrationWarning===!0||rx(a.textContent,n)?(l.popover!=null&&(Ke("beforetoggle",a),Ke("toggle",a)),l.onScroll!=null&&Ke("scroll",a),l.onScrollEnd!=null&&Ke("scrollend",a),l.onClick!=null&&(a.onclick=hn),a=!0):a=!1,a||Hn(e,!0)}function Vm(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:Yt=Yt.return}}function ml(e){if(e!==Yt)return!1;if(!et)return Vm(e),et=!0,!1;var a=e.tag,n;if((n=a!==3&&a!==27)&&((n=a===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||yd(e.type,e.memoizedProps)),n=!n),n&&St&&Hn(e),Vm(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=px(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=px(e)}else a===27?(a=St,ns(e.type)?(e=Sd,Sd=null,St=e):St=a):St=Yt?za(e.stateNode.nextSibling):null;return!0}function Cs(){St=Yt=null,et=!1}function tu(){var e=Fn;return e!==null&&(ha===null?ha=e:ha.push.apply(ha,e),Fn=null),e}function mr(e){Fn===null?Fn=[e]:Fn.push(e)}var au=O(null),As=null,yn=null;function Vn(e,a,n){de(au,a._currentValue),a._currentValue=n}function vn(e){e._currentValue=au.current,ee(au)}function nu(e,a,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===n)break;e=e.return}}function su(e,a,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var C=u;u=c;for(var P=0;P<a.length;P++)if(C.context===a[P]){u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),nu(u.return,n,e),l||(y=null);break e}u=C.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,u=y.alternate,u!==null&&(u.lanes|=n),nu(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function hl(e,a,n,l){e=null;for(var c=a,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var C=c.type;ya(c.pendingProps.value,y.value)||(e!==null?e.push(C):e=[C])}}else if(c===re.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(qr):e=[qr])}c=c.return}e!==null&&su(a,e,n,l),a.flags|=262144}function Mi(e){for(e=e.firstContext;e!==null;){if(!ya(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){As=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return Gm(As,e)}function Oi(e,a){return As===null&&Es(e),Gm(e,a)}function Gm(e,a){var n=a._currentValue;if(a={context:a,memoizedValue:n,next:null},yn===null){if(e===null)throw Error(o(308));yn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else yn=yn.next=a;return n}var Ij=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(n){return n()})}},Uj=s.unstable_scheduleCallback,qj=s.unstable_NormalPriority,kt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new Ij,data:new Map,refCount:0}}function hr(e){e.refCount--,e.refCount===0&&Uj(qj,function(){e.controller.abort()})}var pr=null,ru=0,pl=0,xl=null;function Bj(e,a){if(pr===null){var n=pr=[];ru=0,pl=cd(),xl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return ru++,a.then(Ym,Ym),a}function Ym(){if(--ru===0&&pr!==null){xl!==null&&(xl.status="fulfilled");var e=pr;pr=null,pl=0,xl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Fj(e,a){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var c=0;c<n.length;c++)(0,n[c])(a)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var $m=L.S;L.S=function(e,a){Mp=Ut(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Bj(e,a),$m!==null&&$m(e,a)};var Ts=O(null);function iu(){var e=Ts.current;return e!==null?e:bt.pooledCache}function Ri(e,a){a===null?de(Ts,Ts.current):de(Ts,a.pool)}function Qm(){var e=iu();return e===null?null:{parent:kt._currentValue,pool:e}}var gl=Error(o(460)),ou=Error(o(474)),_i=Error(o(542)),Pi={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Km(e,a,n){switch(n=e[n],n===void 0?e.push(a):n!==a&&(a.then(hn,hn),a=n),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Wm(e),e;default:if(typeof a.status=="string")a.then(hn,hn);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var c=a;c.status="fulfilled",c.value=l}},function(l){if(a.status==="pending"){var c=a;c.status="rejected",c.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Wm(e),e}throw Ms=a,gl}}function Ds(e){try{var a=e._init;return a(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ms=n,gl):n}}var Ms=null;function Zm(){if(Ms===null)throw Error(o(459));var e=Ms;return Ms=null,e}function Wm(e){if(e===gl||e===_i)throw Error(o(483))}var yl=null,xr=0;function ki(e){var a=xr;return xr+=1,yl===null&&(yl=[]),Km(yl,e,a)}function gr(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Li(e,a){throw a.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Jm(e){function a(G,U){if(e){var K=G.deletions;K===null?(G.deletions=[U],G.flags|=16):K.push(U)}}function n(G,U){if(!e)return null;for(;U!==null;)a(G,U),U=U.sibling;return null}function l(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function c(G,U){return G=xn(G,U),G.index=0,G.sibling=null,G}function u(G,U,K){return G.index=K,e?(K=G.alternate,K!==null?(K=K.index,K<U?(G.flags|=67108866,U):K):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function y(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function C(G,U,K,ie){return U===null||U.tag!==6?(U=Kc(K,G.mode,ie),U.return=G,U):(U=c(U,K),U.return=G,U)}function P(G,U,K,ie){var Le=K.type;return Le===w?ne(G,U,K.props.children,ie,K.key):U!==null&&(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&Ds(Le)===U.type)?(U=c(U,K.props),gr(U,K),U.return=G,U):(U=Ti(K.type,K.key,K.props,null,G.mode,ie),gr(U,K),U.return=G,U)}function Z(G,U,K,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Zc(K,G.mode,ie),U.return=G,U):(U=c(U,K.children||[]),U.return=G,U)}function ne(G,U,K,ie,Le){return U===null||U.tag!==7?(U=ws(K,G.mode,ie,Le),U.return=G,U):(U=c(U,K),U.return=G,U)}function ce(G,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Kc(""+U,G.mode,K),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return K=Ti(U.type,U.key,U.props,null,G.mode,K),gr(K,U),K.return=G,K;case E:return U=Zc(U,G.mode,K),U.return=G,U;case H:return U=Ds(U),ce(G,U,K)}if(ge(U)||I(U))return U=ws(U,G.mode,K,null),U.return=G,U;if(typeof U.then=="function")return ce(G,ki(U),K);if(U.$$typeof===D)return ce(G,Oi(G,U),K);Li(G,U)}return null}function W(G,U,K,ie){var Le=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Le!==null?null:C(G,U,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===Le?P(G,U,K,ie):null;case E:return K.key===Le?Z(G,U,K,ie):null;case H:return K=Ds(K),W(G,U,K,ie)}if(ge(K)||I(K))return Le!==null?null:ne(G,U,K,ie,null);if(typeof K.then=="function")return W(G,U,ki(K),ie);if(K.$$typeof===D)return W(G,U,Oi(G,K),ie);Li(G,K)}return null}function J(G,U,K,ie,Le){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(K)||null,C(U,G,""+ie,Le);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return G=G.get(ie.key===null?K:ie.key)||null,P(U,G,ie,Le);case E:return G=G.get(ie.key===null?K:ie.key)||null,Z(U,G,ie,Le);case H:return ie=Ds(ie),J(G,U,K,ie,Le)}if(ge(ie)||I(ie))return G=G.get(K)||null,ne(U,G,ie,Le,null);if(typeof ie.then=="function")return J(G,U,K,ki(ie),Le);if(ie.$$typeof===D)return J(G,U,K,Oi(U,ie),Le);Li(U,ie)}return null}function Ae(G,U,K,ie){for(var Le=null,st=null,Re=U,Ve=U=0,Je=null;Re!==null&&Ve<K.length;Ve++){Re.index>Ve?(Je=Re,Re=null):Je=Re.sibling;var lt=W(G,Re,K[Ve],ie);if(lt===null){Re===null&&(Re=Je);break}e&&Re&&lt.alternate===null&&a(G,Re),U=u(lt,U,Ve),st===null?Le=lt:st.sibling=lt,st=lt,Re=Je}if(Ve===K.length)return n(G,Re),et&&gn(G,Ve),Le;if(Re===null){for(;Ve<K.length;Ve++)Re=ce(G,K[Ve],ie),Re!==null&&(U=u(Re,U,Ve),st===null?Le=Re:st.sibling=Re,st=Re);return et&&gn(G,Ve),Le}for(Re=l(Re);Ve<K.length;Ve++)Je=J(Re,G,Ve,K[Ve],ie),Je!==null&&(e&&Je.alternate!==null&&Re.delete(Je.key===null?Ve:Je.key),U=u(Je,U,Ve),st===null?Le=Je:st.sibling=Je,st=Je);return e&&Re.forEach(function(os){return a(G,os)}),et&&gn(G,Ve),Le}function Ie(G,U,K,ie){if(K==null)throw Error(o(151));for(var Le=null,st=null,Re=U,Ve=U=0,Je=null,lt=K.next();Re!==null&&!lt.done;Ve++,lt=K.next()){Re.index>Ve?(Je=Re,Re=null):Je=Re.sibling;var os=W(G,Re,lt.value,ie);if(os===null){Re===null&&(Re=Je);break}e&&Re&&os.alternate===null&&a(G,Re),U=u(os,U,Ve),st===null?Le=os:st.sibling=os,st=os,Re=Je}if(lt.done)return n(G,Re),et&&gn(G,Ve),Le;if(Re===null){for(;!lt.done;Ve++,lt=K.next())lt=ce(G,lt.value,ie),lt!==null&&(U=u(lt,U,Ve),st===null?Le=lt:st.sibling=lt,st=lt);return et&&gn(G,Ve),Le}for(Re=l(Re);!lt.done;Ve++,lt=K.next())lt=J(Re,G,Ve,lt.value,ie),lt!==null&&(e&&lt.alternate!==null&&Re.delete(lt.key===null?Ve:lt.key),U=u(lt,U,Ve),st===null?Le=lt:st.sibling=lt,st=lt);return e&&Re.forEach(function(Jb){return a(G,Jb)}),et&&gn(G,Ve),Le}function vt(G,U,K,ie){if(typeof K=="object"&&K!==null&&K.type===w&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var Le=K.key;U!==null;){if(U.key===Le){if(Le=K.type,Le===w){if(U.tag===7){n(G,U.sibling),ie=c(U,K.props.children),ie.return=G,G=ie;break e}}else if(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&Ds(Le)===U.type){n(G,U.sibling),ie=c(U,K.props),gr(ie,K),ie.return=G,G=ie;break e}n(G,U);break}else a(G,U);U=U.sibling}K.type===w?(ie=ws(K.props.children,G.mode,ie,K.key),ie.return=G,G=ie):(ie=Ti(K.type,K.key,K.props,null,G.mode,ie),gr(ie,K),ie.return=G,G=ie)}return y(G);case E:e:{for(Le=K.key;U!==null;){if(U.key===Le)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){n(G,U.sibling),ie=c(U,K.children||[]),ie.return=G,G=ie;break e}else{n(G,U);break}else a(G,U);U=U.sibling}ie=Zc(K,G.mode,ie),ie.return=G,G=ie}return y(G);case H:return K=Ds(K),vt(G,U,K,ie)}if(ge(K))return Ae(G,U,K,ie);if(I(K)){if(Le=I(K),typeof Le!="function")throw Error(o(150));return K=Le.call(K),Ie(G,U,K,ie)}if(typeof K.then=="function")return vt(G,U,ki(K),ie);if(K.$$typeof===D)return vt(G,U,Oi(G,K),ie);Li(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(n(G,U.sibling),ie=c(U,K),ie.return=G,G=ie):(n(G,U),ie=Kc(K,G.mode,ie),ie.return=G,G=ie),y(G)):n(G,U)}return function(G,U,K,ie){try{xr=0;var Le=vt(G,U,K,ie);return yl=null,Le}catch(Re){if(Re===gl||Re===_i)throw Re;var st=va(29,Re,null,G.mode);return st.lanes=ie,st.return=G,st}finally{}}}var Os=Jm(!0),eh=Jm(!1),Gn=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,a,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var c=l.pending;return c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a,a=Ei(e),zm(e,null,n),a}return Ai(e,l,a,n),Ei(e)}function yr(e,a,n){if(a=a.updateQueue,a!==null&&(a=a.shared,(n&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,n|=l,a.lanes=n,Gf(e,n)}}function du(e,a){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?c=u=a:u=u.next=a}else c=u=a;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=a:e.next=a,n.lastBaseUpdate=a}var fu=!1;function vr(){if(fu){var e=xl;if(e!==null)throw e}}function jr(e,a,n,l){fu=!1;var c=e.updateQueue;Gn=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var P=C,Z=P.next;P.next=null,y===null?u=Z:y.next=Z,y=P;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==y&&(C===null?ne.firstBaseUpdate=Z:C.next=Z,ne.lastBaseUpdate=P))}if(u!==null){var ce=c.baseState;y=0,ne=Z=P=null,C=u;do{var W=C.lane&-536870913,J=W!==C.lane;if(J?(We&W)===W:(l&W)===W){W!==0&&W===pl&&(fu=!0),ne!==null&&(ne=ne.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ae=e,Ie=C;W=a;var vt=n;switch(Ie.tag){case 1:if(Ae=Ie.payload,typeof Ae=="function"){ce=Ae.call(vt,ce,W);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ie.payload,W=typeof Ae=="function"?Ae.call(vt,ce,W):Ae,W==null)break e;ce=v({},ce,W);break e;case 2:Gn=!0}}W=C.callback,W!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[W]:J.push(W))}else J={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(Z=ne=J,P=ce):ne=ne.next=J,y|=W;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;J=C,C=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);ne===null&&(P=ce),c.baseState=P,c.firstBaseUpdate=Z,c.lastBaseUpdate=ne,u===null&&(c.shared.lanes=0),Wn|=y,e.lanes=y,e.memoizedState=ce}}function th(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function ah(e,a){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)th(n[e],a)}var vl=O(null),zi=O(0);function nh(e,a){e=Tn,de(zi,e),de(vl,a),Tn=e|a.baseLanes}function mu(){de(zi,Tn),de(vl,vl.current)}function hu(){Tn=zi.current,ee(vl),ee(zi)}var ja=O(null),La=null;function Qn(e){var a=e.alternate;de(Rt,Rt.current&1),de(ja,e),La===null&&(a===null||vl.current!==null||a.memoizedState!==null)&&(La=e)}function pu(e){de(Rt,Rt.current),de(ja,e),La===null&&(La=e)}function sh(e){e.tag===22?(de(Rt,Rt.current),de(ja,e),La===null&&(La=e)):Xn()}function Xn(){de(Rt,Rt.current),de(ja,ja.current)}function ba(e){ee(ja),La===e&&(La=null),ee(Rt)}var Rt=O(0);function Ii(e){for(var a=e;a!==null;){if(a.tag===13){var n=a.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||bd(n)||Nd(n)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jn=0,He=null,gt=null,Lt=null,Ui=!1,jl=!1,Rs=!1,qi=0,br=0,bl=null,Hj=0;function Dt(){throw Error(o(321))}function xu(e,a){if(a===null)return!1;for(var n=0;n<a.length&&n<e.length;n++)if(!ya(e[n],a[n]))return!1;return!0}function gu(e,a,n,l,c,u){return jn=u,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=e===null||e.memoizedState===null?Bh:Ru,Rs=!1,u=n(l,c),Rs=!1,jl&&(u=rh(a,n,l,c)),lh(e),u}function lh(e){L.H=wr;var a=gt!==null&&gt.next!==null;if(jn=0,Lt=gt=He=null,Ui=!1,br=0,bl=null,a)throw Error(o(300));e===null||zt||(e=e.dependencies,e!==null&&Mi(e)&&(zt=!0))}function rh(e,a,n,l){He=e;var c=0;do{if(jl&&(bl=null),br=0,jl=!1,25<=c)throw Error(o(301));if(c+=1,Lt=gt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}L.H=Fh,u=a(n,l)}while(jl);return u}function Vj(){var e=L.H,a=e.useState()[0];return a=typeof a.then=="function"?Nr(a):a,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(He.flags|=1024),a}function yu(){var e=qi!==0;return qi=0,e}function vu(e,a,n){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~n}function ju(e){if(Ui){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Ui=!1}jn=0,Lt=gt=He=null,jl=!1,br=qi=0,bl=null}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?He.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function _t(){if(gt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var a=Lt===null?He.memoizedState:Lt.next;if(a!==null)Lt=a,gt=e;else{if(e===null)throw He.alternate===null?Error(o(467)):Error(o(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Lt===null?He.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nr(e){var a=br;return br+=1,bl===null&&(bl=[]),e=Km(bl,e,a),a=He,(Lt===null?a.memoizedState:Lt.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?Bh:Ru),e}function Fi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nr(e);if(e.$$typeof===D)return $t(e)}throw Error(o(438,String(e)))}function bu(e){var a=null,n=He.updateQueue;if(n!==null&&(a=n.memoCache),a==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(c){return c.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),n===null&&(n=Bi(),He.updateQueue=n),n.memoCache=a,n=a.data[a.index],n===void 0)for(n=a.data[a.index]=Array(e),l=0;l<e;l++)n[l]=B;return a.index++,n}function bn(e,a){return typeof a=="function"?a(e):a}function Hi(e){var a=_t();return Nu(a,gt,e)}function Nu(e,a,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,u=l.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}a.baseQueue=c=u,l.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{a=c.next;var C=y=null,P=null,Z=a,ne=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(We&ce)===ce:(jn&ce)===ce){var W=Z.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===pl&&(ne=!0);else if((jn&W)===W){Z=Z.next,W===pl&&(ne=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(C=P=ce,y=u):P=P.next=ce,He.lanes|=W,Wn|=W;ce=Z.action,Rs&&n(u,ce),u=Z.hasEagerState?Z.eagerState:n(u,ce)}else W={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(C=P=W,y=u):P=P.next=W,He.lanes|=ce,Wn|=ce;Z=Z.next}while(Z!==null&&Z!==a);if(P===null?y=u:P.next=C,!ya(u,e.memoizedState)&&(zt=!0,ne&&(n=xl,n!==null)))throw n;e.memoizedState=u,e.baseState=y,e.baseQueue=P,l.lastRenderedState=u}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Su(e){var a=_t(),n=a.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,u=a.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);ya(u,a.memoizedState)||(zt=!0),a.memoizedState=u,a.baseQueue===null&&(a.baseState=u),n.lastRenderedState=u}return[u,l]}function ih(e,a,n){var l=He,c=_t(),u=et;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=a();var y=!ya((gt||c).memoizedState,n);if(y&&(c.memoizedState=n,zt=!0),c=c.queue,Au(uh.bind(null,l,c,e),[e]),c.getSnapshot!==a||y||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,Nl(9,{destroy:void 0},ch.bind(null,l,c,n,a),null),bt===null)throw Error(o(349));u||(jn&127)!==0||oh(l,a,n)}return n}function oh(e,a,n){e.flags|=16384,e={getSnapshot:a,value:n},a=He.updateQueue,a===null?(a=Bi(),He.updateQueue=a,a.stores=[e]):(n=a.stores,n===null?a.stores=[e]:n.push(e))}function ch(e,a,n,l){a.value=n,a.getSnapshot=l,dh(a)&&fh(e)}function uh(e,a,n){return n(function(){dh(a)&&fh(e)})}function dh(e){var a=e.getSnapshot;e=e.value;try{var n=a();return!ya(e,n)}catch{return!0}}function fh(e){var a=Ss(e,2);a!==null&&pa(a,e,2)}function wu(e){var a=ra();if(typeof e=="function"){var n=e;if(e=n(),Rs){qt(!0);try{n()}finally{qt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},a}function mh(e,a,n,l){return e.baseState=n,Nu(e,gt,typeof l=="function"?l:bn)}function Gj(e,a,n,l,c){if(Yi(e))throw Error(o(485));if(e=a.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};L.T!==null?n(!0):u.isTransition=!1,l(u),n=a.pending,n===null?(u.next=a.pending=u,hh(a,u)):(u.next=n.next,a.pending=n.next=u)}}function hh(e,a){var n=a.action,l=a.payload,c=e.state;if(a.isTransition){var u=L.T,y={};L.T=y;try{var C=n(c,l),P=L.S;P!==null&&P(y,C),ph(e,a,C)}catch(Z){Cu(e,a,Z)}finally{u!==null&&y.types!==null&&(u.types=y.types),L.T=u}}else try{u=n(c,l),ph(e,a,u)}catch(Z){Cu(e,a,Z)}}function ph(e,a,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){xh(e,a,l)},function(l){return Cu(e,a,l)}):xh(e,a,n)}function xh(e,a,n){a.status="fulfilled",a.value=n,gh(a),e.state=n,a=e.pending,a!==null&&(n=a.next,n===a?e.pending=null:(n=n.next,a.next=n,hh(e,n)))}function Cu(e,a,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=n,gh(a),a=a.next;while(a!==l)}e.action=null}function gh(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function yh(e,a){return a}function vh(e,a){if(et){var n=bt.formState;if(n!==null){e:{var l=He;if(et){if(St){t:{for(var c=St,u=ka;c.nodeType!==8;){if(!u){c=null;break t}if(c=za(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){St=za(c.nextSibling),l=c.data==="F!";break e}}Hn(l)}l=!1}l&&(a=n[0])}}return n=ra(),n.memoizedState=n.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:a},n.queue=l,n=Ih.bind(null,He,l),l.dispatch=n,l=wu(!1),u=Ou.bind(null,He,!1,l.queue),l=ra(),c={state:a,dispatch:null,action:e,pending:null},l.queue=c,n=Gj.bind(null,He,c,u,n),c.dispatch=n,l.memoizedState=e,[a,n,!1]}function jh(e){var a=_t();return bh(a,gt,e)}function bh(e,a,n){if(a=Nu(e,a,yh)[0],e=Hi(bn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Nr(a)}catch(y){throw y===gl?_i:y}else l=a;a=_t();var c=a.queue,u=c.dispatch;return n!==a.memoizedState&&(He.flags|=2048,Nl(9,{destroy:void 0},Yj.bind(null,c,n),null)),[l,u,e]}function Yj(e,a){e.action=a}function Nh(e){var a=_t(),n=gt;if(n!==null)return bh(a,n,e);_t(),a=a.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[a,l,!1]}function Nl(e,a,n,l){return e={tag:e,create:n,deps:l,inst:a,next:null},a=He.updateQueue,a===null&&(a=Bi(),He.updateQueue=a),n=a.lastEffect,n===null?a.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,a.lastEffect=e),e}function Sh(){return _t().memoizedState}function Vi(e,a,n,l){var c=ra();He.flags|=e,c.memoizedState=Nl(1|a,{destroy:void 0},n,l===void 0?null:l)}function Gi(e,a,n,l){var c=_t();l=l===void 0?null:l;var u=c.memoizedState.inst;gt!==null&&l!==null&&xu(l,gt.memoizedState.deps)?c.memoizedState=Nl(a,u,n,l):(He.flags|=e,c.memoizedState=Nl(1|a,u,n,l))}function wh(e,a){Vi(8390656,8,e,a)}function Au(e,a){Gi(2048,8,e,a)}function $j(e){He.flags|=4;var a=He.updateQueue;if(a===null)a=Bi(),He.updateQueue=a,a.events=[e];else{var n=a.events;n===null?a.events=[e]:n.push(e)}}function Ch(e){var a=_t().memoizedState;return $j({ref:a,nextImpl:e}),function(){if((it&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function Ah(e,a){return Gi(4,2,e,a)}function Eh(e,a){return Gi(4,4,e,a)}function Th(e,a){if(typeof a=="function"){e=e();var n=a(e);return function(){typeof n=="function"?n():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Dh(e,a,n){n=n!=null?n.concat([e]):null,Gi(4,4,Th.bind(null,a,e),n)}function Eu(){}function Mh(e,a){var n=_t();a=a===void 0?null:a;var l=n.memoizedState;return a!==null&&xu(a,l[1])?l[0]:(n.memoizedState=[e,a],e)}function Oh(e,a){var n=_t();a=a===void 0?null:a;var l=n.memoizedState;if(a!==null&&xu(a,l[1]))return l[0];if(l=e(),Rs){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[l,a],l}function Tu(e,a,n){return n===void 0||(jn&1073741824)!==0&&(We&261930)===0?e.memoizedState=a:(e.memoizedState=n,e=Rp(),He.lanes|=e,Wn|=e,n)}function Rh(e,a,n,l){return ya(n,a)?n:vl.current!==null?(e=Tu(e,n,l),ya(e,a)||(zt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(We&261930)===0?(zt=!0,e.memoizedState=n):(e=Rp(),He.lanes|=e,Wn|=e,a)}function _h(e,a,n,l,c){var u=X.p;X.p=u!==0&&8>u?u:8;var y=L.T,C={};L.T=C,Ou(e,!1,a,n);try{var P=c(),Z=L.S;if(Z!==null&&Z(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ne=Fj(P,l);Sr(e,a,ne,wa(e))}else Sr(e,a,l,wa(e))}catch(ce){Sr(e,a,{then:function(){},status:"rejected",reason:ce},wa())}finally{X.p=u,y!==null&&C.types!==null&&(y.types=C.types),L.T=y}}function Qj(){}function Du(e,a,n,l){if(e.tag!==5)throw Error(o(476));var c=Ph(e).queue;_h(e,c,a,V,n===null?Qj:function(){return kh(e),n(l)})}function Ph(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:V},next:null};var n={};return a.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function kh(e){var a=Ph(e);a.next===null&&(a=e.alternate.memoizedState),Sr(e,a.next.queue,{},wa())}function Mu(){return $t(qr)}function Lh(){return _t().memoizedState}function zh(){return _t().memoizedState}function Xj(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var n=wa();e=Yn(n);var l=$n(a,e,n);l!==null&&(pa(l,a,n),yr(l,a,n)),a={cache:lu()},e.payload=a;return}a=a.return}}function Kj(e,a,n){var l=wa();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e)?Uh(a,n):(n=Qc(e,a,n,l),n!==null&&(pa(n,e,l),qh(n,a,l)))}function Ih(e,a,n){var l=wa();Sr(e,a,n,l)}function Sr(e,a,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Uh(a,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=a.lastRenderedReducer,u!==null))try{var y=a.lastRenderedState,C=u(y,n);if(c.hasEagerState=!0,c.eagerState=C,ya(C,y))return Ai(e,a,c,0),bt===null&&Ci(),!1}catch{}finally{}if(n=Qc(e,a,c,l),n!==null)return pa(n,e,l),qh(n,a,l),!0}return!1}function Ou(e,a,n,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yi(e)){if(a)throw Error(o(479))}else a=Qc(e,n,l,2),a!==null&&pa(a,e,2)}function Yi(e){var a=e.alternate;return e===He||a!==null&&a===He}function Uh(e,a){jl=Ui=!0;var n=e.pending;n===null?a.next=a:(a.next=n.next,n.next=a),e.pending=a}function qh(e,a,n){if((n&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,n|=l,a.lanes=n,Gf(e,n)}}var wr={readContext:$t,use:Fi,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};wr.useEffectEvent=Dt;var Bh={readContext:$t,use:Fi,useCallback:function(e,a){return ra().memoizedState=[e,a===void 0?null:a],e},useContext:$t,useEffect:wh,useImperativeHandle:function(e,a,n){n=n!=null?n.concat([e]):null,Vi(4194308,4,Th.bind(null,a,e),n)},useLayoutEffect:function(e,a){return Vi(4194308,4,e,a)},useInsertionEffect:function(e,a){Vi(4,2,e,a)},useMemo:function(e,a){var n=ra();a=a===void 0?null:a;var l=e();if(Rs){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[l,a],l},useReducer:function(e,a,n){var l=ra();if(n!==void 0){var c=n(a);if(Rs){qt(!0);try{n(a)}finally{qt(!1)}}}else c=a;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Kj.bind(null,He,e),[l.memoizedState,e]},useRef:function(e){var a=ra();return e={current:e},a.memoizedState=e},useState:function(e){e=wu(e);var a=e.queue,n=Ih.bind(null,He,a);return a.dispatch=n,[e.memoizedState,n]},useDebugValue:Eu,useDeferredValue:function(e,a){var n=ra();return Tu(n,e,a)},useTransition:function(){var e=wu(!1);return e=_h.bind(null,He,e.queue,!0,!1),ra().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,n){var l=He,c=ra();if(et){if(n===void 0)throw Error(o(407));n=n()}else{if(n=a(),bt===null)throw Error(o(349));(We&127)!==0||oh(l,a,n)}c.memoizedState=n;var u={value:n,getSnapshot:a};return c.queue=u,wh(uh.bind(null,l,u,e),[e]),l.flags|=2048,Nl(9,{destroy:void 0},ch.bind(null,l,u,n,a),null),n},useId:function(){var e=ra(),a=bt.identifierPrefix;if(et){var n=Wa,l=Za;n=(l&~(1<<32-Pt(l)-1)).toString(32)+n,a="_"+a+"R_"+n,n=qi++,0<n&&(a+="H"+n.toString(32)),a+="_"}else n=Hj++,a="_"+a+"r_"+n.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Mu,useFormState:vh,useActionState:vh,useOptimistic:function(e){var a=ra();a.memoizedState=a.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=n,a=Ou.bind(null,He,!0,n),n.dispatch=a,[e,a]},useMemoCache:bu,useCacheRefresh:function(){return ra().memoizedState=Xj.bind(null,He)},useEffectEvent:function(e){var a=ra(),n={impl:e};return a.memoizedState=n,function(){if((it&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Ru={readContext:$t,use:Fi,useCallback:Mh,useContext:$t,useEffect:Au,useImperativeHandle:Dh,useInsertionEffect:Ah,useLayoutEffect:Eh,useMemo:Oh,useReducer:Hi,useRef:Sh,useState:function(){return Hi(bn)},useDebugValue:Eu,useDeferredValue:function(e,a){var n=_t();return Rh(n,gt.memoizedState,e,a)},useTransition:function(){var e=Hi(bn)[0],a=_t().memoizedState;return[typeof e=="boolean"?e:Nr(e),a]},useSyncExternalStore:ih,useId:Lh,useHostTransitionStatus:Mu,useFormState:jh,useActionState:jh,useOptimistic:function(e,a){var n=_t();return mh(n,gt,e,a)},useMemoCache:bu,useCacheRefresh:zh};Ru.useEffectEvent=Ch;var Fh={readContext:$t,use:Fi,useCallback:Mh,useContext:$t,useEffect:Au,useImperativeHandle:Dh,useInsertionEffect:Ah,useLayoutEffect:Eh,useMemo:Oh,useReducer:Su,useRef:Sh,useState:function(){return Su(bn)},useDebugValue:Eu,useDeferredValue:function(e,a){var n=_t();return gt===null?Tu(n,e,a):Rh(n,gt.memoizedState,e,a)},useTransition:function(){var e=Su(bn)[0],a=_t().memoizedState;return[typeof e=="boolean"?e:Nr(e),a]},useSyncExternalStore:ih,useId:Lh,useHostTransitionStatus:Mu,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,a){var n=_t();return gt!==null?mh(n,gt,e,a):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bu,useCacheRefresh:zh};Fh.useEffectEvent=Ch;function _u(e,a,n,l){a=e.memoizedState,n=n(l,a),n=n==null?a:v({},a,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pu={enqueueSetState:function(e,a,n){e=e._reactInternals;var l=wa(),c=Yn(l);c.payload=a,n!=null&&(c.callback=n),a=$n(e,c,l),a!==null&&(pa(a,e,l),yr(a,e,l))},enqueueReplaceState:function(e,a,n){e=e._reactInternals;var l=wa(),c=Yn(l);c.tag=1,c.payload=a,n!=null&&(c.callback=n),a=$n(e,c,l),a!==null&&(pa(a,e,l),yr(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var n=wa(),l=Yn(n);l.tag=2,a!=null&&(l.callback=a),a=$n(e,l,n),a!==null&&(pa(a,e,n),yr(a,e,n))}};function Hh(e,a,n,l,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,y):a.prototype&&a.prototype.isPureReactComponent?!ur(n,l)||!ur(c,u):!0}function Vh(e,a,n,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(n,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(n,l),a.state!==e&&Pu.enqueueReplaceState(a,a.state,null)}function _s(e,a){var n=a;if("ref"in a){n={};for(var l in a)l!=="ref"&&(n[l]=a[l])}if(e=e.defaultProps){n===a&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Gh(e){wi(e)}function Yh(e){console.error(e)}function $h(e){wi(e)}function $i(e,a){try{var n=e.onUncaughtError;n(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Qh(e,a,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ku(e,a,n){return n=Yn(n),n.tag=3,n.payload={element:null},n.callback=function(){$i(e,a)},n}function Xh(e){return e=Yn(e),e.tag=3,e}function Kh(e,a,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){Qh(a,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Qh(a,n,l),typeof c!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function Zj(e,a,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=n.alternate,a!==null&&hl(a,n,c,!0),n=ja.current,n!==null){switch(n.tag){case 31:case 13:return La===null?lo():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Pi?n.flags|=16384:(a=n.updateQueue,a===null?n.updateQueue=new Set([l]):a.add(l),rd(e,l,c)),!1;case 22:return n.flags|=65536,l===Pi?n.flags|=16384:(a=n.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=a):(n=a.retryQueue,n===null?a.retryQueue=new Set([l]):n.add(l)),rd(e,l,c)),!1}throw Error(o(435,n.tag))}return rd(e,l,c),lo(),!1}if(et)return a=ja.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=c,l!==eu&&(e=Error(o(422),{cause:l}),mr(Ra(e,n)))):(l!==eu&&(a=Error(o(423),{cause:l}),mr(Ra(a,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ra(l,n),c=ku(e.stateNode,l,c),du(e,c),Mt!==4&&(Mt=2)),!1;var u=Error(o(520),{cause:l});if(u=Ra(u,n),Rr===null?Rr=[u]:Rr.push(u),Mt!==4&&(Mt=2),a===null)return!0;l=Ra(l,n),n=a;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=ku(n.stateNode,l,e),du(n,e),!1;case 1:if(a=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Xh(c),Kh(c,e,n,l),du(n,c),!1}n=n.return}while(n!==null);return!1}var Lu=Error(o(461)),zt=!1;function Qt(e,a,n,l){a.child=e===null?eh(a,null,n,l):Os(a,e.child,n,l)}function Zh(e,a,n,l,c){n=n.render;var u=a.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return Es(a),l=gu(e,a,n,y,u,c),C=yu(),e!==null&&!zt?(vu(e,a,c),Nn(e,a,c)):(et&&C&&Wc(a),a.flags|=1,Qt(e,a,l,c),a.child)}function Wh(e,a,n,l,c){if(e===null){var u=n.type;return typeof u=="function"&&!Xc(u)&&u.defaultProps===void 0&&n.compare===null?(a.tag=15,a.type=u,Jh(e,a,u,l,c)):(e=Ti(n.type,null,l,a,a.mode,c),e.ref=a.ref,e.return=a,a.child=e)}if(u=e.child,!Vu(e,c)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:ur,n(y,l)&&e.ref===a.ref)return Nn(e,a,c)}return a.flags|=1,e=xn(u,l),e.ref=a.ref,e.return=a,a.child=e}function Jh(e,a,n,l,c){if(e!==null){var u=e.memoizedProps;if(ur(u,l)&&e.ref===a.ref)if(zt=!1,a.pendingProps=l=u,Vu(e,c))(e.flags&131072)!==0&&(zt=!0);else return a.lanes=e.lanes,Nn(e,a,c)}return zu(e,a,n,l,c)}function ep(e,a,n,l){var c=l.children,u=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=a.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,a.child=null;return tp(e,a,u,n,l)}if((n&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ri(a,u!==null?u.cachePool:null),u!==null?nh(a,u):mu(),sh(a);else return l=a.lanes=536870912,tp(e,a,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(Ri(a,u.cachePool),nh(a,u),Xn(),a.memoizedState=null):(e!==null&&Ri(a,null),mu(),Xn());return Qt(e,a,c,n),a.child}function Cr(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function tp(e,a,n,l,c){var u=iu();return u=u===null?null:{parent:kt._currentValue,pool:u},a.memoizedState={baseLanes:n,cachePool:u},e!==null&&Ri(a,null),mu(),sh(a),e!==null&&hl(e,a,l,!0),a.childLanes=c,null}function Qi(e,a){return a=Ki({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function ap(e,a,n){return Os(a,e.child,null,n),e=Qi(a,a.pendingProps),e.flags|=2,ba(a),a.memoizedState=null,e}function Wj(e,a,n){var l=a.pendingProps,c=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(et){if(l.mode==="hidden")return e=Qi(a,l),a.lanes=536870912,Cr(null,e);if(pu(a),(e=St)?(e=hx(e,ka),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},n=Um(e),n.return=a,a.child=n,Yt=a,St=null)):e=null,e===null)throw Hn(a);return a.lanes=536870912,null}return Qi(a,l)}var u=e.memoizedState;if(u!==null){var y=u.dehydrated;if(pu(a),c)if(a.flags&256)a.flags&=-257,a=ap(e,a,n);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(o(558));else if(zt||hl(e,a,n,!1),c=(n&e.childLanes)!==0,zt||c){if(l=bt,l!==null&&(y=Yf(l,n),y!==0&&y!==u.retryLane))throw u.retryLane=y,Ss(e,y),pa(l,e,y),Lu;lo(),a=ap(e,a,n)}else e=u.treeContext,St=za(y.nextSibling),Yt=a,et=!0,Fn=null,ka=!1,e!==null&&Fm(a,e),a=Qi(a,l),a.flags|=4096;return a}return e=xn(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Xi(e,a){var n=a.ref;if(n===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(a.flags|=4194816)}}function zu(e,a,n,l,c){return Es(a),n=gu(e,a,n,l,void 0,c),l=yu(),e!==null&&!zt?(vu(e,a,c),Nn(e,a,c)):(et&&l&&Wc(a),a.flags|=1,Qt(e,a,n,c),a.child)}function np(e,a,n,l,c,u){return Es(a),a.updateQueue=null,n=rh(a,l,n,c),lh(e),l=yu(),e!==null&&!zt?(vu(e,a,u),Nn(e,a,u)):(et&&l&&Wc(a),a.flags|=1,Qt(e,a,n,u),a.child)}function sp(e,a,n,l,c){if(Es(a),a.stateNode===null){var u=ul,y=n.contextType;typeof y=="object"&&y!==null&&(u=$t(y)),u=new n(l,u),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Pu,a.stateNode=u,u._reactInternals=a,u=a.stateNode,u.props=l,u.state=a.memoizedState,u.refs={},cu(a),y=n.contextType,u.context=typeof y=="object"&&y!==null?$t(y):ul,u.state=a.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(_u(a,n,y,l),u.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&Pu.enqueueReplaceState(u,u.state,null),jr(a,l,u,c),vr(),u.state=a.memoizedState),typeof u.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){u=a.stateNode;var C=a.memoizedProps,P=_s(n,C);u.props=P;var Z=u.context,ne=n.contextType;y=ul,typeof ne=="object"&&ne!==null&&(y=$t(ne));var ce=n.getDerivedStateFromProps;ne=typeof ce=="function"||typeof u.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,ne||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C||Z!==y)&&Vh(a,u,l,y),Gn=!1;var W=a.memoizedState;u.state=W,jr(a,l,u,c),vr(),Z=a.memoizedState,C||W!==Z||Gn?(typeof ce=="function"&&(_u(a,n,ce,l),Z=a.memoizedState),(P=Gn||Hh(a,n,P,l,W,Z,y))?(ne||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(a.flags|=4194308)):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=Z),u.props=l,u.state=Z,u.context=y,l=P):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{u=a.stateNode,uu(e,a),y=a.memoizedProps,ne=_s(n,y),u.props=ne,ce=a.pendingProps,W=u.context,Z=n.contextType,P=ul,typeof Z=="object"&&Z!==null&&(P=$t(Z)),C=n.getDerivedStateFromProps,(Z=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==ce||W!==P)&&Vh(a,u,l,P),Gn=!1,W=a.memoizedState,u.state=W,jr(a,l,u,c),vr();var J=a.memoizedState;y!==ce||W!==J||Gn||e!==null&&e.dependencies!==null&&Mi(e.dependencies)?(typeof C=="function"&&(_u(a,n,C,l),J=a.memoizedState),(ne=Gn||Hh(a,n,ne,l,W,J,P)||e!==null&&e.dependencies!==null&&Mi(e.dependencies))?(Z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,J,P),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,J,P)),typeof u.componentDidUpdate=="function"&&(a.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=J),u.props=l,u.state=J,u.context=P,l=ne):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(a.flags|=1024),l=!1)}return u=l,Xi(e,a),l=(a.flags&128)!==0,u||l?(u=a.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),a.flags|=1,e!==null&&l?(a.child=Os(a,e.child,null,c),a.child=Os(a,null,n,c)):Qt(e,a,n,c),a.memoizedState=u.state,e=a.child):e=Nn(e,a,c),e}function lp(e,a,n,l){return Cs(),a.flags|=256,Qt(e,a,n,l),a.child}var Iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(e){return{baseLanes:e,cachePool:Qm()}}function qu(e,a,n){return e=e!==null?e.childLanes&~n:0,a&&(e|=Sa),e}function rp(e,a,n){var l=a.pendingProps,c=!1,u=(a.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),y&&(c=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,e===null){if(et){if(c?Qn(a):Xn(),(e=St)?(e=hx(e,ka),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},n=Um(e),n.return=a,a.child=n,Yt=a,St=null)):e=null,e===null)throw Hn(a);return Nd(e)?a.lanes=32:a.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(Xn(),c=a.mode,C=Ki({mode:"hidden",children:C},c),l=ws(l,c,n,null),C.return=a,l.return=a,C.sibling=l,a.child=C,l=a.child,l.memoizedState=Uu(n),l.childLanes=qu(e,y,n),a.memoizedState=Iu,Cr(null,l)):(Qn(a),Bu(a,C))}var P=e.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(u)a.flags&256?(Qn(a),a.flags&=-257,a=Fu(e,a,n)):a.memoizedState!==null?(Xn(),a.child=e.child,a.flags|=128,a=null):(Xn(),C=l.fallback,c=a.mode,l=Ki({mode:"visible",children:l.children},c),C=ws(C,c,n,null),C.flags|=2,l.return=a,C.return=a,l.sibling=C,a.child=l,Os(a,e.child,null,n),l=a.child,l.memoizedState=Uu(n),l.childLanes=qu(e,y,n),a.memoizedState=Iu,a=Cr(null,l));else if(Qn(a),Nd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var Z=y.dgst;y=Z,l=Error(o(419)),l.stack="",l.digest=y,mr({value:l,source:null,stack:null}),a=Fu(e,a,n)}else if(zt||hl(e,a,n,!1),y=(n&e.childLanes)!==0,zt||y){if(y=bt,y!==null&&(l=Yf(y,n),l!==0&&l!==P.retryLane))throw P.retryLane=l,Ss(e,l),pa(y,e,l),Lu;bd(C)||lo(),a=Fu(e,a,n)}else bd(C)?(a.flags|=192,a.child=e.child,a=null):(e=P.treeContext,St=za(C.nextSibling),Yt=a,et=!0,Fn=null,ka=!1,e!==null&&Fm(a,e),a=Bu(a,l.children),a.flags|=4096);return a}return c?(Xn(),C=l.fallback,c=a.mode,P=e.child,Z=P.sibling,l=xn(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,Z!==null?C=xn(Z,C):(C=ws(C,c,n,null),C.flags|=2),C.return=a,l.return=a,l.sibling=C,a.child=l,Cr(null,l),l=a.child,C=e.child.memoizedState,C===null?C=Uu(n):(c=C.cachePool,c!==null?(P=kt._currentValue,c=c.parent!==P?{parent:P,pool:P}:c):c=Qm(),C={baseLanes:C.baseLanes|n,cachePool:c}),l.memoizedState=C,l.childLanes=qu(e,y,n),a.memoizedState=Iu,Cr(e.child,l)):(Qn(a),n=e.child,e=n.sibling,n=xn(n,{mode:"visible",children:l.children}),n.return=a,n.sibling=null,e!==null&&(y=a.deletions,y===null?(a.deletions=[e],a.flags|=16):y.push(e)),a.child=n,a.memoizedState=null,n)}function Bu(e,a){return a=Ki({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Ki(e,a){return e=va(22,e,null,a),e.lanes=0,e}function Fu(e,a,n){return Os(a,e.child,null,n),e=Bu(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function ip(e,a,n){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),nu(e.return,a,n)}function Hu(e,a,n,l,c,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:u}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=u)}function op(e,a,n){var l=a.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var y=Rt.current,C=(y&2)!==0;if(C?(y=y&1|2,a.flags|=128):y&=1,de(Rt,y),Qt(e,a,l,n),l=et?fr:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,n,a);else if(e.tag===19)ip(e,n,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=a.child,c=null;n!==null;)e=n.alternate,e!==null&&Ii(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=a.child,a.child=null):(c=n.sibling,n.sibling=null),Hu(a,!1,c,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=a.child,a.child=null;c!==null;){if(e=c.alternate,e!==null&&Ii(e)===null){a.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Hu(a,!0,n,null,u,l);break;case"together":Hu(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Nn(e,a,n){if(e!==null&&(a.dependencies=e.dependencies),Wn|=a.lanes,(n&a.childLanes)===0)if(e!==null){if(hl(e,a,n,!1),(n&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,n=xn(e,e.pendingProps),a.child=n,n.return=a;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=a;n.sibling=null}return a.child}function Vu(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Mi(e)))}function Jj(e,a,n){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Vn(a,kt,e.memoizedState.cache),Cs();break;case 27:case 5:ve(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Vn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,pu(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Qn(a),a.flags|=128,null):(n&a.child.childLanes)!==0?rp(e,a,n):(Qn(a),e=Nn(e,a,n),e!==null?e.sibling:null);Qn(a);break;case 19:var c=(e.flags&128)!==0;if(l=(n&a.childLanes)!==0,l||(hl(e,a,n,!1),l=(n&a.childLanes)!==0),c){if(l)return op(e,a,n);a.flags|=128}if(c=a.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),de(Rt,Rt.current),l)break;return null;case 22:return a.lanes=0,ep(e,a,n,a.pendingProps);case 24:Vn(a,kt,e.memoizedState.cache)}return Nn(e,a,n)}function cp(e,a,n){if(e!==null)if(e.memoizedProps!==a.pendingProps)zt=!0;else{if(!Vu(e,n)&&(a.flags&128)===0)return zt=!1,Jj(e,a,n);zt=(e.flags&131072)!==0}else zt=!1,et&&(a.flags&1048576)!==0&&Bm(a,fr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=Ds(a.elementType),a.type=e,typeof e=="function")Xc(e)?(l=_s(e,l),a.tag=1,a=sp(null,a,e,l,n)):(a.tag=0,a=zu(null,a,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===M){a.tag=11,a=Zh(null,a,e,l,n);break e}else if(c===z){a.tag=14,a=Wh(null,a,e,l,n);break e}}throw a=Q(e)||e,Error(o(306,a,""))}}return a;case 0:return zu(e,a,a.type,a.pendingProps,n);case 1:return l=a.type,c=_s(l,a.pendingProps),sp(e,a,l,c,n);case 3:e:{if(Ce(a,a.stateNode.containerInfo),e===null)throw Error(o(387));l=a.pendingProps;var u=a.memoizedState;c=u.element,uu(e,a),jr(a,l,null,n);var y=a.memoizedState;if(l=y.cache,Vn(a,kt,l),l!==u.cache&&su(a,[kt],n,!0),vr(),l=y.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=u,a.memoizedState=u,a.flags&256){a=lp(e,a,l,n);break e}else if(l!==c){c=Ra(Error(o(424)),a),mr(c),a=lp(e,a,l,n);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=za(e.firstChild),Yt=a,et=!0,Fn=null,ka=!0,n=eh(a,null,l,n),a.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Cs(),l===c){a=Nn(e,a,n);break e}Qt(e,a,l,n)}a=a.child}return a;case 26:return Xi(e,a),e===null?(n=jx(a.type,null,a.pendingProps,null))?a.memoizedState=n:et||(n=a.type,e=a.pendingProps,l=mo(he.current).createElement(n),l[Gt]=a,l[ca]=e,Xt(l,n,e),Ht(l),a.stateNode=l):a.memoizedState=jx(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return ve(a),e===null&&et&&(l=a.stateNode=gx(a.type,a.pendingProps,he.current),Yt=a,ka=!0,c=St,ns(a.type)?(Sd=c,St=za(l.firstChild)):St=c),Qt(e,a,a.pendingProps.children,n),Xi(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&et&&((c=l=St)&&(l=Db(l,a.type,a.pendingProps,ka),l!==null?(a.stateNode=l,Yt=a,St=za(l.firstChild),ka=!1,c=!0):c=!1),c||Hn(a)),ve(a),c=a.type,u=a.pendingProps,y=e!==null?e.memoizedProps:null,l=u.children,yd(c,u)?l=null:y!==null&&yd(c,y)&&(a.flags|=32),a.memoizedState!==null&&(c=gu(e,a,Vj,null,null,n),qr._currentValue=c),Xi(e,a),Qt(e,a,l,n),a.child;case 6:return e===null&&et&&((e=n=St)&&(n=Mb(n,a.pendingProps,ka),n!==null?(a.stateNode=n,Yt=a,St=null,e=!0):e=!1),e||Hn(a)),null;case 13:return rp(e,a,n);case 4:return Ce(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=Os(a,null,l,n):Qt(e,a,l,n),a.child;case 11:return Zh(e,a,a.type,a.pendingProps,n);case 7:return Qt(e,a,a.pendingProps,n),a.child;case 8:return Qt(e,a,a.pendingProps.children,n),a.child;case 12:return Qt(e,a,a.pendingProps.children,n),a.child;case 10:return l=a.pendingProps,Vn(a,a.type,l.value),Qt(e,a,l.children,n),a.child;case 9:return c=a.type._context,l=a.pendingProps.children,Es(a),c=$t(c),l=l(c),a.flags|=1,Qt(e,a,l,n),a.child;case 14:return Wh(e,a,a.type,a.pendingProps,n);case 15:return Jh(e,a,a.type,a.pendingProps,n);case 19:return op(e,a,n);case 31:return Wj(e,a,n);case 22:return ep(e,a,n,a.pendingProps);case 24:return Es(a),l=$t(kt),e===null?(c=iu(),c===null&&(c=bt,u=lu(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),a.memoizedState={parent:l,cache:c},cu(a),Vn(a,kt,c)):((e.lanes&n)!==0&&(uu(e,a),jr(a,null,null,n),vr()),c=e.memoizedState,u=a.memoizedState,c.parent!==l?(c={parent:l,cache:l},a.memoizedState=c,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=c),Vn(a,kt,l)):(l=u.cache,Vn(a,kt,l),l!==c.cache&&su(a,[kt],n,!0))),Qt(e,a,a.pendingProps.children,n),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Sn(e){e.flags|=4}function Gu(e,a,n,l,c){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Lp())e.flags|=8192;else throw Ms=Pi,ou}else e.flags&=-16777217}function up(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cx(a))if(Lp())e.flags|=8192;else throw Ms=Pi,ou}function Zi(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Hf():536870912,e.lanes|=a,Al|=a)}function Ar(e,a){if(!et)switch(e.tailMode){case"hidden":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function wt(e){var a=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(a)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,a}function eb(e,a,n){var l=a.pendingProps;switch(Jc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return n=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),vn(kt),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ml(a)?Sn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tu())),wt(a),null;case 26:var c=a.type,u=a.memoizedState;return e===null?(Sn(a),u!==null?(wt(a),up(a,u)):(wt(a),Gu(a,c,null,l,n))):u?u!==e.memoizedState?(Sn(a),wt(a),up(a,u)):(wt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sn(a),wt(a),Gu(a,c,e,l,n)),null;case 27:if(Ne(a),n=he.current,c=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Sn(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return wt(a),null}e=me.current,ml(a)?Hm(a):(e=gx(c,l,n),a.stateNode=e,Sn(a))}return wt(a),null;case 5:if(Ne(a),c=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Sn(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return wt(a),null}if(u=me.current,ml(a))Hm(a);else{var y=mo(he.current);switch(u){case 1:u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}u[Gt]=a,u[ca]=l;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=u;e:switch(Xt(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sn(a)}}return wt(a),Gu(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,n),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&Sn(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(o(166));if(e=he.current,ml(a)){if(e=a.stateNode,n=a.memoizedProps,l=null,c=Yt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Gt]=a,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||rx(e.nodeValue,n)),e||Hn(a,!0)}else e=mo(e).createTextNode(l),e[Gt]=a,a.stateNode=e}return wt(a),null;case 31:if(n=a.memoizedState,e===null||e.memoizedState!==null){if(l=ml(a),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Gt]=a}else Cs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),e=!1}else n=tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return a.flags&256?(ba(a),a):(ba(a),null);if((a.flags&128)!==0)throw Error(o(558))}return wt(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ml(a),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Gt]=a}else Cs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),c=!1}else c=tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return a.flags&256?(ba(a),a):(ba(a),null)}return ba(a),(a.flags&128)!==0?(a.lanes=n,a):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=a.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),n!==e&&n&&(a.child.flags|=8192),Zi(a,a.updateQueue),wt(a),null);case 4:return Y(),e===null&&md(a.stateNode.containerInfo),wt(a),null;case 10:return vn(a.type),wt(a),null;case 19:if(ee(Rt),l=a.memoizedState,l===null)return wt(a),null;if(c=(a.flags&128)!==0,u=l.rendering,u===null)if(c)Ar(l,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(u=Ii(e),u!==null){for(a.flags|=128,Ar(l,!1),e=u.updateQueue,a.updateQueue=e,Zi(a,e),a.subtreeFlags=0,e=n,n=a.child;n!==null;)Im(n,e),n=n.sibling;return de(Rt,Rt.current&1|2),et&&gn(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&Ut()>ao&&(a.flags|=128,c=!0,Ar(l,!1),a.lanes=4194304)}else{if(!c)if(e=Ii(u),e!==null){if(a.flags|=128,c=!0,e=e.updateQueue,a.updateQueue=e,Zi(a,e),Ar(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!et)return wt(a),null}else 2*Ut()-l.renderingStartTime>ao&&n!==536870912&&(a.flags|=128,c=!0,Ar(l,!1),a.lanes=4194304);l.isBackwards?(u.sibling=a.child,a.child=u):(e=l.last,e!==null?e.sibling=u:a.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,n=Rt.current,de(Rt,c?n&1|2:n&1),et&&gn(a,l.treeForkCount),e):(wt(a),null);case 22:case 23:return ba(a),hu(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(n&536870912)!==0&&(a.flags&128)===0&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),n=a.updateQueue,n!==null&&Zi(a,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==n&&(a.flags|=2048),e!==null&&ee(Ts),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),vn(kt),wt(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function tb(e,a){switch(Jc(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return vn(kt),Y(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ne(a),null;case 31:if(a.memoizedState!==null){if(ba(a),a.alternate===null)throw Error(o(340));Cs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(ba(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Cs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ee(Rt),null;case 4:return Y(),null;case 10:return vn(a.type),null;case 22:case 23:return ba(a),hu(),e!==null&&ee(Ts),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return vn(kt),null;case 25:return null;default:return null}}function dp(e,a){switch(Jc(a),a.tag){case 3:vn(kt),Y();break;case 26:case 27:case 5:Ne(a);break;case 4:Y();break;case 31:a.memoizedState!==null&&ba(a);break;case 13:ba(a);break;case 19:ee(Rt);break;case 10:vn(a.type);break;case 22:case 23:ba(a),hu(),e!==null&&ee(Ts);break;case 24:vn(kt)}}function Er(e,a){try{var n=a.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var u=n.create,y=n.inst;l=u(),y.destroy=l}n=n.next}while(n!==c)}}catch(C){ht(a,a.return,C)}}function Kn(e,a,n){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&e)===e){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,c=a;var P=n,Z=C;try{Z()}catch(ne){ht(c,P,ne)}}}l=l.next}while(l!==u)}}catch(ne){ht(a,a.return,ne)}}function fp(e){var a=e.updateQueue;if(a!==null){var n=e.stateNode;try{ah(a,n)}catch(l){ht(e,e.return,l)}}}function mp(e,a,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ht(e,a,l)}}function Tr(e,a){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){ht(e,a,c)}}function Ja(e,a){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){ht(e,a,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){ht(e,a,c)}else n.current=null}function hp(e){var a=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){ht(e,e.return,c)}}function Yu(e,a,n){try{var l=e.stateNode;Sb(l,e.type,n,a),l[ca]=a}catch(c){ht(e,e.return,c)}}function pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ns(e.type)||e.tag===4}function $u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,a,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,a):(a=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.appendChild(e),n=n._reactRootContainer,n!=null||a.onclick!==null||(a.onclick=hn));else if(l!==4&&(l===27&&ns(e.type)&&(n=e.stateNode,a=null),e=e.child,e!==null))for(Qu(e,a,n),e=e.sibling;e!==null;)Qu(e,a,n),e=e.sibling}function Wi(e,a,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?n.insertBefore(e,a):n.appendChild(e);else if(l!==4&&(l===27&&ns(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wi(e,a,n),e=e.sibling;e!==null;)Wi(e,a,n),e=e.sibling}function xp(e){var a=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Xt(a,l,n),a[Gt]=e,a[ca]=n}catch(u){ht(e,e.return,u)}}var wn=!1,It=!1,Xu=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function ab(e,a){if(e=e.containerInfo,xd=jo,e=Dm(e),Fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,C=-1,P=-1,Z=0,ne=0,ce=e,W=null;t:for(;;){for(var J;ce!==n||c!==0&&ce.nodeType!==3||(C=y+c),ce!==u||l!==0&&ce.nodeType!==3||(P=y+l),ce.nodeType===3&&(y+=ce.nodeValue.length),(J=ce.firstChild)!==null;)W=ce,ce=J;for(;;){if(ce===e)break t;if(W===n&&++Z===c&&(C=y),W===u&&++ne===l&&(P=y),(J=ce.nextSibling)!==null)break;ce=W,W=ce.parentNode}ce=J}n=C===-1||P===-1?null:{start:C,end:P}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},jo=!1,Vt=a;Vt!==null;)if(a=Vt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Vt=e;else for(;Vt!==null;){switch(a=Vt,u=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=a,c=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Ae=_s(n.type,c);e=l.getSnapshotBeforeUpdate(Ae,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ie){ht(n,n.return,Ie)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,n=e.nodeType,n===9)jd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,Vt=e;break}Vt=a.return}}function yp(e,a,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:An(e,n),l&4&&Er(5,n);break;case 1:if(An(e,n),l&4)if(e=n.stateNode,a===null)try{e.componentDidMount()}catch(y){ht(n,n.return,y)}else{var c=_s(n.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(c,a,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ht(n,n.return,y)}}l&64&&fp(n),l&512&&Tr(n,n.return);break;case 3:if(An(e,n),l&64&&(e=n.updateQueue,e!==null)){if(a=null,n.child!==null)switch(n.child.tag){case 27:case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}try{ah(e,a)}catch(y){ht(n,n.return,y)}}break;case 27:a===null&&l&4&&xp(n);case 26:case 5:An(e,n),a===null&&l&4&&hp(n),l&512&&Tr(n,n.return);break;case 12:An(e,n);break;case 31:An(e,n),l&4&&bp(e,n);break;case 13:An(e,n),l&4&&Np(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=db.bind(null,n),Ob(e,n))));break;case 22:if(l=n.memoizedState!==null||wn,!l){a=a!==null&&a.memoizedState!==null||It,c=wn;var u=It;wn=l,(It=a)&&!u?En(e,n,(n.subtreeFlags&8772)!==0):An(e,n),wn=c,It=u}break;case 30:break;default:An(e,n)}}function vp(e){var a=e.alternate;a!==null&&(e.alternate=null,vp(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Cc(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,da=!1;function Cn(e,a,n){for(n=n.child;n!==null;)jp(e,a,n),n=n.sibling}function jp(e,a,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ze,n)}catch{}switch(n.tag){case 26:It||Ja(n,a),Cn(e,a,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:It||Ja(n,a);var l=Ct,c=da;ns(n.type)&&(Ct=n.stateNode,da=!1),Cn(e,a,n),zr(n.stateNode),Ct=l,da=c;break;case 5:It||Ja(n,a);case 6:if(l=Ct,c=da,Ct=null,Cn(e,a,n),Ct=l,da=c,Ct!==null)if(da)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(n.stateNode)}catch(u){ht(n,a,u)}else try{Ct.removeChild(n.stateNode)}catch(u){ht(n,a,u)}break;case 18:Ct!==null&&(da?(e=Ct,fx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pl(e)):fx(Ct,n.stateNode));break;case 4:l=Ct,c=da,Ct=n.stateNode.containerInfo,da=!0,Cn(e,a,n),Ct=l,da=c;break;case 0:case 11:case 14:case 15:Kn(2,n,a),It||Kn(4,n,a),Cn(e,a,n);break;case 1:It||(Ja(n,a),l=n.stateNode,typeof l.componentWillUnmount=="function"&&mp(n,a,l)),Cn(e,a,n);break;case 21:Cn(e,a,n);break;case 22:It=(l=It)||n.memoizedState!==null,Cn(e,a,n),It=l;break;default:Cn(e,a,n)}}function bp(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pl(e)}catch(n){ht(a,a.return,n)}}}function Np(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(n){ht(a,a.return,n)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new gp),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new gp),a;default:throw Error(o(435,e.tag))}}function Ji(e,a){var n=nb(e);a.forEach(function(l){if(!n.has(l)){n.add(l);var c=fb.bind(null,e,l);l.then(c,c)}})}function fa(e,a){var n=a.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],u=e,y=a,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(ns(C.type)){Ct=C.stateNode,da=!1;break e}break;case 5:Ct=C.stateNode,da=!1;break e;case 3:case 4:Ct=C.stateNode.containerInfo,da=!0;break e}C=C.return}if(Ct===null)throw Error(o(160));jp(u,y,c),Ct=null,da=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Sp(a,e),a=a.sibling}var Va=null;function Sp(e,a){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fa(a,e),ma(e),l&4&&(Kn(3,e,e.return),Er(3,e),Kn(5,e,e.return));break;case 1:fa(a,e),ma(e),l&512&&(It||n===null||Ja(n,n.return)),l&64&&wn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Va;if(fa(a,e),ma(e),l&512&&(It||n===null||Ja(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[tr]||u[Gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),Xt(u,l,n),u[Gt]=e,Ht(u),l=u;break e;case"link":var y=Sx("link","href",c).get(l+(n.href||""));if(y){for(var C=0;C<y.length;C++)if(u=y[C],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(C,1);break t}}u=c.createElement(l),Xt(u,l,n),c.head.appendChild(u);break;case"meta":if(y=Sx("meta","content",c).get(l+(n.content||""))){for(C=0;C<y.length;C++)if(u=y[C],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(C,1);break t}}u=c.createElement(l),Xt(u,l,n),c.head.appendChild(u);break;default:throw Error(o(468,l))}u[Gt]=e,Ht(u),l=u}e.stateNode=l}else wx(c,e.type,e.stateNode);else e.stateNode=Nx(c,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?wx(c,e.type,e.stateNode):Nx(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,n.memoizedProps)}break;case 27:fa(a,e),ma(e),l&512&&(It||n===null||Ja(n,n.return)),n!==null&&l&4&&Yu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fa(a,e),ma(e),l&512&&(It||n===null||Ja(n,n.return)),e.flags&32){c=e.stateNode;try{nl(c,"")}catch(Ae){ht(e,e.return,Ae)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Yu(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Xu=!0);break;case 6:if(fa(a,e),ma(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Ae){ht(e,e.return,Ae)}}break;case 3:if(xo=null,c=Va,Va=ho(a.containerInfo),fa(a,e),Va=c,ma(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(a.containerInfo)}catch(Ae){ht(e,e.return,Ae)}Xu&&(Xu=!1,wp(e));break;case 4:l=Va,Va=ho(e.stateNode.containerInfo),fa(a,e),ma(e),Va=l;break;case 12:fa(a,e),ma(e);break;case 31:fa(a,e),ma(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ji(e,l)));break;case 13:fa(a,e),ma(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(to=Ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ji(e,l)));break;case 22:c=e.memoizedState!==null;var P=n!==null&&n.memoizedState!==null,Z=wn,ne=It;if(wn=Z||c,It=ne||P,fa(a,e),It=ne,wn=Z,ma(e),l&8192)e:for(a=e.stateNode,a._visibility=c?a._visibility&-2:a._visibility|1,c&&(n===null||P||wn||It||Ps(e)),n=null,a=e;;){if(a.tag===5||a.tag===26){if(n===null){P=n=a;try{if(u=P.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=P.stateNode;var ce=P.memoizedProps.style,W=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ae){ht(P,P.return,Ae)}}}else if(a.tag===6){if(n===null){P=a;try{P.stateNode.nodeValue=c?"":P.memoizedProps}catch(Ae){ht(P,P.return,Ae)}}}else if(a.tag===18){if(n===null){P=a;try{var J=P.stateNode;c?mx(J,!0):mx(P.stateNode,!1)}catch(Ae){ht(P,P.return,Ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;n===a&&(n=null),a=a.return}n===a&&(n=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Ji(e,n))));break;case 19:fa(a,e),ma(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ji(e,l)));break;case 30:break;case 21:break;default:fa(a,e),ma(e)}}function ma(e){var a=e.flags;if(a&2){try{for(var n,l=e.return;l!==null;){if(pp(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=$u(e);Wi(e,u,c);break;case 5:var y=n.stateNode;n.flags&32&&(nl(y,""),n.flags&=-33);var C=$u(e);Wi(e,C,y);break;case 3:case 4:var P=n.stateNode.containerInfo,Z=$u(e);Qu(e,Z,P);break;default:throw Error(o(161))}}catch(ne){ht(e,e.return,ne)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;wp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function An(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)yp(e,a.alternate,a),a=a.sibling}function Ps(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Kn(4,a,a.return),Ps(a);break;case 1:Ja(a,a.return);var n=a.stateNode;typeof n.componentWillUnmount=="function"&&mp(a,a.return,n),Ps(a);break;case 27:zr(a.stateNode);case 26:case 5:Ja(a,a.return),Ps(a);break;case 22:a.memoizedState===null&&Ps(a);break;case 30:Ps(a);break;default:Ps(a)}e=e.sibling}}function En(e,a,n){for(n=n&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,c=e,u=a,y=u.flags;switch(u.tag){case 0:case 11:case 15:En(c,u,n),Er(4,u);break;case 1:if(En(c,u,n),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){ht(l,l.return,Z)}if(l=u,c=l.updateQueue,c!==null){var C=l.stateNode;try{var P=c.shared.hiddenCallbacks;if(P!==null)for(c.shared.hiddenCallbacks=null,c=0;c<P.length;c++)th(P[c],C)}catch(Z){ht(l,l.return,Z)}}n&&y&64&&fp(u),Tr(u,u.return);break;case 27:xp(u);case 26:case 5:En(c,u,n),n&&l===null&&y&4&&hp(u),Tr(u,u.return);break;case 12:En(c,u,n);break;case 31:En(c,u,n),n&&y&4&&bp(c,u);break;case 13:En(c,u,n),n&&y&4&&Np(c,u);break;case 22:u.memoizedState===null&&En(c,u,n),Tr(u,u.return);break;case 30:break;default:En(c,u,n)}a=a.sibling}}function Ku(e,a){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&hr(n))}function Zu(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&hr(e))}function Ga(e,a,n,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cp(e,a,n,l),a=a.sibling}function Cp(e,a,n,l){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ga(e,a,n,l),c&2048&&Er(9,a);break;case 1:Ga(e,a,n,l);break;case 3:Ga(e,a,n,l),c&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&hr(e)));break;case 12:if(c&2048){Ga(e,a,n,l),e=a.stateNode;try{var u=a.memoizedProps,y=u.id,C=u.onPostCommit;typeof C=="function"&&C(y,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){ht(a,a.return,P)}}else Ga(e,a,n,l);break;case 31:Ga(e,a,n,l);break;case 13:Ga(e,a,n,l);break;case 23:break;case 22:u=a.stateNode,y=a.alternate,a.memoizedState!==null?u._visibility&2?Ga(e,a,n,l):Dr(e,a):u._visibility&2?Ga(e,a,n,l):(u._visibility|=2,Sl(e,a,n,l,(a.subtreeFlags&10256)!==0||!1)),c&2048&&Ku(y,a);break;case 24:Ga(e,a,n,l),c&2048&&Zu(a.alternate,a);break;default:Ga(e,a,n,l)}}function Sl(e,a,n,l,c){for(c=c&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var u=e,y=a,C=n,P=l,Z=y.flags;switch(y.tag){case 0:case 11:case 15:Sl(u,y,C,P,c),Er(8,y);break;case 23:break;case 22:var ne=y.stateNode;y.memoizedState!==null?ne._visibility&2?Sl(u,y,C,P,c):Dr(u,y):(ne._visibility|=2,Sl(u,y,C,P,c)),c&&Z&2048&&Ku(y.alternate,y);break;case 24:Sl(u,y,C,P,c),c&&Z&2048&&Zu(y.alternate,y);break;default:Sl(u,y,C,P,c)}a=a.sibling}}function Dr(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var n=e,l=a,c=l.flags;switch(l.tag){case 22:Dr(n,l),c&2048&&Ku(l.alternate,l);break;case 24:Dr(n,l),c&2048&&Zu(l.alternate,l);break;default:Dr(n,l)}a=a.sibling}}var Mr=8192;function wl(e,a,n){if(e.subtreeFlags&Mr)for(e=e.child;e!==null;)Ap(e,a,n),e=e.sibling}function Ap(e,a,n){switch(e.tag){case 26:wl(e,a,n),e.flags&Mr&&e.memoizedState!==null&&Hb(n,Va,e.memoizedState,e.memoizedProps);break;case 5:wl(e,a,n);break;case 3:case 4:var l=Va;Va=ho(e.stateNode.containerInfo),wl(e,a,n),Va=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Mr,Mr=16777216,wl(e,a,n),Mr=l):wl(e,a,n));break;default:wl(e,a,n)}}function Ep(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Or(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var n=0;n<a.length;n++){var l=a[n];Vt=l,Dp(l,e)}Ep(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tp(e),e=e.sibling}function Tp(e){switch(e.tag){case 0:case 11:case 15:Or(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:Or(e);break;case 12:Or(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,eo(e)):Or(e);break;default:Or(e)}}function eo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var n=0;n<a.length;n++){var l=a[n];Vt=l,Dp(l,e)}Ep(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Kn(8,a,a.return),eo(a);break;case 22:n=a.stateNode,n._visibility&2&&(n._visibility&=-3,eo(a));break;default:eo(a)}e=e.sibling}}function Dp(e,a){for(;Vt!==null;){var n=Vt;switch(n.tag){case 0:case 11:case 15:Kn(8,n,a);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hr(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Vt=l;else e:for(n=e;Vt!==null;){l=Vt;var c=l.sibling,u=l.return;if(vp(l),l===n){Vt=null;break e}if(c!==null){c.return=u,Vt=c;break e}Vt=u}}}var sb={getCacheForType:function(e){var a=$t(kt),n=a.data.get(e);return n===void 0&&(n=e(),a.data.set(e,n)),n},cacheSignal:function(){return $t(kt).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,it=0,bt=null,Xe=null,We=0,mt=0,Na=null,Zn=!1,Cl=!1,Wu=!1,Tn=0,Mt=0,Wn=0,ks=0,Ju=0,Sa=0,Al=0,Rr=null,ha=null,ed=!1,to=0,Mp=0,ao=1/0,no=null,Jn=null,Bt=0,es=null,El=null,Dn=0,td=0,ad=null,Op=null,_r=0,nd=null;function wa(){return(it&2)!==0&&We!==0?We&-We:L.T!==null?cd():$f()}function Rp(){if(Sa===0)if((We&536870912)===0||et){var e=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Sa=e}else Sa=536870912;return e=ja.current,e!==null&&(e.flags|=32),Sa}function pa(e,a,n){(e===bt&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),ts(e,We,Sa,!1)),er(e,n),((it&2)===0||e!==bt)&&(e===bt&&((it&2)===0&&(ks|=n),Mt===4&&ts(e,We,Sa,!1)),en(e))}function _p(e,a,n){if((it&6)!==0)throw Error(o(327));var l=!n&&(a&127)===0&&(a&e.expiredLanes)===0||Jl(e,a),c=l?ob(e,a):ld(e,a,!0),u=l;do{if(c===0){Cl&&!l&&ts(e,a,0,!1);break}else{if(n=e.current.alternate,u&&!rb(n)){c=ld(e,a,!1),u=!1;continue}if(c===2){if(u=a,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var C=e;c=Rr;var P=C.current.memoizedState.isDehydrated;if(P&&(Tl(C,y).flags|=256),y=ld(C,y,!1),y!==2){if(Wu&&!P){C.errorRecoveryDisabledLanes|=u,ks|=u,c=4;break e}u=ha,ha=c,u!==null&&(ha===null?ha=u:ha.push.apply(ha,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){Tl(e,0),ts(e,a,0,!0);break}e:{switch(l=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:ts(l,a,Sa,!Zn);break e;case 2:ha=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(c=to+300-Ut(),10<c)){if(ts(l,a,Sa,!Zn),mi(l,0,!0)!==0)break e;Dn=a,l.timeoutHandle=ux(Pp.bind(null,l,n,ha,no,ed,a,Sa,ks,Al,Zn,u,"Throttled",-0,0),c);break e}Pp(l,n,ha,no,ed,a,Sa,ks,Al,Zn,u,null,-0,0)}}break}while(!0);en(e)}function Pp(e,a,n,l,c,u,y,C,P,Z,ne,ce,W,J){if(e.timeoutHandle=-1,ce=a.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Ap(a,u,ce);var Ae=(u&62914560)===u?to-Ut():(u&4194048)===u?Mp-Ut():0;if(Ae=Vb(ce,Ae),Ae!==null){Dn=u,e.cancelPendingCommit=Ae(Fp.bind(null,e,a,u,n,l,c,y,C,P,ne,ce,null,W,J)),ts(e,u,y,!Z);return}}Fp(e,a,u,n,l,c,y,C,P)}function rb(e){for(var a=e;;){var n=a.tag;if((n===0||n===11||n===15)&&a.flags&16384&&(n=a.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!ya(u(),c))return!1}catch{return!1}}if(n=a.child,a.subtreeFlags&16384&&n!==null)n.return=a,a=n;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ts(e,a,n,l){a&=~Ju,a&=~ks,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var c=a;0<c;){var u=31-Pt(c),y=1<<u;l[u]=-1,c&=~y}n!==0&&Vf(e,n,a)}function so(){return(it&6)===0?(Pr(0),!1):!0}function sd(){if(Xe!==null){if(mt===0)var e=Xe.return;else e=Xe,yn=As=null,ju(e),yl=null,xr=0,e=Xe;for(;e!==null;)dp(e.alternate,e),e=e.return;Xe=null}}function Tl(e,a){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ab(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Dn=0,sd(),bt=e,Xe=n=xn(e.current,null),We=a,mt=0,Na=null,Zn=!1,Cl=Jl(e,a),Wu=!1,Al=Sa=Ju=ks=Wn=Mt=0,ha=Rr=null,ed=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var c=31-Pt(l),u=1<<c;a|=e[c],l&=~u}return Tn=a,Ci(),n}function kp(e,a){He=null,L.H=wr,a===gl||a===_i?(a=Zm(),mt=3):a===ou?(a=Zm(),mt=4):mt=a===Lu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Na=a,Xe===null&&(Mt=1,$i(e,Ra(a,e.current)))}function Lp(){var e=ja.current;return e===null?!0:(We&4194048)===We?La===null:(We&62914560)===We||(We&536870912)!==0?e===La:!1}function zp(){var e=L.H;return L.H=wr,e===null?wr:e}function Ip(){var e=L.A;return L.A=sb,e}function lo(){Mt=4,Zn||(We&4194048)!==We&&ja.current!==null||(Cl=!0),(Wn&134217727)===0&&(ks&134217727)===0||bt===null||ts(bt,We,Sa,!1)}function ld(e,a,n){var l=it;it|=2;var c=zp(),u=Ip();(bt!==e||We!==a)&&(no=null,Tl(e,a)),a=!1;var y=Mt;e:do try{if(mt!==0&&Xe!==null){var C=Xe,P=Na;switch(mt){case 8:sd(),y=6;break e;case 3:case 2:case 9:case 6:ja.current===null&&(a=!0);var Z=mt;if(mt=0,Na=null,Dl(e,C,P,Z),n&&Cl){y=0;break e}break;default:Z=mt,mt=0,Na=null,Dl(e,C,P,Z)}}ib(),y=Mt;break}catch(ne){kp(e,ne)}while(!0);return a&&e.shellSuspendCounter++,yn=As=null,it=l,L.H=c,L.A=u,Xe===null&&(bt=null,We=0,Ci()),y}function ib(){for(;Xe!==null;)Up(Xe)}function ob(e,a){var n=it;it|=2;var l=zp(),c=Ip();bt!==e||We!==a?(no=null,ao=Ut()+500,Tl(e,a)):Cl=Jl(e,a);e:do try{if(mt!==0&&Xe!==null){a=Xe;var u=Na;t:switch(mt){case 1:mt=0,Na=null,Dl(e,a,u,1);break;case 2:case 9:if(Xm(u)){mt=0,Na=null,qp(a);break}a=function(){mt!==2&&mt!==9||bt!==e||(mt=7),en(e)},u.then(a,a);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Xm(u)?(mt=0,Na=null,qp(a)):(mt=0,Na=null,Dl(e,a,u,7));break;case 5:var y=null;switch(Xe.tag){case 26:y=Xe.memoizedState;case 5:case 27:var C=Xe;if(y?Cx(y):C.stateNode.complete){mt=0,Na=null;var P=C.sibling;if(P!==null)Xe=P;else{var Z=C.return;Z!==null?(Xe=Z,ro(Z)):Xe=null}break t}}mt=0,Na=null,Dl(e,a,u,5);break;case 6:mt=0,Na=null,Dl(e,a,u,6);break;case 8:sd(),Mt=6;break e;default:throw Error(o(462))}}cb();break}catch(ne){kp(e,ne)}while(!0);return yn=As=null,L.H=l,L.A=c,it=n,Xe!==null?0:(bt=null,We=0,Ci(),Mt)}function cb(){for(;Xe!==null&&!Fa();)Up(Xe)}function Up(e){var a=cp(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,a===null?ro(e):Xe=a}function qp(e){var a=e,n=a.alternate;switch(a.tag){case 15:case 0:a=np(n,a,a.pendingProps,a.type,void 0,We);break;case 11:a=np(n,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:ju(a);default:dp(n,a),a=Xe=Im(a,Tn),a=cp(n,a,Tn)}e.memoizedProps=e.pendingProps,a===null?ro(e):Xe=a}function Dl(e,a,n,l){yn=As=null,ju(a),yl=null,xr=0;var c=a.return;try{if(Zj(e,c,a,n,We)){Mt=1,$i(e,Ra(n,e.current)),Xe=null;return}}catch(u){if(c!==null)throw Xe=c,u;Mt=1,$i(e,Ra(n,e.current)),Xe=null;return}a.flags&32768?(et||l===1?e=!0:Cl||(We&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=ja.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bp(a,e)):ro(a)}function ro(e){var a=e;do{if((a.flags&32768)!==0){Bp(a,Zn);return}e=a.return;var n=eb(a.alternate,a,Tn);if(n!==null){Xe=n;return}if(a=a.sibling,a!==null){Xe=a;return}Xe=a=e}while(a!==null);Mt===0&&(Mt=5)}function Bp(e,a){do{var n=tb(e.alternate,e);if(n!==null){n.flags&=32767,Xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!a&&(e=e.sibling,e!==null)){Xe=e;return}Xe=e=n}while(e!==null);Mt=6,Xe=null}function Fp(e,a,n,l,c,u,y,C,P){e.cancelPendingCommit=null;do io();while(Bt!==0);if((it&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(u=a.lanes|a.childLanes,u|=$c,F0(e,n,u,y,C,P),e===bt&&(Xe=bt=null,We=0),El=a,es=e,Dn=n,td=u,ad=c,Op=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mb(_,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=X.p,X.p=2,y=it,it|=4;try{ab(e,a,n)}finally{it=y,X.p=c,L.T=l}}Bt=1,Hp(),Vp(),Gp()}}function Hp(){if(Bt===1){Bt=0;var e=es,a=El,n=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=it;it|=4;try{Sp(a,e);var u=gd,y=Dm(e.containerInfo),C=u.focusedElem,P=u.selectionRange;if(y!==C&&C&&C.ownerDocument&&Tm(C.ownerDocument.documentElement,C)){if(P!==null&&Fc(C)){var Z=P.start,ne=P.end;if(ne===void 0&&(ne=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ne,C.value.length);else{var ce=C.ownerDocument||document,W=ce&&ce.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ae=C.textContent.length,Ie=Math.min(P.start,Ae),vt=P.end===void 0?Ie:Math.min(P.end,Ae);!J.extend&&Ie>vt&&(y=vt,vt=Ie,Ie=y);var G=Em(C,Ie),U=Em(C,vt);if(G&&U&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var K=ce.createRange();K.setStart(G.node,G.offset),J.removeAllRanges(),Ie>vt?(J.addRange(K),J.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),J.addRange(K))}}}}for(ce=[],J=C;J=J.parentNode;)J.nodeType===1&&ce.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var ie=ce[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}jo=!!xd,gd=xd=null}finally{it=c,X.p=l,L.T=n}}e.current=a,Bt=2}}function Vp(){if(Bt===2){Bt=0;var e=es,a=El,n=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=it;it|=4;try{yp(e,a.alternate,a)}finally{it=c,X.p=l,L.T=n}}Bt=3}}function Gp(){if(Bt===4||Bt===3){Bt=0,Zt();var e=es,a=El,n=Dn,l=Op;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bt=5:(Bt=0,El=es=null,Yp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Jn=null),Sc(n),a=a.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ze,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=L.T,c=X.p,X.p=2,L.T=null;try{for(var u=e.onRecoverableError,y=0;y<l.length;y++){var C=l[y];u(C.value,{componentStack:C.stack})}}finally{L.T=a,X.p=c}}(Dn&3)!==0&&io(),en(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===nd?_r++:(_r=0,nd=e):_r=0,Pr(0)}}function Yp(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,hr(a)))}function io(){return Hp(),Vp(),Gp(),$p()}function $p(){if(Bt!==5)return!1;var e=es,a=td;td=0;var n=Sc(Dn),l=L.T,c=X.p;try{X.p=32>n?32:n,L.T=null,n=ad,ad=null;var u=es,y=Dn;if(Bt=0,El=es=null,Dn=0,(it&6)!==0)throw Error(o(331));var C=it;if(it|=4,Tp(u.current),Cp(u,u.current,y,n),it=C,Pr(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ze,u)}catch{}return!0}finally{X.p=c,L.T=l,Yp(e,a)}}function Qp(e,a,n){a=Ra(n,a),a=ku(e.stateNode,a,2),e=$n(e,a,2),e!==null&&(er(e,2),en(e))}function ht(e,a,n){if(e.tag===3)Qp(e,e,n);else for(;a!==null;){if(a.tag===3){Qp(a,e,n);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jn===null||!Jn.has(l))){e=Ra(n,e),n=Xh(2),l=$n(a,n,2),l!==null&&(Kh(n,l,a,e),er(l,2),en(l));break}}a=a.return}}function rd(e,a,n){var l=e.pingCache;if(l===null){l=e.pingCache=new lb;var c=new Set;l.set(a,c)}else c=l.get(a),c===void 0&&(c=new Set,l.set(a,c));c.has(n)||(Wu=!0,c.add(n),e=ub.bind(null,e,a,n),a.then(e,e))}function ub(e,a,n){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,bt===e&&(We&n)===n&&(Mt===4||Mt===3&&(We&62914560)===We&&300>Ut()-to?(it&2)===0&&Tl(e,0):Ju|=n,Al===We&&(Al=0)),en(e)}function Xp(e,a){a===0&&(a=Hf()),e=Ss(e,a),e!==null&&(er(e,a),en(e))}function db(e){var a=e.memoizedState,n=0;a!==null&&(n=a.retryLane),Xp(e,n)}function fb(e,a){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(a),Xp(e,n)}function mb(e,a){return dn(e,a)}var oo=null,Ml=null,id=!1,co=!1,od=!1,as=0;function en(e){e!==Ml&&e.next===null&&(Ml===null?oo=Ml=e:Ml=Ml.next=e),co=!0,id||(id=!0,pb())}function Pr(e,a){if(!od&&co){od=!0;do for(var n=!1,l=oo;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var y=l.suspendedLanes,C=l.pingedLanes;u=(1<<31-Pt(42|e)+1)-1,u&=c&~(y&~C),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Jp(l,u))}else u=We,u=mi(l,l===bt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Jl(l,u)||(n=!0,Jp(l,u));l=l.next}while(n);od=!1}}function hb(){Kp()}function Kp(){co=id=!1;var e=0;as!==0&&Cb()&&(e=as);for(var a=Ut(),n=null,l=oo;l!==null;){var c=l.next,u=Zp(l,a);u===0?(l.next=null,n===null?oo=c:n.next=c,c===null&&(Ml=n)):(n=l,(e!==0||(u&3)!==0)&&(co=!0)),l=c}Bt!==0&&Bt!==5||Pr(e),as!==0&&(as=0)}function Zp(e,a){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-Pt(u),C=1<<y,P=c[y];P===-1?((C&n)===0||(C&l)!==0)&&(c[y]=B0(C,a)):P<=a&&(e.expiredLanes|=C),u&=~C}if(a=bt,n=We,n=mi(e,e===a?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===a&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Jl(e,n)){if(a=n&-n,a===e.callbackPriority)return a;switch(l!==null&&rt(l),Sc(n)){case 2:case 8:n=gs;break;case 32:n=_;break;case 268435456:n=xe;break;default:n=_}return l=Wp.bind(null,e),n=dn(n,l),e.callbackPriority=a,e.callbackNode=n,a}return l!==null&&l!==null&&rt(l),e.callbackPriority=2,e.callbackNode=null,2}function Wp(e,a){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var l=We;return l=mi(e,e===bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_p(e,l,a),Zp(e,Ut()),e.callbackNode!=null&&e.callbackNode===n?Wp.bind(null,e):null)}function Jp(e,a){if(io())return null;_p(e,a,!0)}function pb(){Eb(function(){(it&6)!==0?dn(fn,hb):Kp()})}function cd(){if(as===0){var e=pl;e===0&&(e=ft,ft<<=1,(ft&261888)===0&&(ft=256)),as=e}return as}function ex(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gi(""+e)}function tx(e,a){var n=a.ownerDocument.createElement("input");return n.name=a.name,n.value=a.value,e.id&&n.setAttribute("form",e.id),a.parentNode.insertBefore(n,a),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,a,n,l,c){if(a==="submit"&&n&&n.stateNode===c){var u=ex((c[ca]||null).action),y=l.submitter;y&&(a=(a=y[ca]||null)?ex(a.formAction):y.getAttribute("formAction"),a!==null&&(u=a,y=null));var C=new bi("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var P=y?tx(c,y):new FormData(c);Du(n,{pending:!0,data:P,method:c.method,action:u},null,P)}}else typeof u=="function"&&(C.preventDefault(),P=y?tx(c,y):new FormData(c),Du(n,{pending:!0,data:P,method:c.method,action:u},u,P))},currentTarget:c}]})}}for(var ud=0;ud<Yc.length;ud++){var dd=Yc[ud],gb=dd.toLowerCase(),yb=dd[0].toUpperCase()+dd.slice(1);Ha(gb,"on"+yb)}Ha(Rm,"onAnimationEnd"),Ha(_m,"onAnimationIteration"),Ha(Pm,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(Pj,"onTransitionRun"),Ha(kj,"onTransitionStart"),Ha(Lj,"onTransitionCancel"),Ha(km,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kr));function ax(e,a){a=(a&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var u=void 0;if(a)for(var y=l.length-1;0<=y;y--){var C=l[y],P=C.instance,Z=C.currentTarget;if(C=C.listener,P!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(ne){wi(ne)}c.currentTarget=null,u=P}else for(y=0;y<l.length;y++){if(C=l[y],P=C.instance,Z=C.currentTarget,C=C.listener,P!==u&&c.isPropagationStopped())break e;u=C,c.currentTarget=Z;try{u(c)}catch(ne){wi(ne)}c.currentTarget=null,u=P}}}}function Ke(e,a){var n=a[wc];n===void 0&&(n=a[wc]=new Set);var l=e+"__bubble";n.has(l)||(nx(a,e,2,!1),n.add(l))}function fd(e,a,n){var l=0;a&&(l|=4),nx(n,e,l,a)}var uo="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[uo]){e[uo]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(vb.has(n)||fd(n,!1,e),fd(n,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[uo]||(a[uo]=!0,fd("selectionchange",!1,a))}}function nx(e,a,n,l){switch(Rx(a)){case 2:var c=$b;break;case 8:c=Qb;break;default:c=Td}n=c.bind(null,a,n,e),c=void 0,!_c||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(a,n,{capture:!0,passive:c}):e.addEventListener(a,n,!0):c!==void 0?e.addEventListener(a,n,{passive:c}):e.addEventListener(a,n,!1)}function hd(e,a,n,l,c){var u=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c)break;if(y===4)for(y=l.return;y!==null;){var P=y.tag;if((P===3||P===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;C!==null;){if(y=Ws(C),y===null)return;if(P=y.tag,P===5||P===6||P===26||P===27){l=u=y;continue e}C=C.parentNode}}l=l.return}om(function(){var Z=u,ne=Oc(n),ce=[];e:{var W=Lm.get(e);if(W!==void 0){var J=bi,Ae=e;switch(e){case"keypress":if(vi(n)===0)break e;case"keydown":case"keyup":J=fj;break;case"focusin":Ae="focus",J=zc;break;case"focusout":Ae="blur",J=zc;break;case"beforeblur":case"afterblur":J=zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=pj;break;case Rm:case _m:case Pm:J=nj;break;case km:J=gj;break;case"scroll":case"scrollend":J=W0;break;case"wheel":J=vj;break;case"copy":case"cut":case"paste":J=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=mm;break;case"toggle":case"beforetoggle":J=bj}var Ie=(a&4)!==0,vt=!Ie&&(e==="scroll"||e==="scrollend"),G=Ie?W!==null?W+"Capture":null:W;Ie=[];for(var U=Z,K;U!==null;){var ie=U;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||G===null||(ie=nr(U,G),ie!=null&&Ie.push(Lr(U,ie,K))),vt)break;U=U.return}0<Ie.length&&(W=new J(W,Ae,null,n,ne),ce.push({event:W,listeners:Ie}))}}if((a&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",W&&n!==Mc&&(Ae=n.relatedTarget||n.fromElement)&&(Ws(Ae)||Ae[Zs]))break e;if((J||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ae=n.relatedTarget||n.toElement,J=Z,Ae=Ae?Ws(Ae):null,Ae!==null&&(vt=f(Ae),Ie=Ae.tag,Ae!==vt||Ie!==5&&Ie!==27&&Ie!==6)&&(Ae=null)):(J=null,Ae=Z),J!==Ae)){if(Ie=dm,ie="onMouseLeave",G="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=mm,ie="onPointerLeave",G="onPointerEnter",U="pointer"),vt=J==null?W:ar(J),K=Ae==null?W:ar(Ae),W=new Ie(ie,U+"leave",J,n,ne),W.target=vt,W.relatedTarget=K,ie=null,Ws(ne)===Z&&(Ie=new Ie(G,U+"enter",Ae,n,ne),Ie.target=K,Ie.relatedTarget=vt,ie=Ie),vt=ie,J&&Ae)t:{for(Ie=jb,G=J,U=Ae,K=0,ie=G;ie;ie=Ie(ie))K++;ie=0;for(var Le=U;Le;Le=Ie(Le))ie++;for(;0<K-ie;)G=Ie(G),K--;for(;0<ie-K;)U=Ie(U),ie--;for(;K--;){if(G===U||U!==null&&G===U.alternate){Ie=G;break t}G=Ie(G),U=Ie(U)}Ie=null}else Ie=null;J!==null&&sx(ce,W,J,Ie,!1),Ae!==null&&vt!==null&&sx(ce,vt,Ae,Ie,!0)}}e:{if(W=Z?ar(Z):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var st=bm;else if(vm(W))if(Nm)st=Oj;else{st=Dj;var Re=Tj}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&Dc(Z.elementType)&&(st=bm):st=Mj;if(st&&(st=st(e,Z))){jm(ce,st,n,ne);break e}Re&&Re(e,W,Z),e==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&Tc(W,"number",W.value)}switch(Re=Z?ar(Z):window,e){case"focusin":(vm(Re)||Re.contentEditable==="true")&&(il=Re,Hc=Z,dr=null);break;case"focusout":dr=Hc=il=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Mm(ce,n,ne);break;case"selectionchange":if(_j)break;case"keydown":case"keyup":Mm(ce,n,ne)}var Ve;if(Uc)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else rl?gm(e,n)&&(Je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Je="onCompositionStart");Je&&(hm&&n.locale!=="ko"&&(rl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&rl&&(Ve=cm()):(qn=ne,Pc="value"in qn?qn.value:qn.textContent,rl=!0)),Re=fo(Z,Je),0<Re.length&&(Je=new fm(Je,e,null,n,ne),ce.push({event:Je,listeners:Re}),Ve?Je.data=Ve:(Ve=ym(n),Ve!==null&&(Je.data=Ve)))),(Ve=Sj?wj(e,n):Cj(e,n))&&(Je=fo(Z,"onBeforeInput"),0<Je.length&&(Re=new fm("onBeforeInput","beforeinput",null,n,ne),ce.push({event:Re,listeners:Je}),Re.data=Ve)),xb(ce,e,Z,n,ne)}ax(ce,a)})}function Lr(e,a,n){return{instance:e,listener:a,currentTarget:n}}function fo(e,a){for(var n=a+"Capture",l=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=nr(e,n),c!=null&&l.unshift(Lr(e,c,u)),c=nr(e,a),c!=null&&l.push(Lr(e,c,u))),e.tag===3)return l;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sx(e,a,n,l,c){for(var u=a._reactName,y=[];n!==null&&n!==l;){var C=n,P=C.alternate,Z=C.stateNode;if(C=C.tag,P!==null&&P===l)break;C!==5&&C!==26&&C!==27||Z===null||(P=Z,c?(Z=nr(n,u),Z!=null&&y.unshift(Lr(n,Z,P))):c||(Z=nr(n,u),Z!=null&&y.push(Lr(n,Z,P)))),n=n.return}y.length!==0&&e.push({event:a,listeners:y})}var bb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function lx(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Nb,"")}function rx(e,a){return a=lx(a),lx(e)===a}function yt(e,a,n,l,c,u){switch(n){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||nl(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&nl(e,""+l);break;case"className":pi(e,"class",l);break;case"tabIndex":pi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,n,l);break;case"style":rm(e,l,u);break;case"data":if(a!=="object"){pi(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(a!=="input"&&yt(e,a,"name",c.name,c,null),yt(e,a,"formEncType",c.formEncType,c,null),yt(e,a,"formMethod",c.formMethod,c,null),yt(e,a,"formTarget",c.formTarget,c,null)):(yt(e,a,"encType",c.encType,c,null),yt(e,a,"method",c.method,c,null),yt(e,a,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=hn);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=gi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),hi(e,"popover",l);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=K0.get(n)||n,hi(e,n,l))}}function pd(e,a,n,l,c,u){switch(n){case"style":rm(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?nl(e,l):(typeof l=="number"||typeof l=="bigint")&&nl(e,""+l);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),a=n.slice(2,c?n.length-7:void 0),u=e[ca]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(a,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(a,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):hi(e,n,l)}}}function Xt(e,a,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var l=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var y=n[u];if(y!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:yt(e,a,u,y,n,null)}}c&&yt(e,a,"srcSet",n.srcSet,n,null),l&&yt(e,a,"src",n.src,n,null);return;case"input":Ke("invalid",e);var C=u=y=c=null,P=null,Z=null;for(l in n)if(n.hasOwnProperty(l)){var ne=n[l];if(ne!=null)switch(l){case"name":c=ne;break;case"type":y=ne;break;case"checked":P=ne;break;case"defaultChecked":Z=ne;break;case"value":u=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(o(137,a));break;default:yt(e,a,l,ne,n,null)}}am(e,u,C,P,Z,y,c,!1);return;case"select":Ke("invalid",e),l=y=u=null;for(c in n)if(n.hasOwnProperty(c)&&(C=n[c],C!=null))switch(c){case"value":u=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:yt(e,a,c,C,n,null)}a=u,n=y,e.multiple=!!l,a!=null?al(e,!!l,a,!1):n!=null&&al(e,!!l,n,!0);return;case"textarea":Ke("invalid",e),u=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(C=n[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":c=C;break;case"children":u=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:yt(e,a,y,C,n,null)}sm(e,l,c,u);return;case"option":for(P in n)if(n.hasOwnProperty(P)&&(l=n[P],l!=null))switch(P){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:yt(e,a,P,l,n,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(l=0;l<kr.length;l++)Ke(kr[l],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(l=n[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:yt(e,a,Z,l,n,null)}return;default:if(Dc(a)){for(ne in n)n.hasOwnProperty(ne)&&(l=n[ne],l!==void 0&&pd(e,a,ne,l,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null&&yt(e,a,C,l,n,null))}function Sb(e,a,n,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,C=null,P=null,Z=null,ne=null;for(J in n){var ce=n[J];if(n.hasOwnProperty(J)&&ce!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=ce;default:l.hasOwnProperty(J)||yt(e,a,J,null,l,ce)}}for(var W in l){var J=l[W];if(ce=n[W],l.hasOwnProperty(W)&&(J!=null||ce!=null))switch(W){case"type":u=J;break;case"name":c=J;break;case"checked":Z=J;break;case"defaultChecked":ne=J;break;case"value":y=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,a));break;default:J!==ce&&yt(e,a,W,J,l,ce)}}Ec(e,y,C,P,Z,ne,u,c);return;case"select":J=y=C=W=null;for(u in n)if(P=n[u],n.hasOwnProperty(u)&&P!=null)switch(u){case"value":break;case"multiple":J=P;default:l.hasOwnProperty(u)||yt(e,a,u,null,l,P)}for(c in l)if(u=l[c],P=n[c],l.hasOwnProperty(c)&&(u!=null||P!=null))switch(c){case"value":W=u;break;case"defaultValue":C=u;break;case"multiple":y=u;default:u!==P&&yt(e,a,c,u,l,P)}a=C,n=y,l=J,W!=null?al(e,!!n,W,!1):!!l!=!!n&&(a!=null?al(e,!!n,a,!0):al(e,!!n,n?[]:"",!1));return;case"textarea":J=W=null;for(C in n)if(c=n[C],n.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:yt(e,a,C,null,l,c)}for(y in l)if(c=l[y],u=n[y],l.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":W=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&yt(e,a,y,c,l,u)}nm(e,W,J);return;case"option":for(var Ae in n)if(W=n[Ae],n.hasOwnProperty(Ae)&&W!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:yt(e,a,Ae,null,l,W)}for(P in l)if(W=l[P],J=n[P],l.hasOwnProperty(P)&&W!==J&&(W!=null||J!=null))switch(P){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:yt(e,a,P,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in n)W=n[Ie],n.hasOwnProperty(Ie)&&W!=null&&!l.hasOwnProperty(Ie)&&yt(e,a,Ie,null,l,W);for(Z in l)if(W=l[Z],J=n[Z],l.hasOwnProperty(Z)&&W!==J&&(W!=null||J!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,a));break;default:yt(e,a,Z,W,l,J)}return;default:if(Dc(a)){for(var vt in n)W=n[vt],n.hasOwnProperty(vt)&&W!==void 0&&!l.hasOwnProperty(vt)&&pd(e,a,vt,void 0,l,W);for(ne in l)W=l[ne],J=n[ne],!l.hasOwnProperty(ne)||W===J||W===void 0&&J===void 0||pd(e,a,ne,W,l,J);return}}for(var G in n)W=n[G],n.hasOwnProperty(G)&&W!=null&&!l.hasOwnProperty(G)&&yt(e,a,G,null,l,W);for(ce in l)W=l[ce],J=n[ce],!l.hasOwnProperty(ce)||W===J||W==null&&J==null||yt(e,a,ce,W,l,J)}function ix(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],u=c.transferSize,y=c.initiatorType,C=c.duration;if(u&&C&&ix(y)){for(y=0,C=c.responseEnd,l+=1;l<n.length;l++){var P=n[l],Z=P.startTime;if(Z>C)break;var ne=P.transferSize,ce=P.initiatorType;ne&&ix(ce)&&(P=P.responseEnd,y+=ne*(P<C?1:(C-Z)/(P-Z)))}if(--l,a+=8*(u+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,gd=null;function mo(e){return e.nodeType===9?e:e.ownerDocument}function ox(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cx(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function yd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vd=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var ux=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(Tb)}:ux;function Tb(e){setTimeout(function(){throw e})}function ns(e){return e==="head"}function fx(e,a){var n=a,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Pl(a);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")zr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zr(n);for(var u=n.firstChild;u;){var y=u.nextSibling,C=u.nodeName;u[tr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=y}}else n==="body"&&zr(e.ownerDocument.body);n=c}while(n);Pl(a)}function mx(e,a){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?a?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(a?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function jd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var n=a;switch(a=a.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jd(n),Cc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Db(e,a,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tr])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=za(e.nextSibling),e===null)break}return null}function Mb(e,a,n){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=za(e.nextSibling),e===null))return null;return e}function hx(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=za(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,a){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||n.readyState!=="loading")a();else{var l=function(){a(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function za(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Sd=null;function px(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(a===0)return za(e.nextSibling);a--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||a++}e=e.nextSibling}return null}function xx(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(a===0)return e;a--}else n!=="/$"&&n!=="/&"||a++}e=e.previousSibling}return null}function gx(e,a,n){switch(a=mo(n),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function zr(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Cc(e)}var Ia=new Map,yx=new Set;function ho(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=X.d;X.d={f:Rb,r:_b,D:Pb,C:kb,L:Lb,m:zb,X:Ub,S:Ib,M:qb};function Rb(){var e=Mn.f(),a=so();return e||a}function _b(e){var a=Js(e);a!==null&&a.tag===5&&a.type==="form"?kh(a):Mn.r(e)}var Ol=typeof document>"u"?null:document;function vx(e,a,n){var l=Ol;if(l&&typeof a=="string"&&a){var c=Ma(a);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),yx.has(c)||(yx.add(c),e={rel:e,crossOrigin:n,href:a},l.querySelector(c)===null&&(a=l.createElement("link"),Xt(a,"link",e),Ht(a),l.head.appendChild(a)))}}function Pb(e){Mn.D(e),vx("dns-prefetch",e,null)}function kb(e,a){Mn.C(e,a),vx("preconnect",e,a)}function Lb(e,a,n){Mn.L(e,a,n);var l=Ol;if(l&&e&&a){var c='link[rel="preload"][as="'+Ma(a)+'"]';a==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Ma(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Ma(n.imageSizes)+'"]')):c+='[href="'+Ma(e)+'"]';var u=c;switch(a){case"style":u=Rl(e);break;case"script":u=_l(e)}Ia.has(u)||(e=v({rel:"preload",href:a==="image"&&n&&n.imageSrcSet?void 0:e,as:a},n),Ia.set(u,e),l.querySelector(c)!==null||a==="style"&&l.querySelector(Ir(u))||a==="script"&&l.querySelector(Ur(u))||(a=l.createElement("link"),Xt(a,"link",e),Ht(a),l.head.appendChild(a)))}}function zb(e,a){Mn.m(e,a);var n=Ol;if(n&&e){var l=a&&typeof a.as=="string"?a.as:"script",c='link[rel="modulepreload"][as="'+Ma(l)+'"][href="'+Ma(e)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=_l(e)}if(!Ia.has(u)&&(e=v({rel:"modulepreload",href:e},a),Ia.set(u,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ur(u)))return}l=n.createElement("link"),Xt(l,"link",e),Ht(l),n.head.appendChild(l)}}}function Ib(e,a,n){Mn.S(e,a,n);var l=Ol;if(l&&e){var c=el(l).hoistableStyles,u=Rl(e);a=a||"default";var y=c.get(u);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(Ir(u)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},n),(n=Ia.get(u))&&wd(e,n);var P=y=l.createElement("link");Ht(P),Xt(P,"link",e),P._p=new Promise(function(Z,ne){P.onload=Z,P.onerror=ne}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,po(y,a,l)}y={type:"stylesheet",instance:y,count:1,state:C},c.set(u,y)}}}function Ub(e,a){Mn.X(e,a);var n=Ol;if(n&&e){var l=el(n).hoistableScripts,c=_l(e),u=l.get(c);u||(u=n.querySelector(Ur(c)),u||(e=v({src:e,async:!0},a),(a=Ia.get(c))&&Cd(e,a),u=n.createElement("script"),Ht(u),Xt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function qb(e,a){Mn.M(e,a);var n=Ol;if(n&&e){var l=el(n).hoistableScripts,c=_l(e),u=l.get(c);u||(u=n.querySelector(Ur(c)),u||(e=v({src:e,async:!0,type:"module"},a),(a=Ia.get(c))&&Cd(e,a),u=n.createElement("script"),Ht(u),Xt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function jx(e,a,n,l){var c=(c=he.current)?ho(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(a=Rl(n.href),n=el(c).hoistableStyles,l=n.get(a),l||(l={type:"style",instance:null,count:0,state:null},n.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rl(n.href);var u=el(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(Ir(e)))&&!u._p&&(y.instance=u,y.state.loading=5),Ia.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ia.set(e,n),u||Bb(c,e,n,y.state))),a&&l===null)throw Error(o(528,""));return y}if(a&&l!==null)throw Error(o(529,""));return null;case"script":return a=n.async,n=n.src,typeof n=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_l(n),n=el(c).hoistableScripts,l=n.get(a),l||(l={type:"script",instance:null,count:0,state:null},n.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rl(e){return'href="'+Ma(e)+'"'}function Ir(e){return'link[rel="stylesheet"]['+e+"]"}function bx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,a,n,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Xt(a,"link",n),Ht(a),e.head.appendChild(a))}function _l(e){return'[src="'+Ma(e)+'"]'}function Ur(e){return"script[async]"+e}function Nx(e,a,n){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+Ma(n.href)+'"]');if(l)return a.instance=l,Ht(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ht(l),Xt(l,"style",c),po(l,n.precedence,e),a.instance=l;case"stylesheet":c=Rl(n.href);var u=e.querySelector(Ir(c));if(u)return a.state.loading|=4,a.instance=u,Ht(u),u;l=bx(n),(c=Ia.get(c))&&wd(l,c),u=(e.ownerDocument||e).createElement("link"),Ht(u);var y=u;return y._p=new Promise(function(C,P){y.onload=C,y.onerror=P}),Xt(u,"link",l),a.state.loading|=4,po(u,n.precedence,e),a.instance=u;case"script":return u=_l(n.src),(c=e.querySelector(Ur(u)))?(a.instance=c,Ht(c),c):(l=n,(c=Ia.get(u))&&(l=v({},n),Cd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ht(c),Xt(c,"link",l),e.head.appendChild(c),a.instance=c);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,po(l,n.precedence,e));return a.instance}function po(e,a,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===a)u=C;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(a=n.nodeType===9?n.head:n,a.insertBefore(e,a.firstChild))}function wd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Cd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var xo=null;function Sx(e,a,n){if(xo===null){var l=new Map,c=xo=new Map;c.set(n,l)}else c=xo,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[tr]||u[Gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(a)||"";y=e+y;var C=l.get(y);C?C.push(u):l.set(y,[u])}}return l}function wx(e,a,n){e=e.ownerDocument||e,e.head.insertBefore(n,a==="title"?e.querySelector("head > title"):null)}function Fb(e,a,n){if(n===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Cx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hb(e,a,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Rl(l.href),u=a.querySelector(Ir(c));if(u){a=u._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=go.bind(e),a.then(e,e)),n.state.loading|=4,n.instance=u,Ht(u);return}u=a.ownerDocument||a,l=bx(l),(c=Ia.get(c))&&wd(l,c),u=u.createElement("link"),Ht(u);var y=u;y._p=new Promise(function(C,P){y.onload=C,y.onerror=P}),Xt(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,a),(a=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=go.bind(e),a.addEventListener("load",n),a.addEventListener("error",n))}}var Ad=0;function Vb(e,a){return e.stylesheets&&e.count===0&&vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+a);0<e.imgBytes&&Ad===0&&(Ad=62500*wb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ad?50:800)+a);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yo=null;function vo(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yo=new Map,a.forEach(Gb,e),yo=null,go.call(e))}function Gb(e,a){if(!(a.state.loading&4)){var n=yo.get(e);if(n)var l=n.get(null);else{n=new Map,yo.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=a.instance,y=c.getAttribute("data-precedence"),u=n.get(y)||l,u===l&&n.set(null,c),n.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),a.state.loading|=4}}var qr={$$typeof:D,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Yb(e,a,n,l,c,u,y,C,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.hiddenUpdates=bc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Ax(e,a,n,l,c,u,y,C,P,Z,ne,ce){return e=new Yb(e,a,n,y,P,Z,ne,ce,C),a=1,u===!0&&(a|=24),u=va(3,null,null,a),e.current=u,u.stateNode=e,a=lu(),a.refCount++,e.pooledCache=a,a.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:a},cu(u),e}function Ex(e){return e?(e=ul,e):ul}function Tx(e,a,n,l,c,u){c=Ex(c),l.context===null?l.context=c:l.pendingContext=c,l=Yn(a),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=$n(e,l,a),n!==null&&(pa(n,e,a),yr(n,e,a))}function Dx(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<a?n:a}}function Ed(e,a){Dx(e,a),(e=e.alternate)&&Dx(e,a)}function Mx(e){if(e.tag===13||e.tag===31){var a=Ss(e,67108864);a!==null&&pa(a,e,67108864),Ed(e,67108864)}}function Ox(e){if(e.tag===13||e.tag===31){var a=wa();a=Nc(a);var n=Ss(e,a);n!==null&&pa(n,e,a),Ed(e,a)}}var jo=!0;function $b(e,a,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=2,Td(e,a,n,l)}finally{X.p=u,L.T=c}}function Qb(e,a,n,l){var c=L.T;L.T=null;var u=X.p;try{X.p=8,Td(e,a,n,l)}finally{X.p=u,L.T=c}}function Td(e,a,n,l){if(jo){var c=Dd(l);if(c===null)hd(e,a,l,bo,n),_x(e,l);else if(Kb(c,e,a,n,l))l.stopPropagation();else if(_x(e,l),a&4&&-1<Xb.indexOf(e)){for(;c!==null;){var u=Js(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=ys(u.pendingLanes);if(y!==0){var C=u;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var P=1<<31-Pt(y);C.entanglements[1]|=P,y&=~P}en(u),(it&6)===0&&(ao=Ut()+500,Pr(0))}}break;case 31:case 13:C=Ss(u,2),C!==null&&pa(C,u,2),so(),Ed(u,2)}if(u=Dd(l),u===null&&hd(e,a,l,bo,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else hd(e,a,l,null,n)}}function Dd(e){return e=Oc(e),Md(e)}var bo=null;function Md(e){if(bo=null,e=Ws(e),e!==null){var a=f(e);if(a===null)e=null;else{var n=a.tag;if(n===13){if(e=h(a),e!==null)return e;e=null}else if(n===31){if(e=p(a),e!==null)return e;e=null}else if(n===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return bo=e,null}function Rx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case fn:return 2;case gs:return 8;case _:case te:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Od=!1,ss=null,ls=null,rs=null,Br=new Map,Fr=new Map,is=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _x(e,a){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Br.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(a.pointerId)}}function Hr(e,a,n,l,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:a,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},a!==null&&(a=Js(a),a!==null&&Mx(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,c!==null&&a.indexOf(c)===-1&&a.push(c),e)}function Kb(e,a,n,l,c){switch(a){case"focusin":return ss=Hr(ss,e,a,n,l,c),!0;case"dragenter":return ls=Hr(ls,e,a,n,l,c),!0;case"mouseover":return rs=Hr(rs,e,a,n,l,c),!0;case"pointerover":var u=c.pointerId;return Br.set(u,Hr(Br.get(u)||null,e,a,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,Fr.set(u,Hr(Fr.get(u)||null,e,a,n,l,c)),!0}return!1}function Px(e){var a=Ws(e.target);if(a!==null){var n=f(a);if(n!==null){if(a=n.tag,a===13){if(a=h(n),a!==null){e.blockedOn=a,Qf(e.priority,function(){Ox(n)});return}}else if(a===31){if(a=p(n),a!==null){e.blockedOn=a,Qf(e.priority,function(){Ox(n)});return}}else if(a===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var n=Dd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Mc=l,n.target.dispatchEvent(l),Mc=null}else return a=Js(n),a!==null&&Mx(a),e.blockedOn=n,!1;a.shift()}return!0}function kx(e,a,n){No(e)&&n.delete(a)}function Zb(){Od=!1,ss!==null&&No(ss)&&(ss=null),ls!==null&&No(ls)&&(ls=null),rs!==null&&No(rs)&&(rs=null),Br.forEach(kx),Fr.forEach(kx)}function So(e,a){e.blockedOn===a&&(e.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var wo=null;function Lx(e){wo!==e&&(wo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wo===e&&(wo=null);for(var a=0;a<e.length;a+=3){var n=e[a],l=e[a+1],c=e[a+2];if(typeof l!="function"){if(Md(l||n)===null)continue;break}var u=Js(n);u!==null&&(e.splice(a,3),a-=3,Du(u,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Pl(e){function a(P){return So(P,e)}ss!==null&&So(ss,e),ls!==null&&So(ls,e),rs!==null&&So(rs,e),Br.forEach(a),Fr.forEach(a);for(var n=0;n<is.length;n++){var l=is[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(n=is[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&is.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],u=n[l+1],y=c[ca]||null;if(typeof u=="function")y||Lx(n);else if(y){var C=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[ca]||null)C=y.formAction;else if(Md(c)!==null)continue}else C=y.action;typeof C=="function"?n[l+1]=C:(n.splice(l,3),l-=3),Lx(n)}}}function zx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function a(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),c!==null&&(c(),c=null)}}}function Rd(e){this._internalRoot=e}Co.prototype.render=Rd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var n=a.current,l=wa();Tx(n,l,e,a,null,null)},Co.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Tx(e.current,2,null,e,null,null),so(),a[Zs]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var a=$f();e={blockedOn:null,target:e,priority:a};for(var n=0;n<is.length&&a!==0&&a<is[n].priority;n++);is.splice(n,0,e),n===0&&Px(e)}};var Ix=r.version;if(Ix!=="19.2.3")throw Error(o(527,Ix,"19.2.3"));X.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(a),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{ze=Ao.inject(Wb),Qe=Ao}catch{}}return Gr.createRoot=function(e,a){if(!d(e))throw Error(o(299));var n=!1,l="",c=Gh,u=Yh,y=$h;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Ax(e,1,!1,null,null,n,l,null,c,u,y,zx),e[Zs]=a.current,md(e),new Rd(a)},Gr.hydrateRoot=function(e,a,n){if(!d(e))throw Error(o(299));var l=!1,c="",u=Gh,y=Yh,C=$h,P=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.formState!==void 0&&(P=n.formState)),a=Ax(e,1,!0,a,n??null,l,c,P,u,y,C,zx),a.context=Ex(null),n=a.current,l=wa(),l=Nc(l),c=Yn(l),c.callback=null,$n(n,c,l),n=l,a.current.lanes=n,er(a,n),en(a),e[Zs]=a.current,md(e),new Co(a)},Gr.version="19.2.3",Gr}var Qx;function oN(){if(Qx)return kd.exports;Qx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),kd.exports=iN(),kd.exports}var cN=oN();class uN{constructor(){this.dbName="SofaFactoryManager",this.version=4,this.db=null,this.initPromise=null}async resetDatabase(){return new Promise((r,i)=>{this.db&&(this.db.close(),this.db=null);const o=indexedDB.deleteDatabase(this.dbName);o.onsuccess=()=>{console.log("Database deleted successfully"),r()},o.onerror=()=>{console.error("Error deleting database"),i(o.error)},o.onblocked=()=>{console.warn("Database deletion blocked"),r()}})}async init(){return this.initPromise?this.initPromise:this.db?this.db:(this.initPromise=new Promise((r,i)=>{try{const o=indexedDB.open(this.dbName,this.version);o.onerror=d=>{console.error("Database error:",d.target.error),this.initPromise=null,i(d.target.error)},o.onsuccess=()=>{this.db=o.result,this.initPromise=null,this.db.onerror=d=>{console.error("Database error:",d.target.error)},r(this.db)},o.onblocked=()=>{console.warn("Database upgrade blocked. Please close other tabs.")},o.onupgradeneeded=d=>{const f=d.target.result;if(f.objectStoreNames.contains("company")||f.createObjectStore("company",{keyPath:"id"}),f.objectStoreNames.contains("locations")||f.createObjectStore("locations",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!0}),!f.objectStoreNames.contains("users")){const h=f.createObjectStore("users",{keyPath:"id",autoIncrement:!0});h.createIndex("email","email",{unique:!0}),h.createIndex("role","role",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1})}if(!f.objectStoreNames.contains("suppliers")){const h=f.createObjectStore("suppliers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("customers")){const h=f.createObjectStore("customers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("phone","phone",{unique:!1})}if(!f.objectStoreNames.contains("rawMaterials")){const h=f.createObjectStore("rawMaterials",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("labourers")){const h=f.createObjectStore("labourers",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1})}if(!f.objectStoreNames.contains("sofaModels")){const h=f.createObjectStore("sofaModels",{keyPath:"id",autoIncrement:!0});h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("name","name",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("orders")){const h=f.createObjectStore("orders",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("orderDate","orderDate",{unique:!1})}if(!f.objectStoreNames.contains("labourCosts")){const h=f.createObjectStore("labourCosts",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("month","month",{unique:!1})}if(!f.objectStoreNames.contains("purchases")){const h=f.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0});h.createIndex("supplierId","supplierId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("sales")){const h=f.createObjectStore("sales",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("paymentStatus","paymentStatus",{unique:!1}),h.createIndex("dueDate","dueDate",{unique:!1})}if(!f.objectStoreNames.contains("cleaningServices")){const h=f.createObjectStore("cleaningServices",{keyPath:"id",autoIncrement:!0});h.createIndex("saleId","saleId",{unique:!1}),h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("scheduledDate","scheduledDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}if(!f.objectStoreNames.contains("linkedEntities")){const h=f.createObjectStore("linkedEntities",{keyPath:"id",autoIncrement:!0});h.createIndex("customerId","customerId",{unique:!1}),h.createIndex("supplierId","supplierId",{unique:!1})}if(!f.objectStoreNames.contains("notifications")){const h=f.createObjectStore("notifications",{keyPath:"id",autoIncrement:!0});h.createIndex("userId","userId",{unique:!1}),h.createIndex("type","type",{unique:!1}),h.createIndex("read","read",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("syncRecords")){const h=f.createObjectStore("syncRecords",{keyPath:"id",autoIncrement:!0});h.createIndex("tableName","tableName",{unique:!1}),h.createIndex("recordId","recordId",{unique:!1}),h.createIndex("action","action",{unique:!1}),h.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains("productions")){const h=f.createObjectStore("productions",{keyPath:"id",autoIncrement:!0});h.createIndex("sofaModelId","sofaModelId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("status","status",{unique:!1}),h.createIndex("productionType","productionType",{unique:!1}),h.createIndex("startDate","startDate",{unique:!1})}if(!f.objectStoreNames.contains("finishedProducts")){const h=f.createObjectStore("finishedProducts",{keyPath:"id",autoIncrement:!0});h.createIndex("orderId","orderId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}if(!f.objectStoreNames.contains("labourPayments")){const h=f.createObjectStore("labourPayments",{keyPath:"id",autoIncrement:!0});h.createIndex("labourerId","labourerId",{unique:!1}),h.createIndex("locationId","locationId",{unique:!1}),h.createIndex("paymentDate","paymentDate",{unique:!1}),h.createIndex("status","status",{unique:!1})}}}catch(o){console.error("Error initializing database:",o),this.initPromise=null,i(o)}}),this.initPromise)}async ensureReady(){return this.db||await this.init(),this.db}async add(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.createdAt=new Date().toISOString(),i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.add(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error adding to ${r}:`,g.error),p(g.error)}});return this.trackSync(r,f,"create").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in add for ${r}:`,o),o}}async get(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readonly").objectStore(r);return new Promise((f,h)=>{const p=d.get(i);p.onsuccess=()=>f(p.result||null),p.onerror=()=>{console.error(`Error getting from ${r}:`,p.error),f(null)}})}catch(o){return console.error(`Error in get for ${r}:`,o),null}}async getAll(r,i=null,o=null){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.warn(`Object store '${r}' does not exist, returning empty array`),[];const f=this.db.transaction([r],"readonly").objectStore(r);return new Promise((h,p)=>{let g;if(i&&o!==null)try{g=f.index(i).getAll(o)}catch{g=f.getAll()}else g=f.getAll();g.onsuccess=()=>h(g.result||[]),g.onerror=()=>{console.error(`Error getting all from ${r}:`,g.error),h([])}})}catch(d){return console.error(`Error in getAll for ${r}:`,d),[]}}async update(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r);typeof i=="object"&&i!==null&&(i.updatedAt=new Date().toISOString());const f=await new Promise((h,p)=>{const g=d.put(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error updating ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i.id,"update").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in update for ${r}:`,o),o}}async delete(r,i){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains(r))return console.error(`Object store '${r}' does not exist`),null;const d=this.db.transaction([r],"readwrite").objectStore(r),f=await new Promise((h,p)=>{const g=d.delete(i);g.onsuccess=()=>h(g.result),g.onerror=()=>{console.error(`Error deleting from ${r}:`,g.error),p(g.error)}});return this.trackSync(r,i,"delete").catch(h=>console.warn("Sync tracking failed:",h)),f}catch(o){throw console.error(`Error in delete for ${r}:`,o),o}}async trackSync(r,i,o){try{const d={tableName:r,recordId:i,action:o,timestamp:new Date().toISOString(),synced:!1};if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return null;const h=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords");return new Promise((p,g)=>{const m=h.add(d);m.onsuccess=()=>p(m.result),m.onerror=()=>{console.warn("Sync tracking error:",m.error),p(null)}})}catch(d){return console.warn("Sync tracking failed:",d),null}}async getUnsyncedRecords(){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return[];const i=this.db.transaction(["syncRecords"],"readonly").objectStore("syncRecords");return new Promise((o,d)=>{const f=i.getAll();f.onsuccess=()=>{const p=(f.result||[]).filter(g=>!g.synced);o(p)},f.onerror=()=>o([])})}catch(r){return console.error("Error getting unsynced records:",r),[]}}async markSynced(r){try{if(await this.ensureReady(),!this.db.objectStoreNames.contains("syncRecords"))return;const o=this.db.transaction(["syncRecords"],"readwrite").objectStore("syncRecords"),d=r.map(f=>new Promise((h,p)=>{const g=o.get(f);g.onsuccess=()=>{const m=g.result;if(m){m.synced=!0;const x=o.put(m);x.onsuccess=()=>h(),x.onerror=()=>h()}else h()},g.onerror=()=>h()}));return Promise.all(d)}catch(i){console.error("Error marking synced:",i)}}async getCurrentUser(){try{return(await this.getAll("users")).find(i=>i.isCurrentUser)||null}catch(r){return console.error("Error getting current user:",r),null}}async getCompanyProfile(){try{return await this.get("company","profile")}catch(r){return console.error("Error getting company profile:",r),null}}async getPendingPayments(r=null){try{const i=await this.getAll("purchases","paymentStatus","unpaid"),o=await this.getAll("sales","paymentStatus","unpaid");let d={purchases:[],sales:[]};return r?(d.purchases=(i||[]).filter(f=>f.locationId===r),d.sales=(o||[]).filter(f=>f.locationId===r)):(d.purchases=i||[],d.sales=o||[]),d}catch(i){return console.error("Error getting pending payments:",i),{purchases:[],sales:[]}}}async getMonthlyLabourReport(r,i,o=null){try{const d=await this.getAll("labourCosts","month",`${i}-${r.toString().padStart(2,"0")}`);if(o){const h=(await this.getAll("sofaModels","locationId",o)||[]).map(p=>p.id);return(d||[]).filter(p=>h.includes(p.sofaModelId))}return d||[]}catch(d){return console.error("Error getting monthly labour report:",d),[]}}async calculateProfit(r){try{const i=await this.get("sales",r);if(!i)return null;const o=await this.get("sofaModels",i.sofaModelId);if(!o)return null;const d=i.finalPrice-(o.totalProductionCost||0);return{revenue:i.finalPrice,cost:o.totalProductionCost||0,profit:d,margin:i.finalPrice>0?d/i.finalPrice*100:0}}catch(i){return console.error("Error calculating profit:",i),null}}}const pe=new uN,tn={ADMIN:"admin",STAFF:"staff",LABOUR_MANAGER:"labour_manager"},kl={VIEW_PROFITS:"view_profits",MANAGE_COSTS:"manage_costs",APPROVE_SALES:"approve_sales",MANAGE_USERS:"manage_users",MANAGE_COMPANY:"manage_company",MANAGE_LABOUR:"manage_labour",VIEW_ALL_LOCATIONS:"view_all_locations",SEND_NOTIFICATIONS:"send_notifications"};class dN{constructor(){this.currentUser=null,this.isInitialized=!1}async init(){this.isInitialized||(await pe.init(),this.currentUser=await pe.getCurrentUser(),this.isInitialized=!0)}async isFirstTimeSetup(){return(await pe.getAll("users")).length===0}async createAdminAccount(r){const i={...r,role:tn.ADMIN,isCurrentUser:!0,permissions:this.getPermissionsForRole(tn.ADMIN),setupCode:null,locationId:null},o=await pe.add("users",i);return this.currentUser=await pe.get("users",o),this.currentUser}generateSetupCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}async createUserProfile(r){const i=this.generateSetupCode(),o={...r,setupCode:i,permissions:this.getPermissionsForRole(r.role),isActive:!1,isCurrentUser:!1};return{userId:await pe.add("users",o),setupCode:i}}async activateUserAccount(r,i={}){const o=await pe.getAll("users"),d=o.find(h=>h.setupCode===r&&!h.isActive);if(!d)throw new Error("Invalid or expired setup code");d.isActive=!0,d.isCurrentUser=!0,d.deviceInfo=i,d.lastLogin=new Date().toISOString();const f=o.filter(h=>h.id!==d.id&&h.isCurrentUser);for(const h of f)h.isCurrentUser=!1,await pe.update("users",h);return await pe.update("users",d),this.currentUser=d,d}async login(r){const i=await pe.get("users",r);if(!i||!i.isActive)throw new Error("User not found or inactive");const o=await pe.getAll("users");for(const d of o)d.isCurrentUser=d.id===r,await pe.update("users",d);return i.lastLogin=new Date().toISOString(),await pe.update("users",i),this.currentUser=i,i}async logout(){this.currentUser&&(this.currentUser.isCurrentUser=!1,await pe.update("users",this.currentUser),this.currentUser=null)}getPermissionsForRole(r){switch(r){case tn.ADMIN:return Object.values(kl);case tn.LABOUR_MANAGER:return[kl.MANAGE_LABOUR,kl.MANAGE_COSTS];case tn.STAFF:return[];default:return[]}}hasPermission(r){return this.currentUser?this.currentUser.permissions.includes(r):!1}canAccessLocation(r){return this.currentUser?this.currentUser.role===tn.ADMIN?!0:this.currentUser.locationId===r:!1}async getAccessibleLocations(){if(!this.currentUser)return[];const r=await pe.getAll("locations");return this.currentUser.role===tn.ADMIN?r:r.filter(i=>i.id===this.currentUser.locationId)}getCurrentUser(){return this.currentUser}async updateUserPermissions(r,i){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");const o=await pe.get("users",r);if(!o)throw new Error("User not found");return o.permissions=i,await pe.update("users",o),o}async getAllUsers(){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");return await pe.getAll("users")}async deleteUser(r){if(!this.hasPermission(kl.MANAGE_USERS))throw new Error("Insufficient permissions");if(r===this.currentUser.id)throw new Error("Cannot delete current user");await pe.delete("users",r)}isAdmin(){return this.currentUser&&this.currentUser.role===tn.ADMIN}isStaff(){return this.currentUser&&this.currentUser.role===tn.STAFF}isLabourManager(){return this.currentUser&&this.currentUser.role===tn.LABOUR_MANAGER}}const Ua=new dN,Bg={user:null,isAuthenticated:!1,isLoading:!0,company:null,locations:[],currentLocation:null,suppliers:[],customers:[],rawMaterials:[],labourers:[],sofaModels:[],purchases:[],sales:[],cleaningServices:[],notifications:[],productions:[],orders:[],finishedProducts:[],sidebarOpen:!1,currentView:"dashboard",locationFilter:"all",dateFilter:"all"},we={SET_USER:"SET_USER",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_COMPANY:"SET_COMPANY",SET_LOCATIONS:"SET_LOCATIONS",SET_CURRENT_LOCATION:"SET_CURRENT_LOCATION",SET_SUPPLIERS:"SET_SUPPLIERS",SET_CUSTOMERS:"SET_CUSTOMERS",SET_RAW_MATERIALS:"SET_RAW_MATERIALS",SET_LABOURERS:"SET_LABOURERS",SET_SOFA_MODELS:"SET_SOFA_MODELS",SET_PURCHASES:"SET_PURCHASES",SET_SALES:"SET_SALES",SET_CLEANING_SERVICES:"SET_CLEANING_SERVICES",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_PRODUCTIONS:"SET_PRODUCTIONS",SET_ORDERS:"SET_ORDERS",SET_FINISHED_PRODUCTS:"SET_FINISHED_PRODUCTS",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SET_SIDEBAR_OPEN:"SET_SIDEBAR_OPEN",SET_CURRENT_VIEW:"SET_CURRENT_VIEW",SET_LOCATION_FILTER:"SET_LOCATION_FILTER",SET_DATE_FILTER:"SET_DATE_FILTER",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ"};function fN(s,r){switch(r.type){case we.SET_USER:return{...s,user:r.payload,isAuthenticated:!!r.payload,isLoading:!1};case we.SET_LOADING:return{...s,isLoading:r.payload};case we.LOGOUT:return{...Bg,isLoading:!1};case we.SET_COMPANY:return{...s,company:r.payload};case we.SET_LOCATIONS:return{...s,locations:r.payload};case we.SET_CURRENT_LOCATION:return{...s,currentLocation:r.payload};case we.SET_SUPPLIERS:return{...s,suppliers:r.payload};case we.SET_CUSTOMERS:return{...s,customers:r.payload};case we.SET_RAW_MATERIALS:return{...s,rawMaterials:r.payload};case we.SET_LABOURERS:return{...s,labourers:r.payload};case we.SET_SOFA_MODELS:return{...s,sofaModels:r.payload};case we.SET_PURCHASES:return{...s,purchases:r.payload};case we.SET_SALES:return{...s,sales:r.payload};case we.SET_CLEANING_SERVICES:return{...s,cleaningServices:r.payload};case we.SET_NOTIFICATIONS:return{...s,notifications:r.payload};case we.SET_PRODUCTIONS:return{...s,productions:r.payload};case we.SET_FINISHED_PRODUCTS:return{...s,finishedProducts:r.payload};case we.SET_ORDERS:return{...s,orders:r.payload};case we.ADD_ITEM:const{collection:i,item:o}=r.payload;return{...s,[i]:[...s[i]||[],o]};case we.UPDATE_ITEM:const{collection:d,item:f}=r.payload;return{...s,[d]:(s[d]||[]).map(g=>g.id===f.id?f:g)};case we.DELETE_ITEM:const{collection:h,id:p}=r.payload;return{...s,[h]:(s[h]||[]).filter(g=>g.id!==p)};case we.SET_SIDEBAR_OPEN:return{...s,sidebarOpen:r.payload};case we.SET_CURRENT_VIEW:return{...s,currentView:r.payload};case we.SET_LOCATION_FILTER:return{...s,locationFilter:r.payload};case we.SET_DATE_FILTER:return{...s,dateFilter:r.payload};case we.ADD_NOTIFICATION:return{...s,notifications:[r.payload,...s.notifications]};case we.MARK_NOTIFICATION_READ:return{...s,notifications:s.notifications.map(g=>g.id===r.payload?{...g,read:!0}:g)};default:return s}}const Fg=j.createContext();function mN({children:s}){const[r,i]=j.useReducer(fN,Bg);j.useEffect(()=>{o()},[]);const o=async()=>{try{i({type:we.SET_LOADING,payload:!0}),await Ua.init();const m=Ua.getCurrentUser();m?(i({type:we.SET_USER,payload:m}),await d()):i({type:we.SET_LOADING,payload:!1})}catch(m){console.error("Failed to initialize app:",m),i({type:we.SET_LOADING,payload:!1})}},d=async()=>{try{const m=await pe.getCompanyProfile();m&&i({type:we.SET_COMPANY,payload:m});const x=await pe.getAll("locations");i({type:we.SET_LOCATIONS,payload:x});const v=Ua.getCurrentUser();if(v){const b=await Ua.getAccessibleLocations();Ua.hasPermission("VIEW_ALL_LOCATIONS")?await f():await h(v.locationId)}}catch(m){console.error("Failed to load app data:",m)}},f=async()=>{try{const[m,x,v,b,S,E,w,N,k,T,D,M]=await Promise.all([pe.getAll("suppliers"),pe.getAll("customers"),pe.getAll("rawMaterials"),pe.getAll("labourers"),pe.getAll("sofaModels"),pe.getAll("purchases"),pe.getAll("sales"),pe.getAll("cleaningServices"),pe.getAll("notifications"),pe.getAll("productions"),pe.getAll("orders"),pe.getAll("finishedProducts")]);i({type:we.SET_SUPPLIERS,payload:m||[]}),i({type:we.SET_CUSTOMERS,payload:x||[]}),i({type:we.SET_RAW_MATERIALS,payload:v||[]}),i({type:we.SET_LABOURERS,payload:b||[]}),i({type:we.SET_SOFA_MODELS,payload:S||[]}),i({type:we.SET_PURCHASES,payload:E||[]}),i({type:we.SET_SALES,payload:w||[]}),i({type:we.SET_CLEANING_SERVICES,payload:N||[]}),i({type:we.SET_NOTIFICATIONS,payload:k||[]}),i({type:we.SET_PRODUCTIONS,payload:T||[]}),i({type:we.SET_ORDERS,payload:D||[]}),i({type:we.SET_FINISHED_PRODUCTS,payload:M||[]})}catch(m){console.error("Failed to load all data:",m)}},h=async m=>{var x;try{const[v,b,S,E,w,N,k,T,D,M,A,R]=await Promise.all([pe.getAll("suppliers","locationId",m),pe.getAll("customers","locationId",m),pe.getAll("rawMaterials","locationId",m),pe.getAll("labourers","locationId",m),pe.getAll("sofaModels","locationId",m),pe.getAll("purchases","locationId",m),pe.getAll("sales","locationId",m),pe.getAll("cleaningServices","locationId",m),pe.getAll("notifications","userId",(x=Ua.getCurrentUser())==null?void 0:x.id),pe.getAll("productions","locationId",m),pe.getAll("orders","locationId",m),pe.getAll("finishedProducts","locationId",m)]);i({type:we.SET_SUPPLIERS,payload:v||[]}),i({type:we.SET_CUSTOMERS,payload:b||[]}),i({type:we.SET_RAW_MATERIALS,payload:S||[]}),i({type:we.SET_LABOURERS,payload:E||[]}),i({type:we.SET_SOFA_MODELS,payload:w||[]}),i({type:we.SET_PURCHASES,payload:N||[]}),i({type:we.SET_SALES,payload:k||[]}),i({type:we.SET_CLEANING_SERVICES,payload:T||[]}),i({type:we.SET_NOTIFICATIONS,payload:D||[]}),i({type:we.SET_PRODUCTIONS,payload:M||[]}),i({type:we.SET_ORDERS,payload:A||[]}),i({type:we.SET_FINISHED_PRODUCTS,payload:R||[]})}catch(v){console.error("Failed to load location data:",v)}},g={state:r,actions:{login:async m=>{try{const x=await Ua.login(m);return i({type:we.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},logout:async()=>{try{await Ua.logout(),i({type:we.LOGOUT})}catch(m){console.error("Logout failed:",m)}},createAdminAccount:async m=>{try{const x=await Ua.createAdminAccount(m);return i({type:we.SET_USER,payload:x}),x}catch(x){throw console.error("Failed to create admin account:",x),x}},activateUserAccount:async(m,x)=>{try{const v=await Ua.activateUserAccount(m,x);return i({type:we.SET_USER,payload:v}),await d(),v}catch(v){throw console.error("Failed to activate user account:",v),v}},getAllUsers:async()=>{try{return await pe.getAll("users")}catch(m){throw console.error("Failed to get all users:",m),m}},loginUser:async m=>{try{const x=await Ua.login(m);return i({type:we.SET_USER,payload:x}),await d(),x}catch(x){throw console.error("Login failed:",x),x}},addItem:async(m,x)=>{try{const v=await pe.add(m,x),b=await pe.get(m,v);return i({type:we.ADD_ITEM,payload:{collection:m,item:b}}),b}catch(v){throw console.error(`Failed to add ${m} item:`,v),v}},updateItem:async(m,x)=>{try{return await pe.update(m,x),i({type:we.UPDATE_ITEM,payload:{collection:m,item:x}}),x}catch(v){throw console.error(`Failed to update ${m} item:`,v),v}},deleteItem:async(m,x)=>{try{await pe.delete(m,x),i({type:we.DELETE_ITEM,payload:{collection:m,id:x}})}catch(v){throw console.error(`Failed to delete ${m} item:`,v),v}},getAllOrders:async()=>{try{return await pe.getAll("orders")||[]}catch(m){return console.error("Failed to get all orders:",m),[]}},setSidebarOpen:m=>{i({type:we.SET_SIDEBAR_OPEN,payload:m})},setCurrentView:m=>{i({type:we.SET_CURRENT_VIEW,payload:m})},setLocationFilter:m=>{i({type:we.SET_LOCATION_FILTER,payload:m})},setDateFilter:m=>{i({type:we.SET_DATE_FILTER,payload:m})},addNotification:async m=>{try{const x=await pe.add("notifications",m),v=await pe.get("notifications",x);return i({type:we.ADD_NOTIFICATION,payload:v}),v}catch(x){throw console.error("Failed to add notification:",x),x}},markNotificationRead:async m=>{try{const x=await pe.get("notifications",m);x&&(x.read=!0,await pe.update("notifications",x),i({type:we.MARK_NOTIFICATION_READ,payload:m}))}catch(x){console.error("Failed to mark notification as read:",x)}},updateCompany:async m=>{try{const x=await pe.get("company","profile");if(x){const v={...x,...m,id:"profile"};return await pe.update("company",v),i({type:we.SET_COMPANY,payload:v}),v}else{const v={...m,id:"profile"};return await pe.add("company",v),i({type:we.SET_COMPANY,payload:v}),v}}catch(x){throw console.error("Failed to update company:",x),x}},updateLocations:async m=>{try{const x=await pe.getAll("locations");for(const b of x)await pe.delete("locations",b.id);const v=[];for(const b of m){const S=await pe.add("locations",b),E=await pe.get("locations",S);v.push(E)}return i({type:we.SET_LOCATIONS,payload:v}),v}catch(x){throw console.error("Failed to update locations:",x),x}},refreshData:async()=>{await d()}},auth:Ua};return t.jsx(Fg.Provider,{value:g,children:s})}function Tt(){const s=j.useContext(Fg);if(!s)throw new Error("useApp must be used within an AppProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Xx=s=>{const r=pN(s);return r.charAt(0).toUpperCase()+r.slice(1)},Hg=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),xN=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},g)=>j.createElement("svg",{ref:g,...gN,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:Hg("lucide",d),...!f&&!xN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,x])=>j.createElement(m,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(s,r)=>{const i=j.forwardRef(({className:o,...d},f)=>j.createElement(yN,{ref:f,iconNode:r,className:Hg(`lucide-${hN(Xx(s))}`,`lucide-${s}`,o),...d}));return i.displayName=Xx(s),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hl=Ue("bell",vN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],bN=Ue("boxes",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Kx=Ue("building-2",NN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],wN=Ue("building",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ds=Ue("calendar",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zx=Ue("camera",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wx=Ue("chart-column",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],DN=Ue("chart-pie",TN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ON=Ue("check",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vg=Ue("chevron-down",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PN=Ue("chevron-up",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Us=Ue("circle-check-big",kN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gg=Ue("circle-x",LN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],IN=Ue("clipboard-list",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wd=Ue("clock",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Eo=Ue("database",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Aa=Ue("dollar-sign",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],HN=Ue("download",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gf=Ue("eye",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Wo=Ue("factory",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ud=Ue("file-text",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],QN=Ue("funnel",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],KN=Ue("house",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WN=Ue("image",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yg=Ue("mail",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ql=Ue("map-pin",eS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],aS=Ue("menu",tS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],sS=Ue("message-circle",nS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$g=Ue("message-square",lS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ba=Ue("package",rS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Qg=Ue("phone",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=Ue("plus",oS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uS=Ue("save",cS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ln=Ue("search",dS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mS=Ue("send",fS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jd=Ue("settings",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zr=Ue("shopping-cart",pS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fs=Ue("square-pen",xS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_n=Ue("trash-2",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Jx=Ue("trending-down",yS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qo=Ue("trending-up",vS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Is=Ue("triangle-alert",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yf=Ue("truck",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],SS=Ue("upload",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ef=Ue("user-check",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bo=Ue("user",CS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wr=Ue("users",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],an=Ue("x",ES);function eg(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function ni(...s){return r=>{let i=!1;const o=s.map(d=>{const f=eg(d,r);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():eg(s[d],null)}}}}function pt(...s){return j.useCallback(ni(...s),s)}var TS=Symbol.for("react.lazy"),Fo=xf[" use ".trim().toString()];function DS(s){return typeof s=="object"&&s!==null&&"then"in s}function Xg(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===TS&&"_payload"in s&&DS(s._payload)}function Kg(s){const r=MS(s),i=j.forwardRef((o,d)=>{let{children:f,...h}=o;Xg(f)&&typeof Fo=="function"&&(f=Fo(f._payload));const p=j.Children.toArray(f),g=p.find(RS);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return t.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return t.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}var Zg=Kg("Slot");function MS(s){const r=j.forwardRef((i,o)=>{let{children:d,...f}=i;if(Xg(d)&&typeof Fo=="function"&&(d=Fo(d._payload)),j.isValidElement(d)){const h=PS(d),p=_S(f,d.props);return d.type!==j.Fragment&&(p.ref=o?ni(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var OS=Symbol("radix.slottable");function RS(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===OS}function _S(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function PS(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Wg(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(r=0;r<d;r++)s[r]&&(i=Wg(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function Jg(){for(var s,r,i=0,o="",d=arguments.length;i<d;i++)(s=arguments[i])&&(r=Wg(s))&&(o&&(o+=" "),o+=r);return o}const tg=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,ag=Jg,ey=(s,r)=>i=>{var o;if((r==null?void 0:r.variants)==null)return ag(s,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:d,defaultVariants:f}=r,h=Object.keys(d).map(m=>{const x=i==null?void 0:i[m],v=f==null?void 0:f[m];if(x===null)return null;const b=tg(x)||tg(v);return d[m][b]}),p=i&&Object.entries(i).reduce((m,x)=>{let[v,b]=x;return b===void 0||(m[v]=b),m},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((m,x)=>{let{class:v,className:b,...S}=x;return Object.entries(S).every(E=>{let[w,N]=E;return Array.isArray(N)?N.includes({...f,...p}[w]):{...f,...p}[w]===N})?[...m,v,b]:m},[]);return ag(s,h,g,i==null?void 0:i.class,i==null?void 0:i.className)},kS=(s,r)=>{const i=new Array(s.length+r.length);for(let o=0;o<s.length;o++)i[o]=s[o];for(let o=0;o<r.length;o++)i[s.length+o]=r[o];return i},LS=(s,r)=>({classGroupId:s,validator:r}),ty=(s=new Map,r=null,i)=>({nextPart:s,validators:r,classGroupId:i}),Ho="-",ng=[],zS="arbitrary..",IS=s=>{const r=qS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return US(h);const p=h.split(Ho),g=p[0]===""&&p.length>1?1:0;return ay(p,g,r)},getConflictingClassGroupIds:(h,p)=>{if(p){const g=o[h],m=i[h];return g?m?kS(m,g):g:m||ng}return i[h]||ng}}},ay=(s,r,i)=>{if(s.length-r===0)return i.classGroupId;const d=s[r],f=i.nextPart.get(d);if(f){const m=ay(s,r+1,f);if(m)return m}const h=i.validators;if(h===null)return;const p=r===0?s.join(Ho):s.slice(r).join(Ho),g=h.length;for(let m=0;m<g;m++){const x=h[m];if(x.validator(p))return x.classGroupId}},US=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=s.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?zS+o:void 0})(),qS=s=>{const{theme:r,classGroups:i}=s;return BS(i,r)},BS=(s,r)=>{const i=ty();for(const o in s){const d=s[o];vf(d,i,o,r)}return i},vf=(s,r,i,o)=>{const d=s.length;for(let f=0;f<d;f++){const h=s[f];FS(h,r,i,o)}},FS=(s,r,i,o)=>{if(typeof s=="string"){HS(s,r,i);return}if(typeof s=="function"){VS(s,r,i,o);return}GS(s,r,i,o)},HS=(s,r,i)=>{const o=s===""?r:ny(r,s);o.classGroupId=i},VS=(s,r,i,o)=>{if(YS(s)){vf(s(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(LS(i,s))},GS=(s,r,i,o)=>{const d=Object.entries(s),f=d.length;for(let h=0;h<f;h++){const[p,g]=d[h];vf(g,ny(r,p),i,o)}},ny=(s,r)=>{let i=s;const o=r.split(Ho),d=o.length;for(let f=0;f<d;f++){const h=o[f];let p=i.nextPart.get(h);p||(p=ty(),i.nextPart.set(h,p)),i=p}return i},YS=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,$S=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const d=(f,h)=>{i[f]=h,r++,r>s&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return d(f,h),h},set(f,h){f in i?i[f]=h:d(f,h)}}},tf="!",sg=":",QS=[],lg=(s,r,i,o,d)=>({modifiers:s,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:d}),XS=s=>{const{prefix:r,experimentalParseClassName:i}=s;let o=d=>{const f=[];let h=0,p=0,g=0,m;const x=d.length;for(let w=0;w<x;w++){const N=d[w];if(h===0&&p===0){if(N===sg){f.push(d.slice(g,w)),g=w+1;continue}if(N==="/"){m=w;continue}}N==="["?h++:N==="]"?h--:N==="("?p++:N===")"&&p--}const v=f.length===0?d:d.slice(g);let b=v,S=!1;v.endsWith(tf)?(b=v.slice(0,-1),S=!0):v.startsWith(tf)&&(b=v.slice(1),S=!0);const E=m&&m>g?m-g:void 0;return lg(f,S,b,E)};if(r){const d=r+sg,f=o;o=h=>h.startsWith(d)?f(h.slice(d.length)):lg(QS,!1,h,void 0,!0)}if(i){const d=o;o=f=>i({className:f,parseClassName:d})}return o},KS=s=>{const r=new Map;return s.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let d=[];for(let f=0;f<i.length;f++){const h=i[f],p=h[0]==="[",g=r.has(h);p||g?(d.length>0&&(d.sort(),o.push(...d),d=[]),o.push(h)):d.push(h)}return d.length>0&&(d.sort(),o.push(...d)),o}},ZS=s=>({cache:$S(s.cacheSize),parseClassName:XS(s),sortModifiers:KS(s),...IS(s)}),WS=/\s+/,JS=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:d,sortModifiers:f}=r,h=[],p=s.trim().split(WS);let g="";for(let m=p.length-1;m>=0;m-=1){const x=p[m],{isExternal:v,modifiers:b,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:w}=i(x);if(v){g=x+(g.length>0?" "+g:g);continue}let N=!!w,k=o(N?E.substring(0,w):E);if(!k){if(!N){g=x+(g.length>0?" "+g:g);continue}if(k=o(E),!k){g=x+(g.length>0?" "+g:g);continue}N=!1}const T=b.length===0?"":b.length===1?b[0]:f(b).join(":"),D=S?T+tf:T,M=D+k;if(h.indexOf(M)>-1)continue;h.push(M);const A=d(k,N);for(let R=0;R<A.length;++R){const z=A[R];h.push(D+z)}g=x+(g.length>0?" "+g:g)}return g},ew=(...s)=>{let r=0,i,o,d="";for(;r<s.length;)(i=s[r++])&&(o=sy(i))&&(d&&(d+=" "),d+=o);return d},sy=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=sy(s[o]))&&(i&&(i+=" "),i+=r);return i},tw=(s,...r)=>{let i,o,d,f;const h=g=>{const m=r.reduce((x,v)=>v(x),s());return i=ZS(m),o=i.cache.get,d=i.cache.set,f=p,p(g)},p=g=>{const m=o(g);if(m)return m;const x=JS(g,i);return d(g,x),x};return f=h,(...g)=>f(ew(...g))},aw=[],Ft=s=>{const r=i=>i[s]||aw;return r.isThemeGetter=!0,r},ly=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ry=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nw=/^\d+\/\d+$/,sw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ow=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ll=s=>nw.test(s),Ye=s=>!!s&&!Number.isNaN(Number(s)),cs=s=>!!s&&Number.isInteger(Number(s)),qd=s=>s.endsWith("%")&&Ye(s.slice(0,-1)),On=s=>sw.test(s),cw=()=>!0,uw=s=>lw.test(s)&&!rw.test(s),iy=()=>!1,dw=s=>iw.test(s),fw=s=>ow.test(s),mw=s=>!Ee(s)&&!Te(s),hw=s=>Yl(s,uy,iy),Ee=s=>ly.test(s),Ls=s=>Yl(s,dy,uw),Bd=s=>Yl(s,vw,Ye),rg=s=>Yl(s,oy,iy),pw=s=>Yl(s,cy,fw),To=s=>Yl(s,fy,dw),Te=s=>ry.test(s),Yr=s=>$l(s,dy),xw=s=>$l(s,jw),ig=s=>$l(s,oy),gw=s=>$l(s,uy),yw=s=>$l(s,cy),Do=s=>$l(s,fy,!0),Yl=(s,r,i)=>{const o=ly.exec(s);return o?o[1]?r(o[1]):i(o[2]):!1},$l=(s,r,i=!1)=>{const o=ry.exec(s);return o?o[1]?r(o[1]):i:!1},oy=s=>s==="position"||s==="percentage",cy=s=>s==="image"||s==="url",uy=s=>s==="length"||s==="size"||s==="bg-size",dy=s=>s==="length",vw=s=>s==="number",jw=s=>s==="family-name",fy=s=>s==="shadow",bw=()=>{const s=Ft("color"),r=Ft("font"),i=Ft("text"),o=Ft("font-weight"),d=Ft("tracking"),f=Ft("leading"),h=Ft("breakpoint"),p=Ft("container"),g=Ft("spacing"),m=Ft("radius"),x=Ft("shadow"),v=Ft("inset-shadow"),b=Ft("text-shadow"),S=Ft("drop-shadow"),E=Ft("blur"),w=Ft("perspective"),N=Ft("aspect"),k=Ft("ease"),T=Ft("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...M(),Te,Ee],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],H=()=>[Te,Ee,g],le=()=>[Ll,"full","auto",...H()],B=()=>[cs,"none","subgrid",Te,Ee],F=()=>["auto",{span:["full",cs,Te,Ee]},cs,Te,Ee],I=()=>[cs,"auto",Te,Ee],ae=()=>["auto","min","max","fr",Te,Ee],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...H()],X=()=>[Ll,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],V=()=>[s,Te,Ee],oe=()=>[...M(),ig,rg,{position:[Te,Ee]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",gw,hw,{size:[Te,Ee]}],ee=()=>[qd,Yr,Ls],de=()=>["","none","full",m,Te,Ee],me=()=>["",Ye,Yr,Ls],q=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Ye,qd,ig,rg],Ce=()=>["","none",E,Te,Ee],Y=()=>["none",Ye,Te,Ee],ve=()=>["none",Ye,Te,Ee],Ne=()=>[Ye,Te,Ee],Oe=()=>[Ll,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[On],breakpoint:[On],color:[cw],container:[On],"drop-shadow":[On],ease:["in","out","in-out"],font:[mw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[On],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[On],shadow:[On],spacing:["px",Ye],text:[On],"text-shadow":[On],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ll,Ee,Te,N]}],container:["container"],columns:[{columns:[Ye,Ee,Te,p]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:le()}],"inset-x":[{"inset-x":le()}],"inset-y":[{"inset-y":le()}],start:[{start:le()}],end:[{end:le()}],top:[{top:le()}],right:[{right:le()}],bottom:[{bottom:le()}],left:[{left:le()}],visibility:["visible","invisible","collapse"],z:[{z:[cs,"auto",Te,Ee]}],basis:[{basis:[Ll,"full","auto",p,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Ll,"auto","initial","none",Ee]}],grow:[{grow:["",Ye,Te,Ee]}],shrink:[{shrink:["",Ye,Te,Ee]}],order:[{order:[cs,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[p,"screen",...X()]}],"min-w":[{"min-w":[p,"screen","none",...X()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",i,Yr,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Te,Bd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qd,Ee]}],"font-family":[{font:[xw,Ee,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,Te,Ee]}],"line-clamp":[{"line-clamp":[Ye,"none",Te,Bd]}],leading:[{leading:[f,...H()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Te,Ls]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Ye,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cs,Te,Ee],radial:["",Te,Ee],conic:[cs,Te,Ee]},yw,pw]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Te,Ee]}],"outline-w":[{outline:["",Ye,Yr,Ls]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",x,Do,To]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",v,Do,To]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Ye,Ls]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",b,Do,To]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Ye,Te,Ee]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Ce()}],brightness:[{brightness:[Ye,Te,Ee]}],contrast:[{contrast:[Ye,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",S,Do,To]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Ye,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Ye,Te,Ee]}],invert:[{invert:["",Ye,Te,Ee]}],saturate:[{saturate:[Ye,Te,Ee]}],sepia:[{sepia:["",Ye,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Te,Ee]}],ease:[{ease:["linear","initial",k,Te,Ee]}],delay:[{delay:[Ye,Te,Ee]}],animate:[{animate:["none",T,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Te,Ee]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Ye,Yr,Ls,Bd]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nw=tw(bw);function $e(...s){return Nw(Jg(s))}function ke(s){return s==null?"NPR 0":`NPR ${Number(s).toLocaleString("en-NP")}`}function Rn(s){return s?new Date(s).toLocaleDateString("en-NP",{year:"numeric",month:"short",day:"numeric"}):""}function og(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function cg(s){return/^(\+977)?[0-9]{10}$/.test(s.replace(/\s/g,""))}function Sw(s,r){const i=s.replace(/\D/g,""),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function ww(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||""}const zs={PENDING_APPROVAL:{value:"pending_approval"},APPROVED:{value:"approved"},IN_PRODUCTION:{value:"in_production"},COMPLETED:{value:"completed"},READY_FOR_DELIVERY:{value:"ready_for_delivery"},DELIVERED:{value:"delivered"},CANCELLED:{value:"cancelled"}},Cw={supplierPayment:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

Dear ${r},

This is a confirmation for our recent transaction.

*Items Received:*
${i.map(h=>`- ${h.name}: ${h.quantity} ${h.unit}`).join(`
`)}

*Financials:*
- Amount Paid Today: ${ke(o)}
- Remaining Balance: ${ke(d)}

${f?"A copy of the payment receipt is attached.":""}

Thank you!

*${s.name}*
${s.phone}`,customerPaymentReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder that your payment of ${ke(i)} is due on ${Rn(o)}.

Thank you for your business!

*${s.name}*
${s.address}
${s.phone}`,cleaningReminder:(s,r,i,o)=>`*${s.name}*

Hi ${r},

This is a friendly reminder from *${s.name}* about your sofa cleaning appointment tomorrow at ${o}.

We look forward to serving you!

Sincerely,
*The Team at ${s.name}*
${s.address}
${s.phone}`,accountSettlement:(s,r,i,o,d,f)=>`*${s.name}*
${s.address}

*Subject: Statement of Account Settlement*

Dear ${r},

This is a confirmation from *${s.name}* that we have settled our mutual accounts.

*Summary:*
- Amount you were owed: ${ke(i)}
- Amount you owed us: ${ke(o)}

*Settlement:*
- The ${ke(i)} you were owed has been settled against the ${ke(o)} you owed us.

*FINAL RESULT:*
${d===0?"- Account settled. Balance is 0.":f?`- Your new remaining balance due to us is ${ke(Math.abs(d))}.`:`- Our new remaining balance due to you is ${ke(Math.abs(d))}.`}

Thank you.

*${s.name}*
${s.phone}`,orderStatus:(s,r,i,o)=>{let d="";switch(o){case zs.PENDING_APPROVAL.value:d=`Your order #${i} has been received and is awaiting approval. We will notify you when production begins.`;break;case zs.APPROVED.value:d=`Great news, ${r}! Your order #${i} has been approved and will enter production soon.`;break;case zs.IN_PRODUCTION.value:d=`Production has started! Your order #${i} is now being crafted. We are working hard to complete your items.`;break;case zs.COMPLETED.value:d=`Your order #${i} production is complete! We will prepare it for delivery soon.`;break;case zs.READY_FOR_DELIVERY.value:d=`Congratulations, ${r}! Your order #${i} is ready for delivery. Please contact us to arrange delivery.`;break;case zs.DELIVERED.value:d=`Your order #${i} has been delivered successfully. Thank you for choosing us!`;break;case zs.CANCELLED.value:d=`Your order #${i} has been cancelled. Please contact us if you have any questions.`;break;default:d=`The status of your order #${i} has been updated to "${o}".`}return`*${s.name}*

Hi ${r},

${d}

Thank you for your business!

*${s.name}*
${s.phone}`},monthlyLabourReport:(s,r,i,o)=>`*${s.name}*

The Monthly Labour Report for ${ww(r)} ${i} is ready.

Total payroll for the month: ${ke(o)}

Please review the detailed report in the app.

*${s.name}*`},Aw=ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ue({className:s,variant:r,size:i,asChild:o=!1,...d}){const f=o?Zg:"button";return t.jsx(f,{"data-slot":"button",className:$e(Aw({variant:r,size:i,className:s})),...d})}const Ew=ey("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function qe({className:s,variant:r,asChild:i=!1,...o}){const d=i?Zg:"span";return t.jsx(d,{"data-slot":"badge",className:$e(Ew({variant:r}),s),...o})}const Tw=[{id:"dashboard",label:"Dashboard",icon:KN,roles:["admin","staff","labour_manager"]},{id:"inventory",label:"Inventory",icon:Ba,roles:["admin","staff","labour_manager"],children:[{id:"raw-materials",label:"Raw Materials",icon:Wo},{id:"finished-products",label:"Finished Products",icon:Ba}]},{id:"suppliers",label:"Suppliers",icon:yf,roles:["admin","staff"]},{id:"customers",label:"Customers",icon:Wr,roles:["admin","staff"]},{id:"labour",label:"Labour",icon:ef,roles:["admin","labour_manager"]},{id:"sales",label:"Sales",icon:Zr,roles:["admin","staff"]},{id:"purchases",label:"Purchases",icon:Aa,roles:["admin","staff"]},{id:"financials",label:"Financials",icon:Wx,roles:["admin"]},{id:"cleaning",label:"Cleaning Services",icon:ds,roles:["admin","staff"]},{id:"orders",label:"Orders",icon:Zr,roles:["admin","staff"]},{id:"reports",label:"Reports",icon:Wx,roles:["admin","labour_manager"]},{id:"notifications",label:"Notifications",icon:Hl,roles:["admin","staff"],children:[{id:"notification-queue",label:"Notification Queue",icon:Hl},{id:"notification-settings",label:"Settings",icon:Jd}]},{id:"settings",label:"Settings",icon:Jd,roles:["admin"]}];function Dw(){var v,b;const{state:s,actions:r}=Tt(),{sidebarOpen:i,currentView:o,notifications:d,user:f}=s,h=f,p=d.filter(S=>!S.read).length,g=S=>h?S.roles.includes(h.role):!1,m=S=>{r.setCurrentView(S),window.innerWidth<768&&r.setSidebarOpen(!1)},x=()=>{r.setSidebarOpen(!i)};return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r.setSidebarOpen(!1)}),t.jsxs("div",{className:$e("fixed left-0 top-0 h-full bg-slate-800 text-white z-50 transform transition-transform duration-300 ease-in-out","w-64 md:w-72",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0"),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:t.jsx(Wo,{className:"w-5 h-5 text-slate-800"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold",children:"Sofa Factory"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]}),t.jsx(ue,{variant:"ghost",size:"sm",onClick:x,className:"md:hidden text-white hover:bg-slate-700",children:t.jsx(an,{className:"w-4 h-4"})})]}),h&&t.jsx("div",{className:"p-4 border-b border-slate-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium",children:((b=(v=h.name)==null?void 0:v.charAt(0))==null?void 0:b.toUpperCase())||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),t.jsx("p",{className:"text-xs text-slate-400 capitalize",children:h.role.replace("_"," ")})]}),p>0&&t.jsx(qe,{variant:"destructive",className:"text-xs",children:p})]})}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:t.jsx("ul",{className:"space-y-2",children:Tw.map(S=>{if(!g(S))return null;const E=S.icon,w=o===S.id||S.children&&S.children.some(N=>o===N.id);return t.jsxs("li",{children:[t.jsxs(ue,{variant:"ghost",className:$e("w-full justify-start text-left hover:bg-slate-700",w&&"bg-slate-700 text-amber-400"),onClick:()=>m(S.id),children:[t.jsx(E,{className:"w-4 h-4 mr-3"}),S.label,S.id==="dashboard"&&p>0&&t.jsx(qe,{variant:"destructive",className:"ml-auto text-xs",children:p})]}),S.children&&w&&t.jsx("ul",{className:"ml-6 mt-2 space-y-1",children:S.children.map(N=>{const k=N.icon,T=o===N.id;return t.jsx("li",{children:t.jsxs(ue,{variant:"ghost",size:"sm",className:$e("w-full justify-start text-left hover:bg-slate-700",T&&"bg-slate-600 text-amber-400"),onClick:()=>m(N.id),children:[t.jsx(k,{className:"w-3 h-3 mr-2"}),N.label]})},N.id)})})]},S.id)})})}),t.jsx("div",{className:"p-4 border-t border-slate-700",children:t.jsxs(ue,{variant:"ghost",className:"w-full justify-start text-left hover:bg-slate-700 text-slate-400",onClick:r.logout,children:[t.jsx(Jd,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]})}function Mw(){const{actions:s}=Tt();return t.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>s.setSidebarOpen(!0),className:"md:hidden",children:t.jsx(aS,{className:"w-5 h-5"})})}var si=qg();const Ow=Ug(si);function ug(s,[r,i]){return Math.min(i,Math.max(r,s))}function _e(s,r,{checkForDefaultPrevented:i=!0}={}){return function(d){if(s==null||s(d),i===!1||!d.defaultPrevented)return r==null?void 0:r(d)}}function Rw(s,r){const i=j.createContext(r),o=f=>{const{children:h,...p}=f,g=j.useMemo(()=>p,Object.values(p));return t.jsx(i.Provider,{value:g,children:h})};o.displayName=s+"Provider";function d(f){const h=j.useContext(i);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[o,d]}function zn(s,r=[]){let i=[];function o(f,h){const p=j.createContext(h),g=i.length;i=[...i,h];const m=v=>{var k;const{scope:b,children:S,...E}=v,w=((k=b==null?void 0:b[s])==null?void 0:k[g])||p,N=j.useMemo(()=>E,Object.values(E));return t.jsx(w.Provider,{value:N,children:S})};m.displayName=f+"Provider";function x(v,b){var w;const S=((w=b==null?void 0:b[s])==null?void 0:w[g])||p,E=j.useContext(S);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${f}\``)}return[m,x]}const d=()=>{const f=i.map(h=>j.createContext(h));return function(p){const g=(p==null?void 0:p[s])||f;return j.useMemo(()=>({[`__scope${s}`]:{...p,[s]:g}}),[p,g])}};return d.scopeName=s,[o,_w(d,...r)]}function _w(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const h=o.reduce((p,{useScope:g,scopeName:m})=>{const v=g(f)[`__scope${m}`];return{...p,...v}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:h}),[h])}};return i.scopeName=r.scopeName,i}function Vl(s){const r=Pw(s),i=j.forwardRef((o,d)=>{const{children:f,...h}=o,p=j.Children.toArray(f),g=p.find(Lw);if(g){const m=g.props.children,x=p.map(v=>v===g?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:v);return t.jsx(r,{...h,ref:d,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return t.jsx(r,{...h,ref:d,children:f})});return i.displayName=`${s}.Slot`,i}function Pw(s){const r=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const h=Iw(d),p=zw(f,d.props);return d.type!==j.Fragment&&(p.ref=o?ni(o,h):h),j.cloneElement(d,p)}return j.Children.count(d)>1?j.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var kw=Symbol("radix.slottable");function Lw(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===kw}function zw(s,r){const i={...r};for(const o in r){const d=s[o],f=r[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...p)=>{const g=f(...p);return d(...p),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...s,...i}}function Iw(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function jf(s){const r=s+"CollectionProvider",[i,o]=zn(r),[d,f]=i(r,{collectionRef:{current:null},itemMap:new Map}),h=w=>{const{scope:N,children:k}=w,T=$a.useRef(null),D=$a.useRef(new Map).current;return t.jsx(d,{scope:N,itemMap:D,collectionRef:T,children:k})};h.displayName=r;const p=s+"CollectionSlot",g=Vl(p),m=$a.forwardRef((w,N)=>{const{scope:k,children:T}=w,D=f(p,k),M=pt(N,D.collectionRef);return t.jsx(g,{ref:M,children:T})});m.displayName=p;const x=s+"CollectionItemSlot",v="data-radix-collection-item",b=Vl(x),S=$a.forwardRef((w,N)=>{const{scope:k,children:T,...D}=w,M=$a.useRef(null),A=pt(N,M),R=f(x,k);return $a.useEffect(()=>(R.itemMap.set(M,{ref:M,...D}),()=>void R.itemMap.delete(M))),t.jsx(b,{[v]:"",ref:A,children:T})});S.displayName=x;function E(w){const N=f(s+"CollectionConsumer",w);return $a.useCallback(()=>{const T=N.collectionRef.current;if(!T)return[];const D=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(N.itemMap.values()).sort((R,z)=>D.indexOf(R.ref.current)-D.indexOf(z.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:h,Slot:m,ItemSlot:S},E,o]}var Uw=j.createContext(void 0);function Jo(s){const r=j.useContext(Uw);return s||r||"ltr"}var qw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=qw.reduce((s,r)=>{const i=Vl(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function my(s,r){s&&si.flushSync(()=>s.dispatchEvent(r))}function on(s){const r=j.useRef(s);return j.useEffect(()=>{r.current=s}),j.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Bw(s,r=globalThis==null?void 0:globalThis.document){const i=on(s);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Fw="DismissableLayer",af="dismissableLayer.update",Hw="dismissableLayer.pointerDownOutside",Vw="dismissableLayer.focusOutside",dg,hy=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ec=j.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,...g}=s,m=j.useContext(hy),[x,v]=j.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=j.useState({}),E=pt(r,z=>v(z)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(N),T=x?w.indexOf(x):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,M=T>=k,A=$w(z=>{const H=z.target,le=[...m.branches].some(B=>B.contains(H));!M||le||(d==null||d(z),h==null||h(z),z.defaultPrevented||p==null||p())},b),R=Qw(z=>{const H=z.target;[...m.branches].some(B=>B.contains(H))||(f==null||f(z),h==null||h(z),z.defaultPrevented||p==null||p())},b);return Bw(z=>{T===m.layers.size-1&&(o==null||o(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},b),j.useEffect(()=>{if(x)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),fg(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=dg)}},[x,b,i,m]),j.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),fg())},[x,m]),j.useEffect(()=>{const z=()=>S({});return document.addEventListener(af,z),()=>document.removeEventListener(af,z)},[]),t.jsx(Ge.div,{...g,ref:E,style:{pointerEvents:D?M?"auto":"none":void 0,...s.style},onFocusCapture:_e(s.onFocusCapture,R.onFocusCapture),onBlurCapture:_e(s.onBlurCapture,R.onBlurCapture),onPointerDownCapture:_e(s.onPointerDownCapture,A.onPointerDownCapture)})});ec.displayName=Fw;var Gw="DismissableLayerBranch",Yw=j.forwardRef((s,r)=>{const i=j.useContext(hy),o=j.useRef(null),d=pt(r,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),t.jsx(Ge.div,{...s,ref:d})});Yw.displayName=Gw;function $w(s,r=globalThis==null?void 0:globalThis.document){const i=on(s),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=p=>{if(p.target&&!o.current){let g=function(){py(Hw,i,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=g,r.addEventListener("click",d.current,{once:!0})):g()}else r.removeEventListener("click",d.current);o.current=!1},h=window.setTimeout(()=>{r.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(h),r.removeEventListener("pointerdown",f),r.removeEventListener("click",d.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Qw(s,r=globalThis==null?void 0:globalThis.document){const i=on(s),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&py(Vw,i,{originalEvent:f},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function fg(){const s=new CustomEvent(af);document.dispatchEvent(s)}function py(s,r,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&d.addEventListener(s,r,{once:!0}),o?my(d,f):d.dispatchEvent(f)}var Fd=0;function bf(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??mg()),document.body.insertAdjacentElement("beforeend",s[1]??mg()),Fd++,()=>{Fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Fd--}},[])}function mg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Hd="focusScope.autoFocusOnMount",Vd="focusScope.autoFocusOnUnmount",hg={bubbles:!1,cancelable:!0},Xw="FocusScope",tc=j.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...h}=s,[p,g]=j.useState(null),m=on(d),x=on(f),v=j.useRef(null),b=pt(r,w=>g(w)),S=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let w=function(D){if(S.paused||!p)return;const M=D.target;p.contains(M)?v.current=M:us(v.current,{select:!0})},N=function(D){if(S.paused||!p)return;const M=D.relatedTarget;M!==null&&(p.contains(M)||us(v.current,{select:!0}))},k=function(D){if(document.activeElement===document.body)for(const A of D)A.removedNodes.length>0&&us(p)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const T=new MutationObserver(k);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),T.disconnect()}}},[o,p,S.paused]),j.useEffect(()=>{if(p){xg.add(S);const w=document.activeElement;if(!p.contains(w)){const k=new CustomEvent(Hd,hg);p.addEventListener(Hd,m),p.dispatchEvent(k),k.defaultPrevented||(Kw(t1(xy(p)),{select:!0}),document.activeElement===w&&us(p))}return()=>{p.removeEventListener(Hd,m),setTimeout(()=>{const k=new CustomEvent(Vd,hg);p.addEventListener(Vd,x),p.dispatchEvent(k),k.defaultPrevented||us(w??document.body,{select:!0}),p.removeEventListener(Vd,x),xg.remove(S)},0)}}},[p,m,x,S]);const E=j.useCallback(w=>{if(!i&&!o||S.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(N&&k){const T=w.currentTarget,[D,M]=Zw(T);D&&M?!w.shiftKey&&k===M?(w.preventDefault(),i&&us(D,{select:!0})):w.shiftKey&&k===D&&(w.preventDefault(),i&&us(M,{select:!0})):k===T&&w.preventDefault()}},[i,o,S.paused]);return t.jsx(Ge.div,{tabIndex:-1,...h,ref:b,onKeyDown:E})});tc.displayName=Xw;function Kw(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(us(o,{select:r}),document.activeElement!==i)return}function Zw(s){const r=xy(s),i=pg(r,s),o=pg(r.reverse(),s);return[i,o]}function xy(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function pg(s,r){for(const i of s)if(!Ww(i,{upTo:r}))return i}function Ww(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function Jw(s){return s instanceof HTMLInputElement&&"select"in s}function us(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&Jw(s)&&r&&s.select()}}var xg=e1();function e1(){let s=[];return{add(r){const i=s[0];r!==i&&(i==null||i.pause()),s=gg(s,r),s.unshift(r)},remove(r){var i;s=gg(s,r),(i=s[0])==null||i.resume()}}}function gg(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function t1(s){return s.filter(r=>r.tagName!=="A")}var la=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},a1=xf[" useId ".trim().toString()]||(()=>{}),n1=0;function ln(s){const[r,i]=j.useState(a1());return la(()=>{i(o=>o??String(n1++))},[s]),s||(r?`radix-${r}`:"")}const s1=["top","right","bottom","left"],ms=Math.min,Ca=Math.max,Vo=Math.round,Mo=Math.floor,rn=s=>({x:s,y:s}),l1={left:"right",right:"left",bottom:"top",top:"bottom"},r1={start:"end",end:"start"};function nf(s,r,i){return Ca(s,ms(r,i))}function Pn(s,r){return typeof s=="function"?s(r):s}function kn(s){return s.split("-")[0]}function Ql(s){return s.split("-")[1]}function Nf(s){return s==="x"?"y":"x"}function Sf(s){return s==="y"?"height":"width"}const i1=new Set(["top","bottom"]);function sn(s){return i1.has(kn(s))?"y":"x"}function wf(s){return Nf(sn(s))}function o1(s,r,i){i===void 0&&(i=!1);const o=Ql(s),d=wf(s),f=Sf(d);let h=d==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[f]>r.floating[f]&&(h=Go(h)),[h,Go(h)]}function c1(s){const r=Go(s);return[sf(s),r,sf(r)]}function sf(s){return s.replace(/start|end/g,r=>r1[r])}const yg=["left","right"],vg=["right","left"],u1=["top","bottom"],d1=["bottom","top"];function f1(s,r,i){switch(s){case"top":case"bottom":return i?r?vg:yg:r?yg:vg;case"left":case"right":return r?u1:d1;default:return[]}}function m1(s,r,i,o){const d=Ql(s);let f=f1(kn(s),i==="start",o);return d&&(f=f.map(h=>h+"-"+d),r&&(f=f.concat(f.map(sf)))),f}function Go(s){return s.replace(/left|right|bottom|top/g,r=>l1[r])}function h1(s){return{top:0,right:0,bottom:0,left:0,...s}}function gy(s){return typeof s!="number"?h1(s):{top:s,right:s,bottom:s,left:s}}function Yo(s){const{x:r,y:i,width:o,height:d}=s;return{width:o,height:d,top:i,left:r,right:r+o,bottom:i+d,x:r,y:i}}function jg(s,r,i){let{reference:o,floating:d}=s;const f=sn(r),h=wf(r),p=Sf(h),g=kn(r),m=f==="y",x=o.x+o.width/2-d.width/2,v=o.y+o.height/2-d.height/2,b=o[p]/2-d[p]/2;let S;switch(g){case"top":S={x,y:o.y-d.height};break;case"bottom":S={x,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:v};break;case"left":S={x:o.x-d.width,y:v};break;default:S={x:o.x,y:o.y}}switch(Ql(r)){case"start":S[h]-=b*(i&&m?-1:1);break;case"end":S[h]+=b*(i&&m?-1:1);break}return S}const p1=async(s,r,i)=>{const{placement:o="bottom",strategy:d="absolute",middleware:f=[],platform:h}=i,p=f.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(r));let m=await h.getElementRects({reference:s,floating:r,strategy:d}),{x,y:v}=jg(m,o,g),b=o,S={},E=0;for(let w=0;w<p.length;w++){const{name:N,fn:k}=p[w],{x:T,y:D,data:M,reset:A}=await k({x,y:v,initialPlacement:o,placement:b,strategy:d,middlewareData:S,rects:m,platform:h,elements:{reference:s,floating:r}});x=T??x,v=D??v,S={...S,[N]:{...S[N],...M}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(m=A.rects===!0?await h.getElementRects({reference:s,floating:r,strategy:d}):A.rects),{x,y:v}=jg(m,b,g)),w=-1)}return{x,y:v,placement:b,strategy:d,middlewareData:S}};async function Jr(s,r){var i;r===void 0&&(r={});const{x:o,y:d,platform:f,rects:h,elements:p,strategy:g}=s,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=Pn(r,s),E=gy(S),N=p[b?v==="floating"?"reference":"floating":v],k=Yo(await f.getClippingRect({element:(i=await(f.isElement==null?void 0:f.isElement(N)))==null||i?N:N.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(p.floating)),boundary:m,rootBoundary:x,strategy:g})),T=v==="floating"?{x:o,y:d,width:h.floating.width,height:h.floating.height}:h.reference,D=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p.floating)),M=await(f.isElement==null?void 0:f.isElement(D))?await(f.getScale==null?void 0:f.getScale(D))||{x:1,y:1}:{x:1,y:1},A=Yo(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:T,offsetParent:D,strategy:g}):T);return{top:(k.top-A.top+E.top)/M.y,bottom:(A.bottom-k.bottom+E.bottom)/M.y,left:(k.left-A.left+E.left)/M.x,right:(A.right-k.right+E.right)/M.x}}const x1=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:d,rects:f,platform:h,elements:p,middlewareData:g}=r,{element:m,padding:x=0}=Pn(s,r)||{};if(m==null)return{};const v=gy(x),b={x:i,y:o},S=wf(d),E=Sf(S),w=await h.getDimensions(m),N=S==="y",k=N?"top":"left",T=N?"bottom":"right",D=N?"clientHeight":"clientWidth",M=f.reference[E]+f.reference[S]-b[S]-f.floating[E],A=b[S]-f.reference[S],R=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let z=R?R[D]:0;(!z||!await(h.isElement==null?void 0:h.isElement(R)))&&(z=p.floating[D]||f.floating[E]);const H=M/2-A/2,le=z/2-w[E]/2-1,B=ms(v[k],le),F=ms(v[T],le),I=B,ae=z-w[E]-F,Q=z/2-w[E]/2+H,ge=nf(I,Q,ae),L=!g.arrow&&Ql(d)!=null&&Q!==ge&&f.reference[E]/2-(Q<I?B:F)-w[E]/2<0,X=L?Q<I?Q-I:Q-ae:0;return{[S]:b[S]+X,data:{[S]:ge,centerOffset:Q-ge-X,...L&&{alignmentOffset:X}},reset:L}}}),g1=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:d,middlewareData:f,rects:h,initialPlacement:p,platform:g,elements:m}=r,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...N}=Pn(s,r);if((i=f.arrow)!=null&&i.alignmentOffset)return{};const k=kn(d),T=sn(p),D=kn(p)===p,M=await(g.isRTL==null?void 0:g.isRTL(m.floating)),A=b||(D||!w?[Go(p)]:c1(p)),R=E!=="none";!b&&R&&A.push(...m1(p,w,E,M));const z=[p,...A],H=await Jr(r,N),le=[];let B=((o=f.flip)==null?void 0:o.overflows)||[];if(x&&le.push(H[k]),v){const Q=o1(d,h,M);le.push(H[Q[0]],H[Q[1]])}if(B=[...B,{placement:d,overflows:le}],!le.every(Q=>Q<=0)){var F,I;const Q=(((F=f.flip)==null?void 0:F.index)||0)+1,ge=z[Q];if(ge&&(!(v==="alignment"?T!==sn(ge):!1)||B.every(V=>sn(V.placement)===T?V.overflows[0]>0:!0)))return{data:{index:Q,overflows:B},reset:{placement:ge}};let L=(I=B.filter(X=>X.overflows[0]<=0).sort((X,V)=>X.overflows[1]-V.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(S){case"bestFit":{var ae;const X=(ae=B.filter(V=>{if(R){const oe=sn(V.placement);return oe===T||oe==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(oe=>oe>0).reduce((oe,be)=>oe+be,0)]).sort((V,oe)=>V[1]-oe[1])[0])==null?void 0:ae[0];X&&(L=X);break}case"initialPlacement":L=p;break}if(d!==L)return{reset:{placement:L}}}return{}}}};function bg(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function Ng(s){return s1.some(r=>s[r]>=0)}const y1=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...d}=Pn(s,r);switch(o){case"referenceHidden":{const f=await Jr(r,{...d,elementContext:"reference"}),h=bg(f,i.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ng(h)}}}case"escaped":{const f=await Jr(r,{...d,altBoundary:!0}),h=bg(f,i.floating);return{data:{escapedOffsets:h,escaped:Ng(h)}}}default:return{}}}}},yy=new Set(["left","top"]);async function v1(s,r){const{placement:i,platform:o,elements:d}=s,f=await(o.isRTL==null?void 0:o.isRTL(d.floating)),h=kn(i),p=Ql(i),g=sn(i)==="y",m=yy.has(h)?-1:1,x=f&&g?-1:1,v=Pn(r,s);let{mainAxis:b,crossAxis:S,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return p&&typeof E=="number"&&(S=p==="end"?E*-1:E),g?{x:S*x,y:b*m}:{x:b*m,y:S*x}}const j1=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:d,y:f,placement:h,middlewareData:p}=r,g=await v1(r,s);return h===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:d+g.x,y:f+g.y,data:{...g,placement:h}}}}},b1=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:d}=r,{mainAxis:f=!0,crossAxis:h=!1,limiter:p={fn:N=>{let{x:k,y:T}=N;return{x:k,y:T}}},...g}=Pn(s,r),m={x:i,y:o},x=await Jr(r,g),v=sn(kn(d)),b=Nf(v);let S=m[b],E=m[v];if(f){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",T=S+x[N],D=S-x[k];S=nf(T,S,D)}if(h){const N=v==="y"?"top":"left",k=v==="y"?"bottom":"right",T=E+x[N],D=E-x[k];E=nf(T,E,D)}const w=p.fn({...r,[b]:S,[v]:E});return{...w,data:{x:w.x-i,y:w.y-o,enabled:{[b]:f,[v]:h}}}}}},N1=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:d,rects:f,middlewareData:h}=r,{offset:p=0,mainAxis:g=!0,crossAxis:m=!0}=Pn(s,r),x={x:i,y:o},v=sn(d),b=Nf(v);let S=x[b],E=x[v];const w=Pn(p,r),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(g){const D=b==="y"?"height":"width",M=f.reference[b]-f.floating[D]+N.mainAxis,A=f.reference[b]+f.reference[D]-N.mainAxis;S<M?S=M:S>A&&(S=A)}if(m){var k,T;const D=b==="y"?"width":"height",M=yy.has(kn(d)),A=f.reference[v]-f.floating[D]+(M&&((k=h.offset)==null?void 0:k[v])||0)+(M?0:N.crossAxis),R=f.reference[v]+f.reference[D]+(M?0:((T=h.offset)==null?void 0:T[v])||0)-(M?N.crossAxis:0);E<A?E=A:E>R&&(E=R)}return{[b]:S,[v]:E}}}},S1=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:d,rects:f,platform:h,elements:p}=r,{apply:g=()=>{},...m}=Pn(s,r),x=await Jr(r,m),v=kn(d),b=Ql(d),S=sn(d)==="y",{width:E,height:w}=f.floating;let N,k;v==="top"||v==="bottom"?(N=v,k=b===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(k=v,N=b==="end"?"top":"bottom");const T=w-x.top-x.bottom,D=E-x.left-x.right,M=ms(w-x[N],T),A=ms(E-x[k],D),R=!r.middlewareData.shift;let z=M,H=A;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(H=D),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(z=T),R&&!b){const B=Ca(x.left,0),F=Ca(x.right,0),I=Ca(x.top,0),ae=Ca(x.bottom,0);S?H=E-2*(B!==0||F!==0?B+F:Ca(x.left,x.right)):z=w-2*(I!==0||ae!==0?I+ae:Ca(x.top,x.bottom))}await g({...r,availableWidth:H,availableHeight:z});const le=await h.getDimensions(p.floating);return E!==le.width||w!==le.height?{reset:{rects:!0}}:{}}}};function ac(){return typeof window<"u"}function Xl(s){return vy(s)?(s.nodeName||"").toLowerCase():"#document"}function Ea(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function un(s){var r;return(r=(vy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function vy(s){return ac()?s instanceof Node||s instanceof Ea(s).Node:!1}function Qa(s){return ac()?s instanceof Element||s instanceof Ea(s).Element:!1}function cn(s){return ac()?s instanceof HTMLElement||s instanceof Ea(s).HTMLElement:!1}function Sg(s){return!ac()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ea(s).ShadowRoot}const w1=new Set(["inline","contents"]);function li(s){const{overflow:r,overflowX:i,overflowY:o,display:d}=Xa(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!w1.has(d)}const C1=new Set(["table","td","th"]);function A1(s){return C1.has(Xl(s))}const E1=[":popover-open",":modal"];function nc(s){return E1.some(r=>{try{return s.matches(r)}catch{return!1}})}const T1=["transform","translate","scale","rotate","perspective"],D1=["transform","translate","scale","rotate","perspective","filter"],M1=["paint","layout","strict","content"];function Cf(s){const r=Af(),i=Qa(s)?Xa(s):s;return T1.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||D1.some(o=>(i.willChange||"").includes(o))||M1.some(o=>(i.contain||"").includes(o))}function O1(s){let r=hs(s);for(;cn(r)&&!Gl(r);){if(Cf(r))return r;if(nc(r))return null;r=hs(r)}return null}function Af(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const R1=new Set(["html","body","#document"]);function Gl(s){return R1.has(Xl(s))}function Xa(s){return Ea(s).getComputedStyle(s)}function sc(s){return Qa(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function hs(s){if(Xl(s)==="html")return s;const r=s.assignedSlot||s.parentNode||Sg(s)&&s.host||un(s);return Sg(r)?r.host:r}function jy(s){const r=hs(s);return Gl(r)?s.ownerDocument?s.ownerDocument.body:s.body:cn(r)&&li(r)?r:jy(r)}function ei(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const d=jy(s),f=d===((o=s.ownerDocument)==null?void 0:o.body),h=Ea(d);if(f){const p=lf(h);return r.concat(h,h.visualViewport||[],li(d)?d:[],p&&i?ei(p):[])}return r.concat(d,ei(d,[],i))}function lf(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function by(s){const r=Xa(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const d=cn(s),f=d?s.offsetWidth:i,h=d?s.offsetHeight:o,p=Vo(i)!==f||Vo(o)!==h;return p&&(i=f,o=h),{width:i,height:o,$:p}}function Ef(s){return Qa(s)?s:s.contextElement}function Bl(s){const r=Ef(s);if(!cn(r))return rn(1);const i=r.getBoundingClientRect(),{width:o,height:d,$:f}=by(r);let h=(f?Vo(i.width):i.width)/o,p=(f?Vo(i.height):i.height)/d;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const _1=rn(0);function Ny(s){const r=Ea(s);return!Af()||!r.visualViewport?_1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function P1(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==Ea(s)?!1:r}function Hs(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const d=s.getBoundingClientRect(),f=Ef(s);let h=rn(1);r&&(o?Qa(o)&&(h=Bl(o)):h=Bl(s));const p=P1(f,i,o)?Ny(f):rn(0);let g=(d.left+p.x)/h.x,m=(d.top+p.y)/h.y,x=d.width/h.x,v=d.height/h.y;if(f){const b=Ea(f),S=o&&Qa(o)?Ea(o):o;let E=b,w=lf(E);for(;w&&o&&S!==E;){const N=Bl(w),k=w.getBoundingClientRect(),T=Xa(w),D=k.left+(w.clientLeft+parseFloat(T.paddingLeft))*N.x,M=k.top+(w.clientTop+parseFloat(T.paddingTop))*N.y;g*=N.x,m*=N.y,x*=N.x,v*=N.y,g+=D,m+=M,E=Ea(w),w=lf(E)}}return Yo({width:x,height:v,x:g,y:m})}function lc(s,r){const i=sc(s).scrollLeft;return r?r.left+i:Hs(un(s)).left+i}function Sy(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-lc(s,i),d=i.top+r.scrollTop;return{x:o,y:d}}function k1(s){let{elements:r,rect:i,offsetParent:o,strategy:d}=s;const f=d==="fixed",h=un(o),p=r?nc(r.floating):!1;if(o===h||p&&f)return i;let g={scrollLeft:0,scrollTop:0},m=rn(1);const x=rn(0),v=cn(o);if((v||!v&&!f)&&((Xl(o)!=="body"||li(h))&&(g=sc(o)),cn(o))){const S=Hs(o);m=Bl(o),x.x=S.x+o.clientLeft,x.y=S.y+o.clientTop}const b=h&&!v&&!f?Sy(h,g):rn(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-g.scrollLeft*m.x+x.x+b.x,y:i.y*m.y-g.scrollTop*m.y+x.y+b.y}}function L1(s){return Array.from(s.getClientRects())}function z1(s){const r=un(s),i=sc(s),o=s.ownerDocument.body,d=Ca(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),f=Ca(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let h=-i.scrollLeft+lc(s);const p=-i.scrollTop;return Xa(o).direction==="rtl"&&(h+=Ca(r.clientWidth,o.clientWidth)-d),{width:d,height:f,x:h,y:p}}const wg=25;function I1(s,r){const i=Ea(s),o=un(s),d=i.visualViewport;let f=o.clientWidth,h=o.clientHeight,p=0,g=0;if(d){f=d.width,h=d.height;const x=Af();(!x||x&&r==="fixed")&&(p=d.offsetLeft,g=d.offsetTop)}const m=lc(o);if(m<=0){const x=o.ownerDocument,v=x.body,b=getComputedStyle(v),S=x.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(o.clientWidth-v.clientWidth-S);E<=wg&&(f-=E)}else m<=wg&&(f+=m);return{width:f,height:h,x:p,y:g}}const U1=new Set(["absolute","fixed"]);function q1(s,r){const i=Hs(s,!0,r==="fixed"),o=i.top+s.clientTop,d=i.left+s.clientLeft,f=cn(s)?Bl(s):rn(1),h=s.clientWidth*f.x,p=s.clientHeight*f.y,g=d*f.x,m=o*f.y;return{width:h,height:p,x:g,y:m}}function Cg(s,r,i){let o;if(r==="viewport")o=I1(s,i);else if(r==="document")o=z1(un(s));else if(Qa(r))o=q1(r,i);else{const d=Ny(s);o={x:r.x-d.x,y:r.y-d.y,width:r.width,height:r.height}}return Yo(o)}function wy(s,r){const i=hs(s);return i===r||!Qa(i)||Gl(i)?!1:Xa(i).position==="fixed"||wy(i,r)}function B1(s,r){const i=r.get(s);if(i)return i;let o=ei(s,[],!1).filter(p=>Qa(p)&&Xl(p)!=="body"),d=null;const f=Xa(s).position==="fixed";let h=f?hs(s):s;for(;Qa(h)&&!Gl(h);){const p=Xa(h),g=Cf(h);!g&&p.position==="fixed"&&(d=null),(f?!g&&!d:!g&&p.position==="static"&&!!d&&U1.has(d.position)||li(h)&&!g&&wy(s,h))?o=o.filter(x=>x!==h):d=p,h=hs(h)}return r.set(s,o),o}function F1(s){let{element:r,boundary:i,rootBoundary:o,strategy:d}=s;const h=[...i==="clippingAncestors"?nc(r)?[]:B1(r,this._c):[].concat(i),o],p=h[0],g=h.reduce((m,x)=>{const v=Cg(r,x,d);return m.top=Ca(v.top,m.top),m.right=ms(v.right,m.right),m.bottom=ms(v.bottom,m.bottom),m.left=Ca(v.left,m.left),m},Cg(r,p,d));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function H1(s){const{width:r,height:i}=by(s);return{width:r,height:i}}function V1(s,r,i){const o=cn(r),d=un(r),f=i==="fixed",h=Hs(s,!0,f,r);let p={scrollLeft:0,scrollTop:0};const g=rn(0);function m(){g.x=lc(d)}if(o||!o&&!f)if((Xl(r)!=="body"||li(d))&&(p=sc(r)),o){const S=Hs(r,!0,f,r);g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}else d&&m();f&&!o&&d&&m();const x=d&&!o&&!f?Sy(d,p):rn(0),v=h.left+p.scrollLeft-g.x-x.x,b=h.top+p.scrollTop-g.y-x.y;return{x:v,y:b,width:h.width,height:h.height}}function Gd(s){return Xa(s).position==="static"}function Ag(s,r){if(!cn(s)||Xa(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return un(s)===i&&(i=i.ownerDocument.body),i}function Cy(s,r){const i=Ea(s);if(nc(s))return i;if(!cn(s)){let d=hs(s);for(;d&&!Gl(d);){if(Qa(d)&&!Gd(d))return d;d=hs(d)}return i}let o=Ag(s,r);for(;o&&A1(o)&&Gd(o);)o=Ag(o,r);return o&&Gl(o)&&Gd(o)&&!Cf(o)?i:o||O1(s)||i}const G1=async function(s){const r=this.getOffsetParent||Cy,i=this.getDimensions,o=await i(s.floating);return{reference:V1(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Y1(s){return Xa(s).direction==="rtl"}const $1={convertOffsetParentRelativeRectToViewportRelativeRect:k1,getDocumentElement:un,getClippingRect:F1,getOffsetParent:Cy,getElementRects:G1,getClientRects:L1,getDimensions:H1,getScale:Bl,isElement:Qa,isRTL:Y1};function Ay(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function Q1(s,r){let i=null,o;const d=un(s);function f(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function h(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),f();const m=s.getBoundingClientRect(),{left:x,top:v,width:b,height:S}=m;if(p||r(),!b||!S)return;const E=Mo(v),w=Mo(d.clientWidth-(x+b)),N=Mo(d.clientHeight-(v+S)),k=Mo(x),D={rootMargin:-E+"px "+-w+"px "+-N+"px "+-k+"px",threshold:Ca(0,ms(1,g))||1};let M=!0;function A(R){const z=R[0].intersectionRatio;if(z!==g){if(!M)return h();z?h(!1,z):o=setTimeout(()=>{h(!1,1e-7)},1e3)}z===1&&!Ay(m,s.getBoundingClientRect())&&h(),M=!1}try{i=new IntersectionObserver(A,{...D,root:d.ownerDocument})}catch{i=new IntersectionObserver(A,D)}i.observe(s)}return h(!0),f}function X1(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:d=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,m=Ef(s),x=d||f?[...m?ei(m):[],...ei(r)]:[];x.forEach(k=>{d&&k.addEventListener("scroll",i,{passive:!0}),f&&k.addEventListener("resize",i)});const v=m&&p?Q1(m,i):null;let b=-1,S=null;h&&(S=new ResizeObserver(k=>{let[T]=k;T&&T.target===m&&S&&(S.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=S)==null||D.observe(r)})),i()}),m&&!g&&S.observe(m),S.observe(r));let E,w=g?Hs(s):null;g&&N();function N(){const k=Hs(s);w&&!Ay(w,k)&&i(),w=k,E=requestAnimationFrame(N)}return i(),()=>{var k;x.forEach(T=>{d&&T.removeEventListener("scroll",i),f&&T.removeEventListener("resize",i)}),v==null||v(),(k=S)==null||k.disconnect(),S=null,g&&cancelAnimationFrame(E)}}const K1=j1,Z1=b1,W1=g1,J1=S1,e2=y1,Eg=x1,t2=N1,a2=(s,r,i)=>{const o=new Map,d={platform:$1,...i},f={...d.platform,_c:o};return p1(s,r,{...d,platform:f})};var n2=typeof document<"u",s2=function(){},zo=n2?j.useLayoutEffect:s2;function $o(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,d;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!$o(s[o],r[o]))return!1;return!0}if(d=Object.keys(s),i=d.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,d[o]))return!1;for(o=i;o--!==0;){const f=d[o];if(!(f==="_owner"&&s.$$typeof)&&!$o(s[f],r[f]))return!1}return!0}return s!==s&&r!==r}function Ey(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(s,r){const i=Ey(s);return Math.round(r*i)/i}function Yd(s){const r=j.useRef(s);return zo(()=>{r.current=s}),r}function l2(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d,elements:{reference:f,floating:h}={},transform:p=!0,whileElementsMounted:g,open:m}=s,[x,v]=j.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[b,S]=j.useState(o);$o(b,o)||S(o);const[E,w]=j.useState(null),[N,k]=j.useState(null),T=j.useCallback(V=>{V!==R.current&&(R.current=V,w(V))},[]),D=j.useCallback(V=>{V!==z.current&&(z.current=V,k(V))},[]),M=f||E,A=h||N,R=j.useRef(null),z=j.useRef(null),H=j.useRef(x),le=g!=null,B=Yd(g),F=Yd(d),I=Yd(m),ae=j.useCallback(()=>{if(!R.current||!z.current)return;const V={placement:r,strategy:i,middleware:b};F.current&&(V.platform=F.current),a2(R.current,z.current,V).then(oe=>{const be={...oe,isPositioned:I.current!==!1};Q.current&&!$o(H.current,be)&&(H.current=be,si.flushSync(()=>{v(be)}))})},[b,r,i,F,I]);zo(()=>{m===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[m]);const Q=j.useRef(!1);zo(()=>(Q.current=!0,()=>{Q.current=!1}),[]),zo(()=>{if(M&&(R.current=M),A&&(z.current=A),M&&A){if(B.current)return B.current(M,A,ae);ae()}},[M,A,ae,B,le]);const ge=j.useMemo(()=>({reference:R,floating:z,setReference:T,setFloating:D}),[T,D]),L=j.useMemo(()=>({reference:M,floating:A}),[M,A]),X=j.useMemo(()=>{const V={position:i,left:0,top:0};if(!L.floating)return V;const oe=Tg(L.floating,x.x),be=Tg(L.floating,x.y);return p?{...V,transform:"translate("+oe+"px, "+be+"px)",...Ey(L.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:oe,top:be}},[i,p,L.floating,x.x,x.y]);return j.useMemo(()=>({...x,update:ae,refs:ge,elements:L,floatingStyles:X}),[x,ae,ge,L,X])}const r2=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:d}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?Eg({element:o.current,padding:d}).fn(i):{}:o?Eg({element:o,padding:d}).fn(i):{}}}},i2=(s,r)=>({...K1(s),options:[s,r]}),o2=(s,r)=>({...Z1(s),options:[s,r]}),c2=(s,r)=>({...t2(s),options:[s,r]}),u2=(s,r)=>({...W1(s),options:[s,r]}),d2=(s,r)=>({...J1(s),options:[s,r]}),f2=(s,r)=>({...e2(s),options:[s,r]}),m2=(s,r)=>({...r2(s),options:[s,r]});var h2="Arrow",Ty=j.forwardRef((s,r)=>{const{children:i,width:o=10,height:d=5,...f}=s;return t.jsx(Ge.svg,{...f,ref:r,width:o,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ty.displayName=h2;var p2=Ty;function Dy(s){const[r,i]=j.useState(void 0);return la(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let h,p;if("borderBoxSize"in f){const g=f.borderBoxSize,m=Array.isArray(g)?g[0]:g;h=m.inlineSize,p=m.blockSize}else h=s.offsetWidth,p=s.offsetHeight;i({width:h,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var Tf="Popper",[My,rc]=zn(Tf),[x2,Oy]=My(Tf),Ry=s=>{const{__scopePopper:r,children:i}=s,[o,d]=j.useState(null);return t.jsx(x2,{scope:r,anchor:o,onAnchorChange:d,children:i})};Ry.displayName=Tf;var _y="PopperAnchor",Py=j.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...d}=s,f=Oy(_y,i),h=j.useRef(null),p=pt(r,h),g=j.useRef(null);return j.useEffect(()=>{const m=g.current;g.current=(o==null?void 0:o.current)||h.current,m!==g.current&&f.onAnchorChange(g.current)}),o?null:t.jsx(Ge.div,{...d,ref:p})});Py.displayName=_y;var Df="PopperContent",[g2,y2]=My(Df),ky=j.forwardRef((s,r)=>{var re,Ce,Y,ve,Ne,Oe;const{__scopePopper:i,side:o="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:E,...w}=s,N=Oy(Df,i),[k,T]=j.useState(null),D=pt(r,jt=>T(jt)),[M,A]=j.useState(null),R=Dy(M),z=(R==null?void 0:R.width)??0,H=(R==null?void 0:R.height)??0,le=o+(f!=="center"?"-"+f:""),B=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},F=Array.isArray(m)?m:[m],I=F.length>0,ae={padding:B,boundary:F.filter(j2),altBoundary:I},{refs:Q,floatingStyles:ge,placement:L,isPositioned:X,middlewareData:V}=l2({strategy:"fixed",placement:le,whileElementsMounted:(...jt)=>X1(...jt,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[i2({mainAxis:d+H,alignmentAxis:h}),g&&o2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?c2():void 0,...ae}),g&&u2({...ae}),d2({...ae,apply:({elements:jt,rects:tt,availableWidth:Nt,availableHeight:xt})=>{const{width:Et,height:Ta}=tt.reference,Ot=jt.floating.style;Ot.setProperty("--radix-popper-available-width",`${Nt}px`),Ot.setProperty("--radix-popper-available-height",`${xt}px`),Ot.setProperty("--radix-popper-anchor-width",`${Et}px`),Ot.setProperty("--radix-popper-anchor-height",`${Ta}px`)}}),M&&m2({element:M,padding:p}),b2({arrowWidth:z,arrowHeight:H}),b&&f2({strategy:"referenceHidden",...ae})]}),[oe,be]=Iy(L),O=on(E);la(()=>{X&&(O==null||O())},[X,O]);const ee=(re=V.arrow)==null?void 0:re.x,de=(Ce=V.arrow)==null?void 0:Ce.y,me=((Y=V.arrow)==null?void 0:Y.centerOffset)!==0,[q,he]=j.useState();return la(()=>{k&&he(window.getComputedStyle(k).zIndex)},[k]),t.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:X?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ve=V.transformOrigin)==null?void 0:ve.x,(Ne=V.transformOrigin)==null?void 0:Ne.y].join(" "),...((Oe=V.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:t.jsx(g2,{scope:i,placedSide:oe,onArrowChange:A,arrowX:ee,arrowY:de,shouldHideArrow:me,children:t.jsx(Ge.div,{"data-side":oe,"data-align":be,...w,ref:D,style:{...w.style,animation:X?void 0:"none"}})})})});ky.displayName=Df;var Ly="PopperArrow",v2={top:"bottom",right:"left",bottom:"top",left:"right"},zy=j.forwardRef(function(r,i){const{__scopePopper:o,...d}=r,f=y2(Ly,o),h=v2[f.placedSide];return t.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:t.jsx(p2,{...d,ref:i,style:{...d.style,display:"block"}})})});zy.displayName=Ly;function j2(s){return s!==null}var b2=s=>({name:"transformOrigin",options:s,fn(r){var N,k,T;const{placement:i,rects:o,middlewareData:d}=r,h=((N=d.arrow)==null?void 0:N.centerOffset)!==0,p=h?0:s.arrowWidth,g=h?0:s.arrowHeight,[m,x]=Iy(i),v={start:"0%",center:"50%",end:"100%"}[x],b=(((k=d.arrow)==null?void 0:k.x)??0)+p/2,S=(((T=d.arrow)==null?void 0:T.y)??0)+g/2;let E="",w="";return m==="bottom"?(E=h?v:`${b}px`,w=`${-g}px`):m==="top"?(E=h?v:`${b}px`,w=`${o.floating.height+g}px`):m==="right"?(E=`${-g}px`,w=h?v:`${S}px`):m==="left"&&(E=`${o.floating.width+g}px`,w=h?v:`${S}px`),{data:{x:E,y:w}}}});function Iy(s){const[r,i="center"]=s.split("-");return[r,i]}var Uy=Ry,qy=Py,By=ky,Fy=zy,N2="Portal",ic=j.forwardRef((s,r)=>{var p;const{container:i,...o}=s,[d,f]=j.useState(!1);la(()=>f(!0),[]);const h=i||d&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?Ow.createPortal(t.jsx(Ge.div,{...o,ref:r}),h):null});ic.displayName=N2;var S2=xf[" useInsertionEffect ".trim().toString()]||la;function Vs({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[d,f,h]=w2({defaultProp:r,onChange:i}),p=s!==void 0,g=p?s:d;{const x=j.useRef(s!==void 0);j.useEffect(()=>{const v=x.current;v!==p&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,o])}const m=j.useCallback(x=>{var v;if(p){const b=C2(x)?x(s):x;b!==s&&((v=h.current)==null||v.call(h,b))}else f(x)},[p,s,f,h]);return[g,m]}function w2({defaultProp:s,onChange:r}){const[i,o]=j.useState(s),d=j.useRef(i),f=j.useRef(r);return S2(()=>{f.current=r},[r]),j.useEffect(()=>{var h;d.current!==i&&((h=f.current)==null||h.call(f,i),d.current=i)},[i,d]),[i,o,f]}function C2(s){return typeof s=="function"}function Hy(s){const r=j.useRef({value:s,previous:s});return j.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Vy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A2="VisuallyHidden",E2=j.forwardRef((s,r)=>t.jsx(Ge.span,{...s,ref:r,style:{...Vy,...s.style}}));E2.displayName=A2;var T2=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},zl=new WeakMap,Oo=new WeakMap,Ro={},$d=0,Gy=function(s){return s&&(s.host||Gy(s.parentNode))},D2=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=Gy(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},M2=function(s,r,i,o){var d=D2(r,Array.isArray(s)?s:[s]);Ro[i]||(Ro[i]=new WeakMap);var f=Ro[i],h=[],p=new Set,g=new Set(d),m=function(v){!v||p.has(v)||(p.add(v),m(v.parentNode))};d.forEach(m);var x=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(b){if(p.has(b))x(b);else try{var S=b.getAttribute(o),E=S!==null&&S!=="false",w=(zl.get(b)||0)+1,N=(f.get(b)||0)+1;zl.set(b,w),f.set(b,N),h.push(b),w===1&&E&&Oo.set(b,!0),N===1&&b.setAttribute(i,"true"),E||b.setAttribute(o,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return x(r),p.clear(),$d++,function(){h.forEach(function(v){var b=zl.get(v)-1,S=f.get(v)-1;zl.set(v,b),f.set(v,S),b||(Oo.has(v)||v.removeAttribute(o),Oo.delete(v)),S||v.removeAttribute(i)}),$d--,$d||(zl=new WeakMap,zl=new WeakMap,Oo=new WeakMap,Ro={})}},Mf=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),d=T2(s);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),M2(o,d,i,"aria-hidden")):function(){return null}},nn=function(){return nn=Object.assign||function(r){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f])}return r},nn.apply(this,arguments)};function Yy(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(i[o[d]]=s[o[d]]);return i}function O2(s,r,i){if(i||arguments.length===2)for(var o=0,d=r.length,f;o<d;o++)(f||!(o in r))&&(f||(f=Array.prototype.slice.call(r,0,o)),f[o]=r[o]);return s.concat(f||Array.prototype.slice.call(r))}var Io="right-scroll-bar-position",Uo="width-before-scroll-bar",R2="with-scroll-bars-hidden",_2="--removed-body-scroll-bar-size";function Qd(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function P2(s,r){var i=j.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=r,i.facade}var k2=typeof window<"u"?j.useLayoutEffect:j.useEffect,Dg=new WeakMap;function L2(s,r){var i=P2(null,function(o){return s.forEach(function(d){return Qd(d,o)})});return k2(function(){var o=Dg.get(i);if(o){var d=new Set(o),f=new Set(s),h=i.current;d.forEach(function(p){f.has(p)||Qd(p,null)}),f.forEach(function(p){d.has(p)||Qd(p,h)})}Dg.set(i,s)},[s]),i}function z2(s){return s}function I2(s,r){r===void 0&&(r=z2);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(f){var h=r(f,o);return i.push(h),function(){i=i.filter(function(p){return p!==h})}},assignSyncMedium:function(f){for(o=!0;i.length;){var h=i;i=[],h.forEach(f)}i={push:function(p){return f(p)},filter:function(){return i}}},assignMedium:function(f){o=!0;var h=[];if(i.length){var p=i;i=[],p.forEach(f),h=i}var g=function(){var x=h;h=[],x.forEach(f)},m=function(){return Promise.resolve().then(g)};m(),i={push:function(x){h.push(x),m()},filter:function(x){return h=h.filter(x),i}}}};return d}function U2(s){s===void 0&&(s={});var r=I2(null);return r.options=nn({async:!0,ssr:!1},s),r}var $y=function(s){var r=s.sideCar,i=Yy(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,nn({},i))};$y.isSideCarExport=!0;function q2(s,r){return s.useMedium(r),$y}var Qy=U2(),Xd=function(){},oc=j.forwardRef(function(s,r){var i=j.useRef(null),o=j.useState({onScrollCapture:Xd,onWheelCapture:Xd,onTouchMoveCapture:Xd}),d=o[0],f=o[1],h=s.forwardProps,p=s.children,g=s.className,m=s.removeScrollBar,x=s.enabled,v=s.shards,b=s.sideCar,S=s.noRelative,E=s.noIsolation,w=s.inert,N=s.allowPinchZoom,k=s.as,T=k===void 0?"div":k,D=s.gapMode,M=Yy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,R=L2([i,r]),z=nn(nn({},M),d);return j.createElement(j.Fragment,null,x&&j.createElement(A,{sideCar:Qy,removeScrollBar:m,shards:v,noRelative:S,noIsolation:E,inert:w,setCallbacks:f,allowPinchZoom:!!N,lockRef:i,gapMode:D}),h?j.cloneElement(j.Children.only(p),nn(nn({},z),{ref:R})):j.createElement(T,nn({},z,{className:g,ref:R}),p))});oc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oc.classNames={fullWidth:Uo,zeroRight:Io};var B2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=B2();return r&&s.setAttribute("nonce",r),s}function H2(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function V2(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var G2=function(){var s=0,r=null;return{add:function(i){s==0&&(r=F2())&&(H2(r,i),V2(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Y2=function(){var s=G2();return function(r,i){j.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Xy=function(){var s=Y2(),r=function(i){var o=i.styles,d=i.dynamic;return s(o,d),null};return r},$2={left:0,top:0,right:0,gap:0},Kd=function(s){return parseInt(s||"",10)||0},Q2=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],d=r[s==="padding"?"paddingRight":"marginRight"];return[Kd(i),Kd(o),Kd(d)]},X2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return $2;var r=Q2(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},K2=Xy(),Fl="data-scroll-locked",Z2=function(s,r,i,o){var d=s.left,f=s.top,h=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(R2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Fl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Io,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Uo,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Io," .").concat(Io,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Uo," .").concat(Uo,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Fl,`] {
    `).concat(_2,": ").concat(p,`px;
  }
`)},Mg=function(){var s=parseInt(document.body.getAttribute(Fl)||"0",10);return isFinite(s)?s:0},W2=function(){j.useEffect(function(){return document.body.setAttribute(Fl,(Mg()+1).toString()),function(){var s=Mg()-1;s<=0?document.body.removeAttribute(Fl):document.body.setAttribute(Fl,s.toString())}},[])},J2=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,d=o===void 0?"margin":o;W2();var f=j.useMemo(function(){return X2(d)},[d]);return j.createElement(K2,{styles:Z2(f,!r,d,i?"":"!important")})},rf=!1;if(typeof window<"u")try{var _o=Object.defineProperty({},"passive",{get:function(){return rf=!0,!0}});window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{rf=!1}var Il=rf?{passive:!1}:!1,eC=function(s){return s.tagName==="TEXTAREA"},Ky=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!eC(s)&&i[r]==="visible")},tC=function(s){return Ky(s,"overflowY")},aC=function(s){return Ky(s,"overflowX")},Og=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Zy(s,o);if(d){var f=Wy(s,o),h=f[1],p=f[2];if(h>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},nC=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},sC=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Zy=function(s,r){return s==="v"?tC(r):aC(r)},Wy=function(s,r){return s==="v"?nC(r):sC(r)},lC=function(s,r){return s==="h"&&r==="rtl"?-1:1},rC=function(s,r,i,o,d){var f=lC(s,window.getComputedStyle(r).direction),h=f*o,p=i.target,g=r.contains(p),m=!1,x=h>0,v=0,b=0;do{if(!p)break;var S=Wy(s,p),E=S[0],w=S[1],N=S[2],k=w-N-f*E;(E||k)&&Zy(s,p)&&(v+=k,b+=E);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!g&&p!==document.body||g&&(r.contains(p)||r===p));return(x&&Math.abs(v)<1||!x&&Math.abs(b)<1)&&(m=!0),m},Po=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Rg=function(s){return[s.deltaX,s.deltaY]},_g=function(s){return s&&"current"in s?s.current:s},iC=function(s,r){return s[0]===r[0]&&s[1]===r[1]},oC=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},cC=0,Ul=[];function uC(s){var r=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(cC++)[0],f=j.useState(Xy)[0],h=j.useRef(s);j.useEffect(function(){h.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var w=O2([s.lockRef.current],(s.shards||[]).map(_g),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var p=j.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!h.current.allowPinchZoom;var k=Po(w),T=i.current,D="deltaX"in w?w.deltaX:T[0]-k[0],M="deltaY"in w?w.deltaY:T[1]-k[1],A,R=w.target,z=Math.abs(D)>Math.abs(M)?"h":"v";if("touches"in w&&z==="h"&&R.type==="range")return!1;var H=window.getSelection(),le=H&&H.anchorNode,B=le?le===R||le.contains(R):!1;if(B)return!1;var F=Og(z,R);if(!F)return!0;if(F?A=z:(A=z==="v"?"h":"v",F=Og(z,R)),!F)return!1;if(!o.current&&"changedTouches"in w&&(D||M)&&(o.current=A),!A)return!0;var I=o.current||A;return rC(I,N,w,I==="h"?D:M)},[]),g=j.useCallback(function(w){var N=w;if(!(!Ul.length||Ul[Ul.length-1]!==f)){var k="deltaY"in N?Rg(N):Po(N),T=r.current.filter(function(A){return A.name===N.type&&(A.target===N.target||N.target===A.shadowParent)&&iC(A.delta,k)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var D=(h.current.shards||[]).map(_g).filter(Boolean).filter(function(A){return A.contains(N.target)}),M=D.length>0?p(N,D[0]):!h.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),m=j.useCallback(function(w,N,k,T){var D={name:w,delta:N,target:k,should:T,shadowParent:dC(k)};r.current.push(D),setTimeout(function(){r.current=r.current.filter(function(M){return M!==D})},1)},[]),x=j.useCallback(function(w){i.current=Po(w),o.current=void 0},[]),v=j.useCallback(function(w){m(w.type,Rg(w),w.target,p(w,s.lockRef.current))},[]),b=j.useCallback(function(w){m(w.type,Po(w),w.target,p(w,s.lockRef.current))},[]);j.useEffect(function(){return Ul.push(f),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",g,Il),document.addEventListener("touchmove",g,Il),document.addEventListener("touchstart",x,Il),function(){Ul=Ul.filter(function(w){return w!==f}),document.removeEventListener("wheel",g,Il),document.removeEventListener("touchmove",g,Il),document.removeEventListener("touchstart",x,Il)}},[]);var S=s.removeScrollBar,E=s.inert;return j.createElement(j.Fragment,null,E?j.createElement(f,{styles:oC(d)}):null,S?j.createElement(J2,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function dC(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const fC=q2(Qy,uC);var cc=j.forwardRef(function(s,r){return j.createElement(oc,nn({},s,{ref:r,sideCar:fC}))});cc.classNames=oc.classNames;var mC=[" ","Enter","ArrowUp","ArrowDown"],hC=[" ","Enter"],Gs="Select",[uc,dc,pC]=jf(Gs),[Kl]=zn(Gs,[pC,rc]),fc=rc(),[xC,ps]=Kl(Gs),[gC,yC]=Kl(Gs),Jy=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:d,onOpenChange:f,value:h,defaultValue:p,onValueChange:g,dir:m,name:x,autoComplete:v,disabled:b,required:S,form:E}=s,w=fc(r),[N,k]=j.useState(null),[T,D]=j.useState(null),[M,A]=j.useState(!1),R=Jo(m),[z,H]=Vs({prop:o,defaultProp:d??!1,onChange:f,caller:Gs}),[le,B]=Vs({prop:h,defaultProp:p,onChange:g,caller:Gs}),F=j.useRef(null),I=N?E||!!N.closest("form"):!0,[ae,Q]=j.useState(new Set),ge=Array.from(ae).map(L=>L.props.value).join(";");return t.jsx(Uy,{...w,children:t.jsxs(xC,{required:S,scope:r,trigger:N,onTriggerChange:k,valueNode:T,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:A,contentId:ln(),value:le,onValueChange:B,open:z,onOpenChange:H,dir:R,triggerPointerDownPosRef:F,disabled:b,children:[t.jsx(uc.Provider,{scope:r,children:t.jsx(gC,{scope:s.__scopeSelect,onNativeOptionAdd:j.useCallback(L=>{Q(X=>new Set(X).add(L))},[]),onNativeOptionRemove:j.useCallback(L=>{Q(X=>{const V=new Set(X);return V.delete(L),V})},[]),children:i})}),I?t.jsxs(bv,{"aria-hidden":!0,required:S,tabIndex:-1,name:x,autoComplete:v,value:le,onChange:L=>B(L.target.value),disabled:b,form:E,children:[le===void 0?t.jsx("option",{value:""}):null,Array.from(ae)]},ge):null]})})};Jy.displayName=Gs;var ev="SelectTrigger",tv=j.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...d}=s,f=fc(i),h=ps(ev,i),p=h.disabled||o,g=pt(r,h.onTriggerChange),m=dc(i),x=j.useRef("touch"),[v,b,S]=Sv(w=>{const N=m().filter(D=>!D.disabled),k=N.find(D=>D.value===h.value),T=wv(N,w,k);T!==void 0&&h.onValueChange(T.value)}),E=w=>{p||(h.onOpenChange(!0),S()),w&&(h.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return t.jsx(qy,{asChild:!0,...f,children:t.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Nv(h.value)?"":void 0,...d,ref:g,onClick:_e(d.onClick,w=>{w.currentTarget.focus(),x.current!=="mouse"&&E(w)}),onPointerDown:_e(d.onPointerDown,w=>{x.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:_e(d.onKeyDown,w=>{const N=v.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&b(w.key),!(N&&w.key===" ")&&mC.includes(w.key)&&(E(),w.preventDefault())})})})});tv.displayName=ev;var av="SelectValue",nv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,children:f,placeholder:h="",...p}=s,g=ps(av,i),{onValueNodeHasChildrenChange:m}=g,x=f!==void 0,v=pt(r,g.onValueNodeChange);return la(()=>{m(x)},[m,x]),t.jsx(Ge.span,{...p,ref:v,style:{pointerEvents:"none"},children:Nv(g.value)?t.jsx(t.Fragment,{children:h}):f})});nv.displayName=av;var vC="SelectIcon",sv=j.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...d}=s;return t.jsx(Ge.span,{"aria-hidden":!0,...d,ref:r,children:o||""})});sv.displayName=vC;var jC="SelectPortal",lv=s=>t.jsx(ic,{asChild:!0,...s});lv.displayName=jC;var Ys="SelectContent",rv=j.forwardRef((s,r)=>{const i=ps(Ys,s.__scopeSelect),[o,d]=j.useState();if(la(()=>{d(new DocumentFragment)},[]),!i.open){const f=o;return f?si.createPortal(t.jsx(iv,{scope:s.__scopeSelect,children:t.jsx(uc.Slot,{scope:s.__scopeSelect,children:t.jsx("div",{children:s.children})})}),f):null}return t.jsx(ov,{...s,ref:r})});rv.displayName=Ys;var Ya=10,[iv,xs]=Kl(Ys),bC="SelectContentImpl",NC=Vl("SelectContent.RemoveScroll"),ov=j.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:E,hideWhenDetached:w,avoidCollisions:N,...k}=s,T=ps(Ys,i),[D,M]=j.useState(null),[A,R]=j.useState(null),z=pt(r,re=>M(re)),[H,le]=j.useState(null),[B,F]=j.useState(null),I=dc(i),[ae,Q]=j.useState(!1),ge=j.useRef(!1);j.useEffect(()=>{if(D)return Mf(D)},[D]),bf();const L=j.useCallback(re=>{const[Ce,...Y]=I().map(Oe=>Oe.ref.current),[ve]=Y.slice(-1),Ne=document.activeElement;for(const Oe of re)if(Oe===Ne||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Ce&&A&&(A.scrollTop=0),Oe===ve&&A&&(A.scrollTop=A.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ne))return},[I,A]),X=j.useCallback(()=>L([H,D]),[L,H,D]);j.useEffect(()=>{ae&&X()},[ae,X]);const{onOpenChange:V,triggerPointerDownPosRef:oe}=T;j.useEffect(()=>{if(D){let re={x:0,y:0};const Ce=ve=>{var Ne,Oe;re={x:Math.abs(Math.round(ve.pageX)-(((Ne=oe.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Oe=oe.current)==null?void 0:Oe.y)??0))}},Y=ve=>{re.x<=10&&re.y<=10?ve.preventDefault():D.contains(ve.target)||V(!1),document.removeEventListener("pointermove",Ce),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Y,{capture:!0})}}},[D,V,oe]),j.useEffect(()=>{const re=()=>V(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[V]);const[be,O]=Sv(re=>{const Ce=I().filter(Ne=>!Ne.disabled),Y=Ce.find(Ne=>Ne.ref.current===document.activeElement),ve=wv(Ce,re,Y);ve&&setTimeout(()=>ve.ref.current.focus())}),ee=j.useCallback((re,Ce,Y)=>{const ve=!ge.current&&!Y;(T.value!==void 0&&T.value===Ce||ve)&&(le(re),ve&&(ge.current=!0))},[T.value]),de=j.useCallback(()=>D==null?void 0:D.focus(),[D]),me=j.useCallback((re,Ce,Y)=>{const ve=!ge.current&&!Y;(T.value!==void 0&&T.value===Ce||ve)&&F(re)},[T.value]),q=o==="popper"?of:cv,he=q===of?{side:p,sideOffset:g,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:E,hideWhenDetached:w,avoidCollisions:N}:{};return t.jsx(iv,{scope:i,content:D,viewport:A,onViewportChange:R,itemRefCallback:ee,selectedItem:H,onItemLeave:de,itemTextRefCallback:me,focusSelectedItem:X,selectedItemText:B,position:o,isPositioned:ae,searchRef:be,children:t.jsx(cc,{as:NC,allowPinchZoom:!0,children:t.jsx(tc,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:_e(d,re=>{var Ce;(Ce=T.trigger)==null||Ce.focus({preventScroll:!0}),re.preventDefault()}),children:t.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:t.jsx(q,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),...k,...he,onPlaced:()=>Q(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:_e(k.onKeyDown,re=>{const Ce=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ce&&re.key.length===1&&O(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ve=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ne=re.target,Oe=ve.indexOf(Ne);ve=ve.slice(Oe+1)}setTimeout(()=>L(ve)),re.preventDefault()}})})})})})})});ov.displayName=bC;var SC="SelectItemAlignedPosition",cv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...d}=s,f=ps(Ys,i),h=xs(Ys,i),[p,g]=j.useState(null),[m,x]=j.useState(null),v=pt(r,z=>x(z)),b=dc(i),S=j.useRef(!1),E=j.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:k,focusSelectedItem:T}=h,D=j.useCallback(()=>{if(f.trigger&&f.valueNode&&p&&m&&w&&N&&k){const z=f.trigger.getBoundingClientRect(),H=m.getBoundingClientRect(),le=f.valueNode.getBoundingClientRect(),B=k.getBoundingClientRect();if(f.dir!=="rtl"){const Ne=B.left-H.left,Oe=le.left-Ne,jt=z.left-Oe,tt=z.width+jt,Nt=Math.max(tt,H.width),xt=window.innerWidth-Ya,Et=ug(Oe,[Ya,Math.max(Ya,xt-Nt)]);p.style.minWidth=tt+"px",p.style.left=Et+"px"}else{const Ne=H.right-B.right,Oe=window.innerWidth-le.right-Ne,jt=window.innerWidth-z.right-Oe,tt=z.width+jt,Nt=Math.max(tt,H.width),xt=window.innerWidth-Ya,Et=ug(Oe,[Ya,Math.max(Ya,xt-Nt)]);p.style.minWidth=tt+"px",p.style.right=Et+"px"}const F=b(),I=window.innerHeight-Ya*2,ae=w.scrollHeight,Q=window.getComputedStyle(m),ge=parseInt(Q.borderTopWidth,10),L=parseInt(Q.paddingTop,10),X=parseInt(Q.borderBottomWidth,10),V=parseInt(Q.paddingBottom,10),oe=ge+L+ae+V+X,be=Math.min(N.offsetHeight*5,oe),O=window.getComputedStyle(w),ee=parseInt(O.paddingTop,10),de=parseInt(O.paddingBottom,10),me=z.top+z.height/2-Ya,q=I-me,he=N.offsetHeight/2,re=N.offsetTop+he,Ce=ge+L+re,Y=oe-Ce;if(Ce<=me){const Ne=F.length>0&&N===F[F.length-1].ref.current;p.style.bottom="0px";const Oe=m.clientHeight-w.offsetTop-w.offsetHeight,jt=Math.max(q,he+(Ne?de:0)+Oe+X),tt=Ce+jt;p.style.height=tt+"px"}else{const Ne=F.length>0&&N===F[0].ref.current;p.style.top="0px";const jt=Math.max(me,ge+w.offsetTop+(Ne?ee:0)+he)+Y;p.style.height=jt+"px",w.scrollTop=Ce-me+w.offsetTop}p.style.margin=`${Ya}px 0`,p.style.minHeight=be+"px",p.style.maxHeight=I+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[b,f.trigger,f.valueNode,p,m,w,N,k,f.dir,o]);la(()=>D(),[D]);const[M,A]=j.useState();la(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const R=j.useCallback(z=>{z&&E.current===!0&&(D(),T==null||T(),E.current=!1)},[D,T]);return t.jsx(CC,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:S,onScrollButtonChange:R,children:t.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:t.jsx(Ge.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});cv.displayName=SC;var wC="SelectPopperPosition",of=j.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:d=Ya,...f}=s,h=fc(i);return t.jsx(By,{...h,...f,ref:r,align:o,collisionPadding:d,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});of.displayName=wC;var[CC,Of]=Kl(Ys,{}),cf="SelectViewport",uv=j.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...d}=s,f=xs(cf,i),h=Of(cf,i),p=pt(r,f.onViewportChange),g=j.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),t.jsx(uc.Slot,{scope:i,children:t.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:_e(d.onScroll,m=>{const x=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&v){const S=Math.abs(g.current-x.scrollTop);if(S>0){const E=window.innerHeight-Ya*2,w=parseFloat(v.style.minHeight),N=parseFloat(v.style.height),k=Math.max(w,N);if(k<E){const T=k+S,D=Math.min(E,T),M=T-D;v.style.height=D+"px",v.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});uv.displayName=cf;var dv="SelectGroup",[AC,EC]=Kl(dv),TC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=ln();return t.jsx(AC,{scope:i,id:d,children:t.jsx(Ge.div,{role:"group","aria-labelledby":d,...o,ref:r})})});TC.displayName=dv;var fv="SelectLabel",DC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=EC(fv,i);return t.jsx(Ge.div,{id:d.id,...o,ref:r})});DC.displayName=fv;var Qo="SelectItem",[MC,mv]=Kl(Qo),hv=j.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:d=!1,textValue:f,...h}=s,p=ps(Qo,i),g=xs(Qo,i),m=p.value===o,[x,v]=j.useState(f??""),[b,S]=j.useState(!1),E=pt(r,T=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,T,o,d)}),w=ln(),N=j.useRef("touch"),k=()=>{d||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(MC,{scope:i,value:o,disabled:d,textId:w,isSelected:m,onItemTextChange:j.useCallback(T=>{v(D=>D||((T==null?void 0:T.textContent)??"").trim())},[]),children:t.jsx(uc.ItemSlot,{scope:i,value:o,disabled:d,textValue:x,children:t.jsx(Ge.div,{role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...h,ref:E,onFocus:_e(h.onFocus,()=>S(!0)),onBlur:_e(h.onBlur,()=>S(!1)),onClick:_e(h.onClick,()=>{N.current!=="mouse"&&k()}),onPointerUp:_e(h.onPointerUp,()=>{N.current==="mouse"&&k()}),onPointerDown:_e(h.onPointerDown,T=>{N.current=T.pointerType}),onPointerMove:_e(h.onPointerMove,T=>{var D;N.current=T.pointerType,d?(D=g.onItemLeave)==null||D.call(g):N.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(h.onPointerLeave,T=>{var D;T.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:_e(h.onKeyDown,T=>{var M;((M=g.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(hC.includes(T.key)&&k(),T.key===" "&&T.preventDefault())})})})})});hv.displayName=Qo;var Qr="SelectItemText",pv=j.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:d,...f}=s,h=ps(Qr,i),p=xs(Qr,i),g=mv(Qr,i),m=yC(Qr,i),[x,v]=j.useState(null),b=pt(r,k=>v(k),g.onItemTextChange,k=>{var T;return(T=p.itemTextRefCallback)==null?void 0:T.call(p,k,g.value,g.disabled)}),S=x==null?void 0:x.textContent,E=j.useMemo(()=>t.jsx("option",{value:g.value,disabled:g.disabled,children:S},g.value),[g.disabled,g.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=m;return la(()=>(w(E),()=>N(E)),[w,N,E]),t.jsxs(t.Fragment,{children:[t.jsx(Ge.span,{id:g.textId,...f,ref:b}),g.isSelected&&h.valueNode&&!h.valueNodeHasChildren?si.createPortal(f.children,h.valueNode):null]})});pv.displayName=Qr;var xv="SelectItemIndicator",gv=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return mv(xv,i).isSelected?t.jsx(Ge.span,{"aria-hidden":!0,...o,ref:r}):null});gv.displayName=xv;var uf="SelectScrollUpButton",yv=j.forwardRef((s,r)=>{const i=xs(uf,s.__scopeSelect),o=Of(uf,s.__scopeSelect),[d,f]=j.useState(!1),h=pt(r,o.onScrollButtonChange);return la(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollTop>0;f(m)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?t.jsx(jv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});yv.displayName=uf;var df="SelectScrollDownButton",vv=j.forwardRef((s,r)=>{const i=xs(df,s.__scopeSelect),o=Of(df,s.__scopeSelect),[d,f]=j.useState(!1),h=pt(r,o.onScrollButtonChange);return la(()=>{if(i.viewport&&i.isPositioned){let p=function(){const m=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<m;f(x)};const g=i.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),d?t.jsx(jv,{...s,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=i;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});vv.displayName=df;var jv=j.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...d}=s,f=xs("SelectScrollButton",i),h=j.useRef(null),p=dc(i),g=j.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return j.useEffect(()=>()=>g(),[g]),la(()=>{var x;const m=p().find(v=>v.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[p]),t.jsx(Ge.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:_e(d.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:_e(d.onPointerMove,()=>{var m;(m=f.onItemLeave)==null||m.call(f),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:_e(d.onPointerLeave,()=>{g()})})}),OC="SelectSeparator",RC=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return t.jsx(Ge.div,{"aria-hidden":!0,...o,ref:r})});RC.displayName=OC;var ff="SelectArrow",_C=j.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,d=fc(i),f=ps(ff,i),h=xs(ff,i);return f.open&&h.position==="popper"?t.jsx(Fy,{...d,...o,ref:r}):null});_C.displayName=ff;var PC="SelectBubbleInput",bv=j.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const d=j.useRef(null),f=pt(o,d),h=Hy(r);return j.useEffect(()=>{const p=d.current;if(!p)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(h!==r&&x){const v=new Event("change",{bubbles:!0});x.call(p,r),p.dispatchEvent(v)}},[h,r]),t.jsx(Ge.select,{...i,style:{...Vy,...i.style},ref:f,defaultValue:r})});bv.displayName=PC;function Nv(s){return s===""||s===void 0}function Sv(s){const r=on(s),i=j.useRef(""),o=j.useRef(0),d=j.useCallback(h=>{const p=i.current+h;r(p),(function g(m){i.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(p)},[r]),f=j.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,d,f]}function wv(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=kC(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.textValue.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function kC(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var LC=Jy,zC=tv,IC=nv,UC=sv,qC=lv,BC=rv,FC=uv,HC=hv,VC=pv,GC=gv,YC=yv,$C=vv;function ot({...s}){return t.jsx(LC,{"data-slot":"select",...s})}function ct({...s}){return t.jsx(IC,{"data-slot":"select-value",...s})}function ut({className:s,size:r="default",children:i,...o}){return t.jsxs(zC,{"data-slot":"select-trigger","data-size":r,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o,children:[i,t.jsx(UC,{asChild:!0,children:t.jsx(Vg,{className:"size-4 opacity-50"})})]})}function dt({className:s,children:r,position:i="popper",...o}){return t.jsx(qC,{children:t.jsxs(BC,{"data-slot":"select-content",className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[t.jsx(QC,{}),t.jsx(FC,{className:$e("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),t.jsx(XC,{})]})})}function ye({className:s,children:r,...i}){return t.jsxs(HC,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(GC,{children:t.jsx(ON,{className:"size-4"})})}),t.jsx(VC,{children:r})]})}function QC({className:s,...r}){return t.jsx(YC,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",s),...r,children:t.jsx(PN,{className:"size-4"})})}function XC({className:s,...r}){return t.jsx($C,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",s),...r,children:t.jsx(Vg,{className:"size-4"})})}function KC(s,r){return j.useReducer((i,o)=>r[i][o]??i,s)}var In=s=>{const{present:r,children:i}=s,o=ZC(r),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=pt(o.ref,WC(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};In.displayName="Presence";function ZC(s){const[r,i]=j.useState(),o=j.useRef(null),d=j.useRef(s),f=j.useRef("none"),h=s?"mounted":"unmounted",[p,g]=KC(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=ko(o.current);f.current=p==="mounted"?m:"none"},[p]),la(()=>{const m=o.current,x=d.current;if(x!==s){const b=f.current,S=ko(m);s?g("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?g("UNMOUNT"):g(x&&b!==S?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),la(()=>{if(r){let m;const x=r.ownerDocument.defaultView??window,v=S=>{const w=ko(o.current).includes(CSS.escape(S.animationName));if(S.target===r&&w&&(g("ANIMATION_END"),!d.current)){const N=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=N)})}},b=S=>{S.target===r&&(f.current=ko(o.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",v),r.addEventListener("animationend",v),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",v),r.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:j.useCallback(m=>{o.current=m?getComputedStyle(m):null,i(m)},[])}}function ko(s){return(s==null?void 0:s.animationName)||"none"}function WC(s){var o,d;let r=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=(d=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:d.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Zd="rovingFocusGroup.onEntryFocus",JC={bubbles:!1,cancelable:!0},ri="RovingFocusGroup",[mf,Cv,eA]=jf(ri),[tA,mc]=zn(ri,[eA]),[aA,nA]=tA(ri),Av=j.forwardRef((s,r)=>t.jsx(mf.Provider,{scope:s.__scopeRovingFocusGroup,children:t.jsx(mf.Slot,{scope:s.__scopeRovingFocusGroup,children:t.jsx(sA,{...s,ref:r})})}));Av.displayName=ri;var sA=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:d=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...v}=s,b=j.useRef(null),S=pt(r,b),E=Jo(f),[w,N]=Vs({prop:h,defaultProp:p??null,onChange:g,caller:ri}),[k,T]=j.useState(!1),D=on(m),M=Cv(i),A=j.useRef(!1),[R,z]=j.useState(0);return j.useEffect(()=>{const H=b.current;if(H)return H.addEventListener(Zd,D),()=>H.removeEventListener(Zd,D)},[D]),t.jsx(aA,{scope:i,orientation:o,dir:E,loop:d,currentTabStopId:w,onItemFocus:j.useCallback(H=>N(H),[N]),onItemShiftTab:j.useCallback(()=>T(!0),[]),onFocusableItemAdd:j.useCallback(()=>z(H=>H+1),[]),onFocusableItemRemove:j.useCallback(()=>z(H=>H-1),[]),children:t.jsx(Ge.div,{tabIndex:k||R===0?-1:0,"data-orientation":o,...v,ref:S,style:{outline:"none",...s.style},onMouseDown:_e(s.onMouseDown,()=>{A.current=!0}),onFocus:_e(s.onFocus,H=>{const le=!A.current;if(H.target===H.currentTarget&&le&&!k){const B=new CustomEvent(Zd,JC);if(H.currentTarget.dispatchEvent(B),!B.defaultPrevented){const F=M().filter(L=>L.focusable),I=F.find(L=>L.active),ae=F.find(L=>L.id===w),ge=[I,ae,...F].filter(Boolean).map(L=>L.ref.current);Dv(ge,x)}}A.current=!1}),onBlur:_e(s.onBlur,()=>T(!1))})})}),Ev="RovingFocusGroupItem",Tv=j.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:d=!1,tabStopId:f,children:h,...p}=s,g=ln(),m=f||g,x=nA(Ev,i),v=x.currentTabStopId===m,b=Cv(i),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:w}=x;return j.useEffect(()=>{if(o)return S(),()=>E()},[o,S,E]),t.jsx(mf.ItemSlot,{scope:i,id:m,focusable:o,active:d,children:t.jsx(Ge.span,{tabIndex:v?0:-1,"data-orientation":x.orientation,...p,ref:r,onMouseDown:_e(s.onMouseDown,N=>{o?x.onItemFocus(m):N.preventDefault()}),onFocus:_e(s.onFocus,()=>x.onItemFocus(m)),onKeyDown:_e(s.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const k=iA(N,x.orientation,x.dir);if(k!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let D=b().filter(M=>M.focusable).map(M=>M.ref.current);if(k==="last")D.reverse();else if(k==="prev"||k==="next"){k==="prev"&&D.reverse();const M=D.indexOf(N.currentTarget);D=x.loop?oA(D,M+1):D.slice(M+1)}setTimeout(()=>Dv(D))}}),children:typeof h=="function"?h({isCurrentTabStop:v,hasTabStop:w!=null}):h})})});Tv.displayName=Ev;var lA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rA(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function iA(s,r,i){const o=rA(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return lA[o]}function Dv(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function oA(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var Mv=Av,Ov=Tv,hf=["Enter"," "],cA=["ArrowDown","PageUp","Home"],Rv=["ArrowUp","PageDown","End"],uA=[...cA,...Rv],dA={ltr:[...hf,"ArrowRight"],rtl:[...hf,"ArrowLeft"]},fA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ii="Menu",[ti,mA,hA]=jf(ii),[Qs,_v]=zn(ii,[hA,rc,mc]),hc=rc(),Pv=mc(),[pA,Xs]=Qs(ii),[xA,oi]=Qs(ii),kv=s=>{const{__scopeMenu:r,open:i=!1,children:o,dir:d,onOpenChange:f,modal:h=!0}=s,p=hc(r),[g,m]=j.useState(null),x=j.useRef(!1),v=on(f),b=Jo(d);return j.useEffect(()=>{const S=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),t.jsx(Uy,{...p,children:t.jsx(pA,{scope:r,open:i,onOpenChange:v,content:g,onContentChange:m,children:t.jsx(xA,{scope:r,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:x,dir:b,modal:h,children:o})})})};kv.displayName=ii;var gA="MenuAnchor",Rf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=hc(i);return t.jsx(qy,{...d,...o,ref:r})});Rf.displayName=gA;var _f="MenuPortal",[yA,Lv]=Qs(_f,{forceMount:void 0}),zv=s=>{const{__scopeMenu:r,forceMount:i,children:o,container:d}=s,f=Xs(_f,r);return t.jsx(yA,{scope:r,forceMount:i,children:t.jsx(In,{present:i||f.open,children:t.jsx(ic,{asChild:!0,container:d,children:o})})})};zv.displayName=_f;var qa="MenuContent",[vA,Pf]=Qs(qa),Iv=j.forwardRef((s,r)=>{const i=Lv(qa,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Xs(qa,s.__scopeMenu),h=oi(qa,s.__scopeMenu);return t.jsx(ti.Provider,{scope:s.__scopeMenu,children:t.jsx(In,{present:o||f.open,children:t.jsx(ti.Slot,{scope:s.__scopeMenu,children:h.modal?t.jsx(jA,{...d,ref:r}):t.jsx(bA,{...d,ref:r})})})})}),jA=j.forwardRef((s,r)=>{const i=Xs(qa,s.__scopeMenu),o=j.useRef(null),d=pt(r,o);return j.useEffect(()=>{const f=o.current;if(f)return Mf(f)},[]),t.jsx(kf,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:_e(s.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),bA=j.forwardRef((s,r)=>{const i=Xs(qa,s.__scopeMenu);return t.jsx(kf,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),NA=Vl("MenuContent.ScrollLock"),kf=j.forwardRef((s,r)=>{const{__scopeMenu:i,loop:o=!1,trapFocus:d,onOpenAutoFocus:f,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:S,disableOutsideScroll:E,...w}=s,N=Xs(qa,i),k=oi(qa,i),T=hc(i),D=Pv(i),M=mA(i),[A,R]=j.useState(null),z=j.useRef(null),H=pt(r,z,N.onContentChange),le=j.useRef(0),B=j.useRef(""),F=j.useRef(0),I=j.useRef(null),ae=j.useRef("right"),Q=j.useRef(0),ge=E?cc:j.Fragment,L=E?{as:NA,allowPinchZoom:!0}:void 0,X=oe=>{var re,Ce;const be=B.current+oe,O=M().filter(Y=>!Y.disabled),ee=document.activeElement,de=(re=O.find(Y=>Y.ref.current===ee))==null?void 0:re.textValue,me=O.map(Y=>Y.textValue),q=PA(me,be,de),he=(Ce=O.find(Y=>Y.textValue===q))==null?void 0:Ce.ref.current;(function Y(ve){B.current=ve,window.clearTimeout(le.current),ve!==""&&(le.current=window.setTimeout(()=>Y(""),1e3))})(be),he&&setTimeout(()=>he.focus())};j.useEffect(()=>()=>window.clearTimeout(le.current),[]),bf();const V=j.useCallback(oe=>{var O,ee;return ae.current===((O=I.current)==null?void 0:O.side)&&LA(oe,(ee=I.current)==null?void 0:ee.area)},[]);return t.jsx(vA,{scope:i,searchRef:B,onItemEnter:j.useCallback(oe=>{V(oe)&&oe.preventDefault()},[V]),onItemLeave:j.useCallback(oe=>{var be;V(oe)||((be=z.current)==null||be.focus(),R(null))},[V]),onTriggerLeave:j.useCallback(oe=>{V(oe)&&oe.preventDefault()},[V]),pointerGraceTimerRef:F,onPointerGraceIntentChange:j.useCallback(oe=>{I.current=oe},[]),children:t.jsx(ge,{...L,children:t.jsx(tc,{asChild:!0,trapped:d,onMountAutoFocus:_e(f,oe=>{var be;oe.preventDefault(),(be=z.current)==null||be.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:t.jsx(ec,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:b,onDismiss:S,children:t.jsx(Mv,{asChild:!0,...D,dir:k.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:_e(g,oe=>{k.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(By,{role:"menu","aria-orientation":"vertical","data-state":e0(N.open),"data-radix-menu-content":"",dir:k.dir,...T,...w,ref:H,style:{outline:"none",...w.style},onKeyDown:_e(w.onKeyDown,oe=>{const O=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,ee=oe.ctrlKey||oe.altKey||oe.metaKey,de=oe.key.length===1;O&&(oe.key==="Tab"&&oe.preventDefault(),!ee&&de&&X(oe.key));const me=z.current;if(oe.target!==me||!uA.includes(oe.key))return;oe.preventDefault();const he=M().filter(re=>!re.disabled).map(re=>re.ref.current);Rv.includes(oe.key)&&he.reverse(),RA(he)}),onBlur:_e(s.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(le.current),B.current="")}),onPointerMove:_e(s.onPointerMove,ai(oe=>{const be=oe.target,O=Q.current!==oe.clientX;if(oe.currentTarget.contains(be)&&O){const ee=oe.clientX>Q.current?"right":"left";ae.current=ee,Q.current=oe.clientX}}))})})})})})})});Iv.displayName=qa;var SA="MenuGroup",Lf=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return t.jsx(Ge.div,{role:"group",...o,ref:r})});Lf.displayName=SA;var wA="MenuLabel",Uv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return t.jsx(Ge.div,{...o,ref:r})});Uv.displayName=wA;var Xo="MenuItem",Pg="menu.itemSelect",pc=j.forwardRef((s,r)=>{const{disabled:i=!1,onSelect:o,...d}=s,f=j.useRef(null),h=oi(Xo,s.__scopeMenu),p=Pf(Xo,s.__scopeMenu),g=pt(r,f),m=j.useRef(!1),x=()=>{const v=f.current;if(!i&&v){const b=new CustomEvent(Pg,{bubbles:!0,cancelable:!0});v.addEventListener(Pg,S=>o==null?void 0:o(S),{once:!0}),my(v,b),b.defaultPrevented?m.current=!1:h.onClose()}};return t.jsx(qv,{...d,ref:g,disabled:i,onClick:_e(s.onClick,x),onPointerDown:v=>{var b;(b=s.onPointerDown)==null||b.call(s,v),m.current=!0},onPointerUp:_e(s.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:_e(s.onKeyDown,v=>{const b=p.searchRef.current!=="";i||b&&v.key===" "||hf.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});pc.displayName=Xo;var qv=j.forwardRef((s,r)=>{const{__scopeMenu:i,disabled:o=!1,textValue:d,...f}=s,h=Pf(Xo,i),p=Pv(i),g=j.useRef(null),m=pt(r,g),[x,v]=j.useState(!1),[b,S]=j.useState("");return j.useEffect(()=>{const E=g.current;E&&S((E.textContent??"").trim())},[f.children]),t.jsx(ti.ItemSlot,{scope:i,disabled:o,textValue:d??b,children:t.jsx(Ov,{asChild:!0,...p,focusable:!o,children:t.jsx(Ge.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:_e(s.onPointerMove,ai(E=>{o?h.onItemLeave(E):(h.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(s.onPointerLeave,ai(E=>h.onItemLeave(E))),onFocus:_e(s.onFocus,()=>v(!0)),onBlur:_e(s.onBlur,()=>v(!1))})})})}),CA="MenuCheckboxItem",Bv=j.forwardRef((s,r)=>{const{checked:i=!1,onCheckedChange:o,...d}=s;return t.jsx(Yv,{scope:s.__scopeMenu,checked:i,children:t.jsx(pc,{role:"menuitemcheckbox","aria-checked":Ko(i)?"mixed":i,...d,ref:r,"data-state":If(i),onSelect:_e(d.onSelect,()=>o==null?void 0:o(Ko(i)?!0:!i),{checkForDefaultPrevented:!1})})})});Bv.displayName=CA;var Fv="MenuRadioGroup",[AA,EA]=Qs(Fv,{value:void 0,onValueChange:()=>{}}),Hv=j.forwardRef((s,r)=>{const{value:i,onValueChange:o,...d}=s,f=on(o);return t.jsx(AA,{scope:s.__scopeMenu,value:i,onValueChange:f,children:t.jsx(Lf,{...d,ref:r})})});Hv.displayName=Fv;var Vv="MenuRadioItem",Gv=j.forwardRef((s,r)=>{const{value:i,...o}=s,d=EA(Vv,s.__scopeMenu),f=i===d.value;return t.jsx(Yv,{scope:s.__scopeMenu,checked:f,children:t.jsx(pc,{role:"menuitemradio","aria-checked":f,...o,ref:r,"data-state":If(f),onSelect:_e(o.onSelect,()=>{var h;return(h=d.onValueChange)==null?void 0:h.call(d,i)},{checkForDefaultPrevented:!1})})})});Gv.displayName=Vv;var zf="MenuItemIndicator",[Yv,TA]=Qs(zf,{checked:!1}),$v=j.forwardRef((s,r)=>{const{__scopeMenu:i,forceMount:o,...d}=s,f=TA(zf,i);return t.jsx(In,{present:o||Ko(f.checked)||f.checked===!0,children:t.jsx(Ge.span,{...d,ref:r,"data-state":If(f.checked)})})});$v.displayName=zf;var DA="MenuSeparator",Qv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s;return t.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Qv.displayName=DA;var MA="MenuArrow",Xv=j.forwardRef((s,r)=>{const{__scopeMenu:i,...o}=s,d=hc(i);return t.jsx(Fy,{...d,...o,ref:r})});Xv.displayName=MA;var OA="MenuSub",[GT,Kv]=Qs(OA),Xr="MenuSubTrigger",Zv=j.forwardRef((s,r)=>{const i=Xs(Xr,s.__scopeMenu),o=oi(Xr,s.__scopeMenu),d=Kv(Xr,s.__scopeMenu),f=Pf(Xr,s.__scopeMenu),h=j.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=f,m={__scopeMenu:s.__scopeMenu},x=j.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return j.useEffect(()=>x,[x]),j.useEffect(()=>{const v=p.current;return()=>{window.clearTimeout(v),g(null)}},[p,g]),t.jsx(Rf,{asChild:!0,...m,children:t.jsx(qv,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":d.contentId,"data-state":e0(i.open),...s,ref:ni(r,d.onTriggerChange),onClick:v=>{var b;(b=s.onClick)==null||b.call(s,v),!(s.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:_e(s.onPointerMove,ai(v=>{f.onItemEnter(v),!v.defaultPrevented&&!s.disabled&&!i.open&&!h.current&&(f.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{i.onOpenChange(!0),x()},100))})),onPointerLeave:_e(s.onPointerLeave,ai(v=>{var S,E;x();const b=(S=i.content)==null?void 0:S.getBoundingClientRect();if(b){const w=(E=i.content)==null?void 0:E.dataset.side,N=w==="right",k=N?-5:5,T=b[N?"left":"right"],D=b[N?"right":"left"];f.onPointerGraceIntentChange({area:[{x:v.clientX+k,y:v.clientY},{x:T,y:b.top},{x:D,y:b.top},{x:D,y:b.bottom},{x:T,y:b.bottom}],side:w}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(v),v.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:_e(s.onKeyDown,v=>{var S;const b=f.searchRef.current!=="";s.disabled||b&&v.key===" "||dA[o.dir].includes(v.key)&&(i.onOpenChange(!0),(S=i.content)==null||S.focus(),v.preventDefault())})})})});Zv.displayName=Xr;var Wv="MenuSubContent",Jv=j.forwardRef((s,r)=>{const i=Lv(qa,s.__scopeMenu),{forceMount:o=i.forceMount,...d}=s,f=Xs(qa,s.__scopeMenu),h=oi(qa,s.__scopeMenu),p=Kv(Wv,s.__scopeMenu),g=j.useRef(null),m=pt(r,g);return t.jsx(ti.Provider,{scope:s.__scopeMenu,children:t.jsx(In,{present:o||f.open,children:t.jsx(ti.Slot,{scope:s.__scopeMenu,children:t.jsx(kf,{id:p.contentId,"aria-labelledby":p.triggerId,...d,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var v;h.isUsingKeyboardRef.current&&((v=g.current)==null||v.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:_e(s.onFocusOutside,x=>{x.target!==p.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:_e(s.onEscapeKeyDown,x=>{h.onClose(),x.preventDefault()}),onKeyDown:_e(s.onKeyDown,x=>{var S;const v=x.currentTarget.contains(x.target),b=fA[h.dir].includes(x.key);v&&b&&(f.onOpenChange(!1),(S=p.trigger)==null||S.focus(),x.preventDefault())})})})})})});Jv.displayName=Wv;function e0(s){return s?"open":"closed"}function Ko(s){return s==="indeterminate"}function If(s){return Ko(s)?"indeterminate":s?"checked":"unchecked"}function RA(s){const r=document.activeElement;for(const i of s)if(i===r||(i.focus(),document.activeElement!==r))return}function _A(s,r){return s.map((i,o)=>s[(r+o)%s.length])}function PA(s,r,i){const d=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,f=i?s.indexOf(i):-1;let h=_A(s,Math.max(f,0));d.length===1&&(h=h.filter(m=>m!==i));const g=h.find(m=>m.toLowerCase().startsWith(d.toLowerCase()));return g!==i?g:void 0}function kA(s,r){const{x:i,y:o}=s;let d=!1;for(let f=0,h=r.length-1;f<r.length;h=f++){const p=r[f],g=r[h],m=p.x,x=p.y,v=g.x,b=g.y;x>o!=b>o&&i<(v-m)*(o-x)/(b-x)+m&&(d=!d)}return d}function LA(s,r){if(!r)return!1;const i={x:s.clientX,y:s.clientY};return kA(i,r)}function ai(s){return r=>r.pointerType==="mouse"?s(r):void 0}var zA=kv,IA=Rf,UA=zv,qA=Iv,BA=Lf,FA=Uv,HA=pc,VA=Bv,GA=Hv,YA=Gv,$A=$v,QA=Qv,XA=Xv,KA=Zv,ZA=Jv,xc="DropdownMenu",[WA]=zn(xc,[_v]),oa=_v(),[JA,t0]=WA(xc),a0=s=>{const{__scopeDropdownMenu:r,children:i,dir:o,open:d,defaultOpen:f,onOpenChange:h,modal:p=!0}=s,g=oa(r),m=j.useRef(null),[x,v]=Vs({prop:d,defaultProp:f??!1,onChange:h,caller:xc});return t.jsx(JA,{scope:r,triggerId:ln(),triggerRef:m,contentId:ln(),open:x,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(b=>!b),[v]),modal:p,children:t.jsx(zA,{...g,open:x,onOpenChange:v,dir:o,modal:p,children:i})})};a0.displayName=xc;var n0="DropdownMenuTrigger",s0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,disabled:o=!1,...d}=s,f=t0(n0,i),h=oa(i);return t.jsx(IA,{asChild:!0,...h,children:t.jsx(Ge.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...d,ref:ni(r,f.triggerRef),onPointerDown:_e(s.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(f.onOpenToggle(),f.open||p.preventDefault())}),onKeyDown:_e(s.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&f.onOpenToggle(),p.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});s0.displayName=n0;var eE="DropdownMenuPortal",l0=s=>{const{__scopeDropdownMenu:r,...i}=s,o=oa(r);return t.jsx(UA,{...o,...i})};l0.displayName=eE;var r0="DropdownMenuContent",i0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=t0(r0,i),f=oa(i),h=j.useRef(!1);return t.jsx(qA,{id:d.contentId,"aria-labelledby":d.triggerId,...f,...o,ref:r,onCloseAutoFocus:_e(s.onCloseAutoFocus,p=>{var g;h.current||(g=d.triggerRef.current)==null||g.focus(),h.current=!1,p.preventDefault()}),onInteractOutside:_e(s.onInteractOutside,p=>{const g=p.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,x=g.button===2||m;(!d.modal||x)&&(h.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i0.displayName=r0;var tE="DropdownMenuGroup",aE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(BA,{...d,...o,ref:r})});aE.displayName=tE;var nE="DropdownMenuLabel",sE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(FA,{...d,...o,ref:r})});sE.displayName=nE;var lE="DropdownMenuItem",o0=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(HA,{...d,...o,ref:r})});o0.displayName=lE;var rE="DropdownMenuCheckboxItem",iE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(VA,{...d,...o,ref:r})});iE.displayName=rE;var oE="DropdownMenuRadioGroup",cE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(GA,{...d,...o,ref:r})});cE.displayName=oE;var uE="DropdownMenuRadioItem",dE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(YA,{...d,...o,ref:r})});dE.displayName=uE;var fE="DropdownMenuItemIndicator",mE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx($A,{...d,...o,ref:r})});mE.displayName=fE;var hE="DropdownMenuSeparator",pE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(QA,{...d,...o,ref:r})});pE.displayName=hE;var xE="DropdownMenuArrow",gE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(XA,{...d,...o,ref:r})});gE.displayName=xE;var yE="DropdownMenuSubTrigger",vE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(KA,{...d,...o,ref:r})});vE.displayName=yE;var jE="DropdownMenuSubContent",bE=j.forwardRef((s,r)=>{const{__scopeDropdownMenu:i,...o}=s,d=oa(i);return t.jsx(ZA,{...d,...o,ref:r,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bE.displayName=jE;var NE=a0,SE=s0,wE=l0,CE=i0,AE=o0;function EE({...s}){return t.jsx(NE,{"data-slot":"dropdown-menu",...s})}function TE({...s}){return t.jsx(SE,{"data-slot":"dropdown-menu-trigger",...s})}function DE({className:s,sideOffset:r=4,...i}){return t.jsx(wE,{children:t.jsx(CE,{"data-slot":"dropdown-menu-content",sideOffset:r,className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...i})})}function ME({className:s,inset:r,variant:i="default",...o}){return t.jsx(AE,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":i,className:$e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...o})}function OE(){var S,E;const{state:s,actions:r,auth:i}=Tt(),{locations:o,locationFilter:d,notifications:f,currentView:h}=s,p=i.getCurrentUser(),g=f.filter(w=>!w.read).length,m=i.hasPermission("VIEW_ALL_LOCATIONS"),x=()=>({dashboard:"Dashboard","raw-materials":"Raw Materials","finished-products":"Finished Products",suppliers:"Suppliers",customers:"Customers",labour:"Labour Management",sales:"Sales",purchases:"Purchases",financials:"Financials",cleaning:"Cleaning Services",reports:"Reports",settings:"Settings"})[h]||"Sofa Factory Manager",v=w=>{r.setLocationFilter(w)},b=w=>{switch(w.read||r.markNotificationRead(w.id),w.type){case"sale_approval":r.setCurrentView("sales");break;case"low_stock":r.setCurrentView("raw-materials");break;case"payment_due":r.setCurrentView("financials");break;case"labour_report":r.setCurrentView("labour");break}};return t.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Mw,{}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:x()}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-NP",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[m&&o.length>0&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ql,{className:"w-4 h-4 text-gray-500"}),t.jsxs(ot,{value:d,onValueChange:v,children:[t.jsx(ut,{className:"w-40",children:t.jsx(ct,{placeholder:"Select location"})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"all",children:"All Locations"}),o.map(w=>t.jsx(ye,{value:w.id.toString(),children:w.name},w.id))]})]})]}),t.jsxs(EE,{children:[t.jsx(TE,{asChild:!0,children:t.jsxs(ue,{variant:"ghost",size:"sm",className:"relative",children:[t.jsx(Hl,{className:"w-4 h-4"}),g>0&&t.jsx(qe,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 text-xs flex items-center justify-center p-0",children:g>9?"9+":g})]})}),t.jsxs(DE,{align:"end",className:"w-80",children:[t.jsxs("div",{className:"p-3 border-b",children:[t.jsx("h3",{className:"font-medium",children:"Notifications"}),t.jsxs("p",{className:"text-sm text-gray-500",children:[g," unread"]})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.slice(0,10).map(w=>t.jsx(ME,{className:"p-3 cursor-pointer",onClick:()=>b(w),children:t.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.read?"bg-gray-300":"bg-amber-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${w.read?"text-gray-600":"text-gray-900 font-medium"}`,children:w.title}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.message}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Rn(w.createdAt)})]})]})},w.id))}),f.length>10&&t.jsx("div",{className:"p-3 border-t text-center",children:t.jsx(ue,{variant:"ghost",size:"sm",children:"View all notifications"})})]})]}),p&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-white",children:((E=(S=p.name)==null?void 0:S.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),t.jsxs("div",{className:"hidden sm:block",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role.replace("_"," ")})]})]})]})]})})}function RE({children:s}){const{state:r}=Tt(),{isAuthenticated:i,company:o}=r;return!i||!o?t.jsx(t.Fragment,{children:s}):t.jsxs("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(Dw,{}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(OE,{}),t.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function _E(){const{actions:s}=Tt(),[r,i]=j.useState({username:"",password:"",email:""}),[o,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),m=b=>{i({...r,[b.target.name]:b.target.value}),d(""),h("")},x=async b=>{if(b.preventDefault(),!r.username.trim()||!r.password.trim()){d("Username and password are required");return}g(!0),d("");try{if(r.username.trim()==="admin"&&r.password.trim()==="admin123"){const w={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()};try{await s.createAdminAccount(w)}catch(N){console.log("Admin account setup:",N.message)}await s.login(w.id);return}const E=(await s.getAllUsers()).find(w=>w.role==="admin"&&w.username===r.username.trim()&&w.password===r.password.trim());if(!E){d("Invalid username or password"),g(!1);return}await s.login(E.id)}catch(S){console.error("Login failed:",S),d("Login failed. Please try again."),g(!1)}},v=async b=>{if(b.preventDefault(),!r.email.trim()){d("Email is required for password recovery");return}g(!0),d(""),h("");try{const E=(await s.getAllUsers()).find(w=>w.email===r.email.trim());if(!E){d("No account found with this email"),g(!1);return}h(`Password recovery: Your username is "${E.username}" and password is "${E.password}". Please save these credentials.`),g(!1)}catch(S){console.error("Password recovery failed:",S),d("Password recovery failed. Please try again."),g(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:t.jsx(Wo,{className:"w-10 h-10 text-slate-900"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sofa Factory Manager"}),t.jsx("p",{className:"text-slate-300",children:"Admin Login Portal"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition"})]}),t.jsx("button",{type:"submit",disabled:p,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing In...":"Sign In"})]}),t.jsxs("div",{className:"relative my-6",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Forgot your password?"})})]}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,placeholder:"Enter your email for password recovery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),t.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Recovering...":"Recover Password"})]}),o&&t.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:o})}),f&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-green-600",children:f})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-slate-300",children:["Default credentials: ",t.jsx("span",{className:"font-semibold text-amber-400",children:"admin / admin123"})]})})]})})}function je({className:s,type:r,...i}){return t.jsx("input",{type:r,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var PE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kE=PE.reduce((s,r)=>{const i=Kg(`Primitive.${r}`),o=j.forwardRef((d,f)=>{const{asChild:h,...p}=d,g=h?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...p,ref:f})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{}),LE="Label",c0=j.forwardRef((s,r)=>t.jsx(kE.label,{...s,ref:r,onMouseDown:i=>{var d;i.target.closest("button, input, select, textarea")||((d=s.onMouseDown)==null||d.call(s,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));c0.displayName=LE;var zE=c0;function $({className:s,...r}){return t.jsx(zE,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}function fe({className:s,...r}){return t.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function De({className:s,...r}){return t.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function Me({className:s,...r}){return t.jsx("div",{"data-slot":"card-title",className:$e("leading-none font-semibold",s),...r})}function Be({className:s,...r}){return t.jsx("div",{"data-slot":"card-description",className:$e("text-muted-foreground text-sm",s),...r})}function Se({className:s,...r}){return t.jsx("div",{"data-slot":"card-content",className:$e("px-6",s),...r})}function Kt({className:s,...r}){return t.jsx("textarea",{"data-slot":"textarea",className:$e("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}const $r=[{id:"admin",title:"Create Admin Account",description:"Set up your administrator account",icon:Bo},{id:"company",title:"Company Profile",description:"Enter your company information",icon:wN},{id:"locations",title:"Factory Locations",description:"Add your factory locations",icon:ql}];function kg(){const{actions:s}=Tt(),[r,i]=j.useState(0),[o,d]=j.useState(!1),[f,h]=j.useState({}),[p,g]=j.useState({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",securityQuestion1:"What is your mother's maiden name?",securityAnswer1:"",securityQuestion2:"What was the name of your first pet?",securityAnswer2:""}),[m,x]=j.useState({name:"",address:"",phone:"",email:""}),[v,b]=j.useState([{name:"",address:""}]),S=A=>{const R={};switch(A){case 0:p.name.trim()||(R.adminName="Name is required"),p.email.trim()?og(p.email)||(R.adminEmail="Invalid email format"):R.adminEmail="Email is required",p.phone.trim()?cg(p.phone)||(R.adminPhone="Invalid phone format"):R.adminPhone="Phone is required",p.username.trim()?p.username.length<4&&(R.adminUsername="Username must be at least 4 characters"):R.adminUsername="Username is required",p.password.trim()?p.password.length<6&&(R.adminPassword="Password must be at least 6 characters"):R.adminPassword="Password is required",p.password!==p.confirmPassword&&(R.adminConfirmPassword="Passwords do not match"),p.securityAnswer1.trim()||(R.securityAnswer1="Security answer is required"),p.securityAnswer2.trim()||(R.securityAnswer2="Security answer is required");break;case 1:m.name.trim()||(R.companyName="Company name is required"),m.address.trim()||(R.companyAddress="Company address is required"),m.phone.trim()?cg(m.phone)||(R.companyPhone="Invalid phone format"):R.companyPhone="Company phone is required",m.email&&!og(m.email)&&(R.companyEmail="Invalid email format");break;case 2:v.forEach((z,H)=>{z.name.trim()||(R[`location${H}Name`]="Location name is required"),z.address.trim()||(R[`location${H}Address`]="Location address is required")});break}return h(R),Object.keys(R).length===0},E=()=>{S(r)&&i(r+1)},w=()=>{i(r-1),h({})},N=()=>{b([...v,{name:"",address:""}])},k=A=>{v.length>1&&b(v.filter((R,z)=>z!==A))},T=(A,R,z)=>{const H=v.map((le,B)=>B===A?{...le,[R]:z}:le);b(H)},D=async()=>{if(S(r)){d(!0);try{const A=await s.createAdminAccount(p);await s.addItem("company",{id:"profile",...m});for(const R of v)await s.addItem("locations",R);await s.refreshData()}catch(A){console.error("Setup failed:",A),h({general:"Setup failed. Please try again."})}finally{d(!1)}}},M=()=>{switch(r){case 0:return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminName",children:"Full Name"}),t.jsx(je,{id:"adminName",value:p.name,onChange:A=>g({...p,name:A.target.value}),placeholder:"Enter your full name",className:f.adminName?"border-red-500":""}),f.adminName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminName})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminEmail",children:"Email Address"}),t.jsx(je,{id:"adminEmail",type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),placeholder:"Enter your email address",className:f.adminEmail?"border-red-500":""}),f.adminEmail&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminEmail})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminPhone",children:"Phone Number"}),t.jsx(je,{id:"adminPhone",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),placeholder:"Enter your phone number",className:f.adminPhone?"border-red-500":""}),f.adminPhone&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPhone})]}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Login Credentials"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminUsername",children:"Username"}),t.jsx(je,{id:"adminUsername",value:p.username,onChange:A=>g({...p,username:A.target.value}),placeholder:"Choose a username (min 4 characters)",className:f.adminUsername?"border-red-500":""}),f.adminUsername&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminUsername})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminPassword",children:"Password"}),t.jsx(je,{id:"adminPassword",type:"password",value:p.password,onChange:A=>g({...p,password:A.target.value}),placeholder:"Choose a password (min 6 characters)",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminPassword})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"adminConfirmPassword",children:"Confirm Password"}),t.jsx(je,{id:"adminConfirmPassword",type:"password",value:p.confirmPassword,onChange:A=>g({...p,confirmPassword:A.target.value}),placeholder:"Re-enter your password",className:f.adminConfirmPassword?"border-red-500":""}),f.adminConfirmPassword&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.adminConfirmPassword})]})]})]}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Security Questions"}),t.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"These will help you recover your password if you forget it"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx($,{htmlFor:"securityAnswer1",children:p.securityQuestion1}),t.jsx(je,{id:"securityAnswer1",value:p.securityAnswer1,onChange:A=>g({...p,securityAnswer1:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer1?"border-red-500":""}),f.securityAnswer1&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer1})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"securityAnswer2",children:p.securityQuestion2}),t.jsx(je,{id:"securityAnswer2",value:p.securityAnswer2,onChange:A=>g({...p,securityAnswer2:A.target.value}),placeholder:"Enter your answer",className:f.securityAnswer2?"border-red-500":""}),f.securityAnswer2&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.securityAnswer2})]})]})]})]});case 1:return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx($,{htmlFor:"companyName",children:"Company Name"}),t.jsx(je,{id:"companyName",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"Enter your company name",className:f.companyName?"border-red-500":""}),f.companyName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyName})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"companyAddress",children:"Company Address"}),t.jsx(Kt,{id:"companyAddress",value:m.address,onChange:A=>x({...m,address:A.target.value}),placeholder:"Enter your company address",className:f.companyAddress?"border-red-500":"",rows:3}),f.companyAddress&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyAddress})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"companyPhone",children:"Company Phone"}),t.jsx(je,{id:"companyPhone",value:m.phone,onChange:A=>x({...m,phone:A.target.value}),placeholder:"Enter company phone number",className:f.companyPhone?"border-red-500":""}),f.companyPhone&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyPhone})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:"companyEmail",children:"Company Email (Optional)"}),t.jsx(je,{id:"companyEmail",type:"email",value:m.email,onChange:A=>x({...m,email:A.target.value}),placeholder:"Enter company email address",className:f.companyEmail?"border-red-500":""}),f.companyEmail&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.companyEmail})]})]});case 2:return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Factory Locations"}),t.jsx(ue,{onClick:N,variant:"outline",size:"sm",children:"Add Location"})]}),v.map((A,R)=>t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium",children:["Location ",R+1]}),v.length>1&&t.jsx(ue,{onClick:()=>k(R),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:"Remove"})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:`location${R}Name`,children:"Location Name"}),t.jsx(je,{id:`location${R}Name`,value:A.name,onChange:z=>T(R,"name",z.target.value),placeholder:"e.g., Factory A - Kathmandu",className:f[`location${R}Name`]?"border-red-500":""}),f[`location${R}Name`]&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${R}Name`]})]}),t.jsxs("div",{children:[t.jsx($,{htmlFor:`location${R}Address`,children:"Address"}),t.jsx(Kt,{id:`location${R}Address`,value:A.address,onChange:z=>T(R,"address",z.target.value),placeholder:"Enter location address",className:f[`location${R}Address`]?"border-red-500":"",rows:2}),f[`location${R}Address`]&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:f[`location${R}Address`]})]})]})},R))]});default:return null}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Wo,{className:"w-8 h-8 text-amber-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Sofa Factory Manager"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Let's set up your application"})]}),t.jsx("div",{className:"flex items-center justify-center mb-8",children:$r.map((A,R)=>{const z=A.icon,H=R===r,le=R<r;return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${H?"bg-slate-800 text-white":le?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:t.jsx(z,{className:"w-5 h-5"})}),R<$r.length-1&&t.jsx("div",{className:`w-16 h-1 mx-2 ${le?"bg-green-500":"bg-gray-200"}`})]},A.id)})}),t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:$r[r].title}),t.jsx(Be,{children:$r[r].description})]}),t.jsxs(Se,{children:[f.general&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:t.jsx("p",{className:"text-sm text-red-600",children:f.general})}),M(),t.jsxs("div",{className:"flex justify-between mt-6",children:[t.jsx(ue,{onClick:w,variant:"outline",disabled:r===0,children:"Previous"}),r<$r.length-1?t.jsx(ue,{onClick:E,children:"Next"}):t.jsx(ue,{onClick:D,disabled:o,children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}function Lg(){const{state:s}=Tt(),{user:r}=s,[i,o]=j.useState({sales:[],purchases:[],rawMaterials:[],products:[],customers:[],suppliers:[],loading:!0});j.useEffect(()=>{d()},[]);const d=async()=>{try{const[x,v,b,S,E,w]=await Promise.all([pe.getAll("sales"),pe.getAll("purchases"),pe.getAll("rawMaterials"),pe.getAll("sofaModels"),pe.getAll("customers"),pe.getAll("suppliers")]);console.log("Dashboard data loaded:",{sales:(x==null?void 0:x.length)||0,purchases:(v==null?void 0:v.length)||0,rawMaterials:(b==null?void 0:b.length)||0,products:(S==null?void 0:S.length)||0,customers:(E==null?void 0:E.length)||0,suppliers:(w==null?void 0:w.length)||0});const N=k=>(r==null?void 0:r.role)==="admin"?k:k.filter(T=>T.location===(r==null?void 0:r.location));o({sales:N(x||[]),purchases:N(v||[]),rawMaterials:N(b||[]),products:S||[],customers:E||[],suppliers:w||[],loading:!1})}catch(x){console.error("Error loading dashboard data:",x),o(v=>({...v,loading:!1}))}};if(i.loading)return t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(x=>t.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})]})});const f=i.sales.filter(x=>x.approvalStatus==="approved").length,h=i.sales.filter(x=>x.approvalStatus==="pending").length,p=i.sales.filter(x=>x.approvalStatus==="approved").reduce((x,v)=>x+(parseFloat(v.totalAmount)||parseFloat(v.salePrice)||0),0),g=i.rawMaterials.filter(x=>(x.currentStock||0)<=(x.minStock||10)).length,m=({title:x,value:v,icon:b,color:S="blue",description:E})=>t.jsx(fe,{children:t.jsx(Se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:x}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),E&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),t.jsx("div",{className:`p-3 rounded-full bg-${S}-100`,children:t.jsx(b,{className:`w-6 h-6 text-${S}-600`})})]})})});return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(r==null?void 0:r.name)||"User","!"]}),t.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your factory today"})]}),(r==null?void 0:r.location)&&t.jsx(qe,{variant:"outline",className:"text-sm",children:r.location})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(m,{title:"Total Sales",value:f,icon:Zr,color:"blue",description:`${h} pending approval`}),t.jsx(m,{title:"Revenue",value:`NPR ${p.toLocaleString()}`,icon:Aa,color:"green",description:"From completed sales"}),t.jsx(m,{title:"Customers",value:i.customers.length,icon:Wr,color:"purple",description:"Active customers"}),t.jsx(m,{title:"Suppliers",value:i.suppliers.length,icon:yf,color:"orange",description:"Active suppliers"})]}),(h>0||g>0)&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h>0&&t.jsx(fe,{className:"border-orange-200 bg-orange-50",children:t.jsx(Se,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:t.jsx(Zr,{className:"w-4 h-4 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pending Sales"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[h," sales need approval"]})]}),t.jsx(qe,{variant:"secondary",children:h})]})})}),g>0&&t.jsx(fe,{className:"border-red-200 bg-red-50",children:t.jsx(Se,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-red-100",children:t.jsx(Is,{className:"w-4 h-4 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Low Stock"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[g," items need restocking"]})]}),t.jsx(qe,{variant:"destructive",children:g})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(fe,{children:[t.jsx(De,{children:t.jsxs(Me,{className:"flex items-center space-x-2",children:[t.jsx(Ba,{className:"w-5 h-5"}),t.jsx("span",{children:"Inventory Overview"})]})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Raw Materials"}),t.jsxs("span",{className:"font-medium",children:[i.rawMaterials.length," types"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Finished Products"}),t.jsxs("span",{className:"font-medium",children:[i.products.length," models"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),t.jsx(qe,{variant:g>0?"destructive":"secondary",children:g})]})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsxs(Me,{className:"flex items-center space-x-2",children:[t.jsx(Aa,{className:"w-5 h-5"}),t.jsx("span",{children:"Sales Overview"})]})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Completed Sales"}),t.jsx("span",{className:"font-medium",children:f})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Pending Approval"}),t.jsx(qe,{variant:h>0?"secondary":"outline",children:h})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),t.jsxs("span",{className:"font-medium text-green-600",children:["NPR ",p.toLocaleString()]})]})]})})]})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsxs(Me,{className:"flex items-center space-x-2",children:[t.jsx(ds,{className:"w-5 h-5"}),t.jsx("span",{children:"Recent Activity"})]})}),t.jsx(Se,{children:(()=>{const x=[];i.sales.slice(0,5).forEach(b=>{var S;x.push({type:"sale",icon:"",title:`Sale ${b.saleNumber}`,description:`${b.customerName} - ${b.productName}`,amount:`NPR ${((S=b.totalAmount)==null?void 0:S.toLocaleString())||0}`,status:b.approvalStatus||"pending",date:b.createdAt})}),i.purchases.slice(0,3).forEach(b=>{var S;x.push({type:"purchase",icon:"",title:`Purchase #${b.id}`,description:b.supplierName||"Raw materials",amount:`NPR ${((S=b.totalAmount)==null?void 0:S.toLocaleString())||0}`,status:"completed",date:b.createdAt})}),x.sort((b,S)=>new Date(S.date)-new Date(b.date));const v=x.slice(0,8);return v.length>0?t.jsx("div",{className:"space-y-3",children:v.map((b,S)=>t.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[t.jsx("span",{className:"text-2xl",children:b.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:b.title}),t.jsx("p",{className:"text-xs text-gray-600",children:b.description}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-sm text-green-600",children:b.amount}),b.status==="pending"&&t.jsx(qe,{className:"bg-orange-500 text-white text-xs mt-1",children:"Pending"}),b.status==="approved"&&t.jsx(qe,{className:"bg-green-500 text-white text-xs mt-1",children:"Approved"})]})]},S))}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(ds,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"No recent activities"}),t.jsx("p",{className:"text-sm",children:"Sales and purchases will appear here"})]})})()})]})]})}var gc="Tabs",[IE]=zn(gc,[mc]),u0=mc(),[UE,Uf]=IE(gc),d0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:d,defaultValue:f,orientation:h="horizontal",dir:p,activationMode:g="automatic",...m}=s,x=Jo(p),[v,b]=Vs({prop:o,onChange:d,defaultProp:f??"",caller:gc});return t.jsx(UE,{scope:i,baseId:ln(),value:v,onValueChange:b,orientation:h,dir:x,activationMode:g,children:t.jsx(Ge.div,{dir:x,"data-orientation":h,...m,ref:r})})});d0.displayName=gc;var f0="TabsList",m0=j.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...d}=s,f=Uf(f0,i),h=u0(i);return t.jsx(Mv,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:o,children:t.jsx(Ge.div,{role:"tablist","aria-orientation":f.orientation,...d,ref:r})})});m0.displayName=f0;var h0="TabsTrigger",p0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:d=!1,...f}=s,h=Uf(h0,i),p=u0(i),g=y0(h.baseId,o),m=v0(h.baseId,o),x=o===h.value;return t.jsx(Ov,{asChild:!0,...p,focusable:!d,active:x,children:t.jsx(Ge.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:g,...f,ref:r,onMouseDown:_e(s.onMouseDown,v=>{!d&&v.button===0&&v.ctrlKey===!1?h.onValueChange(o):v.preventDefault()}),onKeyDown:_e(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(o)}),onFocus:_e(s.onFocus,()=>{const v=h.activationMode!=="manual";!x&&!d&&v&&h.onValueChange(o)})})})});p0.displayName=h0;var x0="TabsContent",g0=j.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:d,children:f,...h}=s,p=Uf(x0,i),g=y0(p.baseId,o),m=v0(p.baseId,o),x=o===p.value,v=j.useRef(x);return j.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),t.jsx(In,{present:d||x,children:({present:b})=>t.jsx(Ge.div,{"data-state":x?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:m,tabIndex:0,...h,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:b&&f})})});g0.displayName=x0;function y0(s,r){return`${s}-trigger-${r}`}function v0(s,r){return`${s}-content-${r}`}var qE=d0,BE=m0,FE=p0,HE=g0;function ci({className:s,...r}){return t.jsx(qE,{"data-slot":"tabs",className:$e("flex flex-col gap-2",s),...r})}function ui({className:s,...r}){return t.jsx(BE,{"data-slot":"tabs-list",className:$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...r})}function Jt({className:s,...r}){return t.jsx(FE,{"data-slot":"tabs-trigger",className:$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r})}function ea({className:s,...r}){return t.jsx(HE,{"data-slot":"tabs-content",className:$e("flex-1 outline-none",s),...r})}function VE(){const{state:s,actions:r}=Tt(),{company:i,locations:o}=s,[d,f]=j.useState({name:(i==null?void 0:i.name)||"",address:(i==null?void 0:i.address)||"",phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||"",labourManagerName:(i==null?void 0:i.labourManagerName)||"",labourManagerPhone:(i==null?void 0:i.labourManagerPhone)||""}),[h,p]=j.useState(o&&o.length>0?o:[{name:"",address:""}]),g=(E,w)=>{f(N=>({...N,[E]:w}))},m=async()=>{try{if(!d.name||!d.address||!d.phone){alert("Please fill in all required fields (Name, Address, Phone)");return}await r.updateCompany(d),alert("Company profile updated successfully!")}catch(E){console.error("Error saving company profile:",E),alert("Failed to save company profile. Please try again.")}},x=(E,w,N)=>{const k=[...h];k[E]={...k[E],[w]:N},p(k)},v=()=>{p([...h,{name:"",address:""}])},b=E=>{h.length>1&&p(h.filter((w,N)=>N!==E))},S=async()=>{try{const E=h.filter(w=>w.name&&w.address);if(E.length===0){alert("Please add at least one location with name and address");return}await r.updateLocations(E),alert("Locations updated successfully!")}catch(E){console.error("Error saving locations:",E),alert("Failed to save locations. Please try again.")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your application settings and preferences"})]}),t.jsxs(ci,{defaultValue:"company",className:"space-y-6",children:[t.jsxs(ui,{children:[t.jsxs(Jt,{value:"company",className:"flex items-center space-x-2",children:[t.jsx(Kx,{className:"w-4 h-4"}),t.jsx("span",{children:"Company Profile"})]}),t.jsxs(Jt,{value:"locations",className:"flex items-center space-x-2",children:[t.jsx(ql,{className:"w-4 h-4"}),t.jsx("span",{children:"Locations"})]}),t.jsxs(Jt,{value:"data",className:"flex items-center space-x-2",children:[t.jsx(Eo,{className:"w-4 h-4"}),t.jsx("span",{children:"Data Management"})]})]}),t.jsx(ea,{value:"company",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Company Profile"}),t.jsx(Be,{children:"Update your company information that appears in notifications and reports"})]}),t.jsxs(Se,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"companyName",children:["Company Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"companyName",value:d.name,onChange:E=>g("name",E.target.value),placeholder:"Enter company name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"companyPhone",children:["Company Phone ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"companyPhone",value:d.phone,onChange:E=>g("phone",E.target.value),placeholder:"Enter phone number"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"companyEmail",children:"Company Email"}),t.jsx(je,{id:"companyEmail",type:"email",value:d.email,onChange:E=>g("email",E.target.value),placeholder:"Enter email address"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"labourManagerName",children:"Labour Manager Name"}),t.jsx(je,{id:"labourManagerName",value:d.labourManagerName,onChange:E=>g("labourManagerName",E.target.value),placeholder:"Enter labour manager name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"labourManagerPhone",children:"Labour Manager Phone"}),t.jsx(je,{id:"labourManagerPhone",value:d.labourManagerPhone,onChange:E=>g("labourManagerPhone",E.target.value),placeholder:"Enter labour manager phone"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"companyAddress",children:["Company Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(Kt,{id:"companyAddress",value:d.address,onChange:E=>g("address",E.target.value),placeholder:"Enter complete company address",rows:3})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(ue,{onClick:m,className:"px-6",children:[t.jsx(Kx,{className:"w-4 h-4 mr-2"}),"Save Company Profile"]})})]})]})}),t.jsx(ea,{value:"locations",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Factory Locations"}),t.jsx(Be,{children:"Manage your factory locations and addresses"})]}),t.jsxs(Se,{className:"space-y-6",children:[h.map((E,w)=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"font-semibold text-lg",children:["Location ",w+1]}),h.length>1&&t.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>b(w),children:"Remove"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:`locationName${w}`,children:["Location Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:`locationName${w}`,value:E.name,onChange:N=>x(w,"name",N.target.value),placeholder:"e.g., Main Factory, Warehouse 1"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:`locationAddress${w}`,children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:`locationAddress${w}`,value:E.address,onChange:N=>x(w,"address",N.target.value),placeholder:"Enter location address"})]})]})]},w)),t.jsxs("div",{className:"flex justify-between items-center pt-4",children:[t.jsxs(ue,{variant:"outline",onClick:v,children:[t.jsx(ql,{className:"w-4 h-4 mr-2"}),"Add Location"]}),t.jsxs(ue,{onClick:S,className:"px-6",children:[t.jsx(ql,{className:"w-4 h-4 mr-2"}),"Save Locations"]})]})]})]})}),t.jsx(ea,{value:"data",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Data Management"}),t.jsx(Be,{children:"Export, import, or reset your application data"})]}),t.jsx(Se,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Export Data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all your application data as a backup"}),t.jsxs(ue,{variant:"outline",children:[t.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Import Data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Restore data from a previous backup"}),t.jsxs(ue,{variant:"outline",children:[t.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Import Data"]})]}),t.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[t.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Reset Application"}),t.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Clear all data and return to first-time setup"}),t.jsxs(ue,{variant:"destructive",onClick:()=>window.location.href="/reset.html",children:[t.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Reset Application"]})]})]})})]})})]})]})}var yc="Dialog",[j0]=zn(yc),[GE,Ka]=j0(yc),b0=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:h=!0}=s,p=j.useRef(null),g=j.useRef(null),[m,x]=Vs({prop:o,defaultProp:d??!1,onChange:f,caller:yc});return t.jsx(GE,{scope:r,triggerRef:p,contentRef:g,contentId:ln(),titleId:ln(),descriptionId:ln(),open:m,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(v=>!v),[x]),modal:h,children:i})};b0.displayName=yc;var N0="DialogTrigger",YE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ka(N0,i),f=pt(r,d.triggerRef);return t.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Ff(d.open),...o,ref:f,onClick:_e(s.onClick,d.onOpenToggle)})});YE.displayName=N0;var qf="DialogPortal",[$E,S0]=j0(qf,{forceMount:void 0}),w0=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:d}=s,f=Ka(qf,r);return t.jsx($E,{scope:r,forceMount:i,children:j.Children.map(o,h=>t.jsx(In,{present:i||f.open,children:t.jsx(ic,{asChild:!0,container:d,children:h})}))})};w0.displayName=qf;var Zo="DialogOverlay",C0=j.forwardRef((s,r)=>{const i=S0(Zo,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Ka(Zo,s.__scopeDialog);return f.modal?t.jsx(In,{present:o||f.open,children:t.jsx(XE,{...d,ref:r})}):null});C0.displayName=Zo;var QE=Vl("DialogOverlay.RemoveScroll"),XE=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ka(Zo,i);return t.jsx(cc,{as:QE,allowPinchZoom:!0,shards:[d.contentRef],children:t.jsx(Ge.div,{"data-state":Ff(d.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),$s="DialogContent",A0=j.forwardRef((s,r)=>{const i=S0($s,s.__scopeDialog),{forceMount:o=i.forceMount,...d}=s,f=Ka($s,s.__scopeDialog);return t.jsx(In,{present:o||f.open,children:f.modal?t.jsx(KE,{...d,ref:r}):t.jsx(ZE,{...d,ref:r})})});A0.displayName=$s;var KE=j.forwardRef((s,r)=>{const i=Ka($s,s.__scopeDialog),o=j.useRef(null),d=pt(r,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return Mf(f)},[]),t.jsx(E0,{...s,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(s.onCloseAutoFocus,f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()}),onPointerDownOutside:_e(s.onPointerDownOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&f.preventDefault()}),onFocusOutside:_e(s.onFocusOutside,f=>f.preventDefault())})}),ZE=j.forwardRef((s,r)=>{const i=Ka($s,s.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return t.jsx(E0,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,p;(h=s.onCloseAutoFocus)==null||h.call(s,f),f.defaultPrevented||(o.current||(p=i.triggerRef.current)==null||p.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{var g,m;(g=s.onInteractOutside)==null||g.call(s,f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const h=f.target;((m=i.triggerRef.current)==null?void 0:m.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),E0=j.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...h}=s,p=Ka($s,i),g=j.useRef(null),m=pt(r,g);return bf(),t.jsxs(t.Fragment,{children:[t.jsx(tc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:t.jsx(ec,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Ff(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(WE,{titleId:p.titleId}),t.jsx(eT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Bf="DialogTitle",T0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ka(Bf,i);return t.jsx(Ge.h2,{id:d.titleId,...o,ref:r})});T0.displayName=Bf;var D0="DialogDescription",M0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ka(D0,i);return t.jsx(Ge.p,{id:d.descriptionId,...o,ref:r})});M0.displayName=D0;var O0="DialogClose",R0=j.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,d=Ka(O0,i);return t.jsx(Ge.button,{type:"button",...o,ref:r,onClick:_e(s.onClick,()=>d.onOpenChange(!1))})});R0.displayName=O0;function Ff(s){return s?"open":"closed"}var _0="DialogTitleWarning",[YT,P0]=Rw(_0,{contentName:$s,titleName:Bf,docsSlug:"dialog"}),WE=({titleId:s})=>{const r=P0(_0),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},JE="DialogDescriptionWarning",eT=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P0(JE).contentName}}.`;return j.useEffect(()=>{var f;const d=(f=s.current)==null?void 0:f.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},tT=b0,aT=w0,nT=C0,sT=A0,lT=T0,rT=M0,iT=R0;function ta({...s}){return t.jsx(tT,{"data-slot":"dialog",...s})}function oT({...s}){return t.jsx(aT,{"data-slot":"dialog-portal",...s})}function cT({className:s,...r}){return t.jsx(nT,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function aa({className:s,children:r,...i}){return t.jsxs(oT,{"data-slot":"dialog-portal",children:[t.jsx(cT,{}),t.jsxs(sT,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[r,t.jsxs(iT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(an,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function na({className:s,...r}){return t.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",s),...r})}function ia({className:s,...r}){return t.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function sa({className:s,...r}){return t.jsx(lT,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",s),...r})}function ga({className:s,...r}){return t.jsx(rT,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",s),...r})}function uT(){const{state:s,actions:r}=Tt(),{customers:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",phone:"",email:"",address:"",notes:""}),v=i.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.phone.includes(o)||N.email&&N.email.toLowerCase().includes(o.toLowerCase())),b=(N=null)=>{N?(g(N),x({name:N.name,phone:N.phone,email:N.email||"",address:N.address||"",notes:N.notes||""})):(g(null),x({name:"",phone:"",email:"",address:"",notes:""})),h(!0)},S=()=>{h(!1),g(null),x({name:"",phone:"",email:"",address:"",notes:""})},E=async N=>{if(N.preventDefault(),!m.name||!m.phone){alert("Please fill in customer name and phone number");return}try{const k={...m,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("customers",{...k,id:p.id}),alert("Customer updated successfully!")):(await r.addItem("customers",k),alert("Customer added successfully!")),S()}catch(k){console.error("Error saving customer:",k),alert("Failed to save customer. Please try again.")}},w=async N=>{if(window.confirm(`Are you sure you want to delete ${N.name}?`))try{await r.deleteItem("customers",N.id),alert("Customer deleted successfully!")}catch(k){console.error("Error deleting customer:",k),alert("Failed to delete customer. Please try again.")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer information and contacts"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:N=>d(N.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),v.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Bo,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No customers found":"No customers yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first customer"}),!o&&t.jsxs(ue,{onClick:()=>b(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(N=>t.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(De,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(Me,{className:"text-lg",children:N.name}),t.jsxs(Be,{className:"mt-1",children:["Customer since ",new Date(N.createdAt).toLocaleDateString()]})]}),t.jsx(qe,{variant:"outline",className:"ml-2",children:"Active"})]})}),t.jsxs(Se,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qg,{className:"w-4 h-4 mr-2 text-gray-400"}),t.jsx("a",{href:`tel:${N.phone}`,className:"hover:text-blue-600",children:N.phone})]}),N.email&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Yg,{className:"w-4 h-4 mr-2 text-gray-400"}),t.jsx("a",{href:`mailto:${N.email}`,className:"hover:text-blue-600 truncate",children:N.email})]}),N.address&&t.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[t.jsx(ql,{className:"w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-2",children:N.address})]}),N.notes&&t.jsx("div",{className:"pt-2 border-t",children:t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:N.notes})})]}),t.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[t.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(N),children:[t.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),t.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>w(N),children:t.jsx(_n,{className:"w-4 h-4"})})]})]})]},N.id))}),t.jsx(ta,{open:f,onOpenChange:h,children:t.jsxs(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(na,{children:[t.jsx(sa,{children:p?"Edit Customer":"Add New Customer"}),t.jsx(ga,{children:p?"Update customer information below":"Enter customer details to add them to your database"})]}),t.jsxs("form",{onSubmit:E,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"name",children:["Customer Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"name",value:m.name,onChange:N=>x({...m,name:N.target.value}),placeholder:"Enter customer name",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"phone",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"phone",value:m.phone,onChange:N=>x({...m,phone:N.target.value}),placeholder:"Enter phone number",required:!0})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"email",children:"Email Address"}),t.jsx(je,{id:"email",type:"email",value:m.email,onChange:N=>x({...m,email:N.target.value}),placeholder:"Enter email address"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"address",children:"Address"}),t.jsx(Kt,{id:"address",value:m.address,onChange:N=>x({...m,address:N.target.value}),placeholder:"Enter customer address",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"notes",children:"Notes"}),t.jsx(Kt,{id:"notes",value:m.notes,onChange:N=>x({...m,notes:N.target.value}),placeholder:"Add any additional notes about this customer",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),t.jsx(ue,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})]})})]})}function dT(){const{state:s,actions:r}=Tt(),{sofaModels:i}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null}),v=i.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase())),b=(A=null)=>{A?(g(A),x({name:A.name,description:A.description||"",materialCost:A.materialCost||"",laborCost:A.laborCost||"",sellingPrice:A.sellingPrice||"",estimatedDays:A.estimatedDays||"",stockQuantity:A.stockQuantity||"0",billOfMaterials:A.billOfMaterials||[],images:A.images||[],primaryImageId:A.primaryImageId||null})):(g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[]})),h(!0)},S=()=>{h(!1),g(null),x({name:"",description:"",materialCost:"",laborCost:"",sellingPrice:"",estimatedDays:"",stockQuantity:"",billOfMaterials:[],images:[],primaryImageId:null})},E=()=>{let A=0;m.billOfMaterials&&m.billOfMaterials.length>0?A=m.billOfMaterials.reduce((z,H)=>z+(H.totalCost||0),0):A=parseFloat(m.materialCost)||0;const R=parseFloat(m.laborCost)||0;return A+R},w=()=>m.billOfMaterials&&m.billOfMaterials.length>0?m.billOfMaterials.reduce((A,R)=>A+(R.totalCost||0),0):0,N=()=>{const A=E();return(parseFloat(m.sellingPrice)||0)-A},k=async A=>{if(!A||A.length===0)return;const R=5,z=5*1024*1024,H=R-m.images.length,le=A.slice(0,H);for(const B of le){if(!B.type.startsWith("image/")){alert(`${B.name} is not an image file`);continue}if(B.size>z){alert(`${B.name} is too large (max 5MB)`);continue}const F=new FileReader;F.onload=I=>{const ae=Date.now()+Math.random(),Q={id:ae,data:I.target.result,name:B.name};x(ge=>{const L=[...ge.images,Q];return{...ge,images:L,primaryImageId:ge.primaryImageId||ae}})},F.readAsDataURL(B)}},T=A=>{x(R=>{const z=R.images.filter(le=>le.id!==A);let H=R.primaryImageId;return A===R.primaryImageId&&z.length>0?H=z[0].id:z.length===0&&(H=null),{...R,images:z,primaryImageId:H}})},D=async A=>{if(A.preventDefault(),!m.name){alert("Please enter product name");return}try{const R=w(),z=R>0?R:parseFloat(m.materialCost)||0,H={name:m.name,description:m.description,billOfMaterials:m.billOfMaterials||[],images:m.images||[],primaryImageId:m.primaryImageId||null,materialCost:z,laborCost:parseFloat(m.laborCost)||0,sellingPrice:parseFloat(m.sellingPrice)||0,estimatedDays:parseInt(m.estimatedDays)||0,stockQuantity:parseInt(m.stockQuantity)||0,totalCost:E(),profit:N(),createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("sofaModels",{...H,id:p.id}),alert("Product updated successfully!")):(await r.addItem("sofaModels",H),alert("Product added successfully!")),S()}catch(R){console.error("Error saving product:",R),alert("Failed to save product. Please try again.")}},M=async A=>{if(window.confirm(`Are you sure you want to delete ${A.name}?`))try{await r.deleteItem("sofaModels",A.id),alert("Product deleted successfully!")}catch(R){console.error("Error deleting product:",R),alert("Failed to delete product. Please try again.")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finished Products"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your sofa models and product catalog"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium italic",children:"* Stock is automatically updated when production is completed."})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search products by name or description...",value:o,onChange:A=>d(A.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),v.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ba,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No products found":"No products yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by adding your first product"}),!o&&t.jsxs(ue,{onClick:()=>b(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(A=>{var R;return t.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[A.images&&A.images.length>0&&t.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[t.jsx("img",{src:((R=A.images.find(z=>z.id===A.primaryImageId))==null?void 0:R.data)||A.images[0].data,alt:A.name,className:"w-full h-full object-cover"}),A.images.length>1&&t.jsxs(qe,{className:"absolute top-2 right-2 bg-black bg-opacity-70",children:["+",A.images.length-1," more"]})]}),t.jsxs(De,{children:[t.jsx(Me,{className:"text-lg",children:A.name}),A.description&&t.jsx(Be,{className:"line-clamp-2",children:A.description})]}),t.jsxs(Se,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Material Cost"}),t.jsx("p",{className:"font-semibold",children:ke(A.materialCost)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Labor Cost"}),t.jsx("p",{className:"font-semibold text-blue-600",children:ke(A.laborCost)})]})]}),t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Total Cost"}),t.jsx("p",{className:"font-semibold",children:ke(A.totalCost)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Selling Price"}),t.jsx("p",{className:"font-semibold text-green-600",children:ke(A.sellingPrice)})]})]})}),t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),t.jsx(qe,{variant:A.profit>0?"default":"destructive",children:ke(A.profit)})]})}),A.estimatedDays>0&&t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Estimated Production: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[A.estimatedDays," days"]})]})}),t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Stock Quantity"}),t.jsxs(qe,{variant:(A.stockQuantity||0)>0?"default":"destructive",children:[A.stockQuantity||0," units"]})]})})]}),t.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[t.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(A),children:[t.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),t.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>M(A),children:t.jsx(_n,{className:"w-4 h-4"})})]})]})]},A.id)})}),t.jsx(ta,{open:f,onOpenChange:h,children:t.jsxs(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(na,{children:[t.jsx(sa,{children:p?"Edit Product":"Add New Product"}),t.jsx(ga,{children:p?"Update product information below":"Enter product details including labor cost for accurate pricing"})]}),t.jsxs("form",{onSubmit:D,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"name",children:["Product Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"name",value:m.name,onChange:A=>x({...m,name:A.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Sofa",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"description",children:"Description"}),t.jsx(Kt,{id:"description",value:m.description,onChange:A=>x({...m,description:A.target.value}),placeholder:"Enter product description",rows:3})]}),t.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[t.jsxs("div",{children:[t.jsx($,{className:"text-base font-semibold",children:"Product Images"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload up to 5 images (Click or drag & drop)"})]}),t.jsxs("div",{className:"space-y-3",children:[m.images.length<5&&t.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-6 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>document.getElementById("imageUpload").click(),onDragOver:A=>A.preventDefault(),onDrop:A=>{A.preventDefault();const R=Array.from(A.dataTransfer.files);k(R)},children:[t.jsx(Ba,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"}),t.jsx("input",{id:"imageUpload",type:"file",accept:"image/png,image/jpeg,image/jpg",multiple:!0,className:"hidden",onChange:A=>k(Array.from(A.target.files))})]}),m.images.length>0&&t.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.images.map(A=>t.jsxs("div",{className:`relative group border-2 rounded-lg overflow-hidden ${A.id===m.primaryImageId?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:[t.jsx("img",{src:A.data,alt:"Product",className:"w-full h-32 object-cover"}),A.id===m.primaryImageId&&t.jsx(qe,{className:"absolute top-2 left-2 bg-blue-500",children:"Primary"}),t.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center gap-2",children:[A.id!==m.primaryImageId&&t.jsx(ue,{type:"button",size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x({...m,primaryImageId:A.id}),children:"Set Primary"}),t.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>T(A.id),children:t.jsx(_n,{className:"w-4 h-4"})})]})]},A.id))})]})]}),t.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[t.jsx($,{className:"text-base font-semibold text-blue-900",children:"Bill of Materials (BOM)"}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1 mb-3",children:["BOM is now managed in the ",t.jsx("strong",{children:"Production"})," section when starting a new job."]}),m.billOfMaterials.length>0?t.jsxs("div",{className:"space-y-1",children:[m.billOfMaterials.map((A,R)=>t.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[t.jsx("span",{children:A.materialName}),t.jsxs("span",{children:[A.quantity," ",A.unit]})]},R)),t.jsxs("div",{className:"pt-2 mt-2 border-t border-blue-200 flex justify-between font-bold text-blue-900",children:[t.jsx("span",{children:"Total Material Cost"}),t.jsx("span",{children:ke(w())})]})]}):t.jsx("p",{className:"text-sm text-blue-600 italic",children:"No BOM defined for this product yet."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"materialCost",children:["Material Cost (NPR)",m.billOfMaterials.length>0&&t.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Auto-calculated from BOM)"})]}),t.jsx(je,{id:"materialCost",type:"number",step:"0.01",value:m.billOfMaterials.length>0?w():m.materialCost,onChange:A=>x({...m,materialCost:A.target.value}),placeholder:"0.00",disabled:m.billOfMaterials.length>0,className:m.billOfMaterials.length>0?"bg-gray-100 font-semibold":""}),m.billOfMaterials.length===0&&t.jsx("p",{className:"text-xs text-gray-500",children:"Or use Bill of Materials above for detailed tracking"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"laborCost",className:"flex items-center",children:[t.jsx(Aa,{className:"w-4 h-4 mr-1 text-blue-600"}),"Labor Cost (NPR)"]}),t.jsx(je,{id:"laborCost",type:"number",step:"0.01",value:m.laborCost,onChange:A=>x({...m,laborCost:A.target.value}),placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Estimated labor cost for production"})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost"}),t.jsx("span",{className:"text-lg font-bold text-gray-900",children:ke(E())})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Material Cost + Labor Cost"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"sellingPrice",children:"Selling Price (NPR)"}),t.jsx(je,{id:"sellingPrice",type:"number",step:"0.01",value:m.sellingPrice,onChange:A=>x({...m,sellingPrice:A.target.value}),placeholder:"0.00"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"estimatedDays",children:"Estimated Production (Days)"}),t.jsx(je,{id:"estimatedDays",type:"number",value:m.estimatedDays,onChange:A=>x({...m,estimatedDays:A.target.value}),placeholder:"0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"stockQuantity",children:["Stock Quantity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"stockQuantity",type:"number",min:"0",value:m.stockQuantity,onChange:A=>x({...m,stockQuantity:A.target.value}),placeholder:"0",required:!0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Available units in stock"})]})]}),m.sellingPrice&&t.jsxs("div",{className:`p-4 rounded-lg ${N()>=0?"bg-green-50":"bg-red-50"}`,children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium",children:"Profit Margin"}),t.jsx("span",{className:`text-lg font-bold ${N()>=0?"text-green-600":"text-red-600"}`,children:ke(N())})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N()>=0?"Profitable product":"Selling below cost"})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),t.jsx(ue,{type:"submit",children:p?"Update Product":"Add Product"})]})]})]})})]})}const Ze={PENDING_APPROVAL:{value:"pending_approval",label:"Pending Approval",color:"bg-yellow-100 text-yellow-800"},APPROVED:{value:"approved",label:"Approved",color:"bg-blue-100 text-blue-800"},IN_PRODUCTION:{value:"in_production",label:"In Production",color:"bg-purple-100 text-purple-800"},COMPLETED:{value:"completed",label:"Completed",color:"bg-green-100 text-green-800"},READY_FOR_DELIVERY:{value:"ready_for_delivery",label:"Ready for Delivery",color:"bg-orange-100 text-orange-800"},DELIVERED:{value:"delivered",label:"Delivered",color:"bg-emerald-100 text-emerald-800"},CANCELLED:{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800"}},fT=["Pieces","Meters","Feet","Yards","Sq.Ft","Sq.M","Kg","Grams","Liters","Sheets","Rolls","Sets"];function mT(){var gs;const{state:s,actions:r}=Tt(),{customers:i,rawMaterials:o,sofaModels:d,company:f}=s,[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState(""),[b,S]=j.useState("all"),[E,w]=j.useState("all"),[N,k]=j.useState(!1),[T,D]=j.useState(null),[M,A]=j.useState(!1),[R,z]=j.useState(!1),[H,le]=j.useState(null),[B,F]=j.useState(null),[I,ae]=j.useState({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[],labourCosts:[],otherCosts:[]}),[Q,ge]=j.useState({productPhoto:null,productPhotoPreview:"",sellingPrice:""}),[L,X]=j.useState({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""});j.useEffect(()=>{(async()=>{try{const[te,xe]=await Promise.all([r.getAllOrders(),pe.getAll("labourers")]);p(te||[]),m((xe||[]).filter(se=>se.status==="active"))}catch(te){console.error("Error loading data:",te)}})()},[]);const V=h.filter(_=>{var Pe,ze,Qe;const te=((Pe=_.orderNumber)==null?void 0:Pe.toLowerCase().includes(x.toLowerCase()))||((ze=_.customerName)==null?void 0:ze.toLowerCase().includes(x.toLowerCase()))||((Qe=_.productName)==null?void 0:Qe.toLowerCase().includes(x.toLowerCase())),xe=b==="all"||_.status===b,se=E==="all"||_.orderType===E;return te&&xe&&se}),oe=()=>I.bom.reduce((_,te)=>{if(te.materialId==="custom")return _+(parseFloat(te.estimatedCost)||0);const xe=(o||[]).find(se=>se.id===parseInt(te.materialId));if(xe){const se=parseFloat(te.quantity)||0,Pe=parseFloat(xe.pricePerUnit)||0;return _+se*Pe}return _},0),be=()=>I.labourCosts.reduce((_,te)=>_+(parseFloat(te.costPerPiece)||0),0),O=()=>I.otherCosts.reduce((_,te)=>_+(parseFloat(te.amount)||0),0),ee=()=>{const _=oe(),te=be(),xe=O(),se=parseInt(I.quantity)||1;return(_+te+xe)*se},de=()=>{ae({orderType:"customer",customerId:"",productName:"",quantity:"1",unitPrice:"",notes:"",dueDate:"",bom:[],labourCosts:[],otherCosts:[]}),k(!0)},me=()=>{k(!1)},q=()=>{ae({...I,bom:[...I.bom,{materialId:"",materialName:"",category:"",unit:"Pieces",quantity:1,availableStock:0,pricePerUnit:0,isOutOfStock:!1,needToPurchase:!1,purchaseNote:""}]})},he=()=>{ae({...I,bom:[...I.bom,{materialId:"custom",materialName:"",category:"Custom",unit:"Pieces",quantity:1,availableStock:0,pricePerUnit:0,isOutOfStock:!0,needToPurchase:!0,purchaseNote:"",estimatedCost:""}]})},re=_=>{const te=I.bom.filter((xe,se)=>se!==_);ae({...I,bom:te})},Ce=(_,te,xe)=>{const se=[...I.bom];if(se[_]={...se[_],[te]:xe},te==="materialId"&&xe!=="custom"){const Pe=(o||[]).find(ze=>ze.id===parseInt(xe));Pe&&(se[_]={...se[_],materialName:Pe.name,category:Pe.category||"General",unit:Pe.unit||"Pieces",availableStock:parseFloat(Pe.quantity)||0,pricePerUnit:parseFloat(Pe.pricePerUnit)||0,isOutOfStock:(parseFloat(Pe.quantity)||0)===0,needToPurchase:!1})}if(te==="quantity"&&se[_].materialId!=="custom"){const Pe=(o||[]).find(ze=>ze.id===parseInt(se[_].materialId));if(Pe){const ze=parseFloat(xe)||0,Qe=parseFloat(Pe.quantity)||0;se[_].isOutOfStock=Qe<ze,se[_].shortage=Math.max(0,ze-Qe)}}ae({...I,bom:se})},Y=()=>{ae({...I,labourCosts:[...I.labourCosts,{labourerId:"",labourerName:"",workType:"",costPerPiece:""}]})},ve=_=>{const te=I.labourCosts.filter((xe,se)=>se!==_);ae({...I,labourCosts:te})},Ne=(_,te,xe)=>{const se=[...I.labourCosts];if(se[_]={...se[_],[te]:xe},te==="labourerId"){const Pe=g.find(ze=>ze.id===parseInt(xe));Pe&&(se[_]={...se[_],labourerName:Pe.name,specialization:Pe.specialization})}ae({...I,labourCosts:se})},Oe=()=>{ae({...I,otherCosts:[...I.otherCosts,{description:"",amount:""}]})},jt=_=>{const te=I.otherCosts.filter((xe,se)=>se!==_);ae({...I,otherCosts:te})},tt=(_,te,xe)=>{const se=[...I.otherCosts];se[_]={...se[_],[te]:xe},ae({...I,otherCosts:se})},Nt=async _=>{if(_.preventDefault(),!I.productName.trim()){alert("Please enter product name");return}if(I.orderType==="customer"&&!I.customerId){alert("Please select a customer for customer order");return}if(I.bom.length===0){alert("Please add at least one material to the Bill of Materials");return}const te=I.bom.filter(xe=>xe.needToPurchase||xe.isOutOfStock);try{const xe=parseInt(I.quantity)||1,se=parseFloat(I.unitPrice)||0,Pe=`ORD-${Date.now().toString().slice(-6)}`;let ze={};if(I.orderType==="customer"){const ft=i.find(Ks=>Ks.id===parseInt(I.customerId));if(!ft){alert("Invalid customer selection");return}ze={customerId:ft.id,customerName:ft.name,customerPhone:ft.phone,customerAddress:ft.address}}const Qe=oe(),qt=be(),Pt=O(),Zl=(Qe+qt+Pt)*xe,Wl={orderNumber:Pe,orderType:I.orderType,...ze,productName:I.productName.trim(),quantity:xe,unitPrice:se,totalAmount:se*xe,materialCost:Qe*xe,labourCost:qt*xe,otherCost:Pt*xe,totalProductionCost:Zl,bom:I.bom.map(ft=>({...ft,quantity:parseFloat(ft.quantity)||0,totalNeeded:(parseFloat(ft.quantity)||0)*xe})),labourCosts:I.labourCosts.map(ft=>({...ft,costPerPiece:parseFloat(ft.costPerPiece)||0,totalCost:(parseFloat(ft.costPerPiece)||0)*xe})),otherCosts:I.otherCosts.map(ft=>({...ft,amount:parseFloat(ft.amount)||0,totalAmount:(parseFloat(ft.amount)||0)*xe})),materialsNeedingPurchase:te.map(ft=>({materialName:ft.materialName,quantityNeeded:(parseFloat(ft.quantity)||0)*xe,shortage:(ft.shortage||ft.quantity)*xe,unit:ft.unit,purchaseNote:ft.purchaseNote,estimatedCost:ft.estimatedCost})),status:Ze.PENDING_APPROVAL.value,notes:I.notes,dueDate:I.dueDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:Ze.PENDING_APPROVAL.value,timestamp:new Date().toISOString(),note:"Order created"}]},jc=await r.addItem("orders",Wl);p([...h,jc]),te.length>0?alert(`Order created successfully!

Note: ${te.length} material(s) need to be purchased before production can start.`):alert("Order created successfully!"),me()}catch(xe){console.error("Error creating order:",xe),alert("Failed to create order. Please try again.")}},xt=async(_,te,xe={})=>{var se;try{const Pe=(se=Ze[Object.keys(Ze).find(Qe=>Ze[Qe].value===te)])==null?void 0:se.label,ze={..._,...xe,status:te,updatedAt:new Date().toISOString(),statusHistory:[..._.statusHistory||[],{status:te,timestamp:new Date().toISOString(),note:`Status updated to ${Pe}`}]};if(te===Ze.IN_PRODUCTION.value&&await Et(_),_.orderType==="stock"&&te===Ze.COMPLETED.value&&await Ta(_,xe),_.orderType==="customer"&&te===Ze.DELIVERED.value&&await Ot(_,xe),!ze.id)throw new Error("Order ID is missing");return await r.updateItem("orders",ze),p(h.map(Qe=>Qe.id===_.id?ze:Qe)),!0}catch(Pe){return console.error("Error updating order:",Pe),console.error("Order:",_),alert("Failed to update order status. Please try again."),!1}},Et=async _=>{if(!(!_.bom||_.bom.length===0))for(const te of _.bom){if(te.materialId==="custom")continue;const xe=(o||[]).find(se=>se.id===parseInt(te.materialId));if(xe){const se=te.totalNeeded||parseFloat(te.quantity)*_.quantity,Pe=Math.max(0,(parseFloat(xe.quantity)||0)-se);await r.updateItem("rawMaterials",{...xe,quantity:Pe,updatedAt:new Date().toISOString()})}}},Ta=async(_,te)=>{try{const xe=_.materialCost||0,se=_.labourCost||0,Pe=_.otherCost||0,ze=xe+se+Pe,Qe={name:_.productName,description:`Produced from order ${_.orderNumber}`,quantity:_.quantity,sellingPrice:parseFloat(te.sellingPrice)||0,materialCost:xe,labourCost:se,otherCost:Pe,productionCost:ze,totalValue:(parseFloat(te.sellingPrice)||0)*_.quantity,totalProductionValue:ze*_.quantity,photo:te.productPhotoPreview||null,orderId:_.id,orderNumber:_.orderNumber,locationId:_.locationId||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("finishedProducts",Qe);const qt=(s.sofaModels||[]).find(Pt=>Pt.name===_.productName);qt?await r.updateItem("sofaModels",{...qt,quantity:(qt.quantity||0)+_.quantity,materialCost:xe,labourCost:se,otherCost:Pe,productionCost:ze,sellingPrice:parseFloat(te.sellingPrice)||qt.sellingPrice,updatedAt:new Date().toISOString()}):await r.addItem("sofaModels",{name:_.productName,quantity:_.quantity,sellingPrice:parseFloat(te.sellingPrice)||0,materialCost:xe,labourCost:se,otherCost:Pe,productionCost:ze,locationId:_.locationId||null,status:"available",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(xe){console.error("Error adding to finished products:",xe)}},Ot=async(_,te)=>{try{const xe={orderId:_.id,orderNumber:_.orderNumber,customerId:_.customerId,customerName:_.customerName,customerPhone:_.customerPhone,productName:_.productName,quantity:_.quantity,unitPrice:_.unitPrice,totalAmount:_.totalAmount,productionCost:_.totalProductionCost,profit:_.totalAmount-_.totalProductionCost,deliveryDate:te.deliveryDate,deliveryNotes:te.deliveryNotes,deliveryPhoto:te.deliveryPhotoPreview||null,status:"completed",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("sales",xe)}catch(xe){console.error("Error creating sale record:",xe)}},dn=(_,te)=>{const xe=_.target.files[0];if(xe){const se=new FileReader;se.onloadend=()=>{te==="completion"?ge({...Q,productPhoto:xe,productPhotoPreview:se.result}):te==="delivery"&&X({...L,deliveryPhoto:xe,deliveryPhotoPreview:se.result})},se.readAsDataURL(xe)}},rt=async()=>{if(!Q.sellingPrice){alert("Please enter selling price");return}await xt(H,Ze.COMPLETED.value,{sellingPrice:parseFloat(Q.sellingPrice),productPhoto:Q.productPhotoPreview})&&(A(!1),le(null),ge({productPhoto:null,productPhotoPreview:"",sellingPrice:""}),alert("Production completed! Product added to finished inventory."))},Fa=async()=>{await xt(B,Ze.DELIVERED.value,{deliveryDate:L.deliveryDate,deliveryNotes:L.deliveryNotes,deliveryPhoto:L.deliveryPhotoPreview})&&(z(!1),F(null),X({deliveryDate:new Date().toISOString().split("T")[0],deliveryNotes:"",deliveryPhoto:null,deliveryPhotoPreview:""}),alert("Delivery confirmed! Sale record created."))},Zt=_=>{const te=[];switch(_.status){case Ze.PENDING_APPROVAL.value:te.push({label:"Approve",variant:"default",action:()=>{confirm("Approve this order?")&&xt(_,Ze.APPROVED.value)}}),te.push({label:"Cancel",variant:"destructive",action:()=>{confirm("Cancel this order?")&&xt(_,Ze.CANCELLED.value)}});break;case Ze.APPROVED.value:te.push({label:"Start Production",variant:"default",action:async()=>{const xe=[];for(const se of _.bom||[]){if(se.materialId==="custom")continue;const Pe=(o||[]).find(ze=>ze.id===parseInt(se.materialId));if(Pe){const ze=se.totalNeeded||parseFloat(se.quantity)*_.quantity;(parseFloat(Pe.quantity)||0)<ze&&xe.push({name:Pe.name,needed:ze,available:parseFloat(Pe.quantity)||0})}}if(xe.length>0){const se=xe.map(Pe=>`${Pe.name}: Need ${Pe.needed}, Have ${Pe.available}`).join(`
`);alert(`Cannot start production. Insufficient materials:

${se}`);return}confirm("Start production? Materials will be deducted from inventory.")&&xt(_,Ze.IN_PRODUCTION.value)}}),te.push({label:"Cancel",variant:"destructive",action:()=>{confirm("Cancel this order?")&&xt(_,Ze.CANCELLED.value)}});break;case Ze.IN_PRODUCTION.value:_.orderType==="stock"?te.push({label:"Complete Production",variant:"default",action:()=>{le(_),A(!0)}}):te.push({label:"Ready for Delivery",variant:"default",action:()=>{confirm("Mark as ready for delivery?")&&xt(_,Ze.READY_FOR_DELIVERY.value)}});break;case Ze.READY_FOR_DELIVERY.value:te.push({label:"Confirm Delivery",variant:"default",action:()=>{F(_),z(!0)}});break}return te},Ut=_=>{const te=Ze[Object.keys(Ze).find(xe=>Ze[xe].value===_)];return(te==null?void 0:te.color)||"bg-gray-100 text-gray-800"},fn=(()=>{const _={pendingApproval:0,inProduction:0,readyForDelivery:0,completedThisMonth:0},te=new Date,xe=new Date(te.getFullYear(),te.getMonth(),1);return h.forEach(se=>{se.status===Ze.PENDING_APPROVAL.value&&_.pendingApproval++,se.status===Ze.IN_PRODUCTION.value&&_.inProduction++,se.status===Ze.READY_FOR_DELIVERY.value&&_.readyForDelivery++,(se.status===Ze.COMPLETED.value||se.status===Ze.DELIVERED.value)&&new Date(se.updatedAt)>=xe&&_.completedThisMonth++}),_})();return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),t.jsx("p",{className:"text-gray-500",children:"Manage stock and customer orders with full production workflow"}),t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"* Orders flow: Pending Approval  Approved  In Production  Completed/Delivered"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(fe,{children:t.jsxs(Se,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Pending Approval"}),t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:fn.pendingApproval})]})}),t.jsx(fe,{children:t.jsxs(Se,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"In Production"}),t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:fn.inProduction})]})}),t.jsx(fe,{children:t.jsxs(Se,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Ready for Delivery"}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:fn.readyForDelivery})]})}),t.jsx(fe,{children:t.jsxs(Se,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Completed This Month"}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:fn.completedThisMonth})]})})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(je,{placeholder:"Search orders...",value:x,onChange:_=>v(_.target.value),className:"pl-10"})]}),t.jsxs(ot,{value:E,onValueChange:w,children:[t.jsx(ut,{className:"w-[150px]",children:t.jsx(ct,{placeholder:"All Types"})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"all",children:"All Types"}),t.jsx(ye,{value:"stock",children:"Stock Orders"}),t.jsx(ye,{value:"customer",children:"Customer Orders"})]})]}),t.jsxs(ot,{value:b,onValueChange:S,children:[t.jsx(ut,{className:"w-[180px]",children:t.jsx(ct,{placeholder:"All Statuses"})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"all",children:"All Statuses"}),Object.values(Ze).map(_=>t.jsx(ye,{value:_.value,children:_.label},_.value))]})]}),t.jsxs(ue,{onClick:de,children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),t.jsx("div",{className:"space-y-4",children:V.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"p-8 text-center text-gray-500",children:[t.jsx(Ba,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No orders found. Create your first order to get started."})]})}):V.map(_=>{var te,xe,se,Pe;return t.jsx(fe,{className:"hover:shadow-md transition-shadow",children:t.jsx(Se,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-lg",children:_.orderNumber}),t.jsx(qe,{className:Ut(_.status),children:(te=Ze[Object.keys(Ze).find(ze=>Ze[ze].value===_.status)])==null?void 0:te.label}),t.jsx(qe,{variant:"outline",children:_.orderType==="stock"?" Stock":" Customer"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Product:"})," ",_.productName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",_.quantity]}),_.customerName&&t.jsxs("p",{children:[t.jsx("strong",{children:"Customer:"})," ",_.customerName]}),(()=>{let ze=0;return(_.bom||[]).forEach(Qe=>{if(Qe.materialId==="custom")ze++;else{const qt=(o||[]).find(Wl=>Wl.id===parseInt(Qe.materialId)),Pt=qt&&parseFloat(qt.quantity)||0,Zl=Qe.totalNeeded||parseFloat(Qe.quantity)*(_.quantity||1);Pt<Zl&&ze++}}),ze===0?null:t.jsxs("p",{className:"text-orange-600 flex items-center gap-1",children:[t.jsx(Is,{className:"w-4 h-4"}),ze," material(s) need to be purchased"]})})(),_.totalProductionCost>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Production Cost:"})," ",ke(_.totalProductionCost)]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Materials: ",((xe=_.bom)==null?void 0:xe.length)||0," items | Labour: ",((se=_.labourCosts)==null?void 0:se.length)||0," entries | Other: ",((Pe=_.otherCosts)==null?void 0:Pe.length)||0," items"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>D(_),children:[t.jsx(gf,{className:"w-4 h-4 mr-1"}),"View"]}),Zt(_).map((ze,Qe)=>t.jsx(ue,{size:"sm",variant:ze.variant,onClick:ze.action,children:ze.label},Qe))]})]})})},_.id)})}),t.jsx(ta,{open:N,onOpenChange:k,children:t.jsxs(aa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Create New Order"}),t.jsx(ga,{children:"Create a stock order (for inventory) or customer order (for delivery)"})]}),t.jsxs("form",{onSubmit:Nt,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Order Type *"}),t.jsxs(ot,{value:I.orderType,onValueChange:_=>ae({...I,orderType:_,customerId:""}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"stock",children:"Stock Order (Build for Inventory)"}),t.jsx(ye,{value:"customer",children:"Customer Order (For Delivery)"})]})]})]}),I.orderType==="customer"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Customer *"}),t.jsxs(ot,{value:I.customerId,onValueChange:_=>ae({...I,customerId:_}),children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select customer"})}),t.jsx(dt,{children:(i||[]).map(_=>t.jsxs(ye,{value:_.id.toString(),children:[_.name," - ",_.phone]},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Product Name *"}),t.jsx(je,{value:I.productName,onChange:_=>ae({...I,productName:_.target.value}),placeholder:"e.g., L-Shape Sofa, 3-Seater Couch"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Quantity *"}),t.jsx(je,{type:"number",min:"1",value:I.quantity,onChange:_=>ae({...I,quantity:_.target.value})})]}),I.orderType==="customer"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Unit Price (NPR)"}),t.jsx(je,{type:"number",min:"0",value:I.unitPrice,onChange:_=>ae({...I,unitPrice:_.target.value}),placeholder:"Price per unit"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Due Date"}),t.jsx(je,{type:"date",value:I.dueDate,onChange:_=>ae({...I,dueDate:_.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs($,{className:"flex items-center gap-2",children:[t.jsx(Ba,{className:"w-4 h-4"}),"Bill of Materials (BOM) *"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:q,children:[t.jsx(At,{className:"w-4 h-4 mr-1"}),"From Inventory"]}),t.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:he,children:[t.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Custom (To Purchase)"]})]})]}),I.bom.length===0?t.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:"No materials added. Add multiple materials from inventory or custom materials to purchase."}):t.jsxs("div",{className:"space-y-3 border rounded-lg p-3",children:[I.bom.map((_,te)=>{var xe;return t.jsxs("div",{className:`p-3 rounded-lg ${_.isOutOfStock?"bg-red-50 border border-red-200":"bg-gray-50"}`,children:[t.jsx("div",{className:"grid grid-cols-12 gap-2 items-end",children:_.materialId==="custom"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"col-span-4",children:[t.jsx($,{className:"text-xs",children:"Material Name (Custom)"}),t.jsx(je,{value:_.materialName,onChange:se=>Ce(te,"materialName",se.target.value),placeholder:"Enter material name",className:"h-9"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Quantity"}),t.jsx(je,{type:"number",min:"0",step:"0.01",value:_.quantity,onChange:se=>Ce(te,"quantity",se.target.value),className:"h-9"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Unit"}),t.jsxs(ot,{value:_.unit,onValueChange:se=>Ce(te,"unit",se),children:[t.jsx(ut,{className:"h-9",children:t.jsx(ct,{})}),t.jsx(dt,{children:fT.map(se=>t.jsx(ye,{value:se,children:se},se))})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Est. Cost"}),t.jsx(je,{type:"number",min:"0",value:_.estimatedCost,onChange:se=>Ce(te,"estimatedCost",se.target.value),placeholder:"NPR",className:"h-9"})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>re(te),children:t.jsx(an,{className:"w-4 h-4"})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"col-span-4",children:[t.jsx($,{className:"text-xs",children:"Select Material"}),t.jsxs(ot,{value:(xe=_.materialId)==null?void 0:xe.toString(),onValueChange:se=>Ce(te,"materialId",se),children:[t.jsx(ut,{className:"h-9",children:t.jsx(ct,{placeholder:"Select from inventory"})}),t.jsx(dt,{children:(o||[]).map(se=>{const Pe=parseFloat(se.quantity)||0,ze=Pe===0,Qe=Pe>0&&Pe<=(parseFloat(se.minStock)||0);return t.jsx(ye,{value:se.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[ze?t.jsx(Is,{className:"w-3 h-3 text-red-500"}):Qe?t.jsx(Is,{className:"w-3 h-3 text-yellow-500"}):t.jsx(Us,{className:"w-3 h-3 text-green-500"}),t.jsx("span",{children:se.name}),t.jsxs("span",{className:"text-xs text-gray-400",children:["(",Pe," ",se.unit,")"]})]})},se.id)})})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Qty Needed"}),t.jsx(je,{type:"number",min:"0",step:"0.01",value:_.quantity,onChange:se=>Ce(te,"quantity",se.target.value),className:"h-9"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Available"}),t.jsxs("div",{className:`h-9 flex items-center px-2 rounded text-sm ${_.availableStock>=(parseFloat(_.quantity)||0)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[_.availableStock," ",_.unit]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx($,{className:"text-xs",children:"Unit Cost"}),t.jsx("div",{className:"h-9 flex items-center px-2 bg-gray-100 rounded text-sm",children:ke(_.pricePerUnit)})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>re(te),children:t.jsx(an,{className:"w-4 h-4"})})})]})}),_.isOutOfStock&&_.materialId!=="custom"&&t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(Is,{className:"w-4 h-4 text-red-500"}),t.jsxs("span",{className:"text-sm text-red-600",children:["Insufficient stock! Shortage: ",_.shortage||_.quantity," ",_.unit]}),t.jsxs("label",{className:"flex items-center gap-1 ml-4",children:[t.jsx("input",{type:"checkbox",checked:_.needToPurchase,onChange:se=>Ce(te,"needToPurchase",se.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm",children:"Mark for purchase"})]})]}),(_.needToPurchase||_.materialId==="custom")&&t.jsx("div",{className:"mt-2",children:t.jsx(je,{value:_.purchaseNote,onChange:se=>Ce(te,"purchaseNote",se.target.value),placeholder:"Purchase note (e.g., supplier, urgency)",className:"h-8 text-sm"})})]},te)}),t.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Estimated Material Cost (per unit):"}),t.jsx("span",{className:"font-bold",children:ke(oe())})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs($,{className:"flex items-center gap-2",children:[t.jsx(Wr,{className:"w-4 h-4"}),"Labour Costs (Per Piece)"]}),t.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:Y,children:[t.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Labour"]})]}),I.labourCosts.length===0?t.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:'No labour costs added. Click "Add Labour" to assign workers.'}):t.jsxs("div",{className:"space-y-3 border rounded-lg p-3",children:[I.labourCosts.map((_,te)=>{var xe;return t.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end bg-gray-50 p-3 rounded-lg",children:[t.jsxs("div",{className:"col-span-4",children:[t.jsx($,{className:"text-xs",children:"Select Worker"}),t.jsxs(ot,{value:(xe=_.labourerId)==null?void 0:xe.toString(),onValueChange:se=>Ne(te,"labourerId",se),children:[t.jsx(ut,{className:"h-9",children:t.jsx(ct,{placeholder:"Select worker"})}),t.jsx(dt,{children:g.map(se=>t.jsxs(ye,{value:se.id.toString(),children:[se.name," (",se.specialization,")"]},se.id))})]})]}),t.jsxs("div",{className:"col-span-3",children:[t.jsx($,{className:"text-xs",children:"Work Type"}),t.jsx(je,{value:_.workType,onChange:se=>Ne(te,"workType",se.target.value),placeholder:"e.g., Assembly, Upholstery",className:"h-9"})]}),t.jsxs("div",{className:"col-span-3",children:[t.jsx($,{className:"text-xs",children:"Cost Per Piece (NPR)"}),t.jsx(je,{type:"number",min:"0",value:_.costPerPiece,onChange:se=>Ne(te,"costPerPiece",se.target.value),placeholder:"Enter cost",className:"h-9"})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>ve(te),children:t.jsx(an,{className:"w-4 h-4"})})})]},te)}),t.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Labour Cost (per unit):"}),t.jsx("span",{className:"font-bold",children:ke(be())})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs($,{className:"flex items-center gap-2",children:[t.jsx(Aa,{className:"w-4 h-4"}),"Other Costs (Miscellaneous)"]}),t.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:Oe,children:[t.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Other Cost"]})]}),I.otherCosts.length===0?t.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-gray-500",children:'No other costs added. Click "Add Other Cost" for miscellaneous expenses.'}):t.jsxs("div",{className:"space-y-3 border rounded-lg p-3",children:[I.otherCosts.map((_,te)=>t.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end bg-gray-50 p-3 rounded-lg",children:[t.jsxs("div",{className:"col-span-7",children:[t.jsx($,{className:"text-xs",children:"Description"}),t.jsx(je,{value:_.description,onChange:xe=>tt(te,"description",xe.target.value),placeholder:"e.g., Transportation, Packaging, Tools",className:"h-9"})]}),t.jsxs("div",{className:"col-span-3",children:[t.jsx($,{className:"text-xs",children:"Amount (NPR per unit)"}),t.jsx(je,{type:"number",min:"0",value:_.amount,onChange:xe=>tt(te,"amount",xe.target.value),placeholder:"Enter amount",className:"h-9"})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(ue,{type:"button",size:"sm",variant:"ghost",className:"h-9 w-9 p-0 text-red-500",onClick:()=>jt(te),children:t.jsx(an,{className:"w-4 h-4"})})})]},te)),t.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Other Costs (per unit):"}),t.jsx("span",{className:"font-bold",children:ke(O())})]})]})]}),t.jsx(fe,{className:"bg-blue-50",children:t.jsx(Se,{className:"p-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Material Cost (per unit):"}),t.jsx("span",{children:ke(oe())})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Labour Cost (per unit):"}),t.jsx("span",{children:ke(be())})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Other Costs (per unit):"}),t.jsx("span",{children:ke(O())})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Quantity:"}),t.jsxs("span",{children:[" ",I.quantity||1]})]}),t.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[t.jsx("span",{children:"Total Production Cost:"}),t.jsx("span",{children:ke(ee())})]})]})})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Notes"}),t.jsx(Kt,{value:I.notes,onChange:_=>ae({...I,notes:_.target.value}),placeholder:"Additional notes about this order",rows:2})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:me,children:"Cancel"}),t.jsx(ue,{type:"submit",children:"Create Order"})]})]})]})}),t.jsx(ta,{open:!!T,onOpenChange:()=>D(null),children:t.jsxs(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(na,{children:t.jsxs(sa,{children:["Order Details - ",T==null?void 0:T.orderNumber]})}),T&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Order Type"}),t.jsx("p",{className:"font-medium",children:T.orderType==="stock"?"Stock Order":"Customer Order"})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Status"}),t.jsx(qe,{className:Ut(T.status),children:(gs=Ze[Object.keys(Ze).find(_=>Ze[_].value===T.status)])==null?void 0:gs.label})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Product"}),t.jsx("p",{className:"font-medium",children:T.productName})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Quantity"}),t.jsx("p",{className:"font-medium",children:T.quantity})]}),T.customerName&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Customer"}),t.jsx("p",{className:"font-medium",children:T.customerName})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Phone"}),t.jsx("p",{className:"font-medium",children:T.customerPhone})]})]}),T.totalProductionCost>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Material Cost"}),t.jsx("p",{className:"font-medium",children:ke(T.materialCost||0)})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Labour Cost"}),t.jsx("p",{className:"font-medium",children:ke(T.labourCost||0)})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Other Costs"}),t.jsx("p",{className:"font-medium",children:ke(T.otherCost||0)})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Total Production Cost"}),t.jsx("p",{className:"font-bold text-lg",children:ke(T.totalProductionCost)})]})]})]}),T.bom&&T.bom.length>0&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Bill of Materials"}),t.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Material"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Qty/Unit"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Total Needed"}),t.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),t.jsx("tbody",{children:T.bom.map((_,te)=>{let xe=0,se=!1;if(_.materialId!=="custom"){const Pe=(o||[]).find(ze=>ze.id===parseInt(_.materialId));if(Pe){xe=parseFloat(Pe.quantity)||0;const ze=_.totalNeeded||parseFloat(_.quantity)*(T.quantity||1);se=xe>=ze}}return t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"px-3 py-2",children:_.materialName}),t.jsxs("td",{className:"px-3 py-2 text-right",children:[_.quantity," ",_.unit]}),t.jsxs("td",{className:"px-3 py-2 text-right",children:[_.totalNeeded," ",_.unit]}),t.jsx("td",{className:"px-3 py-2 text-center",children:_.materialId==="custom"?t.jsx(qe,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"To Purchase"}):se?t.jsx(qe,{variant:"outline",className:"bg-green-50 text-green-700",children:"In Stock"}):t.jsx(qe,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"To Purchase"})})]},te)})})]})})]}),T.labourCosts&&T.labourCosts.length>0&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Labour Costs"}),t.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Worker"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Work Type"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Cost/Piece"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Total Cost"})]})}),t.jsx("tbody",{children:T.labourCosts.map((_,te)=>t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"px-3 py-2",children:_.labourerName}),t.jsx("td",{className:"px-3 py-2",children:_.workType}),t.jsx("td",{className:"px-3 py-2 text-right",children:ke(_.costPerPiece)}),t.jsx("td",{className:"px-3 py-2 text-right",children:ke(_.totalCost)})]},te))})]})})]}),T.otherCosts&&T.otherCosts.length>0&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Other Costs"}),t.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Description"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Amount/Unit"}),t.jsx("th",{className:"px-3 py-2 text-right",children:"Total Amount"})]})}),t.jsx("tbody",{children:T.otherCosts.map((_,te)=>t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"px-3 py-2",children:_.description}),t.jsx("td",{className:"px-3 py-2 text-right",children:ke(_.amount)}),t.jsx("td",{className:"px-3 py-2 text-right",children:ke(_.totalAmount)})]},te))})]})})]}),(()=>{const _=[];return(T.bom||[]).forEach(te=>{if(te.materialId==="custom")_.push({materialName:te.materialName,shortage:te.totalNeeded||te.quantity,unit:te.unit});else{const xe=(o||[]).find(ze=>ze.id===parseInt(te.materialId)),se=xe&&parseFloat(xe.quantity)||0,Pe=te.totalNeeded||parseFloat(te.quantity)*(T.quantity||1);se<Pe&&_.push({materialName:te.materialName,shortage:Pe-se,unit:te.unit,currentStock:se})}}),_.length===0?null:t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[t.jsxs($,{className:"text-orange-700 flex items-center gap-2",children:[t.jsx(Is,{className:"w-4 h-4"}),"Materials Needing Purchase"]}),t.jsx("ul",{className:"mt-2 space-y-1 text-sm",children:_.map((te,xe)=>t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{children:te.materialName}),t.jsxs("span",{className:"text-orange-700",children:[te.shortage," ",te.unit,te.currentStock!==void 0&&` (Have: ${te.currentStock})`]})]},xe))})]})})(),T.statusHistory&&T.statusHistory.length>0&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Status History"}),t.jsx("div",{className:"mt-2 space-y-2",children:T.statusHistory.map((_,te)=>{var xe;return t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(qe,{className:Ut(_.status),variant:"outline",children:(xe=Ze[Object.keys(Ze).find(se=>Ze[se].value===_.status)])==null?void 0:xe.label}),t.jsx("span",{className:"text-gray-500",children:Rn(_.timestamp)}),_.note&&t.jsxs("span",{className:"text-gray-400",children:["- ",_.note]})]},te)})})]}),T.notes&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Notes"}),t.jsx("p",{className:"text-sm",children:T.notes})]})]})]})}),t.jsx(ta,{open:M,onOpenChange:A,children:t.jsxs(aa,{children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Complete Production"}),t.jsx(ga,{children:"Add product photo and set selling price for inventory"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Selling Price (NPR) *"}),t.jsx(je,{type:"number",min:"0",value:Q.sellingPrice,onChange:_=>ge({...Q,sellingPrice:_.target.value}),placeholder:"Enter selling price"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Product Photo"}),t.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:Q.productPhotoPreview?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:Q.productPhotoPreview,alt:"Product",className:"max-h-40 mx-auto rounded"}),t.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>ge({...Q,productPhoto:null,productPhotoPreview:""}),children:t.jsx(an,{className:"w-4 h-4"})})]}):t.jsxs("label",{className:"cursor-pointer",children:[t.jsx(Zx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload photo"}),t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_=>dn(_,"completion")})]})})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),t.jsxs(ue,{onClick:rt,children:[t.jsx(Us,{className:"w-4 h-4 mr-2"}),"Complete Production"]})]})]})}),t.jsx(ta,{open:R,onOpenChange:z,children:t.jsxs(aa,{children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Confirm Delivery"}),t.jsx(ga,{children:"Record delivery details for this order"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Delivery Date *"}),t.jsx(je,{type:"date",value:L.deliveryDate,onChange:_=>X({...L,deliveryDate:_.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Delivery Notes"}),t.jsx(Kt,{value:L.deliveryNotes,onChange:_=>X({...L,deliveryNotes:_.target.value}),placeholder:"Any notes about the delivery",rows:2})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Delivery Photo"}),t.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:L.deliveryPhotoPreview?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:L.deliveryPhotoPreview,alt:"Delivery",className:"max-h-40 mx-auto rounded"}),t.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"absolute top-0 right-0",onClick:()=>X({...L,deliveryPhoto:null,deliveryPhotoPreview:""}),children:t.jsx(an,{className:"w-4 h-4"})})]}):t.jsxs("label",{className:"cursor-pointer",children:[t.jsx(Zx,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload delivery photo"}),t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_=>dn(_,"delivery")})]})})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),t.jsxs(ue,{onClick:Fa,children:[t.jsx(yf,{className:"w-4 h-4 mr-2"}),"Confirm Delivery"]})]})]})})]})}function hT(s,r="977"){if(!s)return"";const i=s.replace(/\D/g,"");return i.startsWith(r)?i:r+i}function pT(s){if(!s)return!1;const r=s.replace(/\D/g,"");return r.length===10||r.length===13}function xT(s,r){const i=hT(s),o=encodeURIComponent(r);return`https://wa.me/${i}?text=${o}`}function gT(s,r){let i=s;return Object.keys(r).forEach(o=>{const d=new RegExp(`\\{${o}\\}`,"g");i=i.replace(d,r[o]||"")}),i}const Kr={orderConfirmation:{title:"Order Confirmation",template:`Hello {customerName}! 

Your order has been confirmed:
Order #: {orderNumber}
Product: {productName}
Quantity: {quantity}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Expected Delivery: {expectedDelivery}

Thank you for choosing us!
- {companyName}`,variables:["customerName","orderNumber","productName","quantity","totalAmount","paidAmount","dueAmount","expectedDelivery","companyName"]},productionStarted:{title:"Production Started",template:`Hello {customerName}! 

Great news! Production has started for your order.
Order #: {orderNumber}
Product: {productName}

Expected Completion: {expectedCompletion}

We'll notify you when it's ready!
- {companyName}`,variables:["customerName","orderNumber","productName","expectedCompletion","companyName"]},productionCompleted:{title:"Production Completed",template:`Hello {customerName}! 

Your sofa is ready!
Order #: {orderNumber}
Product: {productName}

Please contact us to schedule delivery.

Thank you for your patience!
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},paymentReminder:{title:"Payment Reminder",template:`Hello {customerName}! 

Payment reminder for your order:
Order #: {orderNumber}
Total Amount: NPR {totalAmount}
Paid: NPR {paidAmount}
Due: NPR {dueAmount}

Please make payment at your earliest convenience.

Thank you!
- {companyName}`,variables:["customerName","orderNumber","totalAmount","paidAmount","dueAmount","companyName"]},deliveryScheduled:{title:"Delivery Scheduled",template:`Hello {customerName}! 

Your delivery has been scheduled:
Order #: {orderNumber}
Product: {productName}
Delivery Date: {deliveryDate}
Address: {deliveryAddress}

Please be available on the scheduled date.
- {companyName}`,variables:["customerName","orderNumber","productName","deliveryDate","deliveryAddress","companyName"]},orderDelivered:{title:"Order Delivered",template:`Hello {customerName}! 

Your order has been delivered!
Order #: {orderNumber}
Product: {productName}

Thank you for your business. We hope you enjoy your new sofa!

Please let us know if you have any questions.
- {companyName}`,variables:["customerName","orderNumber","productName","companyName"]},purchaseOrderCreated:{title:"Purchase Order Created",template:`Hello {supplierName}! 

New purchase order:
PO #: {poNumber}
Items: {itemCount}
Total Amount: NPR {totalAmount}

Please confirm receipt and delivery schedule.

Thank you!
- {companyName}`,variables:["supplierName","poNumber","itemCount","totalAmount","companyName"]},lowStockAlert:{title:"Low Stock Alert",template:` LOW STOCK ALERT

Item: {itemName}
Current Stock: {currentStock}
Minimum Stock: {minStock}

Action needed: Reorder soon!
- {companyName}`,variables:["itemName","currentStock","minStock","companyName"]}};function zg(){return{id:1,whatsappEnabled:!0,defaultCountryCode:"977",companyName:"Sofa Factory",adminPhoneNumber:"",notificationTypes:{orderConfirmation:!0,productionStarted:!0,productionCompleted:!0,paymentReminder:!0,deliveryScheduled:!0,orderDelivered:!0,purchaseOrderCreated:!1,lowStockAlert:!0},messageTemplates:Kr}}function yT(s,r,i,o={}){return{type:s,recipient:r,message:i,status:"pending",createdAt:new Date().toISOString(),sentAt:null,relatedId:o.id||null,relatedType:o.type||null}}function vT(s,r){const i=xT(s,r);window.open(i,"_blank")}async function k0(s){try{const r=await s.getItems("notificationSettings");return r&&r.length>0?r[0]:null}catch(r){return console.error("Error getting notification settings:",r),null}}async function jT(s,r){const i=await k0(s);return!i||!i.whatsappEnabled?!1:i.notificationTypes[r]===!0}async function bT(s,r){try{await s.addItem("notificationQueue",r),console.log("Notification queued:",r.type)}catch(i){console.error("Error queueing notification:",i)}}async function NT(s,r,i,o){var d;try{if(!await jT(s,"orderConfirmation"))return;const h=await k0(s);if(!h)return;const p=(d=h.messageTemplates.orderConfirmation)==null?void 0:d.template;if(!p)return;const g={customerName:i.name||"Customer",orderNumber:r.orderNumber||r.id,productName:o.name||"Product",quantity:r.quantity||1,totalAmount:ke(r.totalAmount||0),paidAmount:ke(r.paidAmount||0),dueAmount:ke((r.totalAmount||0)-(r.paidAmount||0)),expectedDelivery:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"To be confirmed",companyName:h.companyName||"Sofa Factory"},m=gT(p,g),x=yT("orderConfirmation",{name:i.name,phone:i.phone},m,{id:r.id,type:"order"});await bT(s,x)}catch(f){console.error("Error sending order confirmation:",f)}}function ST(){var le,B;const{state:s,actions:r}=Tt(),{customers:i,sofaModels:o,sales:d}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(null),[v,b]=j.useState({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),S=d.filter(F=>{var I,ae,Q;return((I=F.customerName)==null?void 0:I.toLowerCase().includes(f.toLowerCase()))||((ae=F.productName)==null?void 0:ae.toLowerCase().includes(f.toLowerCase()))||((Q=F.saleNumber)==null?void 0:Q.toLowerCase().includes(f.toLowerCase()))}),E=d.reduce((F,I)=>F+(I.totalAmount||0),0),w=d.filter(F=>{const I=new Date(F.createdAt),ae=new Date;return I.toDateString()===ae.toDateString()}),N=w.reduce((F,I)=>F+(I.totalAmount||0),0),k=()=>{b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""}),g(!0)},T=()=>{g(!1),b({customerId:null,productId:null,quantity:"1",unitPrice:"",discount:"0",paymentMethod:"cash",paidAmount:"",notes:""})},D=F=>{console.log("Product selected:",F);const I=parseInt(F),ae=o.find(Q=>Q.id===I);if(console.log("Product details:",ae),ae){const Q={...v,productId:I,unitPrice:ae.sellingPrice.toString()};console.log("Updated form data:",Q),b(Q)}else console.error("Product not found for ID:",F)},M=F=>{console.log("Customer selected:",F);const I=parseInt(F),ae=i.find(ge=>ge.id===I);console.log("Customer details:",ae);const Q={...v,customerId:I};console.log("Updated form data:",Q),b(Q)},A=()=>{const F=parseInt(v.quantity)||0,I=parseFloat(v.unitPrice)||0,ae=parseFloat(v.discount)||0;return F*I-ae},R=async F=>{if(window.confirm(`Approve sale ${F.saleNumber}? This will deduct ${F.quantity} units from inventory.`))try{const I={...F,approvalStatus:"approved",status:"completed",approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",I);const ae=o.find(Q=>Q.id===F.productId);if(ae){const Q={...ae,stockQuantity:(ae.stockQuantity||0)-F.quantity,updatedAt:new Date().toISOString()};await r.updateItem("sofaModels",Q)}alert("Sale approved successfully! Stock has been updated.")}catch(I){console.error("Error approving sale:",I),alert("Failed to approve sale. Please try again.")}},z=async F=>{const I=window.prompt(`Reject sale ${F.saleNumber}? Please enter reason:`);if(I)try{const ae={...F,approvalStatus:"rejected",status:"rejected",rejectionReason:I,rejectedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.updateItem("sales",ae),alert("Sale rejected successfully.")}catch(ae){console.error("Error rejecting sale:",ae),alert("Failed to reject sale. Please try again.")}},H=async F=>{if(F.preventDefault(),console.log("=== SALES FORM SUBMISSION DEBUG ==="),console.log("Form Data:",v),console.log("Customers available:",i.length),console.log("Products available:",o.length),console.log("All customers:",i),console.log("All products:",o),i.length===0){alert("No customers found! Please add customers first from the Customers page.");return}if(o.length===0){alert("No products found! Please add finished products first from the Inventory page.");return}if(!v.customerId||!v.productId){console.error("Missing selection - Customer ID:",v.customerId,"Product ID:",v.productId),alert("Please select both customer and product from the dropdowns");return}try{const I=i.find(me=>me.id===v.customerId),ae=o.find(me=>me.id===v.productId);if(console.log("Found customer:",I),console.log("Found product:",ae),!I||!ae){console.error("Validation failed - Customer found:",!!I,"Product found:",!!ae),alert(`Invalid selection. Customer: ${I?"OK":"NOT FOUND"}, Product: ${ae?"OK":"NOT FOUND"}`);return}const Q=parseInt(v.quantity)||1,ge=parseFloat(v.unitPrice)||0,L=parseFloat(v.discount)||0,X=A(),V=parseFloat(v.paidAmount)||0,oe=X-V,be=`SAL-${Date.now().toString().slice(-6)}`;if((ae.stockQuantity||0)<Q){alert(`Insufficient stock! Available: ${ae.stockQuantity||0} units, Requested: ${Q} units`);return}let O="unpaid";V>=X?O="paid":V>0&&(O="partial");const ee={saleNumber:be,customerId:I.id,customerName:I.name,customerPhone:I.phone,productId:ae.id,productName:ae.name,quantity:Q,unitPrice:ge,discount:L,subtotal:Q*ge,totalAmount:X,paidAmount:V,dueAmount:oe,paymentStatus:O,paymentMethod:v.paymentMethod,paymentHistory:[{amount:V,method:v.paymentMethod,date:new Date().toISOString(),note:"Initial payment"}],notes:v.notes,status:"pending",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},de=await r.addItem("sales",ee);try{await NT(r,ee,I,ae)}catch(me){console.error("Error sending notification:",me)}alert("Sale recorded successfully! Waiting for admin approval."),T()}catch(I){console.error("Error recording sale:",I),alert("Failed to record sale. Please try again.")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales transactions"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Total Sales"}),t.jsx(qo,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:d.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All time transactions"})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Today's Sales"}),t.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:w.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:ke(N)})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Total Revenue"}),t.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:ke(E)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All time revenue"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search sales by number, customer, or product...",value:f,onChange:F=>h(F.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:k,className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]}),S.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Aa,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No sales found":"No sales yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first sale to get started"}),!f&&t.jsxs(ue,{onClick:k,children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Sale"]})]})}):t.jsx("div",{className:"space-y-4",children:S.map(F=>t.jsx(fe,{className:"hover:shadow-lg transition-shadow",children:t.jsx(Se,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:F.saleNumber}),F.approvalStatus==="pending"&&t.jsx(qe,{className:"bg-orange-500 text-white",children:"Pending Approval"}),F.approvalStatus==="approved"&&t.jsx(qe,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}),F.approvalStatus==="rejected"&&t.jsx(qe,{className:"bg-red-100 text-red-800",children:"Rejected"}),F.paymentStatus==="paid"&&t.jsx(qe,{className:"bg-green-500 text-white",children:"Paid"}),F.paymentStatus==="partial"&&t.jsx(qe,{className:"bg-yellow-500 text-white",children:"Partial Payment"}),F.paymentStatus==="unpaid"&&t.jsx(qe,{className:"bg-red-500 text-white",children:"Unpaid"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),t.jsx("p",{className:"font-medium",children:F.customerName})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Product"}),t.jsx("p",{className:"font-medium",children:F.productName})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),t.jsx("p",{className:"font-medium",children:F.quantity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),t.jsx("p",{className:"font-medium text-green-600",children:ke(F.totalAmount)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Due Amount"}),t.jsx("p",{className:"font-medium text-red-600",children:F.dueAmount>0?ke(F.dueAmount):"NPR 0"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["Payment: ",F.paymentMethod]}),t.jsx("span",{children:""}),t.jsx("span",{children:Rn(F.createdAt)})]})]}),t.jsxs("div",{className:"flex gap-2",children:[F.approvalStatus==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(ue,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>R(F),children:"Approve"}),t.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>z(F),children:"Reject"})]}),t.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>x(F),children:[t.jsx(gf,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})},F.id))}),t.jsx(ta,{open:p,onOpenChange:g,children:t.jsxs(aa,{className:"max-w-2xl",children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Record New Sale"}),t.jsx(ga,{children:"Enter sale details to record a new transaction"})]}),t.jsxs("form",{onSubmit:H,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"customerId",children:["Customer ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:((le=v.customerId)==null?void 0:le.toString())||"",onValueChange:M,children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select customer"})}),t.jsx(dt,{children:i.map(F=>t.jsx(ye,{value:F.id.toString(),children:F.name},F.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"productId",children:["Product ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:((B=v.productId)==null?void 0:B.toString())||"",onValueChange:D,children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select product"})}),t.jsx(dt,{children:o.map(F=>t.jsxs(ye,{value:F.id.toString(),children:[F.name," - ",ke(F.sellingPrice)]},F.id))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"quantity",children:"Quantity"}),t.jsx(je,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:F=>b({...v,quantity:F.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"unitPrice",children:"Unit Price (NPR)"}),t.jsx(je,{id:"unitPrice",type:"number",step:"0.01",value:v.unitPrice,onChange:F=>b({...v,unitPrice:F.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"discount",children:"Discount (NPR)"}),t.jsx(je,{id:"discount",type:"number",step:"0.01",value:v.discount,onChange:F=>b({...v,discount:F.target.value})})]})]}),t.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),t.jsx("span",{className:"text-2xl font-bold text-green-600",children:ke(A())})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentMethod",children:"Payment Method"}),t.jsxs(ot,{value:v.paymentMethod,onValueChange:F=>b({...v,paymentMethod:F}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"cash",children:"Cash"}),t.jsx(ye,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx(ye,{value:"card",children:"Card"}),t.jsx(ye,{value:"mobile_payment",children:"Mobile Payment"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paidAmount",children:"Paid Amount (NPR)"}),t.jsx(je,{id:"paidAmount",type:"number",step:"0.01",min:"0",placeholder:"Enter amount paid",value:v.paidAmount,onChange:F=>b({...v,paidAmount:F.target.value})}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Leave empty or enter 0 for unpaid. Total: ",ke(A())]})]})]}),v.paidAmount&&parseFloat(v.paidAmount)<A()&&t.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"font-medium text-yellow-800",children:"Due Amount:"}),t.jsx("span",{className:"text-lg font-bold text-yellow-900",children:ke(A()-parseFloat(v.paidAmount||0))})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"notes",children:"Notes"}),t.jsx(Kt,{id:"notes",value:v.notes,onChange:F=>b({...v,notes:F.target.value}),placeholder:"Add any additional notes",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),t.jsx(ue,{type:"submit",children:"Record Sale"})]})]})]})}),m&&t.jsx(ta,{open:!!m,onOpenChange:()=>x(null),children:t.jsxs(aa,{className:"max-w-2xl",children:[t.jsxs(na,{children:[t.jsxs(sa,{children:["Sale Details - ",m.saleNumber]}),t.jsxs(ga,{children:["Recorded on ",Rn(m.createdAt)]})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{children:"Customer"}),t.jsx("p",{className:"font-medium",children:m.customerName}),t.jsx("p",{className:"text-sm text-gray-500",children:m.customerPhone})]}),t.jsxs("div",{children:[t.jsx($,{children:"Product"}),t.jsx("p",{className:"font-medium",children:m.productName})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{children:"Quantity"}),t.jsx("p",{className:"font-medium",children:m.quantity})]}),t.jsxs("div",{children:[t.jsx($,{children:"Unit Price"}),t.jsx("p",{className:"font-medium",children:ke(m.unitPrice)})]}),t.jsxs("div",{children:[t.jsx($,{children:"Subtotal"}),t.jsx("p",{className:"font-medium",children:ke(m.subtotal)})]})]}),m.discount>0&&t.jsxs("div",{children:[t.jsx($,{children:"Discount"}),t.jsxs("p",{className:"font-medium text-red-600",children:["- ",ke(m.discount)]})]}),t.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount"}),t.jsx("span",{className:"text-2xl font-bold text-green-600",children:ke(m.totalAmount)})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{children:"Paid Amount"}),t.jsx("p",{className:"font-medium text-green-600",children:ke(m.paidAmount||0)})]}),t.jsxs("div",{children:[t.jsx($,{children:"Due Amount"}),t.jsx("p",{className:"font-medium text-red-600",children:ke(m.dueAmount||0)})]}),t.jsxs("div",{children:[t.jsx($,{children:"Payment Status"}),t.jsxs("div",{children:[m.paymentStatus==="paid"&&t.jsx(qe,{className:"bg-green-500 text-white",children:"Paid"}),m.paymentStatus==="partial"&&t.jsx(qe,{className:"bg-yellow-500 text-white",children:"Partial"}),m.paymentStatus==="unpaid"&&t.jsx(qe,{className:"bg-red-500 text-white",children:"Unpaid"})]})]})]}),t.jsxs("div",{children:[t.jsx($,{children:"Payment Method"}),t.jsx("p",{className:"font-medium capitalize",children:m.paymentMethod.replace("_"," ")})]}),m.paymentHistory&&m.paymentHistory.length>0&&t.jsxs("div",{children:[t.jsx($,{children:"Payment History"}),t.jsx("div",{className:"mt-2 space-y-2",children:m.paymentHistory.map((F,I)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:ke(F.amount)}),t.jsxs("p",{className:"text-xs text-gray-500",children:[F.method.replace("_"," "),"  ",Rn(F.date)]}),F.note&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:F.note})]})},I))})]}),m.notes&&t.jsxs("div",{children:[t.jsx($,{children:"Notes"}),t.jsx("p",{className:"text-sm text-gray-700",children:m.notes})]})]}),t.jsx(ia,{children:t.jsx(ue,{variant:"outline",onClick:()=>x(null),children:"Close"})})]})})]})}function wT(){const{state:s,actions:r}=Tt(),{customers:i,cleaningServices:o,company:d}=s,[f,h]=j.useState(""),[p,g]=j.useState("all"),[m,x]=j.useState(!1),[v,b]=j.useState(null),[S,E]=j.useState({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""}),w=o.filter(B=>{var ae,Q;const F=((ae=B.customerName)==null?void 0:ae.toLowerCase().includes(f.toLowerCase()))||((Q=B.serviceNumber)==null?void 0:Q.toLowerCase().includes(f.toLowerCase())),I=p==="all"||B.status===p;return F&&I}),N=w.filter(B=>B.status==="scheduled"),k=w.filter(B=>B.status==="completed"),T=w.filter(B=>B.status==="cancelled"),D=(B=null)=>{B?(b(B),E({customerId:B.customerId,serviceDate:B.serviceDate,serviceTime:B.serviceTime,serviceType:B.serviceType,price:B.price.toString(),address:B.address,notes:B.notes||""})):(b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})),x(!0)},M=()=>{x(!1),b(null),E({customerId:"",serviceDate:"",serviceTime:"",serviceType:"regular",price:"",address:"",notes:""})},A=B=>{const F=i.find(I=>I.id===B);F&&F.address?E({...S,customerId:B,address:F.address}):E({...S,customerId:B})},R=async B=>{if(B.preventDefault(),!S.customerId||!S.serviceDate||!S.serviceTime){alert("Please fill in all required fields");return}try{const F=i.find(ae=>ae.id===S.customerId);if(!F){alert("Invalid customer selection");return}const I={serviceNumber:(v==null?void 0:v.serviceNumber)||`CLN-${Date.now().toString().slice(-6)}`,customerId:F.id,customerName:F.name,customerPhone:F.phone,serviceDate:S.serviceDate,serviceTime:S.serviceTime,serviceType:S.serviceType,price:parseFloat(S.price)||0,address:S.address,notes:S.notes,status:(v==null?void 0:v.status)||"scheduled",createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};v?(await r.updateItem("cleaningServices",{...I,id:v.id}),alert("Service updated successfully!")):(await r.addItem("cleaningServices",I),alert("Service scheduled successfully!")),M()}catch(F){console.error("Error saving service:",F),alert("Failed to save service. Please try again.")}},z=async(B,F)=>{if(window.confirm(`Update service status to "${F}"?`))try{const I={...B,status:F,updatedAt:new Date().toISOString()};await r.updateItem("cleaningServices",I),alert("Service status updated successfully!")}catch(I){console.error("Error updating service:",I),alert("Failed to update service status. Please try again.")}},H=B=>{if(!d){alert("Company information not set up");return}const F=Cw.cleaningReminder(d,B.customerName,B.serviceDate,B.serviceTime),I=Sw(B.customerPhone,F);window.open(I,"_blank")},le=B=>{switch(B){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cleaning Services"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage sofa cleaning appointments"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Upcoming"}),t.jsx(Wd,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:N.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled appointments"})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Completed"}),t.jsx(Us,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:k.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Services completed"})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Total Revenue"}),t.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Se,{children:[t.jsx("div",{className:"text-2xl font-bold",children:ke(o.reduce((B,F)=>B+(F.price||0),0))}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"From cleaning services"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search services by number or customer...",value:f,onChange:B=>h(B.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>D(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Schedule Service"]})]}),t.jsxs(ci,{defaultValue:"scheduled",className:"space-y-4",children:[t.jsxs(ui,{className:"grid w-full grid-cols-3",children:[t.jsxs(Jt,{value:"scheduled",children:["Scheduled",t.jsx(qe,{variant:"secondary",className:"ml-2",children:N.length})]}),t.jsxs(Jt,{value:"completed",children:["Completed",t.jsx(qe,{variant:"secondary",className:"ml-2",children:k.length})]}),t.jsxs(Jt,{value:"cancelled",children:["Cancelled",t.jsx(qe,{variant:"secondary",className:"ml-2",children:T.length})]})]}),t.jsx(ea,{value:"scheduled",children:N.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(ds,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No scheduled services"})]})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(B=>t.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(De,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(Me,{className:"text-lg",children:B.serviceNumber}),t.jsx(Be,{children:B.customerName})]}),t.jsx(qe,{className:le(B.status),children:B.status})]})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),t.jsxs("p",{className:"font-medium",children:[Rn(B.serviceDate)," at ",B.serviceTime]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),t.jsx("p",{className:"font-medium capitalize",children:B.serviceType})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),t.jsx("p",{className:"font-medium text-green-600",children:ke(B.price)})]}),B.address&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),t.jsx("p",{className:"text-sm line-clamp-2",children:B.address})]}),t.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[t.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>D(B),children:[t.jsx(fs,{className:"w-4 h-4 mr-1"}),"Edit"]}),t.jsx(ue,{variant:"outline",size:"sm",onClick:()=>H(B),children:t.jsx(sS,{className:"w-4 h-4"})}),t.jsx(ue,{variant:"outline",size:"sm",onClick:()=>z(B,"completed"),children:t.jsx(Us,{className:"w-4 h-4"})})]})]})})]},B.id))})}),t.jsx(ea,{value:"completed",children:k.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Us,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No completed services"})]})}):t.jsx("div",{className:"space-y-4",children:k.map(B=>t.jsx(fe,{children:t.jsx(Se,{className:"p-6",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:B.serviceNumber}),t.jsx(qe,{className:le(B.status),children:B.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),t.jsx("p",{className:"font-medium",children:B.customerName})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),t.jsx("p",{className:"font-medium",children:Rn(B.serviceDate)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),t.jsx("p",{className:"font-medium capitalize",children:B.serviceType})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),t.jsx("p",{className:"font-medium text-green-600",children:ke(B.price)})]})]})]})})})},B.id))})}),t.jsx(ea,{value:"cancelled",children:T.length===0?t.jsx(fe,{children:t.jsx(Se,{className:"flex flex-col items-center justify-center py-12",children:t.jsx("p",{className:"text-gray-500",children:"No cancelled services"})})}):t.jsx("div",{className:"space-y-4",children:T.map(B=>t.jsx(fe,{children:t.jsx(Se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:[B.serviceNumber," - ",B.customerName]}),t.jsx("p",{className:"text-sm text-gray-500",children:Rn(B.serviceDate)})]}),t.jsx(qe,{className:le(B.status),children:B.status})]})})},B.id))})})]}),t.jsx(ta,{open:m,onOpenChange:x,children:t.jsxs(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(na,{children:[t.jsx(sa,{children:v?"Edit Service":"Schedule New Service"}),t.jsx(ga,{children:v?"Update service appointment details":"Schedule a new cleaning service appointment"})]}),t.jsxs("form",{onSubmit:R,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"customerId",children:["Customer ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:S.customerId,onValueChange:A,children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select customer"})}),t.jsx(dt,{children:i.map(B=>t.jsxs(ye,{value:B.id,children:[B.name," - ",B.phone]},B.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"serviceDate",children:["Service Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"serviceDate",type:"date",value:S.serviceDate,onChange:B=>E({...S,serviceDate:B.target.value}),required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"serviceTime",children:["Service Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"serviceTime",type:"time",value:S.serviceTime,onChange:B=>E({...S,serviceTime:B.target.value}),required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"serviceType",children:"Service Type"}),t.jsxs(ot,{value:S.serviceType,onValueChange:B=>E({...S,serviceType:B}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"regular",children:"Regular Cleaning"}),t.jsx(ye,{value:"deep",children:"Deep Cleaning"}),t.jsx(ye,{value:"stain_removal",children:"Stain Removal"}),t.jsx(ye,{value:"maintenance",children:"Maintenance"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"price",children:"Price (NPR)"}),t.jsx(je,{id:"price",type:"number",step:"0.01",value:S.price,onChange:B=>E({...S,price:B.target.value}),placeholder:"0.00"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"address",children:"Service Address"}),t.jsx(Kt,{id:"address",value:S.address,onChange:B=>E({...S,address:B.target.value}),placeholder:"Enter service address",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"notes",children:"Notes"}),t.jsx(Kt,{id:"notes",value:S.notes,onChange:B=>E({...S,notes:B.target.value}),placeholder:"Add any special instructions or notes",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),t.jsx(ue,{type:"submit",children:v?"Update Service":"Schedule Service"})]})]})]})})]})}function qs({className:s,...r}){return t.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:t.jsx("table",{"data-slot":"table",className:$e("w-full caption-bottom text-sm",s),...r})})}function Bs({className:s,...r}){return t.jsx("thead",{"data-slot":"table-header",className:$e("[&_tr]:border-b",s),...r})}function Fs({className:s,...r}){return t.jsx("tbody",{"data-slot":"table-body",className:$e("[&_tr:last-child]:border-0",s),...r})}function xa({className:s,...r}){return t.jsx("tr",{"data-slot":"table-row",className:$e("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function at({className:s,...r}){return t.jsx("th",{"data-slot":"table-head",className:$e("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function nt({className:s,...r}){return t.jsx("td",{"data-slot":"table-cell",className:$e("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function CT(){const{state:s,actions:r}=Tt(),[i,o]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState(""),[x,v]=j.useState(!1),[b,S]=j.useState(!1),[E,w]=j.useState(!1),[N,k]=j.useState(null),[T,D]=j.useState(null),[M,A]=j.useState({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"}),[R,z]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""}),[H,le]=j.useState({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""});j.useEffect(()=>{B()},[]);const B=async()=>{try{const[q,he,re]=await Promise.all([pe.getAll("labourers"),pe.getAll("attendance"),pe.getAll("labourPayments")]);o(q||[]),f(he||[]),p(re||[])}catch(q){console.error("Error loading labour data:",q)}},F=i.filter(q=>q.name.toLowerCase().includes(g.toLowerCase())||q.phone&&q.phone.includes(g)||q.specialization&&q.specialization.toLowerCase().includes(g.toLowerCase())),I=(q=null)=>{var he;q?(k(q),A({name:q.name,phone:q.phone||"",address:q.address||"",dailyWage:((he=q.dailyWage)==null?void 0:he.toString())||"",specialization:q.specialization||"Carpenter",joinDate:q.joinDate||new Date().toISOString().split("T")[0],status:q.status||"active"})):(k(null),A({name:"",phone:"",address:"",dailyWage:"",specialization:"Carpenter",joinDate:new Date().toISOString().split("T")[0],status:"active"})),v(!0)},ae=()=>{v(!1),k(null)},Q=async q=>{if(q.preventDefault(),!M.name||!M.dailyWage){alert("Please fill in required fields (Name and Daily Wage)");return}try{const he={name:M.name,phone:M.phone,address:M.address,dailyWage:parseFloat(M.dailyWage),specialization:M.specialization,joinDate:M.joinDate,status:M.status,createdAt:(N==null?void 0:N.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};N?(await pe.update("labourers",{...he,id:N.id}),alert("Labourer updated successfully!")):(await pe.add("labourers",he),alert("Labourer added successfully!")),await B(),ae()}catch(he){console.error("Error saving labourer:",he),alert("Failed to save labourer. Please try again.")}},ge=async q=>{if(window.confirm(`Are you sure you want to delete ${q.name}?`))try{await pe.delete("labourers",q.id),alert("Labourer deleted successfully!"),await B()}catch(he){console.error("Error deleting labourer:",he),alert("Failed to delete labourer. Please try again.")}},L=(q=null)=>{q?(D(q),z({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})):(D(null),z({labourerId:"",date:new Date().toISOString().split("T")[0],status:"present",hoursWorked:"8",notes:""})),S(!0)},X=async q=>{if(q.preventDefault(),!R.labourerId){alert("Please select a labourer");return}try{const he=i.find(Ce=>Ce.id===parseInt(R.labourerId)),re={labourerId:parseInt(R.labourerId),labourerName:(he==null?void 0:he.name)||"",date:R.date,status:R.status,hoursWorked:parseFloat(R.hoursWorked)||0,notes:R.notes,createdAt:new Date().toISOString()};await pe.add("attendance",re),alert("Attendance marked successfully!"),await B(),S(!1)}catch(he){console.error("Error marking attendance:",he),alert("Failed to mark attendance. Please try again.")}},V=(q=null)=>{var he;q?(D(q),le({labourerId:q.id.toString(),date:new Date().toISOString().split("T")[0],amount:((he=q.dailyWage)==null?void 0:he.toString())||"",paymentMethod:"Cash",notes:""})):(D(null),le({labourerId:"",date:new Date().toISOString().split("T")[0],amount:"",paymentMethod:"Cash",notes:""})),w(!0)},oe=async q=>{if(q.preventDefault(),!H.labourerId||!H.amount){alert("Please fill in required fields");return}try{const he=i.find(Ce=>Ce.id===parseInt(H.labourerId)),re={labourerId:parseInt(H.labourerId),labourerName:(he==null?void 0:he.name)||"",date:H.date,amount:parseFloat(H.amount),paymentMethod:H.paymentMethod,notes:H.notes,createdAt:new Date().toISOString()};await pe.add("labourPayments",re),alert("Payment recorded successfully!"),await B(),w(!1)}catch(he){console.error("Error recording payment:",he),alert("Failed to record payment. Please try again.")}},be=i.filter(q=>q.status==="active").length,O=h.reduce((q,he)=>q+(he.amount||0),0),ee=h.filter(q=>{const he=new Date(q.date),re=new Date;return he.getMonth()===re.getMonth()&&he.getFullYear()===re.getFullYear()}).reduce((q,he)=>q+(he.amount||0),0),me=d.filter(q=>q.date===new Date().toISOString().split("T")[0]).filter(q=>q.status==="present").length;return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Labour Management"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage labourers, track attendance, and record payments"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Active Labourers"}),t.jsx(Me,{className:"text-2xl",children:be})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Present Today"}),t.jsx(Me,{className:"text-2xl text-green-600",children:me})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"This Month Payments"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",ee.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Payments"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",O.toLocaleString()]})]})})]}),t.jsxs(ci,{defaultValue:"labourers",className:"space-y-4",children:[t.jsxs(ui,{children:[t.jsx(Jt,{value:"labourers",children:"Labourers"}),t.jsx(Jt,{value:"attendance",children:"Attendance"}),t.jsx(Jt,{value:"payments",children:"Payments"})]}),t.jsxs(ea,{value:"labourers",className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search labourers...",value:g,onChange:q=>m(q.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>I(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]}),F.length>0?t.jsx(fe,{children:t.jsx(Se,{className:"p-0",children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Name"}),t.jsx(at,{children:"Phone"}),t.jsx(at,{children:"Specialization"}),t.jsx(at,{children:"Daily Wage"}),t.jsx(at,{children:"Status"}),t.jsx(at,{children:"Actions"})]})}),t.jsx(Fs,{children:F.map(q=>t.jsxs(xa,{children:[t.jsxs(nt,{children:[t.jsx("div",{className:"font-medium",children:q.name}),q.address&&t.jsx("div",{className:"text-sm text-gray-500",children:q.address})]}),t.jsx(nt,{children:q.phone}),t.jsx(nt,{children:q.specialization}),t.jsxs(nt,{className:"font-medium",children:["NPR ",q.dailyWage]}),t.jsx(nt,{children:t.jsx(qe,{variant:q.status==="active"?"success":"default",children:q.status})}),t.jsx(nt,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>L(q),title:"Mark Attendance",children:t.jsx(ef,{className:"w-4 h-4"})}),t.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>V(q),title:"Record Payment",children:t.jsx(Aa,{className:"w-4 h-4"})}),t.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>I(q),children:t.jsx(fs,{className:"w-4 h-4"})}),t.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>ge(q),children:t.jsx(_n,{className:"w-4 h-4"})})]})})]},q.id))})]})})}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(ef,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"No labourers found":"No labourers yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:g?"Try adjusting your search":"Add your first labourer to get started"}),!g&&t.jsxs(ue,{onClick:()=>I(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Labourer"]})]})})]}),t.jsxs(ea,{value:"attendance",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(ue,{onClick:()=>L(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})}),d.length>0?t.jsx(fe,{children:t.jsx(Se,{className:"p-0",children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Date"}),t.jsx(at,{children:"Labourer"}),t.jsx(at,{children:"Status"}),t.jsx(at,{children:"Hours Worked"}),t.jsx(at,{children:"Notes"})]})}),t.jsx(Fs,{children:d.slice(0,50).map((q,he)=>t.jsxs(xa,{children:[t.jsx(nt,{children:new Date(q.date).toLocaleDateString()}),t.jsx(nt,{children:q.labourerName}),t.jsx(nt,{children:t.jsx(qe,{variant:q.status==="present"?"success":q.status==="absent"?"destructive":"warning",children:q.status})}),t.jsxs(nt,{children:[q.hoursWorked," hrs"]}),t.jsx(nt,{className:"text-sm text-gray-600",children:q.notes})]},he))})]})})}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(ds,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No attendance records"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Start marking attendance for your labourers"}),t.jsxs(ue,{onClick:()=>L(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})})]}),t.jsxs(ea,{value:"payments",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(ue,{onClick:()=>V(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Payment"]})}),h.length>0?t.jsx(fe,{children:t.jsx(Se,{className:"p-0",children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Date"}),t.jsx(at,{children:"Labourer"}),t.jsx(at,{children:"Amount"}),t.jsx(at,{children:"Payment Method"}),t.jsx(at,{children:"Notes"})]})}),t.jsx(Fs,{children:h.slice(0,50).map((q,he)=>t.jsxs(xa,{children:[t.jsx(nt,{children:new Date(q.date).toLocaleDateString()}),t.jsx(nt,{children:q.labourerName}),t.jsxs(nt,{className:"font-medium",children:["NPR ",q.amount.toLocaleString()]}),t.jsx(nt,{children:q.paymentMethod}),t.jsx(nt,{className:"text-sm text-gray-600",children:q.notes})]},he))})]})})}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Aa,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment records"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Start recording payments for your labourers"}),t.jsxs(ue,{onClick:()=>V(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})})]})]}),t.jsx(ta,{open:x,onOpenChange:v,children:t.jsxs(aa,{className:"max-w-2xl",children:[t.jsxs(na,{children:[t.jsx(sa,{children:N?"Edit Labourer":"Add New Labourer"}),t.jsx(ga,{children:N?"Update labourer information":"Enter labourer details"})]}),t.jsxs("form",{onSubmit:Q,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"name",children:["Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"name",value:M.name,onChange:q=>A({...M,name:q.target.value}),placeholder:"e.g., Ram Bahadur",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"phone",children:"Phone"}),t.jsx(je,{id:"phone",type:"tel",value:M.phone,onChange:q=>A({...M,phone:q.target.value}),placeholder:"e.g., 9841234567"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"address",children:"Address"}),t.jsx(je,{id:"address",value:M.address,onChange:q=>A({...M,address:q.target.value}),placeholder:"e.g., Kathmandu"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"specialization",children:"Specialization"}),t.jsxs(ot,{value:M.specialization,onValueChange:q=>A({...M,specialization:q}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Carpenter",children:"Carpenter"}),t.jsx(ye,{value:"Upholsterer",children:"Upholsterer"}),t.jsx(ye,{value:"Painter",children:"Painter"}),t.jsx(ye,{value:"Helper",children:"Helper"}),t.jsx(ye,{value:"Other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"dailyWage",children:["Daily Wage (NPR) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"dailyWage",type:"number",step:"0.01",min:"0",value:M.dailyWage,onChange:q=>A({...M,dailyWage:q.target.value}),placeholder:"e.g., 1500",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"joinDate",children:"Join Date"}),t.jsx(je,{id:"joinDate",type:"date",value:M.joinDate,onChange:q=>A({...M,joinDate:q.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"status",children:"Status"}),t.jsxs(ot,{value:M.status,onValueChange:q=>A({...M,status:q}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"active",children:"Active"}),t.jsx(ye,{value:"inactive",children:"Inactive"})]})]})]})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:ae,children:"Cancel"}),t.jsx(ue,{type:"submit",children:N?"Update Labourer":"Add Labourer"})]})]})]})}),t.jsx(ta,{open:b,onOpenChange:S,children:t.jsxs(aa,{children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Mark Attendance"}),t.jsx(ga,{children:T?`Mark attendance for ${T.name}`:"Select a labourer and mark attendance"})]}),t.jsxs("form",{onSubmit:X,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[!T&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"labourerId",children:["Labourer ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:R.labourerId,onValueChange:q=>z({...R,labourerId:q}),children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select labourer"})}),t.jsx(dt,{children:i.filter(q=>q.status==="active").map(q=>t.jsx(ye,{value:q.id.toString(),children:q.name},q.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"attendanceDate",children:"Date"}),t.jsx(je,{id:"attendanceDate",type:"date",value:R.date,onChange:q=>z({...R,date:q.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"attendanceStatus",children:"Status"}),t.jsxs(ot,{value:R.status,onValueChange:q=>z({...R,status:q}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"present",children:"Present"}),t.jsx(ye,{value:"absent",children:"Absent"}),t.jsx(ye,{value:"half-day",children:"Half Day"}),t.jsx(ye,{value:"leave",children:"Leave"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"hoursWorked",children:"Hours Worked"}),t.jsx(je,{id:"hoursWorked",type:"number",step:"0.5",min:"0",max:"24",value:R.hoursWorked,onChange:q=>z({...R,hoursWorked:q.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"attendanceNotes",children:"Notes"}),t.jsx(Kt,{id:"attendanceNotes",value:R.notes,onChange:q=>z({...R,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),t.jsx(ue,{type:"submit",children:"Mark Attendance"})]})]})]})}),t.jsx(ta,{open:E,onOpenChange:w,children:t.jsxs(aa,{children:[t.jsxs(na,{children:[t.jsx(sa,{children:"Record Payment"}),t.jsx(ga,{children:T?`Record payment for ${T.name}`:"Select a labourer and record payment"})]}),t.jsxs("form",{onSubmit:oe,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[!T&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"paymentLabourerId",children:["Labourer ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:H.labourerId,onValueChange:q=>{var re;const he=i.find(Ce=>Ce.id===parseInt(q));le({...H,labourerId:q,amount:((re=he==null?void 0:he.dailyWage)==null?void 0:re.toString())||""})},children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select labourer"})}),t.jsx(dt,{children:i.filter(q=>q.status==="active").map(q=>t.jsxs(ye,{value:q.id.toString(),children:[q.name," (NPR ",q.dailyWage,"/day)"]},q.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentDate",children:"Date"}),t.jsx(je,{id:"paymentDate",type:"date",value:H.date,onChange:q=>le({...H,date:q.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"amount",children:["Amount (NPR) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"amount",type:"number",step:"0.01",min:"0",value:H.amount,onChange:q=>le({...H,amount:q.target.value}),placeholder:"e.g., 1500",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentMethod",children:"Payment Method"}),t.jsxs(ot,{value:H.paymentMethod,onValueChange:q=>le({...H,paymentMethod:q}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Cash",children:"Cash"}),t.jsx(ye,{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx(ye,{value:"Mobile Payment",children:"Mobile Payment"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentNotes",children:"Notes"}),t.jsx(Kt,{id:"paymentNotes",value:H.notes,onChange:q=>le({...H,notes:q.target.value}),placeholder:"Additional notes",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),t.jsx(ue,{type:"submit",children:"Record Payment"})]})]})]})})]})}function AT(){const{state:s,actions:r}=Tt(),{rawMaterials:i=[],sofaModels:o=[]}=s,d=j.useMemo(()=>{const p=i.length,g=i.reduce((S,E)=>{const w=parseFloat(E.quantity)||0,N=parseFloat(E.unitPrice)||0;return S+w*N},0),m=o.length,x=o.reduce((S,E)=>{const w=parseFloat(E.stock)||0,N=parseFloat(E.sellingPrice)||parseFloat(E.basePrice)||0;return S+w*N},0),v=i.filter(S=>{const E=parseFloat(S.quantity)||0,w=parseFloat(S.minStock)||10;return E>0&&E<w}),b=i.filter(S=>(parseFloat(S.quantity)||0)<=0);return[{label:"Raw Materials",count:p,value:` ${g.toLocaleString()}`,color:"bg-blue-500",icon:Ba},{label:"Finished Products",count:m,value:` ${x.toLocaleString()}`,color:"bg-green-500",icon:bN},{label:"Low Stock Items",count:v.length,color:"bg-yellow-500",icon:Is},{label:"Out of Stock",count:b.length,color:"bg-red-500",icon:Gg}]},[i,o]),f=j.useMemo(()=>{const p=[];return[...i].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,3).forEach(x=>{p.push({text:`${x.name} - ${x.quantity} ${x.unit||"units"} in stock`,time:x.updatedAt||x.createdAt,color:"bg-green-500"})}),[...o].sort((x,v)=>new Date(v.updatedAt||v.createdAt||0)-new Date(x.updatedAt||x.createdAt||0)).slice(0,2).forEach(x=>{p.push({text:`${x.name} - ${x.stock||0} units in stock`,time:x.updatedAt||x.createdAt,color:"bg-blue-500"})}),i.filter(x=>{const v=parseFloat(x.quantity)||0,b=parseFloat(x.minStock)||10;return v>0&&v<b}).slice(0,2).forEach(x=>{p.push({text:`Low stock alert: ${x.name}`,time:new Date().toISOString(),color:"bg-yellow-500"})}),p.slice(0,5)},[i,o]),h=p=>{if(!p)return"Recently";const g=new Date(p),x=new Date-g,v=Math.floor(x/6e4),b=Math.floor(x/36e5),S=Math.floor(x/864e5);return v<60?`${v} minutes ago`:b<24?`${b} hours ago`:`${S} days ago`};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),t.jsx("p",{className:"text-gray-600",children:"Overview of raw materials and finished products inventory"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((p,g)=>{const m=p.icon;return t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.label}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.count}),p.value&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.value})]}),t.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:t.jsx(m,{className:"w-6 h-6 text-white"})})]})},g)})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>r.setCurrentView("raw-materials"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-900",children:"Manage Raw Materials"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsxs("button",{onClick:()=>r.setCurrentView("finished-products"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-900",children:"Manage Finished Products"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsxs("button",{onClick:()=>r.setCurrentView("suppliers"),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 text-left rounded-lg transition-colors flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-900",children:"View Suppliers"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),f.length>0?t.jsx("div",{className:"space-y-3",children:f.map((p,g)=>t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:`w-2 h-2 ${p.color} rounded-full mt-2 mr-3`}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-900",children:p.text}),t.jsx("p",{className:"text-xs text-gray-500",children:h(p.time)})]})]},g))}):t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}),t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add raw materials or products to see activity here"})]})]})]})]})}function ET(){const{state:s,actions:r}=Tt(),{rawMaterials:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""}),v=i.filter(D=>D.name.toLowerCase().includes(o.toLowerCase())||D.category&&D.category.toLowerCase().includes(o.toLowerCase())||D.supplier&&D.supplier.toLowerCase().includes(o.toLowerCase())),b=(D,M)=>{const A=parseFloat(D)||0,R=parseFloat(M)||0;return A===0?{label:"Out of Stock",variant:"destructive"}:A<=R?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"}},S=(D=null)=>{var M,A,R;D?(g(D),x({name:D.name,category:D.category||"Wood",quantity:((M=D.quantity)==null?void 0:M.toString())||"",unit:D.unit||"meters",pricePerUnit:((A=D.pricePerUnit)==null?void 0:A.toString())||"",minStock:((R=D.minStock)==null?void 0:R.toString())||"",supplier:D.supplier||"",description:D.description||""})):(g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})),h(!0)},E=()=>{h(!1),g(null),x({name:"",category:"Wood",quantity:"",unit:"meters",pricePerUnit:"",minStock:"",supplier:"",description:""})},w=async D=>{if(D.preventDefault(),!m.name||!m.quantity||!m.pricePerUnit){alert("Please fill in required fields (Name, Quantity, Price)");return}try{const M={name:m.name,category:m.category,quantity:parseFloat(m.quantity),unit:m.unit,pricePerUnit:parseFloat(m.pricePerUnit),minStock:parseFloat(m.minStock)||0,supplier:m.supplier,description:m.description,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("rawMaterials",{...M,id:p.id}),alert("Material updated successfully!")):(await r.addItem("rawMaterials",M),alert("Material added successfully!")),E()}catch(M){console.error("Error saving material:",M),alert("Failed to save material. Please try again.")}},N=async D=>{if(window.confirm(`Are you sure you want to delete ${D.name}?`))try{await r.deleteItem("rawMaterials",D.id),alert("Material deleted successfully!")}catch(M){console.error("Error deleting material:",M),alert("Failed to delete material. Please try again.")}},k=i.reduce((D,M)=>D+(M.quantity||0)*(M.pricePerUnit||0),0),T=i.filter(D=>{const M=parseFloat(D.quantity)||0,A=parseFloat(D.minStock)||0;return M<=A}).length;return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Raw Materials"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage raw materials inventory"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Materials"}),t.jsx(Me,{className:"text-2xl",children:i.length})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Inventory Value"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",k.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Low Stock Items"}),t.jsx(Me,{className:"text-2xl text-orange-600",children:T})]})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search materials...",value:o,onChange:D=>d(D.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>S(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Material"]})]}),v.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(D=>{const M=b(D.quantity,D.minStock),A=(D.quantity||0)*(D.pricePerUnit||0);return t.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(De,{children:t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(Me,{className:"text-lg",children:D.name}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[D.category&&t.jsx(qe,{variant:"outline",children:D.category}),t.jsx(qe,{variant:M.variant,children:M.label})]})]})})}),t.jsxs(Se,{children:[t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Quantity:"}),t.jsxs("span",{className:"font-medium",children:[D.quantity," ",D.unit]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Price/Unit:"}),t.jsxs("span",{className:"font-medium",children:["NPR ",(D.pricePerUnit||0).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Min Stock:"}),t.jsxs("span",{className:"font-medium",children:[D.minStock||0," ",D.unit]})]}),t.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[t.jsx("span",{className:"text-gray-600",children:"Total Value:"}),t.jsxs("span",{className:"font-semibold",children:["NPR ",A.toLocaleString()]})]}),D.purchaseDate&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Purchased: ",new Date(D.purchaseDate).toLocaleDateString()]}),(D.supplier||D.supplierName)&&t.jsxs("div",{className:"text-sm text-gray-600 pt-2",children:[t.jsx("span",{className:"font-medium",children:"Supplier:"})," ",D.supplier||D.supplierName]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>S(D),children:[t.jsx(fs,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>N(D),children:t.jsx(_n,{className:"w-3 h-3"})})]})]})]},D.id)})}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ba,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No materials found":"No materials yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first material to get started"}),!o&&t.jsxs(ue,{onClick:()=>S(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Material"]})]})}),t.jsx(ta,{open:f,onOpenChange:h,children:t.jsxs(aa,{className:"max-w-2xl",children:[t.jsxs(na,{children:[t.jsx(sa,{children:p?"Edit Material":"Add New Material"}),t.jsx(ga,{children:p?"Update material information below":"Enter material details to add to your inventory"})]}),t.jsxs("form",{onSubmit:w,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"name",children:["Material Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"name",value:m.name,onChange:D=>x({...m,name:D.target.value}),placeholder:"e.g., Teak Wood",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"category",children:"Category"}),t.jsxs(ot,{value:m.category,onValueChange:D=>x({...m,category:D}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Wood",children:"Wood"}),t.jsx(ye,{value:"Fabric",children:"Fabric"}),t.jsx(ye,{value:"Foam",children:"Foam"}),t.jsx(ye,{value:"Hardware",children:"Hardware"}),t.jsx(ye,{value:"Cushioning",children:"Cushioning"}),t.jsx(ye,{value:"Other",children:"Other"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"quantity",children:["Quantity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"quantity",type:"number",step:"0.01",min:"0",value:m.quantity,onChange:D=>x({...m,quantity:D.target.value}),placeholder:"e.g., 150",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"unit",children:"Unit"}),t.jsxs(ot,{value:m.unit,onValueChange:D=>x({...m,unit:D}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"meters",children:"meters"}),t.jsx(ye,{value:"pieces",children:"pieces"}),t.jsx(ye,{value:"sheets",children:"sheets"}),t.jsx(ye,{value:"kg",children:"kg"}),t.jsx(ye,{value:"liters",children:"liters"}),t.jsx(ye,{value:"boxes",children:"boxes"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"pricePerUnit",children:["Price per Unit (NPR) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"pricePerUnit",type:"number",step:"0.01",min:"0",value:m.pricePerUnit,onChange:D=>x({...m,pricePerUnit:D.target.value}),placeholder:"e.g., 800",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"minStock",children:"Minimum Stock Level"}),t.jsx(je,{id:"minStock",type:"number",step:"0.01",min:"0",value:m.minStock,onChange:D=>x({...m,minStock:D.target.value}),placeholder:"e.g., 50"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"supplier",children:"Supplier"}),t.jsx(je,{id:"supplier",value:m.supplier,onChange:D=>x({...m,supplier:D.target.value}),placeholder:"e.g., Timber Traders Ltd"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"description",children:"Description"}),t.jsx(je,{id:"description",value:m.description,onChange:D=>x({...m,description:D.target.value}),placeholder:"Additional notes about this material"})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),t.jsx(ue,{type:"submit",children:p?"Update Material":"Add Material"})]})]})]})})]})}function TT(){const{state:s,actions:r}=Tt(),{suppliers:i=[]}=s,[o,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""}),v=i.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.contactPerson&&N.contactPerson.toLowerCase().includes(o.toLowerCase())||N.category&&N.category.toLowerCase().includes(o.toLowerCase())),b=(N=null)=>{N?(g(N),x({name:N.name,contactPerson:N.contactPerson||"",phone:N.phone||"",email:N.email||"",address:N.address||"",category:N.category||"Wood",notes:N.notes||""})):(g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})),h(!0)},S=()=>{h(!1),g(null),x({name:"",contactPerson:"",phone:"",email:"",address:"",category:"Wood",notes:""})},E=async N=>{if(N.preventDefault(),!m.name||!m.phone){alert("Please fill in required fields (Name and Phone)");return}try{const k={name:m.name,contactPerson:m.contactPerson,phone:m.phone,email:m.email,address:m.address,category:m.category,notes:m.notes,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};p?(await r.updateItem("suppliers",{...k,id:p.id}),alert("Supplier updated successfully!")):(await r.addItem("suppliers",k),alert("Supplier added successfully!")),S()}catch(k){console.error("Error saving supplier:",k),alert("Failed to save supplier. Please try again.")}},w=async N=>{if(window.confirm(`Are you sure you want to delete ${N.name}?`))try{await r.deleteItem("suppliers",N.id),alert("Supplier deleted successfully!")}catch(k){console.error("Error deleting supplier:",k),alert("Failed to delete supplier. Please try again.")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your supplier relationships and contacts"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(je,{type:"text",placeholder:"Search suppliers...",value:o,onChange:N=>d(N.target.value),className:"pl-10"})]}),t.jsxs(ue,{onClick:()=>b(),className:"whitespace-nowrap",children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),v.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(N=>t.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(De,{children:t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(Me,{className:"text-lg",children:N.name}),N.category&&t.jsx(qe,{variant:"outline",className:"mt-2",children:N.category})]})})}),t.jsxs(Se,{children:[t.jsxs("div",{className:"space-y-3 mb-4",children:[N.contactPerson&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bo,{className:"w-4 h-4 mr-2 text-gray-400"}),N.contactPerson]}),N.phone&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qg,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone]}),N.email&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Yg,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]}),N.address&&t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("p",{className:"line-clamp-2",children:N.address})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>b(N),children:[t.jsx(fs,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsx(ue,{size:"sm",variant:"destructive",onClick:()=>w(N),children:t.jsx(_n,{className:"w-3 h-3"})})]})]})]},N.id))}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Bo,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o?"No suppliers found":"No suppliers yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o?"Try adjusting your search":"Add your first supplier to get started"}),!o&&t.jsxs(ue,{onClick:()=>b(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})}),t.jsx(ta,{open:f,onOpenChange:h,children:t.jsxs(aa,{className:"max-w-2xl",children:[t.jsxs(na,{children:[t.jsx(sa,{children:p?"Edit Supplier":"Add New Supplier"}),t.jsx(ga,{children:p?"Update supplier information below":"Enter supplier details to add them to your database"})]}),t.jsxs("form",{onSubmit:E,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"name",children:["Company Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"name",value:m.name,onChange:N=>x({...m,name:N.target.value}),placeholder:"e.g., Timber Traders Ltd",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"contactPerson",children:"Contact Person"}),t.jsx(je,{id:"contactPerson",value:m.contactPerson,onChange:N=>x({...m,contactPerson:N.target.value}),placeholder:"e.g., Ram Kumar"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"phone",children:["Phone ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"phone",type:"tel",value:m.phone,onChange:N=>x({...m,phone:N.target.value}),placeholder:"e.g., 9841111111",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"email",children:"Email"}),t.jsx(je,{id:"email",type:"email",value:m.email,onChange:N=>x({...m,email:N.target.value}),placeholder:"e.g., supplier@example.com"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"category",children:"Category"}),t.jsxs(ot,{value:m.category,onValueChange:N=>x({...m,category:N}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Wood",children:"Wood"}),t.jsx(ye,{value:"Fabric",children:"Fabric"}),t.jsx(ye,{value:"Foam",children:"Foam"}),t.jsx(ye,{value:"Hardware",children:"Hardware"}),t.jsx(ye,{value:"Cushioning",children:"Cushioning"}),t.jsx(ye,{value:"Other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"address",children:"Address"}),t.jsx(Kt,{id:"address",value:m.address,onChange:N=>x({...m,address:N.target.value}),placeholder:"Enter supplier address",rows:2})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"notes",children:"Notes"}),t.jsx(Kt,{id:"notes",value:m.notes,onChange:N=>x({...m,notes:N.target.value}),placeholder:"Additional notes about this supplier",rows:3})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),t.jsx(ue,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})]})})]})}const DT=[{value:"pieces",label:"Pieces"},{value:"meters",label:"Meters"},{value:"feet",label:"Feet"},{value:"sqft",label:"Square Feet (sqft)"},{value:"sqm",label:"Square Meters (sqm)"},{value:"cuft",label:"Cubic Feet (cuft)"},{value:"cum",label:"Cubic Meters (cum)"},{value:"kg",label:"Kilograms (kg)"},{value:"grams",label:"Grams (g)"},{value:"lbs",label:"Pounds (lbs)"},{value:"liters",label:"Liters (L)"},{value:"gallons",label:"Gallons"},{value:"ml",label:"Milliliters (ml)"},{value:"yards",label:"Yards"},{value:"inches",label:"Inches"},{value:"cm",label:"Centimeters (cm)"},{value:"sheets",label:"Sheets"},{value:"rolls",label:"Rolls"},{value:"bundles",label:"Bundles"},{value:"sets",label:"Sets"},{value:"pairs",label:"Pairs"},{value:"boxes",label:"Boxes"},{value:"cartons",label:"Cartons"},{value:"bags",label:"Bags"},{value:"packets",label:"Packets"},{value:"bottles",label:"Bottles"},{value:"cans",label:"Cans"},{value:"units",label:"Units"}],MT=["General","Wood","Fabric","Foam","Metal","Hardware","Adhesive","Finishing","Leather","Springs","Webbing","Thread","Zipper","Cushion","Packaging","Other"],Lo={materialName:"",materialCategory:"General",unit:"pieces",quantity:"",pricePerUnit:"",totalAmount:""};function OT(){var q,he,re,Ce;const{state:s,actions:r}=Tt(),{purchases:i=[],suppliers:o=[],rawMaterials:d=[]}=s,[f,h]=j.useState(""),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[v,b]=j.useState(null),[S,E]=j.useState(null),[w,N]=j.useState(null),[k,T]=j.useState(null),D=j.useRef(null),[M,A]=j.useState([{...Lo}]),[R,z]=j.useState({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),H=d.map(Y=>Y.name),le=i.filter(Y=>Y.supplierName&&Y.supplierName.toLowerCase().includes(f.toLowerCase())||Y.materialName&&Y.materialName.toLowerCase().includes(f.toLowerCase())||Y.items&&Y.items.some(ve=>{var Ne;return(Ne=ve.materialName)==null?void 0:Ne.toLowerCase().includes(f.toLowerCase())})||Y.paymentMethod&&Y.paymentMethod.toLowerCase().includes(f.toLowerCase())),B=Y=>{switch(Y){case"Paid":return"success";case"Partial":return"warning";case"Unpaid":return"destructive";default:return"default"}},F=()=>M.reduce((Y,ve)=>Y+(parseFloat(ve.totalAmount)||0),0),I=(Y=null)=>{var ve,Ne,Oe,jt;Y?(b(Y),z({date:Y.date,supplierId:((ve=Y.supplierId)==null?void 0:ve.toString())||"",paymentMethod:Y.paymentMethod||"Cash",paymentStatus:Y.paymentStatus||"Paid",notes:Y.notes||""}),Y.items&&Y.items.length>0?A(Y.items.map(tt=>{var Nt,xt,Et;return{materialName:tt.materialName||"",materialCategory:tt.materialCategory||"General",unit:tt.unit||"pieces",quantity:((Nt=tt.quantity)==null?void 0:Nt.toString())||"",pricePerUnit:((xt=tt.pricePerUnit)==null?void 0:xt.toString())||"",totalAmount:((Et=tt.totalAmount)==null?void 0:Et.toString())||""}})):A([{materialName:Y.materialName||"",materialCategory:Y.materialCategory||"General",unit:Y.unit||"pieces",quantity:((Ne=Y.quantity)==null?void 0:Ne.toString())||"",pricePerUnit:((Oe=Y.pricePerUnit)==null?void 0:Oe.toString())||"",totalAmount:((jt=Y.totalAmount)==null?void 0:jt.toString())||""}]),Y.invoiceData&&(T(Y.invoiceData),N({name:Y.invoiceFileName||"Invoice",type:Y.invoiceType}))):(b(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Lo}]),N(null),T(null)),g(!0)},ae=()=>{g(!1),b(null),N(null),T(null),z({date:new Date().toISOString().split("T")[0],supplierId:"",paymentMethod:"Cash",paymentStatus:"Paid",notes:""}),A([{...Lo}])},Q=()=>{A([...M,{...Lo}])},ge=Y=>{M.length>1&&A(M.filter((ve,Ne)=>Ne!==Y))},L=(Y,ve,Ne)=>{var jt,tt;const Oe=[...M];if(Oe[Y]={...Oe[Y],[ve]:Ne},ve==="materialName"){const Nt=d.find(xt=>xt.name.toLowerCase()===Ne.toLowerCase());Nt&&(Oe[Y].unit=Nt.unit||"pieces",Oe[Y].materialCategory=Nt.category||"General",Oe[Y].pricePerUnit=((jt=Nt.unitPrice)==null?void 0:jt.toString())||((tt=Nt.pricePerUnit)==null?void 0:tt.toString())||"")}if(ve==="quantity"||ve==="pricePerUnit"){const Nt=parseFloat(ve==="quantity"?Ne:Oe[Y].quantity),xt=parseFloat(ve==="pricePerUnit"?Ne:Oe[Y].pricePerUnit);!isNaN(Nt)&&!isNaN(xt)&&(Oe[Y].totalAmount=(Nt*xt).toString())}A(Oe)},X=Y=>{const ve=Y.target.files[0];if(!ve)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/webp"].includes(ve.type)){alert("Please upload a PDF or image file (JPEG, PNG, WebP)");return}if(ve.size>5*1024*1024){alert("File size must be less than 5MB");return}N(ve);const Oe=new FileReader;Oe.onloadend=()=>{T(Oe.result)},Oe.readAsDataURL(ve)},V=()=>{N(null),T(null),D.current&&(D.current.value="")},oe=async Y=>{var ve,Ne,Oe,jt,tt,Nt,xt;if(Y.preventDefault(),!R.supplierId){alert("Please select a supplier");return}for(let Et=0;Et<M.length;Et++){const Ta=M[Et];if(!Ta.materialName||!Ta.quantity||!Ta.pricePerUnit){alert(`Please fill in all required fields for item ${Et+1}`);return}}try{const Et=o.find(rt=>rt.id===parseInt(R.supplierId));if(!Et){alert("Invalid supplier selected");return}const Ta=F(),Ot=M.map(rt=>({materialName:rt.materialName,materialCategory:rt.materialCategory,unit:rt.unit,quantity:parseFloat(rt.quantity),pricePerUnit:parseFloat(rt.pricePerUnit),totalAmount:parseFloat(rt.totalAmount)})),dn={date:R.date,supplierId:parseInt(R.supplierId),supplierName:Et.name,items:Ot,materialName:((ve=Ot[0])==null?void 0:ve.materialName)||"",materialCategory:((Ne=Ot[0])==null?void 0:Ne.materialCategory)||"General",unit:((Oe=Ot[0])==null?void 0:Oe.unit)||"pieces",quantity:((jt=Ot[0])==null?void 0:jt.quantity)||0,pricePerUnit:((tt=Ot[0])==null?void 0:tt.pricePerUnit)||0,totalAmount:Ta,itemCount:Ot.length,paymentMethod:R.paymentMethod,paymentStatus:R.paymentStatus,notes:R.notes,invoiceData:k||null,invoiceFileName:(w==null?void 0:w.name)||null,invoiceType:(w==null?void 0:w.type)||null,createdAt:(v==null?void 0:v.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};if(v){await r.updateItem("purchases",{...dn,id:v.id});for(const rt of Ot){const Fa=d.find(Zt=>Zt.name.toLowerCase()===rt.materialName.toLowerCase());if(Fa){const Zt=((Nt=v.items)==null?void 0:Nt.find(gs=>{var _;return((_=gs.materialName)==null?void 0:_.toLowerCase())===rt.materialName.toLowerCase()}))||(((xt=v.materialName)==null?void 0:xt.toLowerCase())===rt.materialName.toLowerCase()?v:null),Ut=(Zt==null?void 0:Zt.quantity)||0,di=rt.quantity-Ut,fn={...Fa,quantity:(parseFloat(Fa.quantity)||0)+di,pricePerUnit:rt.pricePerUnit};await r.updateItem("rawMaterials",fn)}}alert("Purchase updated successfully!")}else{await r.addItem("purchases",dn);for(const rt of Ot){const Fa=d.find(Zt=>Zt.name.toLowerCase()===rt.materialName.toLowerCase()&&parseFloat(Zt.pricePerUnit)===parseFloat(rt.pricePerUnit));if(Fa){const Zt={...Fa,quantity:(parseFloat(Fa.quantity)||0)+rt.quantity,lastPurchaseDate:R.date,updatedAt:new Date().toISOString()};await r.updateItem("rawMaterials",Zt)}else{const Zt={name:rt.materialName,category:rt.materialCategory,unit:rt.unit,quantity:rt.quantity,pricePerUnit:rt.pricePerUnit,purchaseDate:R.date,minStock:10,supplierId:parseInt(R.supplierId),supplierName:Et.name,description:`Purchased on ${R.date} @ NPR ${rt.pricePerUnit}/${rt.unit}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await r.addItem("rawMaterials",Zt)}}alert(`Purchase recorded! ${Ot.length} item(s) added to inventory.`)}ae()}catch(Et){console.error("Error saving purchase:",Et),alert("Failed to save purchase. Please try again.")}},be=async Y=>{if(confirm("Are you sure you want to delete this purchase? This will NOT reverse the inventory changes."))try{await r.deleteItem("purchases",Y.id),alert("Purchase deleted successfully")}catch(ve){console.error("Error deleting purchase:",ve),alert("Failed to delete purchase")}},O=Y=>{E(Y),x(!0)},ee=i.length,de=i.reduce((Y,ve)=>Y+(parseFloat(ve.totalAmount)||0),0),me=i.filter(Y=>Y.paymentStatus==="Unpaid"||Y.paymentStatus==="Partial").reduce((Y,ve)=>Y+(parseFloat(ve.totalAmount)||0),0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchases"}),t.jsx("p",{className:"text-gray-600",children:"Track purchase orders and manage inventory"}),t.jsx("p",{className:"text-sm text-green-600 mt-1",children:"* Purchases automatically update raw material inventory"})]}),t.jsxs(ue,{onClick:()=>I(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),t.jsx("p",{className:"text-2xl font-bold",children:ee})]}),t.jsx(Ba,{className:"w-8 h-8 text-blue-500"})]})})}),t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",de.toLocaleString()]})]}),t.jsx(Aa,{className:"w-8 h-8 text-green-500"})]})})}),t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["NPR ",me.toLocaleString()]})]}),t.jsx(ds,{className:"w-8 h-8 text-red-500"})]})})})]}),t.jsxs("div",{className:"relative max-w-md",children:[t.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(je,{type:"text",placeholder:"Search purchases...",value:f,onChange:Y=>h(Y.target.value),className:"pl-10"})]}),le.length>0?t.jsx(fe,{children:t.jsx(Se,{className:"p-0",children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Date"}),t.jsx(at,{children:"Supplier"}),t.jsx(at,{children:"Items"}),t.jsx(at,{className:"text-right",children:"Total Amount"}),t.jsx(at,{children:"Payment"}),t.jsx(at,{children:"Invoice"}),t.jsx(at,{className:"text-right",children:"Actions"})]})}),t.jsx(Fs,{children:le.map(Y=>t.jsxs(xa,{children:[t.jsx(nt,{children:new Date(Y.date).toLocaleDateString()}),t.jsx(nt,{className:"font-medium",children:Y.supplierName}),t.jsx(nt,{children:Y.items&&Y.items.length>1?t.jsxs("div",{children:[t.jsxs("span",{className:"font-medium",children:[Y.items.length," items"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[Y.items.map(ve=>ve.materialName).join(", ").substring(0,30),"..."]})]}):t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:Y.materialName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[Y.quantity," ",Y.unit]})]})}),t.jsxs(nt,{className:"text-right font-medium",children:["NPR ",(Y.totalAmount||0).toLocaleString()]}),t.jsx(nt,{children:t.jsx(qe,{variant:B(Y.paymentStatus),children:Y.paymentStatus})}),t.jsx(nt,{children:Y.invoiceData?t.jsxs(qe,{variant:"outline",className:"text-green-600",children:[t.jsx(Ud,{className:"w-3 h-3 mr-1"}),"Attached"]}):t.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),t.jsx(nt,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>O(Y),children:t.jsx(gf,{className:"w-4 h-4"})}),t.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>I(Y),children:t.jsx(fs,{className:"w-4 h-4"})}),t.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>be(Y),className:"text-red-600 hover:text-red-700",children:t.jsx(_n,{className:"w-4 h-4"})})]})})]},Y.id))})]})})}):t.jsx(fe,{children:t.jsxs(Se,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ba,{className:"w-12 h-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f?"No purchases found":"No purchases yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:f?"Try adjusting your search":"Record your first purchase to get started"}),!f&&t.jsxs(ue,{onClick:()=>I(),children:[t.jsx(At,{className:"w-4 h-4 mr-2"}),"New Purchase"]})]})}),t.jsx(ta,{open:p,onOpenChange:g,children:t.jsxs(aa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(na,{children:[t.jsx(sa,{children:v?"Edit Purchase":"New Purchase"}),t.jsx(ga,{children:v?"Update purchase details below":"Record a new purchase with multiple items - inventory will be updated automatically"})]}),t.jsxs("form",{onSubmit:oe,children:[t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"date",children:["Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{id:"date",type:"date",value:R.date,onChange:Y=>z({...R,date:Y.target.value}),required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs($,{htmlFor:"supplier",children:["Supplier ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(ot,{value:R.supplierId,onValueChange:Y=>z({...R,supplierId:Y}),children:[t.jsx(ut,{children:t.jsx(ct,{placeholder:"Select supplier"})}),t.jsx(dt,{children:o.map(Y=>t.jsx(ye,{value:Y.id.toString(),children:Y.name},Y.id))})]})]})]}),t.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx($,{className:"text-base font-semibold",children:"Purchase Items"}),t.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:Q,children:[t.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),M.map((Y,ve)=>t.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Item ",ve+1]}),M.length>1&&t.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ge(ve),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:t.jsx(an,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs($,{className:"text-xs",children:["Material Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{type:"text",value:Y.materialName,onChange:Ne=>L(ve,"materialName",Ne.target.value),placeholder:"Enter material name",list:`material-suggestions-${ve}`,required:!0}),t.jsx("datalist",{id:`material-suggestions-${ve}`,children:H.map((Ne,Oe)=>t.jsx("option",{value:Ne},Oe))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx($,{className:"text-xs",children:"Category"}),t.jsxs(ot,{value:Y.materialCategory,onValueChange:Ne=>L(ve,"materialCategory",Ne),children:[t.jsx(ut,{className:"h-9",children:t.jsx(ct,{})}),t.jsx(dt,{children:MT.map(Ne=>t.jsx(ye,{value:Ne,children:Ne},Ne))})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx($,{className:"text-xs",children:"Unit"}),t.jsxs(ot,{value:Y.unit,onValueChange:Ne=>L(ve,"unit",Ne),children:[t.jsx(ut,{className:"h-9",children:t.jsx(ct,{})}),t.jsx(dt,{children:DT.map(Ne=>t.jsx(ye,{value:Ne.value,children:Ne.label},Ne.value))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs($,{className:"text-xs",children:["Quantity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{type:"number",step:"0.01",min:"0",value:Y.quantity,onChange:Ne=>L(ve,"quantity",Ne.target.value),placeholder:"Qty",className:"h-9",required:!0})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs($,{className:"text-xs",children:["Price/Unit ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(je,{type:"number",step:"0.01",min:"0",value:Y.pricePerUnit,onChange:Ne=>L(ve,"pricePerUnit",Ne.target.value),placeholder:"Price",className:"h-9",required:!0})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx($,{className:"text-xs",children:"Total"}),t.jsx(je,{type:"number",value:Y.totalAmount,readOnly:!0,className:"h-9 bg-gray-100"})]})]})]},ve)),t.jsxs("div",{className:"flex justify-end items-center pt-2 border-t",children:[t.jsx("span",{className:"text-sm font-medium mr-4",children:"Grand Total:"}),t.jsxs("span",{className:"text-lg font-bold text-green-600",children:["NPR ",F().toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentMethod",children:"Payment Method"}),t.jsxs(ot,{value:R.paymentMethod,onValueChange:Y=>z({...R,paymentMethod:Y}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Cash",children:"Cash"}),t.jsx(ye,{value:"Bank Transfer",children:"Bank Transfer"}),t.jsx(ye,{value:"Card",children:"Card"}),t.jsx(ye,{value:"Mobile Payment",children:"Mobile Payment"}),t.jsx(ye,{value:"Credit",children:"Credit"}),t.jsx(ye,{value:"Cheque",children:"Cheque"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"paymentStatus",children:"Payment Status"}),t.jsxs(ot,{value:R.paymentStatus,onValueChange:Y=>z({...R,paymentStatus:Y}),children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"Paid",children:"Paid"}),t.jsx(ye,{value:"Partial",children:"Partial"}),t.jsx(ye,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Invoice / Bill (PDF or Image)"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[k?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[(q=w==null?void 0:w.type)!=null&&q.includes("pdf")?t.jsx(Ud,{className:"w-8 h-8 text-red-500"}):t.jsx(WN,{className:"w-8 h-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:(w==null?void 0:w.name)||"Invoice"}),t.jsx("p",{className:"text-xs text-gray-500",children:(he=w==null?void 0:w.type)!=null&&he.includes("pdf")?"PDF Document":"Image"})]})]}),t.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:V,className:"text-red-600",children:t.jsx(an,{className:"w-4 h-4"})})]}),k&&!((re=w==null?void 0:w.type)!=null&&re.includes("pdf"))&&t.jsx("img",{src:k,alt:"Invoice preview",className:"max-h-40 rounded border"})]}):t.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>{var Y;return(Y=D.current)==null?void 0:Y.click()},children:[t.jsx(SS,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload invoice"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPEG, PNG (max 5MB)"})]}),t.jsx("input",{ref:D,type:"file",accept:".pdf,image/jpeg,image/png,image/jpg,image/webp",onChange:X,className:"hidden"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{htmlFor:"notes",children:"Notes"}),t.jsx(Kt,{id:"notes",value:R.notes,onChange:Y=>z({...R,notes:Y.target.value}),placeholder:"Additional notes about this purchase",rows:2})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{type:"button",variant:"outline",onClick:ae,children:"Cancel"}),t.jsx(ue,{type:"submit",children:v?"Update Purchase":"Record Purchase"})]})]})]})}),t.jsx(ta,{open:m,onOpenChange:x,children:t.jsxs(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(na,{children:t.jsx(sa,{children:"Purchase Details"})}),S&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Date"}),t.jsx("p",{className:"font-medium",children:new Date(S.date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Supplier"}),t.jsx("p",{className:"font-medium",children:S.supplierName})]})]}),t.jsxs("div",{className:"border rounded-lg p-3",children:[t.jsx($,{className:"text-gray-500 mb-2 block",children:"Items"}),S.items&&S.items.length>0?t.jsx("div",{className:"space-y-2",children:S.items.map((Y,ve)=>t.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Y.materialName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[Y.quantity," ",Y.unit,"  NPR ",Y.pricePerUnit]})]}),t.jsxs("p",{className:"font-medium",children:["NPR ",(Y.totalAmount||0).toLocaleString()]})]},ve))}):t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:S.materialName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[S.quantity," ",S.unit,"  NPR ",S.pricePerUnit]})]}),t.jsxs("p",{className:"font-medium",children:["NPR ",(S.totalAmount||0).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsx("span",{className:"font-medium",children:"Total Amount"}),t.jsxs("span",{className:"text-xl font-bold text-green-600",children:["NPR ",(S.totalAmount||0).toLocaleString()]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Payment Method"}),t.jsx("p",{className:"font-medium",children:S.paymentMethod})]}),t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Payment Status"}),t.jsx(qe,{variant:B(S.paymentStatus),children:S.paymentStatus})]})]}),S.notes&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Notes"}),t.jsx("p",{className:"text-gray-700",children:S.notes})]}),S.invoiceData&&t.jsxs("div",{children:[t.jsx($,{className:"text-gray-500",children:"Invoice"}),t.jsx("div",{className:"mt-2 border rounded-lg p-3",children:(Ce=S.invoiceType)!=null&&Ce.includes("pdf")?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ud,{className:"w-8 h-8 text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:S.invoiceFileName||"Invoice.pdf"}),t.jsx("a",{href:S.invoiceData,download:S.invoiceFileName||"invoice.pdf",className:"text-sm text-blue-600 hover:underline",children:"Download PDF"})]})]}):t.jsx("img",{src:S.invoiceData,alt:"Invoice",className:"max-h-64 rounded cursor-pointer",onClick:()=>window.open(S.invoiceData,"_blank")})})]})]}),t.jsxs(ia,{children:[t.jsx(ue,{variant:"outline",onClick:()=>x(!1),children:"Close"}),t.jsxs(ue,{onClick:()=>{x(!1),I(S)},children:[t.jsx(fs,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})]})}function RT(){const{state:s,actions:r}=Tt(),[i,o]=j.useState("month"),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState([]),[x,v]=j.useState([]);j.useEffect(()=>{b()},[r]);const b=async()=>{try{console.log("Financials: Loading data...");const Q=await(r.getAllSales?r.getAllSales():pe.getAll("sales")).catch(V=>(console.warn("Failed to load sales:",V),[])),ge=await pe.getAll("purchases").catch(V=>(console.warn("Failed to load purchases:",V),[])),L=await pe.getAll("labourPayments").catch(V=>(console.warn("Failed to load labour payments (table may not exist yet):",V.message),[])),X=await pe.getAll("cleaningServices").catch(V=>(console.warn("Failed to load cleaning services:",V),[]));console.log("Financials: Loaded sales:",(Q==null?void 0:Q.length)||0),console.log("Financials: Loaded purchases:",(ge==null?void 0:ge.length)||0),console.log("Financials: Loaded labour:",(L==null?void 0:L.length)||0),console.log("Financials: Loaded cleaning:",(X==null?void 0:X.length)||0),f(Q||[]),p(ge||[]),m(L||[]),v(X||[])}catch(Q){console.error("Error loading financial data:",Q)}},S=(Q,ge="date")=>{const L=new Date,X=new Date;switch(i){case"week":X.setDate(L.getDate()-L.getDay()),X.setHours(0,0,0,0);break;case"month":X.setDate(1),X.setHours(0,0,0,0);break;case"quarter":const V=L.getMonth(),oe=Math.floor(V/3)*3;X.setMonth(oe),X.setDate(1),X.setHours(0,0,0,0);break;case"year":X.setMonth(0),X.setDate(1),X.setHours(0,0,0,0);break;default:X.setDate(1),X.setHours(0,0,0,0)}return Q.filter(V=>{if(!V[ge])return!1;const oe=new Date(V[ge]);return isNaN(oe.getTime())?!1:oe>=X&&oe<=L})},E=S(d.filter(Q=>Q.approvalStatus==="approved")),w=S(x.filter(Q=>Q.status==="completed")),N=E.reduce((Q,ge)=>Q+(ge.totalAmount||0),0),k=w.reduce((Q,ge)=>Q+(ge.price||0),0),T=N+k,D=S(h),M=S(g),A=D.reduce((Q,ge)=>Q+(ge.totalAmount||0),0),R=M.reduce((Q,ge)=>Q+(ge.amount||0),0),z=A+R,H=T-z,le=T>0?(H/T*100).toFixed(1):0,B=[{category:"Raw Materials",amount:A,percentage:z>0?(A/z*100).toFixed(1):0,color:"bg-blue-600"},{category:"Labour Costs",amount:R,percentage:z>0?(R/z*100).toFixed(1):0,color:"bg-green-600"}],F=[{category:"Sales",amount:N,percentage:T>0?(N/T*100).toFixed(1):0,color:"bg-purple-600"},{category:"Cleaning Services",amount:k,percentage:T>0?(k/T*100).toFixed(1):0,color:"bg-orange-600"}],I=[...E.map(Q=>({id:`sale-${Q.id}`,date:Q.date,type:"income",description:`Sale to ${Q.customerName} - ${Q.productName}`,amount:Q.totalAmount})),...w.map(Q=>({id:`cleaning-${Q.id}`,date:Q.date,type:"income",description:`Cleaning Service - ${Q.customerName}`,amount:Q.price})),...D.map(Q=>({id:`purchase-${Q.id}`,date:Q.date,type:"expense",description:`Purchase - ${Q.materialName} from ${Q.supplierName}`,amount:Q.totalAmount})),...M.map(Q=>({id:`labour-${Q.id}`,date:Q.date,type:"expense",description:`Labour Payment - ${Q.labourerName}`,amount:Q.amount}))].sort((Q,ge)=>new Date(ge.date)-new Date(Q.date)).slice(0,10),ae=()=>{switch(i){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financials"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Track revenue, expenses, and profitability"})]}),t.jsxs(ot,{value:i,onValueChange:o,children:[t.jsx(ut,{className:"w-[180px]",children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"week",children:"This Week"}),t.jsx(ye,{value:"month",children:"This Month"}),t.jsx(ye,{value:"quarter",children:"This Quarter"}),t.jsx(ye,{value:"year",children:"This Year"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs(fe,{children:[t.jsx(De,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Be,{children:"Total Revenue"}),t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(qo,{className:"w-5 h-5 text-green-600"})})]})}),t.jsxs(Se,{children:[t.jsxs(Me,{className:"text-2xl",children:["NPR ",T.toLocaleString()]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae()})]})]}),t.jsxs(fe,{children:[t.jsx(De,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Be,{children:"Total Expenses"}),t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx(Jx,{className:"w-5 h-5 text-red-600"})})]})}),t.jsxs(Se,{children:[t.jsxs(Me,{className:"text-2xl",children:["NPR ",z.toLocaleString()]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae()})]})]}),t.jsxs(fe,{children:[t.jsx(De,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Be,{children:"Net Profit"}),t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${H>=0?"bg-blue-100":"bg-red-100"}`,children:t.jsx(Aa,{className:`w-5 h-5 ${H>=0?"text-blue-600":"text-red-600"}`})})]})}),t.jsxs(Se,{children:[t.jsxs(Me,{className:`text-2xl ${H>=0?"text-blue-600":"text-red-600"}`,children:["NPR ",H.toLocaleString()]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae()})]})]}),t.jsxs(fe,{children:[t.jsx(De,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Be,{children:"Profit Margin"}),t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(DN,{className:"w-5 h-5 text-purple-600"})})]})}),t.jsxs(Se,{children:[t.jsxs(Me,{className:"text-2xl",children:[le,"%"]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae()})]})]})]}),t.jsxs(ci,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(ui,{children:[t.jsx(Jt,{value:"overview",children:"Overview"}),t.jsx(Jt,{value:"revenue",children:"Revenue"}),t.jsx(Jt,{value:"expenses",children:"Expenses"}),t.jsx(Jt,{value:"transactions",children:"Transactions"})]}),t.jsx(ea,{value:"overview",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Revenue Breakdown"}),t.jsx(Be,{children:ae()})]}),t.jsx(Se,{className:"space-y-4",children:F.map((Q,ge)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:Q.category}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",Q.amount.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`${Q.color} h-2 rounded-full`,style:{width:`${Q.percentage}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q.percentage,"% of total revenue"]})]},ge))})]}),t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Expense Breakdown"}),t.jsx(Be,{children:ae()})]}),t.jsx(Se,{className:"space-y-4",children:B.map((Q,ge)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:Q.category}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["NPR ",Q.amount.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`${Q.color} h-2 rounded-full`,style:{width:`${Q.percentage}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q.percentage,"% of total expenses"]})]},ge))})]})]})}),t.jsx(ea,{value:"revenue",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Sales Revenue"}),t.jsxs(Be,{children:[E.length," approved sales"]})]}),t.jsxs(Se,{children:[t.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",N.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[T>0?(N/T*100).toFixed(1):0,"% of total revenue"]})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Cleaning Services Revenue"}),t.jsxs(Be,{children:[w.length," completed services"]})]}),t.jsxs(Se,{children:[t.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["NPR ",k.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[T>0?(k/T*100).toFixed(1):0,"% of total revenue"]})]})]})]})}),t.jsx(ea,{value:"expenses",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Raw Material Purchases"}),t.jsxs(Be,{children:[D.length," purchases"]})]}),t.jsxs(Se,{children:[t.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["NPR ",A.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(A/z*100).toFixed(1):0,"% of total expenses"]})]})]}),t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Labour Payments"}),t.jsxs(Be,{children:[M.length," payments"]})]}),t.jsxs(Se,{children:[t.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["NPR ",R.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[z>0?(R/z*100).toFixed(1):0,"% of total expenses"]})]})]})]})}),t.jsx(ea,{value:"transactions",className:"space-y-4",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Recent Transactions"}),t.jsxs(Be,{children:["Last 10 transactions from ",ae().toLowerCase()]})]}),t.jsx(Se,{children:I.length>0?t.jsx("div",{className:"space-y-3",children:I.map(Q=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${Q.type==="income"?"bg-green-100":"bg-red-100"}`,children:Q.type==="income"?t.jsx(qo,{className:"w-5 h-5 text-green-600"}):t.jsx(Jx,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:Q.description}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(Q.date).toLocaleDateString()})]})]}),t.jsxs("p",{className:`text-sm font-semibold ${Q.type==="income"?"text-green-600":"text-red-600"}`,children:[Q.type==="income"?"+":"-","NPR ",Q.amount.toLocaleString()]})]},Q.id))}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(ds,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"No transactions in this period"})]})})]})})]})]})}function _T(){const{state:s}=Tt(),[r,i]=j.useState("month"),[o,d]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(!1),m=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis and trends",icon:t.jsx(qo,{className:"w-6 h-6"}),color:"bg-blue-500"},{id:"inventory",name:"Inventory Report",description:"Stock levels and inventory valuation",icon:t.jsx(Ba,{className:"w-6 h-6"}),color:"bg-green-500"},{id:"financial",name:"Financial Report",description:"Profit & loss, revenue, and expenses",icon:t.jsx(Aa,{className:"w-6 h-6"}),color:"bg-purple-500"},{id:"labour",name:"Labour Report",description:"Attendance, payments, and productivity",icon:t.jsx(Wr,{className:"w-6 h-6"}),color:"bg-yellow-500"},{id:"orders",name:"Orders Report",description:"Order status, completion rates",icon:t.jsx(IN,{className:"w-6 h-6"}),color:"bg-red-500"},{id:"customers",name:"Customer Report",description:"Customer insights and purchase history",icon:t.jsx(Wr,{className:"w-6 h-6"}),color:"bg-indigo-500"}],x=(M,A="date")=>{const R=new Date,z=new Date;switch(r){case"week":z.setDate(R.getDate()-7);break;case"month":z.setMonth(R.getMonth()-1);break;case"quarter":z.setMonth(R.getMonth()-3);break;case"year":z.setFullYear(R.getFullYear()-1);break;default:z.setMonth(R.getMonth()-1)}return M.filter(H=>{const le=new Date(H[A]);return le>=z&&le<=R})},v=async M=>{g(!0),d(M);try{let A={};switch(M){case"sales":A=await b();break;case"inventory":A=await S();break;case"financial":A=await E();break;case"labour":A=await w();break;case"orders":A=await N();break;case"customers":A=await k();break;default:A={}}h(A)}catch(A){console.error("Error generating report:",A),alert("Failed to generate report")}finally{g(!1)}},b=async()=>{const M=await pe.getAll("sales"),A=x(M.filter(F=>F.approvalStatus==="approved")),R=A.length,z=A.reduce((F,I)=>F+(I.totalAmount||0),0),H=R>0?z/R:0,le={};A.forEach(F=>{const I=F.productName;le[I]||(le[I]={name:I,quantity:0,revenue:0}),le[I].quantity+=F.quantity||0,le[I].revenue+=F.totalAmount||0});const B=Object.values(le).sort((F,I)=>I.revenue-F.revenue).slice(0,5);return{totalSales:R,totalRevenue:z,averageSale:H,topProducts:B,salesList:A}},S=async()=>{const M=await pe.getAll("rawMaterials"),A=await pe.getAll("sofaModels"),R=M.reduce((B,F)=>B+(F.quantity*F.pricePerUnit||0),0),z=A.reduce((B,F)=>B+(F.stockQuantity||0)*(F.sellingPrice||0),0),H=M.filter(B=>B.quantity<(B.minimumStock||10)),le=A.filter(B=>(B.stockQuantity||0)===0);return{rawMaterials:M,finishedProducts:A,totalRawMaterialValue:R,totalFinishedValue:z,lowStockMaterials:H,lowStockProducts:le}},E=async()=>{const M=await pe.getAll("sales"),A=await pe.getAll("purchases"),R=await pe.getAll("labourPayments"),z=await pe.getAll("cleaningServices"),H=x(M.filter(be=>be.approvalStatus==="approved")),le=x(A),B=x(R),F=x(z.filter(be=>be.status==="completed")),I=H.reduce((be,O)=>be+(O.totalAmount||0),0),ae=F.reduce((be,O)=>be+(O.price||0),0),Q=I+ae,ge=le.reduce((be,O)=>be+(O.totalAmount||0),0),L=B.reduce((be,O)=>be+(O.amount||0),0),X=ge+L,V=Q-X,oe=Q>0?(V/Q*100).toFixed(1):0;return{totalRevenue:Q,salesRevenue:I,cleaningRevenue:ae,totalExpenses:X,purchaseExpenses:ge,labourExpenses:L,netProfit:V,profitMargin:oe}},w=async()=>{const M=await pe.getAll("labourers"),A=await pe.getAll("attendance"),R=await pe.getAll("labourPayments"),z=x(A),H=x(R),le=H.reduce((I,ae)=>I+(ae.amount||0),0),B=M.filter(I=>I.status==="active").length,F=M.map(I=>{const ae=z.filter(X=>X.labourerId===I.id),Q=H.filter(X=>X.labourerId===I.id),ge=ae.filter(X=>X.status==="present").length,L=Q.reduce((X,V)=>X+(V.amount||0),0);return{name:I.name,specialization:I.specialization,presentDays:ge,totalPaid:L}});return{activeLabourers:B,totalPayments:le,labourerStats:F,attendanceRecords:z}},N=async()=>{const M=await pe.getAll("orders"),A=x(M),R=A.length,z=A.filter(B=>B.status==="completed").length,H=A.filter(B=>B.status==="pending").length,le=R>0?(z/R*100).toFixed(1):0;return{totalOrders:R,completedOrders:z,pendingOrders:H,completionRate:le,ordersList:A}},k=async()=>{const M=await pe.getAll("customers"),A=await pe.getAll("sales"),R=x(A.filter(le=>le.approvalStatus==="approved")),z=M.map(le=>{const B=R.filter(ae=>ae.customerId===le.id),F=B.length,I=B.reduce((ae,Q)=>ae+(Q.totalAmount||0),0);return{name:le.name,phone:le.phone,totalPurchases:F,totalSpent:I}}).sort((le,B)=>B.totalSpent-le.totalSpent),H=z.slice(0,10);return{totalCustomers:M.length,activeCustomers:z.filter(le=>le.totalPurchases>0).length,topCustomers:H,customerStats:z}},T=()=>{switch(r){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}},D=()=>{if(!f||!o)return;const M=m.find(le=>le.id===o),A=JSON.stringify(f,null,2),R=new Blob([A],{type:"application/json"}),z=URL.createObjectURL(R),H=document.createElement("a");H.href=z,H.download=`${M.name.replace(" ","_")}_${r}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and view business reports"})]}),t.jsxs(ot,{value:r,onValueChange:i,children:[t.jsx(ut,{className:"w-[180px]",children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"week",children:"This Week"}),t.jsx(ye,{value:"month",children:"This Month"}),t.jsx(ye,{value:"quarter",children:"This Quarter"}),t.jsx(ye,{value:"year",children:"This Year"})]})]})]}),!o&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(M=>t.jsx(fe,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(M.id),children:t.jsxs(De,{children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsx("div",{className:`${M.color} text-white p-3 rounded-lg`,children:M.icon})}),t.jsx(Me,{className:"mt-4",children:M.name}),t.jsx(Be,{children:M.description})]})},M.id))}),o&&f&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ue,{variant:"outline",onClick:()=>{d(null),h(null)},children:" Back to Reports"}),t.jsxs(ue,{onClick:D,children:[t.jsx(HN,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),o==="sales"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Sales"}),t.jsx(Me,{className:"text-2xl",children:f.totalSales})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Revenue"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Average Sale"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",f.averageSale.toLocaleString()]})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Top Products"})}),t.jsx(Se,{children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Product"}),t.jsx(at,{children:"Quantity Sold"}),t.jsx(at,{children:"Revenue"})]})}),t.jsx(Fs,{children:f.topProducts.map((M,A)=>t.jsxs(xa,{children:[t.jsx(nt,{children:M.name}),t.jsx(nt,{children:M.quantity}),t.jsxs(nt,{children:["NPR ",M.revenue.toLocaleString()]})]},A))})]})})]})]}),o==="inventory"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Raw Materials Value"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",f.totalRawMaterialValue.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Finished Products Value"}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",f.totalFinishedValue.toLocaleString()]})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Low Stock Alerts"})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"font-medium",children:["Raw Materials (",f.lowStockMaterials.length,")"]}),f.lowStockMaterials.map((M,A)=>t.jsxs("div",{className:"text-sm text-red-600",children:[M.name,": ",M.quantity," ",M.unit]},A)),t.jsxs("p",{className:"font-medium mt-4",children:["Finished Products (",f.lowStockProducts.length,")"]}),f.lowStockProducts.map((M,A)=>t.jsxs("div",{className:"text-sm text-red-600",children:[M.name,": Out of stock"]},A))]})})]})]}),o==="financial"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Revenue"}),t.jsxs(Me,{className:"text-2xl text-green-600",children:["NPR ",f.totalRevenue.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Expenses"}),t.jsxs(Me,{className:"text-2xl text-red-600",children:["NPR ",f.totalExpenses.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Net Profit"}),t.jsxs(Me,{className:"text-2xl text-blue-600",children:["NPR ",f.netProfit.toLocaleString()]})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Profit Margin"}),t.jsxs(Me,{className:"text-2xl",children:[f.profitMargin,"%"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Revenue Breakdown"})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Sales"}),t.jsxs("span",{className:"font-medium",children:["NPR ",f.salesRevenue.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cleaning Services"}),t.jsxs("span",{className:"font-medium",children:["NPR ",f.cleaningRevenue.toLocaleString()]})]})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Expense Breakdown"})}),t.jsx(Se,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Raw Materials"}),t.jsxs("span",{className:"font-medium",children:["NPR ",f.purchaseExpenses.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Labour"}),t.jsxs("span",{className:"font-medium",children:["NPR ",f.labourExpenses.toLocaleString()]})]})]})})]})]})]}),o==="labour"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Active Labourers"}),t.jsx(Me,{className:"text-2xl",children:f.activeLabourers})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsxs(Be,{children:["Total Payments (",T(),")"]}),t.jsxs(Me,{className:"text-2xl",children:["NPR ",f.totalPayments.toLocaleString()]})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Labourer Statistics"})}),t.jsx(Se,{children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Name"}),t.jsx(at,{children:"Specialization"}),t.jsx(at,{children:"Present Days"}),t.jsx(at,{children:"Total Paid"})]})}),t.jsx(Fs,{children:f.labourerStats.map((M,A)=>t.jsxs(xa,{children:[t.jsx(nt,{children:M.name}),t.jsx(nt,{children:M.specialization}),t.jsx(nt,{children:M.presentDays}),t.jsxs(nt,{children:["NPR ",M.totalPaid.toLocaleString()]})]},A))})]})})]})]}),o==="orders"&&t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Orders"}),t.jsx(Me,{className:"text-2xl",children:f.totalOrders})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Completed"}),t.jsx(Me,{className:"text-2xl text-green-600",children:f.completedOrders})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Pending"}),t.jsx(Me,{className:"text-2xl text-orange-600",children:f.pendingOrders})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Completion Rate"}),t.jsxs(Me,{className:"text-2xl",children:[f.completionRate,"%"]})]})})]})}),o==="customers"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsx(Be,{children:"Total Customers"}),t.jsx(Me,{className:"text-2xl",children:f.totalCustomers})]})}),t.jsx(fe,{children:t.jsxs(De,{className:"pb-3",children:[t.jsxs(Be,{children:["Active Customers (",T(),")"]}),t.jsx(Me,{className:"text-2xl",children:f.activeCustomers})]})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsx(Me,{children:"Top Customers"})}),t.jsx(Se,{children:t.jsxs(qs,{children:[t.jsx(Bs,{children:t.jsxs(xa,{children:[t.jsx(at,{children:"Name"}),t.jsx(at,{children:"Phone"}),t.jsx(at,{children:"Purchases"}),t.jsx(at,{children:"Total Spent"})]})}),t.jsx(Fs,{children:f.topCustomers.map((M,A)=>t.jsxs(xa,{children:[t.jsx(nt,{children:M.name}),t.jsx(nt,{children:M.phone}),t.jsx(nt,{children:M.totalPurchases}),t.jsxs(nt,{children:["NPR ",M.totalSpent.toLocaleString()]})]},A))})]})})]})]})]}),p&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Generating report..."})]})})]})}var vc="Switch",[PT]=zn(vc),[kT,LT]=PT(vc),L0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:f,required:h,disabled:p,value:g="on",onCheckedChange:m,form:x,...v}=s,[b,S]=j.useState(null),E=pt(r,D=>S(D)),w=j.useRef(!1),N=b?x||!!b.closest("form"):!0,[k,T]=Vs({prop:d,defaultProp:f??!1,onChange:m,caller:vc});return t.jsxs(kT,{scope:i,checked:k,disabled:p,children:[t.jsx(Ge.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":q0(k),"data-disabled":p?"":void 0,disabled:p,value:g,...v,ref:E,onClick:_e(s.onClick,D=>{T(M=>!M),N&&(w.current=D.isPropagationStopped(),w.current||D.stopPropagation())})}),N&&t.jsx(U0,{control:b,bubbles:!w.current,name:o,value:g,checked:k,required:h,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});L0.displayName=vc;var z0="SwitchThumb",I0=j.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,d=LT(z0,i);return t.jsx(Ge.span,{"data-state":q0(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});I0.displayName=z0;var zT="SwitchBubbleInput",U0=j.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...d},f)=>{const h=j.useRef(null),p=pt(h,f),g=Hy(i),m=Dy(r);return j.useEffect(()=>{const x=h.current;if(!x)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set;if(g!==i&&S){const E=new Event("click",{bubbles:o});S.call(x,i),x.dispatchEvent(E)}},[g,i,o]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:p,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U0.displayName=zT;function q0(s){return s?"checked":"unchecked"}var IT=L0,UT=I0;function Ig({className:s,...r}){return t.jsx(IT,{"data-slot":"switch",className:$e("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:t.jsx(UT,{"data-slot":"switch-thumb",className:$e("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function qT(){const{state:s,actions:r}=Tt(),[i,o]=j.useState(null),[d,f]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await r.getItems("notificationSettings");if(b&&b.length>0)o(b[0]);else{const S=zg();await r.addItem("notificationSettings",S),o(S)}}catch(b){console.error("Error loading notification settings:",b),o(zg())}},p=async()=>{try{if(f(!0),i.adminPhoneNumber&&!pT(i.adminPhoneNumber)){alert("Please enter a valid 10-digit phone number"),f(!1);return}await r.updateItem("notificationSettings",i),alert("Settings saved successfully!")}catch(b){console.error("Error saving settings:",b),alert("Failed to save settings. Please try again.")}finally{f(!1)}},g=b=>{o({...i,notificationTypes:{...i.notificationTypes,[b]:!i.notificationTypes[b]}})},m=(b,S)=>{o({...i,messageTemplates:{...i.messageTemplates,[b]:{...i.messageTemplates[b],template:S}}})},x=b=>{window.confirm("Reset this template to default?")&&o({...i,messageTemplates:{...i.messageTemplates,[b]:Kr[b]}})};if(!i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading settings..."})});const v={orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order Created",lowStockAlert:"Low Stock Alert"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[t.jsx(Hl,{className:"w-8 h-8 text-blue-600"}),"WhatsApp Notifications"]}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Configure automated WhatsApp notifications for customers and suppliers"})]}),t.jsxs(ue,{onClick:p,disabled:d,children:[t.jsx(uS,{className:"w-4 h-4 mr-2"}),d?"Saving...":"Save Settings"]})]}),t.jsxs(ci,{defaultValue:"general",className:"w-full",children:[t.jsxs(ui,{className:"grid w-full grid-cols-3",children:[t.jsx(Jt,{value:"general",children:"General"}),t.jsx(Jt,{value:"types",children:"Notification Types"}),t.jsx(Jt,{value:"templates",children:"Message Templates"})]}),t.jsx(ea,{value:"general",className:"space-y-4",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"General Settings"}),t.jsx(Be,{children:"Configure basic WhatsApp notification settings"})]}),t.jsxs(Se,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx($,{className:"text-base font-semibold",children:"Enable WhatsApp Notifications"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Turn on/off all WhatsApp notifications"})]}),t.jsx(Ig,{checked:i.whatsappEnabled,onCheckedChange:b=>o({...i,whatsappEnabled:b})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Company Name"}),t.jsx(je,{value:i.companyName,onChange:b=>o({...i,companyName:b.target.value}),placeholder:"Your Company Name"}),t.jsx("p",{className:"text-sm text-gray-500",children:"This will appear in notification messages"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Default Country Code"}),t.jsx(je,{value:i.defaultCountryCode,onChange:b=>o({...i,defaultCountryCode:b.target.value}),placeholder:"977"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Country code for phone numbers (Nepal: 977)"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Admin Phone Number"}),t.jsx(je,{value:i.adminPhoneNumber,onChange:b=>o({...i,adminPhoneNumber:b.target.value}),placeholder:"9800000000"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Phone number for receiving admin notifications (10 digits, without country code)"})]}),t.jsx(fe,{className:"bg-blue-50 border-blue-200",children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx($g,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How it works"}),t.jsx("p",{className:"text-sm text-blue-800",children:"When an event occurs (like a new order), the system generates a WhatsApp message and adds it to the notification queue. You can then send it with one click, which opens WhatsApp Web/App with the pre-filled message ready to send."})]})]})})})]})]})}),t.jsx(ea,{value:"types",className:"space-y-4",children:t.jsxs(fe,{children:[t.jsxs(De,{children:[t.jsx(Me,{children:"Notification Types"}),t.jsx(Be,{children:"Enable or disable specific notification types"})]}),t.jsx(Se,{className:"space-y-3",children:Object.keys(v).map(b=>{var S;return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx($,{className:"font-medium",children:v[b]}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:((S=Kr[b])==null?void 0:S.title)||""})]}),t.jsx(Ig,{checked:i.notificationTypes[b],onCheckedChange:()=>g(b)})]},b)})})]})}),t.jsx(ea,{value:"templates",className:"space-y-4",children:Object.keys(Kr).map(b=>{var S;return t.jsxs(fe,{children:[t.jsx(De,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Me,{children:v[b]}),t.jsxs(Be,{children:["Customize the message template. Use ","{variable}"," for dynamic content."]})]}),t.jsx(ue,{variant:"outline",size:"sm",onClick:()=>x(b),children:"Reset to Default"})]})}),t.jsxs(Se,{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($,{children:"Message Template"}),t.jsx(Kt,{value:((S=i.messageTemplates[b])==null?void 0:S.template)||"",onChange:E=>m(b,E.target.value),rows:8,className:"font-mono text-sm"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx($,{className:"text-sm font-semibold mb-2 block",children:"Available Variables:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Kr[b].variables.map(E=>t.jsx("code",{className:"px-2 py-1 bg-white border rounded text-xs",children:"{"+E+"}"},E))})]})]})]},b)})})]})]})}function BT(){const{state:s,actions:r}=Tt(),[i,o]=j.useState([]),[d,f]=j.useState("all"),[h,p]=j.useState("all");j.useEffect(()=>{g()},[]);const g=async()=>{try{const D=(await r.getItems("notificationQueue")||[]).sort((M,A)=>new Date(A.createdAt)-new Date(M.createdAt));o(D)}catch(T){console.error("Error loading notifications:",T),o([])}},m=async T=>{try{vT(T.recipient.phone,T.message),await r.updateItem("notificationQueue",{...T,status:"sent",sentAt:new Date().toISOString()}),await g()}catch(D){console.error("Error sending notification:",D),alert("Failed to send notification. Please try again.")}},x=async T=>{if(window.confirm("Delete this notification?"))try{await r.deleteItem("notificationQueue",T.id),await g()}catch(D){console.error("Error deleting notification:",D),alert("Failed to delete notification. Please try again.")}},v=async()=>{if(window.confirm("Clear all sent notifications?"))try{const T=i.filter(D=>D.status==="sent");for(const D of T)await r.deleteItem("notificationQueue",D.id);await g()}catch(T){console.error("Error clearing sent notifications:",T),alert("Failed to clear notifications. Please try again.")}},b=i.filter(T=>!(d!=="all"&&T.status!==d||h!=="all"&&T.type!==h)),S=i.filter(T=>T.status==="pending").length,E=i.filter(T=>T.status==="sent").length,w=T=>{const D={pending:{variant:"secondary",icon:Wd,label:"Pending"},sent:{variant:"success",icon:Us,label:"Sent"},failed:{variant:"destructive",icon:Gg,label:"Failed"}},M=D[T]||D.pending,A=M.icon;return t.jsxs(qe,{variant:M.variant,className:"flex items-center gap-1",children:[t.jsx(A,{className:"w-3 h-3"}),M.label]})},N=T=>({orderConfirmation:"Order Confirmation",productionStarted:"Production Started",productionCompleted:"Production Completed",paymentReminder:"Payment Reminder",deliveryScheduled:"Delivery Scheduled",orderDelivered:"Order Delivered",purchaseOrderCreated:"Purchase Order",lowStockAlert:"Low Stock Alert"})[T]||T,k=T=>new Date(T).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[t.jsx(Hl,{className:"w-8 h-8 text-blue-600"}),"Notification Queue"]}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and send WhatsApp notifications"})]}),E>0&&t.jsxs(ue,{variant:"outline",onClick:v,children:[t.jsx(_n,{className:"w-4 h-4 mr-2"}),"Clear Sent (",E,")"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),t.jsx(Hl,{className:"w-8 h-8 text-gray-400"})]})})}),t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S})]}),t.jsx(Wd,{className:"w-8 h-8 text-orange-400"})]})})}),t.jsx(fe,{children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),t.jsx(Us,{className:"w-8 h-8 text-green-400"})]})})})]}),t.jsxs(fe,{children:[t.jsx(De,{children:t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(QN,{className:"w-5 h-5"}),"Filters"]})}),t.jsx(Se,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Status"}),t.jsxs(ot,{value:d,onValueChange:f,children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"all",children:"All Status"}),t.jsx(ye,{value:"pending",children:"Pending"}),t.jsx(ye,{value:"sent",children:"Sent"}),t.jsx(ye,{value:"failed",children:"Failed"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Type"}),t.jsxs(ot,{value:h,onValueChange:p,children:[t.jsx(ut,{children:t.jsx(ct,{})}),t.jsxs(dt,{children:[t.jsx(ye,{value:"all",children:"All Types"}),t.jsx(ye,{value:"orderConfirmation",children:"Order Confirmation"}),t.jsx(ye,{value:"productionStarted",children:"Production Started"}),t.jsx(ye,{value:"productionCompleted",children:"Production Completed"}),t.jsx(ye,{value:"paymentReminder",children:"Payment Reminder"}),t.jsx(ye,{value:"deliveryScheduled",children:"Delivery Scheduled"}),t.jsx(ye,{value:"orderDelivered",children:"Order Delivered"}),t.jsx(ye,{value:"lowStockAlert",children:"Low Stock Alert"})]})]})]})]})})]}),t.jsx("div",{className:"space-y-4",children:b.length===0?t.jsx(fe,{children:t.jsxs(Se,{className:"py-12 text-center",children:[t.jsx($g,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No notifications found"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications will appear here when events occur"})]})}):b.map(T=>t.jsx(fe,{className:"hover:shadow-md transition-shadow",children:t.jsx(Se,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(qe,{variant:"outline",children:N(T.type)}),w(T.status)]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-lg",children:T.recipient.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[" ",T.recipient.phone]})]}),t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap font-mono",children:T.message.length>200?T.message.substring(0,200)+"...":T.message})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["Created: ",k(T.createdAt)]}),T.sentAt&&t.jsxs("span",{children:["Sent: ",k(T.sentAt)]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[T.status==="pending"&&t.jsxs(ue,{onClick:()=>m(T),className:"whitespace-nowrap",children:[t.jsx(mS,{className:"w-4 h-4 mr-2"}),"Send WhatsApp"]}),t.jsxs(ue,{variant:"outline",onClick:()=>x(T),children:[t.jsx(_n,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})},T.id))})]})}function FT(){const{state:s,auth:r,actions:i}=Tt(),{isAuthenticated:o,isLoading:d,currentView:f,company:h,user:p}=s,[g,m]=$a.useState(null);if($a.useEffect(()=>{r&&(async()=>{try{const v=await r.isFirstTimeSetup();m(v)}catch(v){console.error("Error checking first time setup:",v),m(!1)}})()},[r]),d||g===null)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(g)return t.jsx(kg,{});if(!o)return t.jsx(_E,{});if(!h)return t.jsx(kg,{});switch(f){case"dashboard":return t.jsx(Lg,{});case"inventory":return t.jsx(AT,{});case"raw-materials":return t.jsx(ET,{});case"finished-products":return t.jsx(dT,{});case"suppliers":return t.jsx(TT,{});case"customers":return t.jsx(uT,{});case"labour":return t.jsx(CT,{});case"sales":return t.jsx(ST,{});case"purchases":return t.jsx(OT,{});case"financials":return t.jsx(RT,{});case"cleaning":return t.jsx(wT,{});case"orders":return t.jsx(mT,{});case"reports":return t.jsx(_T,{});case"settings":return t.jsx(VE,{});case"notification-settings":return t.jsx(qT,{});case"notification-queue":return t.jsx(BT,{});default:return t.jsx(Lg,{})}}async function HT(){try{if((await pe.getAll("users")).some(f=>f.role==="admin"))return!1;const i={id:"default-admin",name:"Administrator",email:"admin@sofafactory.com",phone:"9800000000",role:"admin",username:"admin",password:"admin123",securityQuestions:[{question:"What is your favorite color?",answer:"blue"},{question:"What is your pet name?",answer:"fluffy"}],createdAt:new Date().toISOString()},o={id:"default-company",name:"Sofa Factory",address:"Kathmandu, Nepal",phone:"9851234567",email:"info@sofafactory.com",labourManagerName:"Manager",labourManagerPhone:"9841234567",createdAt:new Date().toISOString()},d={id:"default-location",name:"Main Factory",address:"Kathmandu",createdAt:new Date().toISOString()};return await pe.add("users",i),await pe.update("company","company-profile",o),await pe.add("locations",d),console.log("Default admin account created successfully"),!0}catch(s){return console.error("Failed to create default admin:",s),!1}}function VT(){return $a.useEffect(()=>{HT().catch(console.error)},[]),t.jsx(mN,{children:t.jsx(RE,{children:t.jsx(FT,{})})})}cN.createRoot(document.getElementById("root")).render(t.jsx(j.StrictMode,{children:t.jsx(VT,{})}));
